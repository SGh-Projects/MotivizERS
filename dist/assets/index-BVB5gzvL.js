function LV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var rp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var KP={exports:{}},Xg={},QP={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zh=Symbol.for("react.element"),VV=Symbol.for("react.portal"),FV=Symbol.for("react.fragment"),$V=Symbol.for("react.strict_mode"),zV=Symbol.for("react.profiler"),BV=Symbol.for("react.provider"),UV=Symbol.for("react.context"),WV=Symbol.for("react.forward_ref"),HV=Symbol.for("react.suspense"),qV=Symbol.for("react.memo"),GV=Symbol.for("react.lazy"),hE=Symbol.iterator;function KV(t){return t===null||typeof t!="object"?null:(t=hE&&t[hE]||t["@@iterator"],typeof t=="function"?t:null)}var YP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},XP=Object.assign,JP={};function tu(t,e,n){this.props=t,this.context=e,this.refs=JP,this.updater=n||YP}tu.prototype.isReactComponent={};tu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};tu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ZP(){}ZP.prototype=tu.prototype;function Iw(t,e,n){this.props=t,this.context=e,this.refs=JP,this.updater=n||YP}var kw=Iw.prototype=new ZP;kw.constructor=Iw;XP(kw,tu.prototype);kw.isPureReactComponent=!0;var fE=Array.isArray,eA=Object.prototype.hasOwnProperty,Pw={current:null},tA={key:!0,ref:!0,__self:!0,__source:!0};function nA(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)eA.call(e,r)&&!tA.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:zh,type:t,key:i,ref:o,props:s,_owner:Pw.current}}function QV(t,e){return{$$typeof:zh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Aw(t){return typeof t=="object"&&t!==null&&t.$$typeof===zh}function YV(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var pE=/\/+/g;function $y(t,e){return typeof t=="object"&&t!==null&&t.key!=null?YV(""+t.key):e.toString(36)}function Hp(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case zh:case VV:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+$y(o,0):r,fE(s)?(n="",t!=null&&(n=t.replace(pE,"$&/")+"/"),Hp(s,e,n,"",function(c){return c})):s!=null&&(Aw(s)&&(s=QV(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(pE,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",fE(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+$y(i,a);o+=Hp(i,e,n,l,s)}else if(l=KV(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+$y(i,a++),o+=Hp(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function sp(t,e,n){if(t==null)return t;var r=[],s=0;return Hp(t,r,"","",function(i){return e.call(n,i,s++)}),r}function XV(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Hn={current:null},qp={transition:null},JV={ReactCurrentDispatcher:Hn,ReactCurrentBatchConfig:qp,ReactCurrentOwner:Pw};Fe.Children={map:sp,forEach:function(t,e,n){sp(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return sp(t,function(){e++}),e},toArray:function(t){return sp(t,function(e){return e})||[]},only:function(t){if(!Aw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Fe.Component=tu;Fe.Fragment=FV;Fe.Profiler=zV;Fe.PureComponent=Iw;Fe.StrictMode=$V;Fe.Suspense=HV;Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JV;Fe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=XP({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Pw.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)eA.call(e,l)&&!tA.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:zh,type:t.type,key:s,ref:i,props:r,_owner:o}};Fe.createContext=function(t){return t={$$typeof:UV,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:BV,_context:t},t.Consumer=t};Fe.createElement=nA;Fe.createFactory=function(t){var e=nA.bind(null,t);return e.type=t,e};Fe.createRef=function(){return{current:null}};Fe.forwardRef=function(t){return{$$typeof:WV,render:t}};Fe.isValidElement=Aw;Fe.lazy=function(t){return{$$typeof:GV,_payload:{_status:-1,_result:t},_init:XV}};Fe.memo=function(t,e){return{$$typeof:qV,type:t,compare:e===void 0?null:e}};Fe.startTransition=function(t){var e=qp.transition;qp.transition={};try{t()}finally{qp.transition=e}};Fe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Fe.useCallback=function(t,e){return Hn.current.useCallback(t,e)};Fe.useContext=function(t){return Hn.current.useContext(t)};Fe.useDebugValue=function(){};Fe.useDeferredValue=function(t){return Hn.current.useDeferredValue(t)};Fe.useEffect=function(t,e){return Hn.current.useEffect(t,e)};Fe.useId=function(){return Hn.current.useId()};Fe.useImperativeHandle=function(t,e,n){return Hn.current.useImperativeHandle(t,e,n)};Fe.useInsertionEffect=function(t,e){return Hn.current.useInsertionEffect(t,e)};Fe.useLayoutEffect=function(t,e){return Hn.current.useLayoutEffect(t,e)};Fe.useMemo=function(t,e){return Hn.current.useMemo(t,e)};Fe.useReducer=function(t,e,n){return Hn.current.useReducer(t,e,n)};Fe.useRef=function(t){return Hn.current.useRef(t)};Fe.useState=function(t){return Hn.current.useState(t)};Fe.useSyncExternalStore=function(t,e,n){return Hn.current.useSyncExternalStore(t,e,n)};Fe.useTransition=function(){return Hn.current.useTransition()};Fe.version="18.2.0";QP.exports=Fe;var g=QP.exports;const nr=Yg(g),v_=LV({__proto__:null,default:nr},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZV=g,e5=Symbol.for("react.element"),t5=Symbol.for("react.fragment"),n5=Object.prototype.hasOwnProperty,r5=ZV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s5={key:!0,ref:!0,__self:!0,__source:!0};function rA(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)n5.call(e,r)&&!s5.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:e5,type:t,key:i,ref:o,props:s,_owner:r5.current}}Xg.Fragment=t5;Xg.jsx=rA;Xg.jsxs=rA;KP.exports=Xg;var u=KP.exports,y_={},sA={exports:{}},Cr={},iA={exports:{}},oA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,ee){var he=q.length;q.push(ee);e:for(;0<he;){var ue=he-1>>>1,ve=q[ue];if(0<s(ve,ee))q[ue]=ee,q[he]=ve,he=ue;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var ee=q[0],he=q.pop();if(he!==ee){q[0]=he;e:for(var ue=0,ve=q.length,ie=ve>>>1;ue<ie;){var Ee=2*(ue+1)-1,Ie=q[Ee],je=Ee+1,pe=q[je];if(0>s(Ie,he))je<ve&&0>s(pe,Ie)?(q[ue]=pe,q[je]=he,ue=je):(q[ue]=Ie,q[Ee]=he,ue=Ee);else if(je<ve&&0>s(pe,he))q[ue]=pe,q[je]=he,ue=je;else break e}}return ee}function s(q,ee){var he=q.sortIndex-ee.sortIndex;return he!==0?he:q.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,p=3,m=!1,_=!1,y=!1,S=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(q){for(var ee=n(c);ee!==null;){if(ee.callback===null)r(c);else if(ee.startTime<=q)r(c),ee.sortIndex=ee.expirationTime,e(l,ee);else break;ee=n(c)}}function k(q){if(y=!1,w(q),!_)if(n(l)!==null)_=!0,ne(j);else{var ee=n(c);ee!==null&&B(k,ee.startTime-q)}}function j(q,ee){_=!1,y&&(y=!1,x(T),T=-1),m=!0;var he=p;try{for(w(ee),f=n(l);f!==null&&(!(f.expirationTime>ee)||q&&!N());){var ue=f.callback;if(typeof ue=="function"){f.callback=null,p=f.priorityLevel;var ve=ue(f.expirationTime<=ee);ee=t.unstable_now(),typeof ve=="function"?f.callback=ve:f===n(l)&&r(l),w(ee)}else r(l);f=n(l)}if(f!==null)var ie=!0;else{var Ee=n(c);Ee!==null&&B(k,Ee.startTime-ee),ie=!1}return ie}finally{f=null,p=he,m=!1}}var O=!1,C=null,T=-1,I=5,P=-1;function N(){return!(t.unstable_now()-P<I)}function M(){if(C!==null){var q=t.unstable_now();P=q;var ee=!0;try{ee=C(!0,q)}finally{ee?R():(O=!1,C=null)}}else O=!1}var R;if(typeof b=="function")R=function(){b(M)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,Q=$.port2;$.port1.onmessage=M,R=function(){Q.postMessage(null)}}else R=function(){S(M,0)};function ne(q){C=q,O||(O=!0,R())}function B(q,ee){T=S(function(){q(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){_||m||(_=!0,ne(j))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(q){switch(p){case 1:case 2:case 3:var ee=3;break;default:ee=p}var he=p;p=ee;try{return q()}finally{p=he}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,ee){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var he=p;p=q;try{return ee()}finally{p=he}},t.unstable_scheduleCallback=function(q,ee,he){var ue=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?ue+he:ue):he=ue,q){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=he+ve,q={id:d++,callback:ee,priorityLevel:q,startTime:he,expirationTime:ve,sortIndex:-1},he>ue?(q.sortIndex=he,e(c,q),n(l)===null&&q===n(c)&&(y?(x(T),T=-1):y=!0,B(k,he-ue))):(q.sortIndex=ve,e(l,q),_||m||(_=!0,ne(j))),q},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(q){var ee=p;return function(){var he=p;p=ee;try{return q.apply(this,arguments)}finally{p=he}}}})(oA);iA.exports=oA;var i5=iA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aA=g,xr=i5;function te(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lA=new Set,Wd={};function sl(t,e){Ac(t,e),Ac(t+"Capture",e)}function Ac(t,e){for(Wd[t]=e,t=0;t<e.length;t++)lA.add(e[t])}var Ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),__=Object.prototype.hasOwnProperty,o5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mE={},gE={};function a5(t){return __.call(gE,t)?!0:__.call(mE,t)?!1:o5.test(t)?gE[t]=!0:(mE[t]=!0,!1)}function l5(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function c5(t,e,n,r){if(e===null||typeof e>"u"||l5(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function qn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var wn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){wn[t]=new qn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];wn[e]=new qn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){wn[t]=new qn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){wn[t]=new qn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){wn[t]=new qn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){wn[t]=new qn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){wn[t]=new qn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){wn[t]=new qn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){wn[t]=new qn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Rw=/[\-:]([a-z])/g;function jw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Rw,jw);wn[e]=new qn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Rw,jw);wn[e]=new qn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Rw,jw);wn[e]=new qn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){wn[t]=new qn(t,1,!1,t.toLowerCase(),null,!1,!1)});wn.xlinkHref=new qn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){wn[t]=new qn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Dw(t,e,n,r){var s=wn.hasOwnProperty(e)?wn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(c5(e,n,s,r)&&(n=null),r||s===null?a5(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Bi=aA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ip=Symbol.for("react.element"),$l=Symbol.for("react.portal"),zl=Symbol.for("react.fragment"),Nw=Symbol.for("react.strict_mode"),b_=Symbol.for("react.profiler"),cA=Symbol.for("react.provider"),uA=Symbol.for("react.context"),Ow=Symbol.for("react.forward_ref"),w_=Symbol.for("react.suspense"),x_=Symbol.for("react.suspense_list"),Mw=Symbol.for("react.memo"),lo=Symbol.for("react.lazy"),dA=Symbol.for("react.offscreen"),vE=Symbol.iterator;function Lu(t){return t===null||typeof t!="object"?null:(t=vE&&t[vE]||t["@@iterator"],typeof t=="function"?t:null)}var kt=Object.assign,zy;function ed(t){if(zy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);zy=e&&e[1]||""}return`
`+zy+t}var By=!1;function Uy(t,e){if(!t||By)return"";By=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{By=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ed(t):""}function u5(t){switch(t.tag){case 5:return ed(t.type);case 16:return ed("Lazy");case 13:return ed("Suspense");case 19:return ed("SuspenseList");case 0:case 2:case 15:return t=Uy(t.type,!1),t;case 11:return t=Uy(t.type.render,!1),t;case 1:return t=Uy(t.type,!0),t;default:return""}}function S_(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case zl:return"Fragment";case $l:return"Portal";case b_:return"Profiler";case Nw:return"StrictMode";case w_:return"Suspense";case x_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case uA:return(t.displayName||"Context")+".Consumer";case cA:return(t._context.displayName||"Context")+".Provider";case Ow:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Mw:return e=t.displayName||null,e!==null?e:S_(t.type)||"Memo";case lo:e=t._payload,t=t._init;try{return S_(t(e))}catch{}}return null}function d5(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return S_(e);case 8:return e===Nw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Lo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hA(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function h5(t){var e=hA(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function op(t){t._valueTracker||(t._valueTracker=h5(t))}function fA(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=hA(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Nm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function E_(t,e){var n=e.checked;return kt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function yE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Lo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function pA(t,e){e=e.checked,e!=null&&Dw(t,"checked",e,!1)}function C_(t,e){pA(t,e);var n=Lo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?T_(t,e.type,n):e.hasOwnProperty("defaultValue")&&T_(t,e.type,Lo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function _E(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function T_(t,e,n){(e!=="number"||Nm(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var td=Array.isArray;function hc(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Lo(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function I_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(te(91));return kt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function bE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(te(92));if(td(n)){if(1<n.length)throw Error(te(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Lo(n)}}function mA(t,e){var n=Lo(e.value),r=Lo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function wE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function gA(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function k_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?gA(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ap,vA=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ap=ap||document.createElement("div"),ap.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ap.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Hd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var gd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},f5=["Webkit","ms","Moz","O"];Object.keys(gd).forEach(function(t){f5.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),gd[e]=gd[t]})});function yA(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||gd.hasOwnProperty(t)&&gd[t]?(""+e).trim():e+"px"}function _A(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=yA(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var p5=kt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function P_(t,e){if(e){if(p5[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(te(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(te(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(te(61))}if(e.style!=null&&typeof e.style!="object")throw Error(te(62))}}function A_(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var R_=null;function Lw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var j_=null,fc=null,pc=null;function xE(t){if(t=Wh(t)){if(typeof j_!="function")throw Error(te(280));var e=t.stateNode;e&&(e=nv(e),j_(t.stateNode,t.type,e))}}function bA(t){fc?pc?pc.push(t):pc=[t]:fc=t}function wA(){if(fc){var t=fc,e=pc;if(pc=fc=null,xE(t),e)for(t=0;t<e.length;t++)xE(e[t])}}function xA(t,e){return t(e)}function SA(){}var Wy=!1;function EA(t,e,n){if(Wy)return t(e,n);Wy=!0;try{return xA(t,e,n)}finally{Wy=!1,(fc!==null||pc!==null)&&(SA(),wA())}}function qd(t,e){var n=t.stateNode;if(n===null)return null;var r=nv(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(te(231,e,typeof n));return n}var D_=!1;if(Ii)try{var Vu={};Object.defineProperty(Vu,"passive",{get:function(){D_=!0}}),window.addEventListener("test",Vu,Vu),window.removeEventListener("test",Vu,Vu)}catch{D_=!1}function m5(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var vd=!1,Om=null,Mm=!1,N_=null,g5={onError:function(t){vd=!0,Om=t}};function v5(t,e,n,r,s,i,o,a,l){vd=!1,Om=null,m5.apply(g5,arguments)}function y5(t,e,n,r,s,i,o,a,l){if(v5.apply(this,arguments),vd){if(vd){var c=Om;vd=!1,Om=null}else throw Error(te(198));Mm||(Mm=!0,N_=c)}}function il(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function CA(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function SE(t){if(il(t)!==t)throw Error(te(188))}function _5(t){var e=t.alternate;if(!e){if(e=il(t),e===null)throw Error(te(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return SE(s),t;if(i===r)return SE(s),e;i=i.sibling}throw Error(te(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(te(189))}}if(n.alternate!==r)throw Error(te(190))}if(n.tag!==3)throw Error(te(188));return n.stateNode.current===n?t:e}function TA(t){return t=_5(t),t!==null?IA(t):null}function IA(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=IA(t);if(e!==null)return e;t=t.sibling}return null}var kA=xr.unstable_scheduleCallback,EE=xr.unstable_cancelCallback,b5=xr.unstable_shouldYield,w5=xr.unstable_requestPaint,Mt=xr.unstable_now,x5=xr.unstable_getCurrentPriorityLevel,Vw=xr.unstable_ImmediatePriority,PA=xr.unstable_UserBlockingPriority,Lm=xr.unstable_NormalPriority,S5=xr.unstable_LowPriority,AA=xr.unstable_IdlePriority,Jg=null,Fs=null;function E5(t){if(Fs&&typeof Fs.onCommitFiberRoot=="function")try{Fs.onCommitFiberRoot(Jg,t,void 0,(t.current.flags&128)===128)}catch{}}var ds=Math.clz32?Math.clz32:I5,C5=Math.log,T5=Math.LN2;function I5(t){return t>>>=0,t===0?32:31-(C5(t)/T5|0)|0}var lp=64,cp=4194304;function nd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Vm(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=nd(a):(i&=o,i!==0&&(r=nd(i)))}else o=n&~s,o!==0?r=nd(o):i!==0&&(r=nd(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ds(e),s=1<<n,r|=t[n],e&=~s;return r}function k5(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function P5(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-ds(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=k5(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function O_(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function RA(){var t=lp;return lp<<=1,!(lp&4194240)&&(lp=64),t}function Hy(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Bh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ds(e),t[e]=n}function A5(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-ds(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Fw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ds(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var et=0;function jA(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var DA,$w,NA,OA,MA,M_=!1,up=[],Eo=null,Co=null,To=null,Gd=new Map,Kd=new Map,ho=[],R5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function CE(t,e){switch(t){case"focusin":case"focusout":Eo=null;break;case"dragenter":case"dragleave":Co=null;break;case"mouseover":case"mouseout":To=null;break;case"pointerover":case"pointerout":Gd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kd.delete(e.pointerId)}}function Fu(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Wh(e),e!==null&&$w(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function j5(t,e,n,r,s){switch(e){case"focusin":return Eo=Fu(Eo,t,e,n,r,s),!0;case"dragenter":return Co=Fu(Co,t,e,n,r,s),!0;case"mouseover":return To=Fu(To,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Gd.set(i,Fu(Gd.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Kd.set(i,Fu(Kd.get(i)||null,t,e,n,r,s)),!0}return!1}function LA(t){var e=wa(t.target);if(e!==null){var n=il(e);if(n!==null){if(e=n.tag,e===13){if(e=CA(n),e!==null){t.blockedOn=e,MA(t.priority,function(){NA(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=L_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);R_=r,n.target.dispatchEvent(r),R_=null}else return e=Wh(n),e!==null&&$w(e),t.blockedOn=n,!1;e.shift()}return!0}function TE(t,e,n){Gp(t)&&n.delete(e)}function D5(){M_=!1,Eo!==null&&Gp(Eo)&&(Eo=null),Co!==null&&Gp(Co)&&(Co=null),To!==null&&Gp(To)&&(To=null),Gd.forEach(TE),Kd.forEach(TE)}function $u(t,e){t.blockedOn===e&&(t.blockedOn=null,M_||(M_=!0,xr.unstable_scheduleCallback(xr.unstable_NormalPriority,D5)))}function Qd(t){function e(s){return $u(s,t)}if(0<up.length){$u(up[0],t);for(var n=1;n<up.length;n++){var r=up[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Eo!==null&&$u(Eo,t),Co!==null&&$u(Co,t),To!==null&&$u(To,t),Gd.forEach(e),Kd.forEach(e),n=0;n<ho.length;n++)r=ho[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ho.length&&(n=ho[0],n.blockedOn===null);)LA(n),n.blockedOn===null&&ho.shift()}var mc=Bi.ReactCurrentBatchConfig,Fm=!0;function N5(t,e,n,r){var s=et,i=mc.transition;mc.transition=null;try{et=1,zw(t,e,n,r)}finally{et=s,mc.transition=i}}function O5(t,e,n,r){var s=et,i=mc.transition;mc.transition=null;try{et=4,zw(t,e,n,r)}finally{et=s,mc.transition=i}}function zw(t,e,n,r){if(Fm){var s=L_(t,e,n,r);if(s===null)t0(t,e,r,$m,n),CE(t,r);else if(j5(s,t,e,n,r))r.stopPropagation();else if(CE(t,r),e&4&&-1<R5.indexOf(t)){for(;s!==null;){var i=Wh(s);if(i!==null&&DA(i),i=L_(t,e,n,r),i===null&&t0(t,e,r,$m,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else t0(t,e,r,null,n)}}var $m=null;function L_(t,e,n,r){if($m=null,t=Lw(r),t=wa(t),t!==null)if(e=il(t),e===null)t=null;else if(n=e.tag,n===13){if(t=CA(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return $m=t,null}function VA(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(x5()){case Vw:return 1;case PA:return 4;case Lm:case S5:return 16;case AA:return 536870912;default:return 16}default:return 16}}var bo=null,Bw=null,Kp=null;function FA(){if(Kp)return Kp;var t,e=Bw,n=e.length,r,s="value"in bo?bo.value:bo.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Kp=s.slice(t,1<r?1-r:void 0)}function Qp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function dp(){return!0}function IE(){return!1}function Tr(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?dp:IE,this.isPropagationStopped=IE,this}return kt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=dp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=dp)},persist:function(){},isPersistent:dp}),e}var nu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uw=Tr(nu),Uh=kt({},nu,{view:0,detail:0}),M5=Tr(Uh),qy,Gy,zu,Zg=kt({},Uh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ww,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zu&&(zu&&t.type==="mousemove"?(qy=t.screenX-zu.screenX,Gy=t.screenY-zu.screenY):Gy=qy=0,zu=t),qy)},movementY:function(t){return"movementY"in t?t.movementY:Gy}}),kE=Tr(Zg),L5=kt({},Zg,{dataTransfer:0}),V5=Tr(L5),F5=kt({},Uh,{relatedTarget:0}),Ky=Tr(F5),$5=kt({},nu,{animationName:0,elapsedTime:0,pseudoElement:0}),z5=Tr($5),B5=kt({},nu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),U5=Tr(B5),W5=kt({},nu,{data:0}),PE=Tr(W5),H5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},q5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},G5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function K5(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=G5[t])?!!e[t]:!1}function Ww(){return K5}var Q5=kt({},Uh,{key:function(t){if(t.key){var e=H5[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Qp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?q5[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ww,charCode:function(t){return t.type==="keypress"?Qp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Y5=Tr(Q5),X5=kt({},Zg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),AE=Tr(X5),J5=kt({},Uh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ww}),Z5=Tr(J5),eF=kt({},nu,{propertyName:0,elapsedTime:0,pseudoElement:0}),tF=Tr(eF),nF=kt({},Zg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),rF=Tr(nF),sF=[9,13,27,32],Hw=Ii&&"CompositionEvent"in window,yd=null;Ii&&"documentMode"in document&&(yd=document.documentMode);var iF=Ii&&"TextEvent"in window&&!yd,$A=Ii&&(!Hw||yd&&8<yd&&11>=yd),RE=" ",jE=!1;function zA(t,e){switch(t){case"keyup":return sF.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function BA(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Bl=!1;function oF(t,e){switch(t){case"compositionend":return BA(e);case"keypress":return e.which!==32?null:(jE=!0,RE);case"textInput":return t=e.data,t===RE&&jE?null:t;default:return null}}function aF(t,e){if(Bl)return t==="compositionend"||!Hw&&zA(t,e)?(t=FA(),Kp=Bw=bo=null,Bl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $A&&e.locale!=="ko"?null:e.data;default:return null}}var lF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function DE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!lF[t.type]:e==="textarea"}function UA(t,e,n,r){bA(r),e=zm(e,"onChange"),0<e.length&&(n=new Uw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var _d=null,Yd=null;function cF(t){eR(t,0)}function ev(t){var e=Hl(t);if(fA(e))return t}function uF(t,e){if(t==="change")return e}var WA=!1;if(Ii){var Qy;if(Ii){var Yy="oninput"in document;if(!Yy){var NE=document.createElement("div");NE.setAttribute("oninput","return;"),Yy=typeof NE.oninput=="function"}Qy=Yy}else Qy=!1;WA=Qy&&(!document.documentMode||9<document.documentMode)}function OE(){_d&&(_d.detachEvent("onpropertychange",HA),Yd=_d=null)}function HA(t){if(t.propertyName==="value"&&ev(Yd)){var e=[];UA(e,Yd,t,Lw(t)),EA(cF,e)}}function dF(t,e,n){t==="focusin"?(OE(),_d=e,Yd=n,_d.attachEvent("onpropertychange",HA)):t==="focusout"&&OE()}function hF(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ev(Yd)}function fF(t,e){if(t==="click")return ev(e)}function pF(t,e){if(t==="input"||t==="change")return ev(e)}function mF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fs=typeof Object.is=="function"?Object.is:mF;function Xd(t,e){if(fs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!__.call(e,s)||!fs(t[s],e[s]))return!1}return!0}function ME(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function LE(t,e){var n=ME(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ME(n)}}function qA(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?qA(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function GA(){for(var t=window,e=Nm();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Nm(t.document)}return e}function qw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function gF(t){var e=GA(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&qA(n.ownerDocument.documentElement,n)){if(r!==null&&qw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=LE(n,i);var o=LE(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var vF=Ii&&"documentMode"in document&&11>=document.documentMode,Ul=null,V_=null,bd=null,F_=!1;function VE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;F_||Ul==null||Ul!==Nm(r)||(r=Ul,"selectionStart"in r&&qw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),bd&&Xd(bd,r)||(bd=r,r=zm(V_,"onSelect"),0<r.length&&(e=new Uw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ul)))}function hp(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Wl={animationend:hp("Animation","AnimationEnd"),animationiteration:hp("Animation","AnimationIteration"),animationstart:hp("Animation","AnimationStart"),transitionend:hp("Transition","TransitionEnd")},Xy={},KA={};Ii&&(KA=document.createElement("div").style,"AnimationEvent"in window||(delete Wl.animationend.animation,delete Wl.animationiteration.animation,delete Wl.animationstart.animation),"TransitionEvent"in window||delete Wl.transitionend.transition);function tv(t){if(Xy[t])return Xy[t];if(!Wl[t])return t;var e=Wl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in KA)return Xy[t]=e[n];return t}var QA=tv("animationend"),YA=tv("animationiteration"),XA=tv("animationstart"),JA=tv("transitionend"),ZA=new Map,FE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ho(t,e){ZA.set(t,e),sl(e,[t])}for(var Jy=0;Jy<FE.length;Jy++){var Zy=FE[Jy],yF=Zy.toLowerCase(),_F=Zy[0].toUpperCase()+Zy.slice(1);Ho(yF,"on"+_F)}Ho(QA,"onAnimationEnd");Ho(YA,"onAnimationIteration");Ho(XA,"onAnimationStart");Ho("dblclick","onDoubleClick");Ho("focusin","onFocus");Ho("focusout","onBlur");Ho(JA,"onTransitionEnd");Ac("onMouseEnter",["mouseout","mouseover"]);Ac("onMouseLeave",["mouseout","mouseover"]);Ac("onPointerEnter",["pointerout","pointerover"]);Ac("onPointerLeave",["pointerout","pointerover"]);sl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));sl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));sl("onBeforeInput",["compositionend","keypress","textInput","paste"]);sl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));sl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));sl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bF=new Set("cancel close invalid load scroll toggle".split(" ").concat(rd));function $E(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,y5(r,e,void 0,t),t.currentTarget=null}function eR(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;$E(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;$E(s,a,c),i=l}}}if(Mm)throw t=N_,Mm=!1,N_=null,t}function dt(t,e){var n=e[W_];n===void 0&&(n=e[W_]=new Set);var r=t+"__bubble";n.has(r)||(tR(e,t,2,!1),n.add(r))}function e0(t,e,n){var r=0;e&&(r|=4),tR(n,t,r,e)}var fp="_reactListening"+Math.random().toString(36).slice(2);function Jd(t){if(!t[fp]){t[fp]=!0,lA.forEach(function(n){n!=="selectionchange"&&(bF.has(n)||e0(n,!1,t),e0(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fp]||(e[fp]=!0,e0("selectionchange",!1,e))}}function tR(t,e,n,r){switch(VA(e)){case 1:var s=N5;break;case 4:s=O5;break;default:s=zw}n=s.bind(null,e,n,t),s=void 0,!D_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function t0(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=wa(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}EA(function(){var c=i,d=Lw(n),f=[];e:{var p=ZA.get(t);if(p!==void 0){var m=Uw,_=t;switch(t){case"keypress":if(Qp(n)===0)break e;case"keydown":case"keyup":m=Y5;break;case"focusin":_="focus",m=Ky;break;case"focusout":_="blur",m=Ky;break;case"beforeblur":case"afterblur":m=Ky;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=kE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=V5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Z5;break;case QA:case YA:case XA:m=z5;break;case JA:m=tF;break;case"scroll":m=M5;break;case"wheel":m=rF;break;case"copy":case"cut":case"paste":m=U5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=AE}var y=(e&4)!==0,S=!y&&t==="scroll",x=y?p!==null?p+"Capture":null:p;y=[];for(var b=c,w;b!==null;){w=b;var k=w.stateNode;if(w.tag===5&&k!==null&&(w=k,x!==null&&(k=qd(b,x),k!=null&&y.push(Zd(b,k,w)))),S)break;b=b.return}0<y.length&&(p=new m(p,_,null,n,d),f.push({event:p,listeners:y}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==R_&&(_=n.relatedTarget||n.fromElement)&&(wa(_)||_[ki]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(_=n.relatedTarget||n.toElement,m=c,_=_?wa(_):null,_!==null&&(S=il(_),_!==S||_.tag!==5&&_.tag!==6)&&(_=null)):(m=null,_=c),m!==_)){if(y=kE,k="onMouseLeave",x="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(y=AE,k="onPointerLeave",x="onPointerEnter",b="pointer"),S=m==null?p:Hl(m),w=_==null?p:Hl(_),p=new y(k,b+"leave",m,n,d),p.target=S,p.relatedTarget=w,k=null,wa(d)===c&&(y=new y(x,b+"enter",_,n,d),y.target=w,y.relatedTarget=S,k=y),S=k,m&&_)t:{for(y=m,x=_,b=0,w=y;w;w=Rl(w))b++;for(w=0,k=x;k;k=Rl(k))w++;for(;0<b-w;)y=Rl(y),b--;for(;0<w-b;)x=Rl(x),w--;for(;b--;){if(y===x||x!==null&&y===x.alternate)break t;y=Rl(y),x=Rl(x)}y=null}else y=null;m!==null&&zE(f,p,m,y,!1),_!==null&&S!==null&&zE(f,S,_,y,!0)}}e:{if(p=c?Hl(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var j=uF;else if(DE(p))if(WA)j=pF;else{j=hF;var O=dF}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(j=fF);if(j&&(j=j(t,c))){UA(f,j,n,d);break e}O&&O(t,p,c),t==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&T_(p,"number",p.value)}switch(O=c?Hl(c):window,t){case"focusin":(DE(O)||O.contentEditable==="true")&&(Ul=O,V_=c,bd=null);break;case"focusout":bd=V_=Ul=null;break;case"mousedown":F_=!0;break;case"contextmenu":case"mouseup":case"dragend":F_=!1,VE(f,n,d);break;case"selectionchange":if(vF)break;case"keydown":case"keyup":VE(f,n,d)}var C;if(Hw)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Bl?zA(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&($A&&n.locale!=="ko"&&(Bl||T!=="onCompositionStart"?T==="onCompositionEnd"&&Bl&&(C=FA()):(bo=d,Bw="value"in bo?bo.value:bo.textContent,Bl=!0)),O=zm(c,T),0<O.length&&(T=new PE(T,t,null,n,d),f.push({event:T,listeners:O}),C?T.data=C:(C=BA(n),C!==null&&(T.data=C)))),(C=iF?oF(t,n):aF(t,n))&&(c=zm(c,"onBeforeInput"),0<c.length&&(d=new PE("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=C))}eR(f,e)})}function Zd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function zm(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=qd(t,n),i!=null&&r.unshift(Zd(t,i,s)),i=qd(t,e),i!=null&&r.push(Zd(t,i,s))),t=t.return}return r}function Rl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function zE(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=qd(n,i),l!=null&&o.unshift(Zd(n,l,a))):s||(l=qd(n,i),l!=null&&o.push(Zd(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var wF=/\r\n?/g,xF=/\u0000|\uFFFD/g;function BE(t){return(typeof t=="string"?t:""+t).replace(wF,`
`).replace(xF,"")}function pp(t,e,n){if(e=BE(e),BE(t)!==e&&n)throw Error(te(425))}function Bm(){}var $_=null,z_=null;function B_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var U_=typeof setTimeout=="function"?setTimeout:void 0,SF=typeof clearTimeout=="function"?clearTimeout:void 0,UE=typeof Promise=="function"?Promise:void 0,EF=typeof queueMicrotask=="function"?queueMicrotask:typeof UE<"u"?function(t){return UE.resolve(null).then(t).catch(CF)}:U_;function CF(t){setTimeout(function(){throw t})}function n0(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Qd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Qd(e)}function Io(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function WE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ru=Math.random().toString(36).slice(2),js="__reactFiber$"+ru,eh="__reactProps$"+ru,ki="__reactContainer$"+ru,W_="__reactEvents$"+ru,TF="__reactListeners$"+ru,IF="__reactHandles$"+ru;function wa(t){var e=t[js];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ki]||n[js]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=WE(t);t!==null;){if(n=t[js])return n;t=WE(t)}return e}t=n,n=t.parentNode}return null}function Wh(t){return t=t[js]||t[ki],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Hl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(te(33))}function nv(t){return t[eh]||null}var H_=[],ql=-1;function qo(t){return{current:t}}function ft(t){0>ql||(t.current=H_[ql],H_[ql]=null,ql--)}function lt(t,e){ql++,H_[ql]=t.current,t.current=e}var Vo={},Ln=qo(Vo),rr=qo(!1),$a=Vo;function Rc(t,e){var n=t.type.contextTypes;if(!n)return Vo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function sr(t){return t=t.childContextTypes,t!=null}function Um(){ft(rr),ft(Ln)}function HE(t,e,n){if(Ln.current!==Vo)throw Error(te(168));lt(Ln,e),lt(rr,n)}function nR(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(te(108,d5(t)||"Unknown",s));return kt({},n,r)}function Wm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Vo,$a=Ln.current,lt(Ln,t),lt(rr,rr.current),!0}function qE(t,e,n){var r=t.stateNode;if(!r)throw Error(te(169));n?(t=nR(t,e,$a),r.__reactInternalMemoizedMergedChildContext=t,ft(rr),ft(Ln),lt(Ln,t)):ft(rr),lt(rr,n)}var ci=null,rv=!1,r0=!1;function rR(t){ci===null?ci=[t]:ci.push(t)}function kF(t){rv=!0,rR(t)}function Go(){if(!r0&&ci!==null){r0=!0;var t=0,e=et;try{var n=ci;for(et=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ci=null,rv=!1}catch(s){throw ci!==null&&(ci=ci.slice(t+1)),kA(Vw,Go),s}finally{et=e,r0=!1}}return null}var Gl=[],Kl=0,Hm=null,qm=0,Fr=[],$r=0,za=null,hi=1,fi="";function fa(t,e){Gl[Kl++]=qm,Gl[Kl++]=Hm,Hm=t,qm=e}function sR(t,e,n){Fr[$r++]=hi,Fr[$r++]=fi,Fr[$r++]=za,za=t;var r=hi;t=fi;var s=32-ds(r)-1;r&=~(1<<s),n+=1;var i=32-ds(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,hi=1<<32-ds(e)+s|n<<s|r,fi=i+t}else hi=1<<i|n<<s|r,fi=t}function Gw(t){t.return!==null&&(fa(t,1),sR(t,1,0))}function Kw(t){for(;t===Hm;)Hm=Gl[--Kl],Gl[Kl]=null,qm=Gl[--Kl],Gl[Kl]=null;for(;t===za;)za=Fr[--$r],Fr[$r]=null,fi=Fr[--$r],Fr[$r]=null,hi=Fr[--$r],Fr[$r]=null}var gr=null,pr=null,bt=!1,ls=null;function iR(t,e){var n=zr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function GE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,gr=t,pr=Io(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,gr=t,pr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=za!==null?{id:hi,overflow:fi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=zr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,gr=t,pr=null,!0):!1;default:return!1}}function q_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function G_(t){if(bt){var e=pr;if(e){var n=e;if(!GE(t,e)){if(q_(t))throw Error(te(418));e=Io(n.nextSibling);var r=gr;e&&GE(t,e)?iR(r,n):(t.flags=t.flags&-4097|2,bt=!1,gr=t)}}else{if(q_(t))throw Error(te(418));t.flags=t.flags&-4097|2,bt=!1,gr=t}}}function KE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;gr=t}function mp(t){if(t!==gr)return!1;if(!bt)return KE(t),bt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!B_(t.type,t.memoizedProps)),e&&(e=pr)){if(q_(t))throw oR(),Error(te(418));for(;e;)iR(t,e),e=Io(e.nextSibling)}if(KE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(te(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){pr=Io(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}pr=null}}else pr=gr?Io(t.stateNode.nextSibling):null;return!0}function oR(){for(var t=pr;t;)t=Io(t.nextSibling)}function jc(){pr=gr=null,bt=!1}function Qw(t){ls===null?ls=[t]:ls.push(t)}var PF=Bi.ReactCurrentBatchConfig;function os(t,e){if(t&&t.defaultProps){e=kt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Gm=qo(null),Km=null,Ql=null,Yw=null;function Xw(){Yw=Ql=Km=null}function Jw(t){var e=Gm.current;ft(Gm),t._currentValue=e}function K_(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function gc(t,e){Km=t,Yw=Ql=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(tr=!0),t.firstContext=null)}function qr(t){var e=t._currentValue;if(Yw!==t)if(t={context:t,memoizedValue:e,next:null},Ql===null){if(Km===null)throw Error(te(308));Ql=t,Km.dependencies={lanes:0,firstContext:t}}else Ql=Ql.next=t;return e}var xa=null;function Zw(t){xa===null?xa=[t]:xa.push(t)}function aR(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Zw(e)):(n.next=s.next,s.next=n),e.interleaved=n,Pi(t,r)}function Pi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var co=!1;function ex(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lR(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function bi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ko(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ue&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Pi(t,n)}return s=r.interleaved,s===null?(e.next=e,Zw(r)):(e.next=s.next,s.next=e),r.interleaved=e,Pi(t,n)}function Yp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Fw(t,n)}}function QE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Qm(t,e,n,r){var s=t.updateQueue;co=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,d=c=l=null,a=i;do{var p=a.lane,m=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,y=a;switch(p=e,m=n,y.tag){case 1:if(_=y.payload,typeof _=="function"){f=_.call(m,f,p);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=y.payload,p=typeof _=="function"?_.call(m,f,p):_,p==null)break e;f=kt({},f,p);break e;case 2:co=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=f):d=d.next=m,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ua|=o,t.lanes=o,t.memoizedState=f}}function YE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(te(191,s));s.call(r)}}}var cR=new aA.Component().refs;function Q_(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:kt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var sv={isMounted:function(t){return(t=t._reactInternals)?il(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Un(),s=Ao(t),i=bi(r,s);i.payload=e,n!=null&&(i.callback=n),e=ko(t,i,s),e!==null&&(hs(e,t,s,r),Yp(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Un(),s=Ao(t),i=bi(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ko(t,i,s),e!==null&&(hs(e,t,s,r),Yp(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Un(),r=Ao(t),s=bi(n,r);s.tag=2,e!=null&&(s.callback=e),e=ko(t,s,r),e!==null&&(hs(e,t,r,n),Yp(e,t,r))}};function XE(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Xd(n,r)||!Xd(s,i):!0}function uR(t,e,n){var r=!1,s=Vo,i=e.contextType;return typeof i=="object"&&i!==null?i=qr(i):(s=sr(e)?$a:Ln.current,r=e.contextTypes,i=(r=r!=null)?Rc(t,s):Vo),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=sv,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function JE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&sv.enqueueReplaceState(e,e.state,null)}function Y_(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=cR,ex(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=qr(i):(i=sr(e)?$a:Ln.current,s.context=Rc(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Q_(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&sv.enqueueReplaceState(s,s.state,null),Qm(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Bu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(te(309));var r=n.stateNode}if(!r)throw Error(te(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;a===cR&&(a=s.refs={}),o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(te(284));if(!n._owner)throw Error(te(290,t))}return t}function gp(t,e){throw t=Object.prototype.toString.call(e),Error(te(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ZE(t){var e=t._init;return e(t._payload)}function dR(t){function e(x,b){if(t){var w=x.deletions;w===null?(x.deletions=[b],x.flags|=16):w.push(b)}}function n(x,b){if(!t)return null;for(;b!==null;)e(x,b),b=b.sibling;return null}function r(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function s(x,b){return x=Ro(x,b),x.index=0,x.sibling=null,x}function i(x,b,w){return x.index=w,t?(w=x.alternate,w!==null?(w=w.index,w<b?(x.flags|=2,b):w):(x.flags|=2,b)):(x.flags|=1048576,b)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,b,w,k){return b===null||b.tag!==6?(b=u0(w,x.mode,k),b.return=x,b):(b=s(b,w),b.return=x,b)}function l(x,b,w,k){var j=w.type;return j===zl?d(x,b,w.props.children,k,w.key):b!==null&&(b.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===lo&&ZE(j)===b.type)?(k=s(b,w.props),k.ref=Bu(x,b,w),k.return=x,k):(k=nm(w.type,w.key,w.props,null,x.mode,k),k.ref=Bu(x,b,w),k.return=x,k)}function c(x,b,w,k){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=d0(w,x.mode,k),b.return=x,b):(b=s(b,w.children||[]),b.return=x,b)}function d(x,b,w,k,j){return b===null||b.tag!==7?(b=Pa(w,x.mode,k,j),b.return=x,b):(b=s(b,w),b.return=x,b)}function f(x,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=u0(""+b,x.mode,w),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ip:return w=nm(b.type,b.key,b.props,null,x.mode,w),w.ref=Bu(x,null,b),w.return=x,w;case $l:return b=d0(b,x.mode,w),b.return=x,b;case lo:var k=b._init;return f(x,k(b._payload),w)}if(td(b)||Lu(b))return b=Pa(b,x.mode,w,null),b.return=x,b;gp(x,b)}return null}function p(x,b,w,k){var j=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:a(x,b,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ip:return w.key===j?l(x,b,w,k):null;case $l:return w.key===j?c(x,b,w,k):null;case lo:return j=w._init,p(x,b,j(w._payload),k)}if(td(w)||Lu(w))return j!==null?null:d(x,b,w,k,null);gp(x,w)}return null}function m(x,b,w,k,j){if(typeof k=="string"&&k!==""||typeof k=="number")return x=x.get(w)||null,a(b,x,""+k,j);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ip:return x=x.get(k.key===null?w:k.key)||null,l(b,x,k,j);case $l:return x=x.get(k.key===null?w:k.key)||null,c(b,x,k,j);case lo:var O=k._init;return m(x,b,w,O(k._payload),j)}if(td(k)||Lu(k))return x=x.get(w)||null,d(b,x,k,j,null);gp(b,k)}return null}function _(x,b,w,k){for(var j=null,O=null,C=b,T=b=0,I=null;C!==null&&T<w.length;T++){C.index>T?(I=C,C=null):I=C.sibling;var P=p(x,C,w[T],k);if(P===null){C===null&&(C=I);break}t&&C&&P.alternate===null&&e(x,C),b=i(P,b,T),O===null?j=P:O.sibling=P,O=P,C=I}if(T===w.length)return n(x,C),bt&&fa(x,T),j;if(C===null){for(;T<w.length;T++)C=f(x,w[T],k),C!==null&&(b=i(C,b,T),O===null?j=C:O.sibling=C,O=C);return bt&&fa(x,T),j}for(C=r(x,C);T<w.length;T++)I=m(C,x,T,w[T],k),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?T:I.key),b=i(I,b,T),O===null?j=I:O.sibling=I,O=I);return t&&C.forEach(function(N){return e(x,N)}),bt&&fa(x,T),j}function y(x,b,w,k){var j=Lu(w);if(typeof j!="function")throw Error(te(150));if(w=j.call(w),w==null)throw Error(te(151));for(var O=j=null,C=b,T=b=0,I=null,P=w.next();C!==null&&!P.done;T++,P=w.next()){C.index>T?(I=C,C=null):I=C.sibling;var N=p(x,C,P.value,k);if(N===null){C===null&&(C=I);break}t&&C&&N.alternate===null&&e(x,C),b=i(N,b,T),O===null?j=N:O.sibling=N,O=N,C=I}if(P.done)return n(x,C),bt&&fa(x,T),j;if(C===null){for(;!P.done;T++,P=w.next())P=f(x,P.value,k),P!==null&&(b=i(P,b,T),O===null?j=P:O.sibling=P,O=P);return bt&&fa(x,T),j}for(C=r(x,C);!P.done;T++,P=w.next())P=m(C,x,T,P.value,k),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?T:P.key),b=i(P,b,T),O===null?j=P:O.sibling=P,O=P);return t&&C.forEach(function(M){return e(x,M)}),bt&&fa(x,T),j}function S(x,b,w,k){if(typeof w=="object"&&w!==null&&w.type===zl&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case ip:e:{for(var j=w.key,O=b;O!==null;){if(O.key===j){if(j=w.type,j===zl){if(O.tag===7){n(x,O.sibling),b=s(O,w.props.children),b.return=x,x=b;break e}}else if(O.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===lo&&ZE(j)===O.type){n(x,O.sibling),b=s(O,w.props),b.ref=Bu(x,O,w),b.return=x,x=b;break e}n(x,O);break}else e(x,O);O=O.sibling}w.type===zl?(b=Pa(w.props.children,x.mode,k,w.key),b.return=x,x=b):(k=nm(w.type,w.key,w.props,null,x.mode,k),k.ref=Bu(x,b,w),k.return=x,x=k)}return o(x);case $l:e:{for(O=w.key;b!==null;){if(b.key===O)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(x,b.sibling),b=s(b,w.children||[]),b.return=x,x=b;break e}else{n(x,b);break}else e(x,b);b=b.sibling}b=d0(w,x.mode,k),b.return=x,x=b}return o(x);case lo:return O=w._init,S(x,b,O(w._payload),k)}if(td(w))return _(x,b,w,k);if(Lu(w))return y(x,b,w,k);gp(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(x,b.sibling),b=s(b,w),b.return=x,x=b):(n(x,b),b=u0(w,x.mode,k),b.return=x,x=b),o(x)):n(x,b)}return S}var Dc=dR(!0),hR=dR(!1),Hh={},$s=qo(Hh),th=qo(Hh),nh=qo(Hh);function Sa(t){if(t===Hh)throw Error(te(174));return t}function tx(t,e){switch(lt(nh,e),lt(th,t),lt($s,Hh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:k_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=k_(e,t)}ft($s),lt($s,e)}function Nc(){ft($s),ft(th),ft(nh)}function fR(t){Sa(nh.current);var e=Sa($s.current),n=k_(e,t.type);e!==n&&(lt(th,t),lt($s,n))}function nx(t){th.current===t&&(ft($s),ft(th))}var Ct=qo(0);function Ym(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var s0=[];function rx(){for(var t=0;t<s0.length;t++)s0[t]._workInProgressVersionPrimary=null;s0.length=0}var Xp=Bi.ReactCurrentDispatcher,i0=Bi.ReactCurrentBatchConfig,Ba=0,It=null,Kt=null,rn=null,Xm=!1,wd=!1,rh=0,AF=0;function Tn(){throw Error(te(321))}function sx(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!fs(t[n],e[n]))return!1;return!0}function ix(t,e,n,r,s,i){if(Ba=i,It=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Xp.current=t===null||t.memoizedState===null?NF:OF,t=n(r,s),wd){i=0;do{if(wd=!1,rh=0,25<=i)throw Error(te(301));i+=1,rn=Kt=null,e.updateQueue=null,Xp.current=MF,t=n(r,s)}while(wd)}if(Xp.current=Jm,e=Kt!==null&&Kt.next!==null,Ba=0,rn=Kt=It=null,Xm=!1,e)throw Error(te(300));return t}function ox(){var t=rh!==0;return rh=0,t}function ks(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?It.memoizedState=rn=t:rn=rn.next=t,rn}function Gr(){if(Kt===null){var t=It.alternate;t=t!==null?t.memoizedState:null}else t=Kt.next;var e=rn===null?It.memoizedState:rn.next;if(e!==null)rn=e,Kt=t;else{if(t===null)throw Error(te(310));Kt=t,t={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},rn===null?It.memoizedState=rn=t:rn=rn.next=t}return rn}function sh(t,e){return typeof e=="function"?e(t):e}function o0(t){var e=Gr(),n=e.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=t;var r=Kt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((Ba&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,It.lanes|=d,Ua|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,fs(r,e.memoizedState)||(tr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,It.lanes|=i,Ua|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function a0(t){var e=Gr(),n=e.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);fs(i,e.memoizedState)||(tr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function pR(){}function mR(t,e){var n=It,r=Gr(),s=e(),i=!fs(r.memoizedState,s);if(i&&(r.memoizedState=s,tr=!0),r=r.queue,ax(yR.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||rn!==null&&rn.memoizedState.tag&1){if(n.flags|=2048,ih(9,vR.bind(null,n,r,s,e),void 0,null),on===null)throw Error(te(349));Ba&30||gR(n,e,s)}return s}function gR(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=It.updateQueue,e===null?(e={lastEffect:null,stores:null},It.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function vR(t,e,n,r){e.value=n,e.getSnapshot=r,_R(e)&&bR(t)}function yR(t,e,n){return n(function(){_R(e)&&bR(t)})}function _R(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!fs(t,n)}catch{return!0}}function bR(t){var e=Pi(t,1);e!==null&&hs(e,t,1,-1)}function eC(t){var e=ks();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sh,lastRenderedState:t},e.queue=t,t=t.dispatch=DF.bind(null,It,t),[e.memoizedState,t]}function ih(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=It.updateQueue,e===null?(e={lastEffect:null,stores:null},It.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function wR(){return Gr().memoizedState}function Jp(t,e,n,r){var s=ks();It.flags|=t,s.memoizedState=ih(1|e,n,void 0,r===void 0?null:r)}function iv(t,e,n,r){var s=Gr();r=r===void 0?null:r;var i=void 0;if(Kt!==null){var o=Kt.memoizedState;if(i=o.destroy,r!==null&&sx(r,o.deps)){s.memoizedState=ih(e,n,i,r);return}}It.flags|=t,s.memoizedState=ih(1|e,n,i,r)}function tC(t,e){return Jp(8390656,8,t,e)}function ax(t,e){return iv(2048,8,t,e)}function xR(t,e){return iv(4,2,t,e)}function SR(t,e){return iv(4,4,t,e)}function ER(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function CR(t,e,n){return n=n!=null?n.concat([t]):null,iv(4,4,ER.bind(null,e,t),n)}function lx(){}function TR(t,e){var n=Gr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sx(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function IR(t,e){var n=Gr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sx(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function kR(t,e,n){return Ba&21?(fs(n,e)||(n=RA(),It.lanes|=n,Ua|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,tr=!0),t.memoizedState=n)}function RF(t,e){var n=et;et=n!==0&&4>n?n:4,t(!0);var r=i0.transition;i0.transition={};try{t(!1),e()}finally{et=n,i0.transition=r}}function PR(){return Gr().memoizedState}function jF(t,e,n){var r=Ao(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},AR(t))RR(e,n);else if(n=aR(t,e,n,r),n!==null){var s=Un();hs(n,t,r,s),jR(n,e,r)}}function DF(t,e,n){var r=Ao(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(AR(t))RR(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,fs(a,o)){var l=e.interleaved;l===null?(s.next=s,Zw(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=aR(t,e,s,r),n!==null&&(s=Un(),hs(n,t,r,s),jR(n,e,r))}}function AR(t){var e=t.alternate;return t===It||e!==null&&e===It}function RR(t,e){wd=Xm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function jR(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Fw(t,n)}}var Jm={readContext:qr,useCallback:Tn,useContext:Tn,useEffect:Tn,useImperativeHandle:Tn,useInsertionEffect:Tn,useLayoutEffect:Tn,useMemo:Tn,useReducer:Tn,useRef:Tn,useState:Tn,useDebugValue:Tn,useDeferredValue:Tn,useTransition:Tn,useMutableSource:Tn,useSyncExternalStore:Tn,useId:Tn,unstable_isNewReconciler:!1},NF={readContext:qr,useCallback:function(t,e){return ks().memoizedState=[t,e===void 0?null:e],t},useContext:qr,useEffect:tC,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Jp(4194308,4,ER.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Jp(4194308,4,t,e)},useInsertionEffect:function(t,e){return Jp(4,2,t,e)},useMemo:function(t,e){var n=ks();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ks();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=jF.bind(null,It,t),[r.memoizedState,t]},useRef:function(t){var e=ks();return t={current:t},e.memoizedState=t},useState:eC,useDebugValue:lx,useDeferredValue:function(t){return ks().memoizedState=t},useTransition:function(){var t=eC(!1),e=t[0];return t=RF.bind(null,t[1]),ks().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=It,s=ks();if(bt){if(n===void 0)throw Error(te(407));n=n()}else{if(n=e(),on===null)throw Error(te(349));Ba&30||gR(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,tC(yR.bind(null,r,i,t),[t]),r.flags|=2048,ih(9,vR.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=ks(),e=on.identifierPrefix;if(bt){var n=fi,r=hi;n=(r&~(1<<32-ds(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=rh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=AF++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},OF={readContext:qr,useCallback:TR,useContext:qr,useEffect:ax,useImperativeHandle:CR,useInsertionEffect:xR,useLayoutEffect:SR,useMemo:IR,useReducer:o0,useRef:wR,useState:function(){return o0(sh)},useDebugValue:lx,useDeferredValue:function(t){var e=Gr();return kR(e,Kt.memoizedState,t)},useTransition:function(){var t=o0(sh)[0],e=Gr().memoizedState;return[t,e]},useMutableSource:pR,useSyncExternalStore:mR,useId:PR,unstable_isNewReconciler:!1},MF={readContext:qr,useCallback:TR,useContext:qr,useEffect:ax,useImperativeHandle:CR,useInsertionEffect:xR,useLayoutEffect:SR,useMemo:IR,useReducer:a0,useRef:wR,useState:function(){return a0(sh)},useDebugValue:lx,useDeferredValue:function(t){var e=Gr();return Kt===null?e.memoizedState=t:kR(e,Kt.memoizedState,t)},useTransition:function(){var t=a0(sh)[0],e=Gr().memoizedState;return[t,e]},useMutableSource:pR,useSyncExternalStore:mR,useId:PR,unstable_isNewReconciler:!1};function Oc(t,e){try{var n="",r=e;do n+=u5(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function l0(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function X_(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var LF=typeof WeakMap=="function"?WeakMap:Map;function DR(t,e,n){n=bi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){eg||(eg=!0,ab=r),X_(t,e)},n}function NR(t,e,n){n=bi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){X_(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){X_(t,e),typeof r!="function"&&(Po===null?Po=new Set([this]):Po.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function nC(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new LF;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=XF.bind(null,t,e,n),e.then(t,t))}function rC(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function sC(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=bi(-1,1),e.tag=2,ko(n,e,1))),n.lanes|=1),t)}var VF=Bi.ReactCurrentOwner,tr=!1;function Fn(t,e,n,r){e.child=t===null?hR(e,null,n,r):Dc(e,t.child,n,r)}function iC(t,e,n,r,s){n=n.render;var i=e.ref;return gc(e,s),r=ix(t,e,n,r,i,s),n=ox(),t!==null&&!tr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ai(t,e,s)):(bt&&n&&Gw(e),e.flags|=1,Fn(t,e,r,s),e.child)}function oC(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!gx(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,OR(t,e,i,r,s)):(t=nm(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Xd,n(o,r)&&t.ref===e.ref)return Ai(t,e,s)}return e.flags|=1,t=Ro(i,r),t.ref=e.ref,t.return=e,e.child=t}function OR(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Xd(i,r)&&t.ref===e.ref)if(tr=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(tr=!0);else return e.lanes=t.lanes,Ai(t,e,s)}return J_(t,e,n,r,s)}function MR(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt(Xl,fr),fr|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,lt(Xl,fr),fr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,lt(Xl,fr),fr|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,lt(Xl,fr),fr|=r;return Fn(t,e,s,n),e.child}function LR(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function J_(t,e,n,r,s){var i=sr(n)?$a:Ln.current;return i=Rc(e,i),gc(e,s),n=ix(t,e,n,r,i,s),r=ox(),t!==null&&!tr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ai(t,e,s)):(bt&&r&&Gw(e),e.flags|=1,Fn(t,e,n,s),e.child)}function aC(t,e,n,r,s){if(sr(n)){var i=!0;Wm(e)}else i=!1;if(gc(e,s),e.stateNode===null)Zp(t,e),uR(e,n,r),Y_(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=qr(c):(c=sr(n)?$a:Ln.current,c=Rc(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&JE(e,o,r,c),co=!1;var p=e.memoizedState;o.state=p,Qm(e,r,o,s),l=e.memoizedState,a!==r||p!==l||rr.current||co?(typeof d=="function"&&(Q_(e,n,d,r),l=e.memoizedState),(a=co||XE(e,n,a,r,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,lR(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:os(e.type,a),o.props=c,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=qr(l):(l=sr(n)?$a:Ln.current,l=Rc(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&JE(e,o,r,l),co=!1,p=e.memoizedState,o.state=p,Qm(e,r,o,s);var _=e.memoizedState;a!==f||p!==_||rr.current||co?(typeof m=="function"&&(Q_(e,n,m,r),_=e.memoizedState),(c=co||XE(e,n,c,r,p,_,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Z_(t,e,n,r,i,s)}function Z_(t,e,n,r,s,i){LR(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&qE(e,n,!1),Ai(t,e,i);r=e.stateNode,VF.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Dc(e,t.child,null,i),e.child=Dc(e,null,a,i)):Fn(t,e,a,i),e.memoizedState=r.state,s&&qE(e,n,!0),e.child}function VR(t){var e=t.stateNode;e.pendingContext?HE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&HE(t,e.context,!1),tx(t,e.containerInfo)}function lC(t,e,n,r,s){return jc(),Qw(s),e.flags|=256,Fn(t,e,n,r),e.child}var eb={dehydrated:null,treeContext:null,retryLane:0};function tb(t){return{baseLanes:t,cachePool:null,transitions:null}}function FR(t,e,n){var r=e.pendingProps,s=Ct.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),lt(Ct,s&1),t===null)return G_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=lv(o,r,0,null),t=Pa(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=tb(n),e.memoizedState=eb,t):cx(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return FF(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ro(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ro(a,i):(i=Pa(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?tb(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=eb,r}return i=t.child,t=i.sibling,r=Ro(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function cx(t,e){return e=lv({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function vp(t,e,n,r){return r!==null&&Qw(r),Dc(e,t.child,null,n),t=cx(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function FF(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=l0(Error(te(422))),vp(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=lv({mode:"visible",children:r.children},s,0,null),i=Pa(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Dc(e,t.child,null,o),e.child.memoizedState=tb(o),e.memoizedState=eb,i);if(!(e.mode&1))return vp(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(te(419)),r=l0(i,r,void 0),vp(t,e,o,r)}if(a=(o&t.childLanes)!==0,tr||a){if(r=on,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Pi(t,s),hs(r,t,s,-1))}return mx(),r=l0(Error(te(421))),vp(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=JF.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,pr=Io(s.nextSibling),gr=e,bt=!0,ls=null,t!==null&&(Fr[$r++]=hi,Fr[$r++]=fi,Fr[$r++]=za,hi=t.id,fi=t.overflow,za=e),e=cx(e,r.children),e.flags|=4096,e)}function cC(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),K_(t.return,e,n)}function c0(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function $R(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Fn(t,e,r.children,n),r=Ct.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cC(t,n,e);else if(t.tag===19)cC(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(lt(Ct,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Ym(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),c0(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ym(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}c0(e,!0,n,null,i);break;case"together":c0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Zp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ai(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ua|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(te(153));if(e.child!==null){for(t=e.child,n=Ro(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ro(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function $F(t,e,n){switch(e.tag){case 3:VR(e),jc();break;case 5:fR(e);break;case 1:sr(e.type)&&Wm(e);break;case 4:tx(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;lt(Gm,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(lt(Ct,Ct.current&1),e.flags|=128,null):n&e.child.childLanes?FR(t,e,n):(lt(Ct,Ct.current&1),t=Ai(t,e,n),t!==null?t.sibling:null);lt(Ct,Ct.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return $R(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),lt(Ct,Ct.current),r)break;return null;case 22:case 23:return e.lanes=0,MR(t,e,n)}return Ai(t,e,n)}var zR,nb,BR,UR;zR=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};nb=function(){};BR=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Sa($s.current);var i=null;switch(n){case"input":s=E_(t,s),r=E_(t,r),i=[];break;case"select":s=kt({},s,{value:void 0}),r=kt({},r,{value:void 0}),i=[];break;case"textarea":s=I_(t,s),r=I_(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Bm)}P_(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Wd.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Wd.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&dt("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};UR=function(t,e,n,r){n!==r&&(e.flags|=4)};function Uu(t,e){if(!bt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function In(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function zF(t,e,n){var r=e.pendingProps;switch(Kw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return In(e),null;case 1:return sr(e.type)&&Um(),In(e),null;case 3:return r=e.stateNode,Nc(),ft(rr),ft(Ln),rx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(mp(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ls!==null&&(ub(ls),ls=null))),nb(t,e),In(e),null;case 5:nx(e);var s=Sa(nh.current);if(n=e.type,t!==null&&e.stateNode!=null)BR(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(te(166));return In(e),null}if(t=Sa($s.current),mp(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[js]=e,r[eh]=i,t=(e.mode&1)!==0,n){case"dialog":dt("cancel",r),dt("close",r);break;case"iframe":case"object":case"embed":dt("load",r);break;case"video":case"audio":for(s=0;s<rd.length;s++)dt(rd[s],r);break;case"source":dt("error",r);break;case"img":case"image":case"link":dt("error",r),dt("load",r);break;case"details":dt("toggle",r);break;case"input":yE(r,i),dt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},dt("invalid",r);break;case"textarea":bE(r,i),dt("invalid",r)}P_(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&pp(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&pp(r.textContent,a,t),s=["children",""+a]):Wd.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&dt("scroll",r)}switch(n){case"input":op(r),_E(r,i,!0);break;case"textarea":op(r),wE(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Bm)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=gA(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[js]=e,t[eh]=r,zR(t,e,!1,!1),e.stateNode=t;e:{switch(o=A_(n,r),n){case"dialog":dt("cancel",t),dt("close",t),s=r;break;case"iframe":case"object":case"embed":dt("load",t),s=r;break;case"video":case"audio":for(s=0;s<rd.length;s++)dt(rd[s],t);s=r;break;case"source":dt("error",t),s=r;break;case"img":case"image":case"link":dt("error",t),dt("load",t),s=r;break;case"details":dt("toggle",t),s=r;break;case"input":yE(t,r),s=E_(t,r),dt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=kt({},r,{value:void 0}),dt("invalid",t);break;case"textarea":bE(t,r),s=I_(t,r),dt("invalid",t);break;default:s=r}P_(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?_A(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&vA(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Hd(t,l):typeof l=="number"&&Hd(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Wd.hasOwnProperty(i)?l!=null&&i==="onScroll"&&dt("scroll",t):l!=null&&Dw(t,i,l,o))}switch(n){case"input":op(t),_E(t,r,!1);break;case"textarea":op(t),wE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Lo(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?hc(t,!!r.multiple,i,!1):r.defaultValue!=null&&hc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Bm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return In(e),null;case 6:if(t&&e.stateNode!=null)UR(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(te(166));if(n=Sa(nh.current),Sa($s.current),mp(e)){if(r=e.stateNode,n=e.memoizedProps,r[js]=e,(i=r.nodeValue!==n)&&(t=gr,t!==null))switch(t.tag){case 3:pp(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&pp(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[js]=e,e.stateNode=r}return In(e),null;case 13:if(ft(Ct),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(bt&&pr!==null&&e.mode&1&&!(e.flags&128))oR(),jc(),e.flags|=98560,i=!1;else if(i=mp(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(te(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(te(317));i[js]=e}else jc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;In(e),i=!1}else ls!==null&&(ub(ls),ls=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ct.current&1?Yt===0&&(Yt=3):mx())),e.updateQueue!==null&&(e.flags|=4),In(e),null);case 4:return Nc(),nb(t,e),t===null&&Jd(e.stateNode.containerInfo),In(e),null;case 10:return Jw(e.type._context),In(e),null;case 17:return sr(e.type)&&Um(),In(e),null;case 19:if(ft(Ct),i=e.memoizedState,i===null)return In(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Uu(i,!1);else{if(Yt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ym(t),o!==null){for(e.flags|=128,Uu(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return lt(Ct,Ct.current&1|2),e.child}t=t.sibling}i.tail!==null&&Mt()>Mc&&(e.flags|=128,r=!0,Uu(i,!1),e.lanes=4194304)}else{if(!r)if(t=Ym(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Uu(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!bt)return In(e),null}else 2*Mt()-i.renderingStartTime>Mc&&n!==1073741824&&(e.flags|=128,r=!0,Uu(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Mt(),e.sibling=null,n=Ct.current,lt(Ct,r?n&1|2:n&1),e):(In(e),null);case 22:case 23:return px(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?fr&1073741824&&(In(e),e.subtreeFlags&6&&(e.flags|=8192)):In(e),null;case 24:return null;case 25:return null}throw Error(te(156,e.tag))}function BF(t,e){switch(Kw(e),e.tag){case 1:return sr(e.type)&&Um(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Nc(),ft(rr),ft(Ln),rx(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return nx(e),null;case 13:if(ft(Ct),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(te(340));jc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ft(Ct),null;case 4:return Nc(),null;case 10:return Jw(e.type._context),null;case 22:case 23:return px(),null;case 24:return null;default:return null}}var yp=!1,Dn=!1,UF=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Yl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){jt(t,e,r)}else n.current=null}function rb(t,e,n){try{n()}catch(r){jt(t,e,r)}}var uC=!1;function WF(t,e){if($_=Fm,t=GA(),qw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,f=t,p=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===t)break t;if(p===n&&++c===s&&(a=o),p===i&&++d===r&&(l=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(z_={focusedElem:t,selectionRange:n},Fm=!1,fe=e;fe!==null;)if(e=fe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,fe=t;else for(;fe!==null;){e=fe;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var y=_.memoizedProps,S=_.memoizedState,x=e.stateNode,b=x.getSnapshotBeforeUpdate(e.elementType===e.type?y:os(e.type,y),S);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(k){jt(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,fe=t;break}fe=e.return}return _=uC,uC=!1,_}function xd(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&rb(e,n,i)}s=s.next}while(s!==r)}}function ov(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function sb(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function WR(t){var e=t.alternate;e!==null&&(t.alternate=null,WR(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[js],delete e[eh],delete e[W_],delete e[TF],delete e[IF])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function HR(t){return t.tag===5||t.tag===3||t.tag===4}function dC(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||HR(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ib(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Bm));else if(r!==4&&(t=t.child,t!==null))for(ib(t,e,n),t=t.sibling;t!==null;)ib(t,e,n),t=t.sibling}function ob(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ob(t,e,n),t=t.sibling;t!==null;)ob(t,e,n),t=t.sibling}var hn=null,as=!1;function no(t,e,n){for(n=n.child;n!==null;)qR(t,e,n),n=n.sibling}function qR(t,e,n){if(Fs&&typeof Fs.onCommitFiberUnmount=="function")try{Fs.onCommitFiberUnmount(Jg,n)}catch{}switch(n.tag){case 5:Dn||Yl(n,e);case 6:var r=hn,s=as;hn=null,no(t,e,n),hn=r,as=s,hn!==null&&(as?(t=hn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):hn.removeChild(n.stateNode));break;case 18:hn!==null&&(as?(t=hn,n=n.stateNode,t.nodeType===8?n0(t.parentNode,n):t.nodeType===1&&n0(t,n),Qd(t)):n0(hn,n.stateNode));break;case 4:r=hn,s=as,hn=n.stateNode.containerInfo,as=!0,no(t,e,n),hn=r,as=s;break;case 0:case 11:case 14:case 15:if(!Dn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&rb(n,e,o),s=s.next}while(s!==r)}no(t,e,n);break;case 1:if(!Dn&&(Yl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){jt(n,e,a)}no(t,e,n);break;case 21:no(t,e,n);break;case 22:n.mode&1?(Dn=(r=Dn)||n.memoizedState!==null,no(t,e,n),Dn=r):no(t,e,n);break;default:no(t,e,n)}}function hC(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new UF),e.forEach(function(r){var s=ZF.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ss(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:hn=a.stateNode,as=!1;break e;case 3:hn=a.stateNode.containerInfo,as=!0;break e;case 4:hn=a.stateNode.containerInfo,as=!0;break e}a=a.return}if(hn===null)throw Error(te(160));qR(i,o,s),hn=null,as=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){jt(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)GR(e,t),e=e.sibling}function GR(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ss(e,t),Ts(t),r&4){try{xd(3,t,t.return),ov(3,t)}catch(y){jt(t,t.return,y)}try{xd(5,t,t.return)}catch(y){jt(t,t.return,y)}}break;case 1:ss(e,t),Ts(t),r&512&&n!==null&&Yl(n,n.return);break;case 5:if(ss(e,t),Ts(t),r&512&&n!==null&&Yl(n,n.return),t.flags&32){var s=t.stateNode;try{Hd(s,"")}catch(y){jt(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&pA(s,i),A_(a,o);var c=A_(a,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?_A(s,f):d==="dangerouslySetInnerHTML"?vA(s,f):d==="children"?Hd(s,f):Dw(s,d,f,c)}switch(a){case"input":C_(s,i);break;case"textarea":mA(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?hc(s,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?hc(s,!!i.multiple,i.defaultValue,!0):hc(s,!!i.multiple,i.multiple?[]:"",!1))}s[eh]=i}catch(y){jt(t,t.return,y)}}break;case 6:if(ss(e,t),Ts(t),r&4){if(t.stateNode===null)throw Error(te(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){jt(t,t.return,y)}}break;case 3:if(ss(e,t),Ts(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Qd(e.containerInfo)}catch(y){jt(t,t.return,y)}break;case 4:ss(e,t),Ts(t);break;case 13:ss(e,t),Ts(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(hx=Mt())),r&4&&hC(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Dn=(c=Dn)||d,ss(e,t),Dn=c):ss(e,t),Ts(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(fe=t,d=t.child;d!==null;){for(f=fe=d;fe!==null;){switch(p=fe,m=p.child,p.tag){case 0:case 11:case 14:case 15:xd(4,p,p.return);break;case 1:Yl(p,p.return);var _=p.stateNode;if(typeof _.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(y){jt(r,n,y)}}break;case 5:Yl(p,p.return);break;case 22:if(p.memoizedState!==null){pC(f);continue}}m!==null?(m.return=p,fe=m):pC(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=yA("display",o))}catch(y){jt(t,t.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(y){jt(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ss(e,t),Ts(t),r&4&&hC(t);break;case 21:break;default:ss(e,t),Ts(t)}}function Ts(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(HR(n)){var r=n;break e}n=n.return}throw Error(te(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Hd(s,""),r.flags&=-33);var i=dC(t);ob(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=dC(t);ib(t,a,o);break;default:throw Error(te(161))}}catch(l){jt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function HF(t,e,n){fe=t,KR(t)}function KR(t,e,n){for(var r=(t.mode&1)!==0;fe!==null;){var s=fe,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||yp;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Dn;a=yp;var c=Dn;if(yp=o,(Dn=l)&&!c)for(fe=s;fe!==null;)o=fe,l=o.child,o.tag===22&&o.memoizedState!==null?mC(s):l!==null?(l.return=o,fe=l):mC(s);for(;i!==null;)fe=i,KR(i),i=i.sibling;fe=s,yp=a,Dn=c}fC(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,fe=i):fC(t)}}function fC(t){for(;fe!==null;){var e=fe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Dn||ov(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Dn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:os(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&YE(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}YE(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Qd(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}Dn||e.flags&512&&sb(e)}catch(p){jt(e,e.return,p)}}if(e===t){fe=null;break}if(n=e.sibling,n!==null){n.return=e.return,fe=n;break}fe=e.return}}function pC(t){for(;fe!==null;){var e=fe;if(e===t){fe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,fe=n;break}fe=e.return}}function mC(t){for(;fe!==null;){var e=fe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ov(4,e)}catch(l){jt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){jt(e,s,l)}}var i=e.return;try{sb(e)}catch(l){jt(e,i,l)}break;case 5:var o=e.return;try{sb(e)}catch(l){jt(e,o,l)}}}catch(l){jt(e,e.return,l)}if(e===t){fe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,fe=a;break}fe=e.return}}var qF=Math.ceil,Zm=Bi.ReactCurrentDispatcher,ux=Bi.ReactCurrentOwner,Br=Bi.ReactCurrentBatchConfig,Ue=0,on=null,Bt=null,yn=0,fr=0,Xl=qo(0),Yt=0,oh=null,Ua=0,av=0,dx=0,Sd=null,Zn=null,hx=0,Mc=1/0,li=null,eg=!1,ab=null,Po=null,_p=!1,wo=null,tg=0,Ed=0,lb=null,em=-1,tm=0;function Un(){return Ue&6?Mt():em!==-1?em:em=Mt()}function Ao(t){return t.mode&1?Ue&2&&yn!==0?yn&-yn:PF.transition!==null?(tm===0&&(tm=RA()),tm):(t=et,t!==0||(t=window.event,t=t===void 0?16:VA(t.type)),t):1}function hs(t,e,n,r){if(50<Ed)throw Ed=0,lb=null,Error(te(185));Bh(t,n,r),(!(Ue&2)||t!==on)&&(t===on&&(!(Ue&2)&&(av|=n),Yt===4&&fo(t,yn)),ir(t,r),n===1&&Ue===0&&!(e.mode&1)&&(Mc=Mt()+500,rv&&Go()))}function ir(t,e){var n=t.callbackNode;P5(t,e);var r=Vm(t,t===on?yn:0);if(r===0)n!==null&&EE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&EE(n),e===1)t.tag===0?kF(gC.bind(null,t)):rR(gC.bind(null,t)),EF(function(){!(Ue&6)&&Go()}),n=null;else{switch(jA(r)){case 1:n=Vw;break;case 4:n=PA;break;case 16:n=Lm;break;case 536870912:n=AA;break;default:n=Lm}n=n2(n,QR.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function QR(t,e){if(em=-1,tm=0,Ue&6)throw Error(te(327));var n=t.callbackNode;if(vc()&&t.callbackNode!==n)return null;var r=Vm(t,t===on?yn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ng(t,r);else{e=r;var s=Ue;Ue|=2;var i=XR();(on!==t||yn!==e)&&(li=null,Mc=Mt()+500,ka(t,e));do try{QF();break}catch(a){YR(t,a)}while(!0);Xw(),Zm.current=i,Ue=s,Bt!==null?e=0:(on=null,yn=0,e=Yt)}if(e!==0){if(e===2&&(s=O_(t),s!==0&&(r=s,e=cb(t,s))),e===1)throw n=oh,ka(t,0),fo(t,r),ir(t,Mt()),n;if(e===6)fo(t,r);else{if(s=t.current.alternate,!(r&30)&&!GF(s)&&(e=ng(t,r),e===2&&(i=O_(t),i!==0&&(r=i,e=cb(t,i))),e===1))throw n=oh,ka(t,0),fo(t,r),ir(t,Mt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(te(345));case 2:pa(t,Zn,li);break;case 3:if(fo(t,r),(r&130023424)===r&&(e=hx+500-Mt(),10<e)){if(Vm(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Un(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=U_(pa.bind(null,t,Zn,li),e);break}pa(t,Zn,li);break;case 4:if(fo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-ds(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Mt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*qF(r/1960))-r,10<r){t.timeoutHandle=U_(pa.bind(null,t,Zn,li),r);break}pa(t,Zn,li);break;case 5:pa(t,Zn,li);break;default:throw Error(te(329))}}}return ir(t,Mt()),t.callbackNode===n?QR.bind(null,t):null}function cb(t,e){var n=Sd;return t.current.memoizedState.isDehydrated&&(ka(t,e).flags|=256),t=ng(t,e),t!==2&&(e=Zn,Zn=n,e!==null&&ub(e)),t}function ub(t){Zn===null?Zn=t:Zn.push.apply(Zn,t)}function GF(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!fs(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function fo(t,e){for(e&=~dx,e&=~av,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ds(e),r=1<<n;t[n]=-1,e&=~r}}function gC(t){if(Ue&6)throw Error(te(327));vc();var e=Vm(t,0);if(!(e&1))return ir(t,Mt()),null;var n=ng(t,e);if(t.tag!==0&&n===2){var r=O_(t);r!==0&&(e=r,n=cb(t,r))}if(n===1)throw n=oh,ka(t,0),fo(t,e),ir(t,Mt()),n;if(n===6)throw Error(te(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,pa(t,Zn,li),ir(t,Mt()),null}function fx(t,e){var n=Ue;Ue|=1;try{return t(e)}finally{Ue=n,Ue===0&&(Mc=Mt()+500,rv&&Go())}}function Wa(t){wo!==null&&wo.tag===0&&!(Ue&6)&&vc();var e=Ue;Ue|=1;var n=Br.transition,r=et;try{if(Br.transition=null,et=1,t)return t()}finally{et=r,Br.transition=n,Ue=e,!(Ue&6)&&Go()}}function px(){fr=Xl.current,ft(Xl)}function ka(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,SF(n)),Bt!==null)for(n=Bt.return;n!==null;){var r=n;switch(Kw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Um();break;case 3:Nc(),ft(rr),ft(Ln),rx();break;case 5:nx(r);break;case 4:Nc();break;case 13:ft(Ct);break;case 19:ft(Ct);break;case 10:Jw(r.type._context);break;case 22:case 23:px()}n=n.return}if(on=t,Bt=t=Ro(t.current,null),yn=fr=e,Yt=0,oh=null,dx=av=Ua=0,Zn=Sd=null,xa!==null){for(e=0;e<xa.length;e++)if(n=xa[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}xa=null}return t}function YR(t,e){do{var n=Bt;try{if(Xw(),Xp.current=Jm,Xm){for(var r=It.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Xm=!1}if(Ba=0,rn=Kt=It=null,wd=!1,rh=0,ux.current=null,n===null||n.return===null){Yt=1,oh=e,Bt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=yn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=rC(o);if(m!==null){m.flags&=-257,sC(m,o,a,i,e),m.mode&1&&nC(i,c,e),e=m,l=c;var _=e.updateQueue;if(_===null){var y=new Set;y.add(l),e.updateQueue=y}else _.add(l);break e}else{if(!(e&1)){nC(i,c,e),mx();break e}l=Error(te(426))}}else if(bt&&a.mode&1){var S=rC(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),sC(S,o,a,i,e),Qw(Oc(l,a));break e}}i=l=Oc(l,a),Yt!==4&&(Yt=2),Sd===null?Sd=[i]:Sd.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=DR(i,l,e);QE(i,x);break e;case 1:a=l;var b=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Po===null||!Po.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=NR(i,a,e);QE(i,k);break e}}i=i.return}while(i!==null)}ZR(n)}catch(j){e=j,Bt===n&&n!==null&&(Bt=n=n.return);continue}break}while(!0)}function XR(){var t=Zm.current;return Zm.current=Jm,t===null?Jm:t}function mx(){(Yt===0||Yt===3||Yt===2)&&(Yt=4),on===null||!(Ua&268435455)&&!(av&268435455)||fo(on,yn)}function ng(t,e){var n=Ue;Ue|=2;var r=XR();(on!==t||yn!==e)&&(li=null,ka(t,e));do try{KF();break}catch(s){YR(t,s)}while(!0);if(Xw(),Ue=n,Zm.current=r,Bt!==null)throw Error(te(261));return on=null,yn=0,Yt}function KF(){for(;Bt!==null;)JR(Bt)}function QF(){for(;Bt!==null&&!b5();)JR(Bt)}function JR(t){var e=t2(t.alternate,t,fr);t.memoizedProps=t.pendingProps,e===null?ZR(t):Bt=e,ux.current=null}function ZR(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=BF(n,e),n!==null){n.flags&=32767,Bt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Yt=6,Bt=null;return}}else if(n=zF(n,e,fr),n!==null){Bt=n;return}if(e=e.sibling,e!==null){Bt=e;return}Bt=e=t}while(e!==null);Yt===0&&(Yt=5)}function pa(t,e,n){var r=et,s=Br.transition;try{Br.transition=null,et=1,YF(t,e,n,r)}finally{Br.transition=s,et=r}return null}function YF(t,e,n,r){do vc();while(wo!==null);if(Ue&6)throw Error(te(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(te(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(A5(t,i),t===on&&(Bt=on=null,yn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_p||(_p=!0,n2(Lm,function(){return vc(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Br.transition,Br.transition=null;var o=et;et=1;var a=Ue;Ue|=4,ux.current=null,WF(t,n),GR(n,t),gF(z_),Fm=!!$_,z_=$_=null,t.current=n,HF(n),w5(),Ue=a,et=o,Br.transition=i}else t.current=n;if(_p&&(_p=!1,wo=t,tg=s),i=t.pendingLanes,i===0&&(Po=null),E5(n.stateNode),ir(t,Mt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(eg)throw eg=!1,t=ab,ab=null,t;return tg&1&&t.tag!==0&&vc(),i=t.pendingLanes,i&1?t===lb?Ed++:(Ed=0,lb=t):Ed=0,Go(),null}function vc(){if(wo!==null){var t=jA(tg),e=Br.transition,n=et;try{if(Br.transition=null,et=16>t?16:t,wo===null)var r=!1;else{if(t=wo,wo=null,tg=0,Ue&6)throw Error(te(331));var s=Ue;for(Ue|=4,fe=t.current;fe!==null;){var i=fe,o=i.child;if(fe.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(fe=c;fe!==null;){var d=fe;switch(d.tag){case 0:case 11:case 15:xd(8,d,i)}var f=d.child;if(f!==null)f.return=d,fe=f;else for(;fe!==null;){d=fe;var p=d.sibling,m=d.return;if(WR(d),d===c){fe=null;break}if(p!==null){p.return=m,fe=p;break}fe=m}}}var _=i.alternate;if(_!==null){var y=_.child;if(y!==null){_.child=null;do{var S=y.sibling;y.sibling=null,y=S}while(y!==null)}}fe=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,fe=o;else e:for(;fe!==null;){if(i=fe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:xd(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,fe=x;break e}fe=i.return}}var b=t.current;for(fe=b;fe!==null;){o=fe;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,fe=w;else e:for(o=b;fe!==null;){if(a=fe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ov(9,a)}}catch(j){jt(a,a.return,j)}if(a===o){fe=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,fe=k;break e}fe=a.return}}if(Ue=s,Go(),Fs&&typeof Fs.onPostCommitFiberRoot=="function")try{Fs.onPostCommitFiberRoot(Jg,t)}catch{}r=!0}return r}finally{et=n,Br.transition=e}}return!1}function vC(t,e,n){e=Oc(n,e),e=DR(t,e,1),t=ko(t,e,1),e=Un(),t!==null&&(Bh(t,1,e),ir(t,e))}function jt(t,e,n){if(t.tag===3)vC(t,t,n);else for(;e!==null;){if(e.tag===3){vC(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Po===null||!Po.has(r))){t=Oc(n,t),t=NR(e,t,1),e=ko(e,t,1),t=Un(),e!==null&&(Bh(e,1,t),ir(e,t));break}}e=e.return}}function XF(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Un(),t.pingedLanes|=t.suspendedLanes&n,on===t&&(yn&n)===n&&(Yt===4||Yt===3&&(yn&130023424)===yn&&500>Mt()-hx?ka(t,0):dx|=n),ir(t,e)}function e2(t,e){e===0&&(t.mode&1?(e=cp,cp<<=1,!(cp&130023424)&&(cp=4194304)):e=1);var n=Un();t=Pi(t,e),t!==null&&(Bh(t,e,n),ir(t,n))}function JF(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),e2(t,n)}function ZF(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(te(314))}r!==null&&r.delete(e),e2(t,n)}var t2;t2=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||rr.current)tr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return tr=!1,$F(t,e,n);tr=!!(t.flags&131072)}else tr=!1,bt&&e.flags&1048576&&sR(e,qm,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Zp(t,e),t=e.pendingProps;var s=Rc(e,Ln.current);gc(e,n),s=ix(null,e,r,t,s,n);var i=ox();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,sr(r)?(i=!0,Wm(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ex(e),s.updater=sv,e.stateNode=s,s._reactInternals=e,Y_(e,r,t,n),e=Z_(null,e,r,!0,i,n)):(e.tag=0,bt&&i&&Gw(e),Fn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Zp(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=t4(r),t=os(r,t),s){case 0:e=J_(null,e,r,t,n);break e;case 1:e=aC(null,e,r,t,n);break e;case 11:e=iC(null,e,r,t,n);break e;case 14:e=oC(null,e,r,os(r.type,t),n);break e}throw Error(te(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:os(r,s),J_(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:os(r,s),aC(t,e,r,s,n);case 3:e:{if(VR(e),t===null)throw Error(te(387));r=e.pendingProps,i=e.memoizedState,s=i.element,lR(t,e),Qm(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Oc(Error(te(423)),e),e=lC(t,e,r,n,s);break e}else if(r!==s){s=Oc(Error(te(424)),e),e=lC(t,e,r,n,s);break e}else for(pr=Io(e.stateNode.containerInfo.firstChild),gr=e,bt=!0,ls=null,n=hR(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(jc(),r===s){e=Ai(t,e,n);break e}Fn(t,e,r,n)}e=e.child}return e;case 5:return fR(e),t===null&&G_(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,B_(r,s)?o=null:i!==null&&B_(r,i)&&(e.flags|=32),LR(t,e),Fn(t,e,o,n),e.child;case 6:return t===null&&G_(e),null;case 13:return FR(t,e,n);case 4:return tx(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Dc(e,null,r,n):Fn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:os(r,s),iC(t,e,r,s,n);case 7:return Fn(t,e,e.pendingProps,n),e.child;case 8:return Fn(t,e,e.pendingProps.children,n),e.child;case 12:return Fn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,lt(Gm,r._currentValue),r._currentValue=o,i!==null)if(fs(i.value,o)){if(i.children===s.children&&!rr.current){e=Ai(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=bi(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),K_(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(te(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),K_(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Fn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,gc(e,n),s=qr(s),r=r(s),e.flags|=1,Fn(t,e,r,n),e.child;case 14:return r=e.type,s=os(r,e.pendingProps),s=os(r.type,s),oC(t,e,r,s,n);case 15:return OR(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:os(r,s),Zp(t,e),e.tag=1,sr(r)?(t=!0,Wm(e)):t=!1,gc(e,n),uR(e,r,s),Y_(e,r,s,n),Z_(null,e,r,!0,t,n);case 19:return $R(t,e,n);case 22:return MR(t,e,n)}throw Error(te(156,e.tag))};function n2(t,e){return kA(t,e)}function e4(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(t,e,n,r){return new e4(t,e,n,r)}function gx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function t4(t){if(typeof t=="function")return gx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ow)return 11;if(t===Mw)return 14}return 2}function Ro(t,e){var n=t.alternate;return n===null?(n=zr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function nm(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")gx(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case zl:return Pa(n.children,s,i,e);case Nw:o=8,s|=8;break;case b_:return t=zr(12,n,e,s|2),t.elementType=b_,t.lanes=i,t;case w_:return t=zr(13,n,e,s),t.elementType=w_,t.lanes=i,t;case x_:return t=zr(19,n,e,s),t.elementType=x_,t.lanes=i,t;case dA:return lv(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case cA:o=10;break e;case uA:o=9;break e;case Ow:o=11;break e;case Mw:o=14;break e;case lo:o=16,r=null;break e}throw Error(te(130,t==null?t:typeof t,""))}return e=zr(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Pa(t,e,n,r){return t=zr(7,t,r,e),t.lanes=n,t}function lv(t,e,n,r){return t=zr(22,t,r,e),t.elementType=dA,t.lanes=n,t.stateNode={isHidden:!1},t}function u0(t,e,n){return t=zr(6,t,null,e),t.lanes=n,t}function d0(t,e,n){return e=zr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function n4(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hy(0),this.expirationTimes=Hy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hy(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function vx(t,e,n,r,s,i,o,a,l){return t=new n4(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=zr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ex(i),t}function r4(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$l,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function r2(t){if(!t)return Vo;t=t._reactInternals;e:{if(il(t)!==t||t.tag!==1)throw Error(te(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(sr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(te(171))}if(t.tag===1){var n=t.type;if(sr(n))return nR(t,n,e)}return e}function s2(t,e,n,r,s,i,o,a,l){return t=vx(n,r,!0,t,s,i,o,a,l),t.context=r2(null),n=t.current,r=Un(),s=Ao(n),i=bi(r,s),i.callback=e??null,ko(n,i,s),t.current.lanes=s,Bh(t,s,r),ir(t,r),t}function cv(t,e,n,r){var s=e.current,i=Un(),o=Ao(s);return n=r2(n),e.context===null?e.context=n:e.pendingContext=n,e=bi(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ko(s,e,o),t!==null&&(hs(t,s,o,i),Yp(t,s,o)),o}function rg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function yC(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function yx(t,e){yC(t,e),(t=t.alternate)&&yC(t,e)}function s4(){return null}var i2=typeof reportError=="function"?reportError:function(t){console.error(t)};function _x(t){this._internalRoot=t}uv.prototype.render=_x.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(te(409));cv(t,e,null,null)};uv.prototype.unmount=_x.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Wa(function(){cv(null,t,null,null)}),e[ki]=null}};function uv(t){this._internalRoot=t}uv.prototype.unstable_scheduleHydration=function(t){if(t){var e=OA();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ho.length&&e!==0&&e<ho[n].priority;n++);ho.splice(n,0,t),n===0&&LA(t)}};function bx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function dv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function _C(){}function i4(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=rg(o);i.call(c)}}var o=s2(e,r,t,0,null,!1,!1,"",_C);return t._reactRootContainer=o,t[ki]=o.current,Jd(t.nodeType===8?t.parentNode:t),Wa(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=rg(l);a.call(c)}}var l=vx(t,0,!1,null,null,!1,!1,"",_C);return t._reactRootContainer=l,t[ki]=l.current,Jd(t.nodeType===8?t.parentNode:t),Wa(function(){cv(e,l,n,r)}),l}function hv(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=rg(o);a.call(l)}}cv(e,o,t,s)}else o=i4(n,e,t,s,r);return rg(o)}DA=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=nd(e.pendingLanes);n!==0&&(Fw(e,n|1),ir(e,Mt()),!(Ue&6)&&(Mc=Mt()+500,Go()))}break;case 13:Wa(function(){var r=Pi(t,1);if(r!==null){var s=Un();hs(r,t,1,s)}}),yx(t,1)}};$w=function(t){if(t.tag===13){var e=Pi(t,134217728);if(e!==null){var n=Un();hs(e,t,134217728,n)}yx(t,134217728)}};NA=function(t){if(t.tag===13){var e=Ao(t),n=Pi(t,e);if(n!==null){var r=Un();hs(n,t,e,r)}yx(t,e)}};OA=function(){return et};MA=function(t,e){var n=et;try{return et=t,e()}finally{et=n}};j_=function(t,e,n){switch(e){case"input":if(C_(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=nv(r);if(!s)throw Error(te(90));fA(r),C_(r,s)}}}break;case"textarea":mA(t,n);break;case"select":e=n.value,e!=null&&hc(t,!!n.multiple,e,!1)}};xA=fx;SA=Wa;var o4={usingClientEntryPoint:!1,Events:[Wh,Hl,nv,bA,wA,fx]},Wu={findFiberByHostInstance:wa,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},a4={bundleType:Wu.bundleType,version:Wu.version,rendererPackageName:Wu.rendererPackageName,rendererConfig:Wu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=TA(t),t===null?null:t.stateNode},findFiberByHostInstance:Wu.findFiberByHostInstance||s4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bp.isDisabled&&bp.supportsFiber)try{Jg=bp.inject(a4),Fs=bp}catch{}}Cr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=o4;Cr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bx(e))throw Error(te(200));return r4(t,e,null,n)};Cr.createRoot=function(t,e){if(!bx(t))throw Error(te(299));var n=!1,r="",s=i2;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=vx(t,1,!1,null,null,n,!1,r,s),t[ki]=e.current,Jd(t.nodeType===8?t.parentNode:t),new _x(e)};Cr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(te(188)):(t=Object.keys(t).join(","),Error(te(268,t)));return t=TA(e),t=t===null?null:t.stateNode,t};Cr.flushSync=function(t){return Wa(t)};Cr.hydrate=function(t,e,n){if(!dv(e))throw Error(te(200));return hv(null,t,e,!0,n)};Cr.hydrateRoot=function(t,e,n){if(!bx(t))throw Error(te(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=i2;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=s2(e,null,t,1,n??null,s,!1,i,o),t[ki]=e.current,Jd(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new uv(e)};Cr.render=function(t,e,n){if(!dv(e))throw Error(te(200));return hv(null,t,e,!1,n)};Cr.unmountComponentAtNode=function(t){if(!dv(t))throw Error(te(40));return t._reactRootContainer?(Wa(function(){hv(null,null,t,!1,function(){t._reactRootContainer=null,t[ki]=null})}),!0):!1};Cr.unstable_batchedUpdates=fx;Cr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!dv(n))throw Error(te(200));if(t==null||t._reactInternals===void 0)throw Error(te(38));return hv(t,e,n,!1,r)};Cr.version="18.2.0-next-9e3b772b8-20220608";function o2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o2)}catch(t){console.error(t)}}o2(),sA.exports=Cr;var wx=sA.exports,bC=wx;y_.createRoot=bC.createRoot,y_.hydrateRoot=bC.hydrateRoot;/**
 * @remix-run/router v1.15.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ah(){return ah=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ah.apply(this,arguments)}var xo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(xo||(xo={}));const wC="popstate";function l4(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return db("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:sg(s)}return u4(e,n,null,t)}function Gt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function a2(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function c4(){return Math.random().toString(36).substr(2,8)}function xC(t,e){return{usr:t.state,key:t.key,idx:e}}function db(t,e,n,r){return n===void 0&&(n=null),ah({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?su(e):e,{state:n,key:e&&e.key||r||c4()})}function sg(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function su(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function u4(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=xo.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(ah({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=xo.Pop;let S=d(),x=S==null?null:S-c;c=S,l&&l({action:a,location:y.location,delta:x})}function p(S,x){a=xo.Push;let b=db(y.location,S,x);n&&n(b,S),c=d()+1;let w=xC(b,c),k=y.createHref(b);try{o.pushState(w,"",k)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(k)}i&&l&&l({action:a,location:y.location,delta:1})}function m(S,x){a=xo.Replace;let b=db(y.location,S,x);n&&n(b,S),c=d();let w=xC(b,c),k=y.createHref(b);o.replaceState(w,"",k),i&&l&&l({action:a,location:y.location,delta:0})}function _(S){let x=s.location.origin!=="null"?s.location.origin:s.location.href,b=typeof S=="string"?S:sg(S);return b=b.replace(/ $/,"%20"),Gt(x,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,x)}let y={get action(){return a},get location(){return t(s,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(wC,f),l=S,()=>{s.removeEventListener(wC,f),l=null}},createHref(S){return e(s,S)},createURL:_,encodeLocation(S){let x=_(S);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:m,go(S){return o.go(S)}};return y}var SC;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(SC||(SC={}));function d4(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?su(e):e,s=xx(r.pathname||"/",n);if(s==null)return null;let i=l2(t);h4(i);let o=null;for(let a=0;o==null&&a<i.length;++a){let l=E4(s);o=w4(i[a],l)}return o}function l2(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Gt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=jo([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(Gt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),l2(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:_4(c,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of c2(i.path))s(i,o,l)}),e}function c2(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=c2(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function h4(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:b4(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const f4=/^:[\w-]+$/,p4=3,m4=2,g4=1,v4=10,y4=-2,EC=t=>t==="*";function _4(t,e){let n=t.split("/"),r=n.length;return n.some(EC)&&(r+=y4),e&&(r+=m4),n.filter(s=>!EC(s)).reduce((s,i)=>s+(f4.test(i)?p4:i===""?g4:v4),r)}function b4(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function w4(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=s==="/"?e:e.slice(s.length)||"/",d=x4({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!d)return null;Object.assign(r,d.params);let f=a.route;i.push({params:r,pathname:jo([s,d.pathname]),pathnameBase:k4(jo([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=jo([s,d.pathnameBase]))}return i}function x4(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=S4(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:p,isOptional:m}=d;if(p==="*"){let y=a[f]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const _=a[f];return m&&!_?c[p]=void 0:c[p]=(_||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function S4(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),a2(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function E4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return a2(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function xx(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function C4(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?su(t):t;return{pathname:n?n.startsWith("/")?n:T4(n,e):e,search:P4(r),hash:A4(s)}}function T4(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function h0(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function I4(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function u2(t,e){let n=I4(t);return e?n.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function d2(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=su(t):(s=ah({},t),Gt(!s.pathname||!s.pathname.includes("?"),h0("?","pathname","search",s)),Gt(!s.pathname||!s.pathname.includes("#"),h0("#","pathname","hash",s)),Gt(!s.search||!s.search.includes("#"),h0("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=C4(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const jo=t=>t.join("/").replace(/\/\/+/g,"/"),k4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),P4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,A4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function R4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const h2=["post","put","patch","delete"];new Set(h2);const j4=["get",...h2];new Set(j4);/**
 * React Router v6.22.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lh(){return lh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lh.apply(this,arguments)}const Sx=g.createContext(null),D4=g.createContext(null),ol=g.createContext(null),fv=g.createContext(null),Ko=g.createContext({outlet:null,matches:[],isDataRoute:!1}),f2=g.createContext(null);function N4(t,e){let{relative:n}=e===void 0?{}:e;qh()||Gt(!1);let{basename:r,navigator:s}=g.useContext(ol),{hash:i,pathname:o,search:a}=m2(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:jo([r,o])),s.createHref({pathname:l,search:a,hash:i})}function qh(){return g.useContext(fv)!=null}function Ui(){return qh()||Gt(!1),g.useContext(fv).location}function p2(t){g.useContext(ol).static||g.useLayoutEffect(t)}function Ir(){let{isDataRoute:t}=g.useContext(Ko);return t?G4():O4()}function O4(){qh()||Gt(!1);let t=g.useContext(Sx),{basename:e,future:n,navigator:r}=g.useContext(ol),{matches:s}=g.useContext(Ko),{pathname:i}=Ui(),o=JSON.stringify(u2(s,n.v7_relativeSplatPath)),a=g.useRef(!1);return p2(()=>{a.current=!0}),g.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=d2(c,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:jo([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,o,i,t])}function Gh(){let{matches:t}=g.useContext(Ko),e=t[t.length-1];return e?e.params:{}}function m2(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=g.useContext(ol),{matches:s}=g.useContext(Ko),{pathname:i}=Ui(),o=JSON.stringify(u2(s,r.v7_relativeSplatPath));return g.useMemo(()=>d2(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function M4(t,e){return L4(t,e)}function L4(t,e,n,r){qh()||Gt(!1);let{navigator:s}=g.useContext(ol),{matches:i}=g.useContext(Ko),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Ui(),d;if(e){var f;let S=typeof e=="string"?su(e):e;l==="/"||(f=S.pathname)!=null&&f.startsWith(l)||Gt(!1),d=S}else d=c;let p=d.pathname||"/",m=p;if(l!=="/"){let S=l.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(S.length).join("/")}let _=d4(t,{pathname:m}),y=B4(_&&_.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:jo([l,s.encodeLocation?s.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:jo([l,s.encodeLocation?s.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),i,n,r);return e&&y?g.createElement(fv.Provider,{value:{location:lh({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:xo.Pop}},y):y}function V4(){let t=q4(),e=R4(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},e),n?g.createElement("pre",{style:s},n):null,null)}const F4=g.createElement(V4,null);class $4 extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?g.createElement(Ko.Provider,{value:this.props.routeContext},g.createElement(f2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function z4(t){let{routeContext:e,match:n,children:r}=t,s=g.useContext(Sx);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(Ko.Provider,{value:e},r)}function B4(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id]));d>=0||Gt(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:p,errors:m}=n,_=f.route.loader&&p[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||_){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,p)=>{let m,_=!1,y=null,S=null;n&&(m=a&&f.route.id?a[f.route.id]:void 0,y=f.route.errorElement||F4,l&&(c<0&&p===0?(K4("route-fallback",!1),_=!0,S=null):c===p&&(_=!0,S=f.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,p+1)),b=()=>{let w;return m?w=y:_?w=S:f.route.Component?w=g.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,g.createElement(z4,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?g.createElement($4,{location:n.location,revalidation:n.revalidation,component:y,error:m,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}var g2=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(g2||{}),ig=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ig||{});function U4(t){let e=g.useContext(Sx);return e||Gt(!1),e}function W4(t){let e=g.useContext(D4);return e||Gt(!1),e}function H4(t){let e=g.useContext(Ko);return e||Gt(!1),e}function v2(t){let e=H4(),n=e.matches[e.matches.length-1];return n.route.id||Gt(!1),n.route.id}function q4(){var t;let e=g.useContext(f2),n=W4(ig.UseRouteError),r=v2(ig.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function G4(){let{router:t}=U4(g2.UseNavigateStable),e=v2(ig.UseNavigateStable),n=g.useRef(!1);return p2(()=>{n.current=!0}),g.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,lh({fromRouteId:e},i)))},[t,e])}const CC={};function K4(t,e,n){!e&&!CC[t]&&(CC[t]=!0)}function Pn(t){Gt(!1)}function Q4(t){let{basename:e="/",children:n=null,location:r,navigationType:s=xo.Pop,navigator:i,static:o=!1,future:a}=t;qh()&&Gt(!1);let l=e.replace(/^\/*/,"/"),c=g.useMemo(()=>({basename:l,navigator:i,static:o,future:lh({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=su(r));let{pathname:d="/",search:f="",hash:p="",state:m=null,key:_="default"}=r,y=g.useMemo(()=>{let S=xx(d,l);return S==null?null:{location:{pathname:S,search:f,hash:p,state:m,key:_},navigationType:s}},[l,d,f,p,m,_,s]);return y==null?null:g.createElement(ol.Provider,{value:c},g.createElement(fv.Provider,{children:n,value:y}))}function Y4(t){let{children:e,location:n}=t;return M4(hb(e),n)}new Promise(()=>{});function hb(t,e){e===void 0&&(e=[]);let n=[];return g.Children.forEach(t,(r,s)=>{if(!g.isValidElement(r))return;let i=[...e,s];if(r.type===g.Fragment){n.push.apply(n,hb(r.props.children,i));return}r.type!==Pn&&Gt(!1),!r.props.index||!r.props.children||Gt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=hb(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.22.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fb(){return fb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fb.apply(this,arguments)}function X4(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function J4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Z4(t,e){return t.button===0&&(!e||e==="_self")&&!J4(t)}const e$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],t$="6";try{window.__reactRouterVersion=t$}catch{}const n$="startTransition",TC=v_[n$];function r$(t){let{basename:e,children:n,future:r,window:s}=t,i=g.useRef();i.current==null&&(i.current=l4({window:s,v5Compat:!0}));let o=i.current,[a,l]=g.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=g.useCallback(f=>{c&&TC?TC(()=>l(f)):l(f)},[l,c]);return g.useLayoutEffect(()=>o.listen(d),[o,d]),g.createElement(Q4,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const s$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",i$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$n=g.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:d,unstable_viewTransition:f}=e,p=X4(e,e$),{basename:m}=g.useContext(ol),_,y=!1;if(typeof c=="string"&&i$.test(c)&&(_=c,s$))try{let w=new URL(window.location.href),k=c.startsWith("//")?new URL(w.protocol+c):new URL(c),j=xx(k.pathname,m);k.origin===w.origin&&j!=null?c=j+k.search+k.hash:y=!0}catch{}let S=N4(c,{relative:s}),x=o$(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,unstable_viewTransition:f});function b(w){r&&r(w),w.defaultPrevented||x(w)}return g.createElement("a",fb({},p,{href:_||S,onClick:y||i?r:b,ref:n,target:l}))});var IC;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(IC||(IC={}));var kC;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(kC||(kC={}));function o$(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Ir(),c=Ui(),d=m2(t,{relative:o});return g.useCallback(f=>{if(Z4(f,n)){f.preventDefault();let p=r!==void 0?r:sg(c)===sg(d);l(t,{replace:p,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a})}},[c,l,d,r,s,n,t,i,o,a])}function a$(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function l$(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var c$=function(){function t(n){var r=this;this._insertTag=function(s){var i;r.tags.length===0?r.insertionPoint?i=r.insertionPoint.nextSibling:r.prepend?i=r.container.firstChild:i=r.before:i=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,i),r.tags.push(s)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(l$(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var i=a$(s);try{i.insertRule(r,i.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),An="-ms-",og="-moz-",Ge="-webkit-",y2="comm",Ex="rule",Cx="decl",u$="@import",_2="@keyframes",d$="@layer",h$=Math.abs,pv=String.fromCharCode,f$=Object.assign;function p$(t,e){return mn(t,0)^45?(((e<<2^mn(t,0))<<2^mn(t,1))<<2^mn(t,2))<<2^mn(t,3):0}function b2(t){return t.trim()}function m$(t,e){return(t=e.exec(t))?t[0]:t}function Ke(t,e,n){return t.replace(e,n)}function pb(t,e){return t.indexOf(e)}function mn(t,e){return t.charCodeAt(e)|0}function ch(t,e,n){return t.slice(e,n)}function As(t){return t.length}function Tx(t){return t.length}function wp(t,e){return e.push(t),t}function g$(t,e){return t.map(e).join("")}var mv=1,Lc=1,w2=0,cr=0,zt=0,iu="";function gv(t,e,n,r,s,i,o){return{value:t,root:e,parent:n,type:r,props:s,children:i,line:mv,column:Lc,length:o,return:""}}function Hu(t,e){return f$(gv("",null,null,"",null,null,0),t,{length:-t.length},e)}function v$(){return zt}function y$(){return zt=cr>0?mn(iu,--cr):0,Lc--,zt===10&&(Lc=1,mv--),zt}function vr(){return zt=cr<w2?mn(iu,cr++):0,Lc++,zt===10&&(Lc=1,mv++),zt}function zs(){return mn(iu,cr)}function rm(){return cr}function Kh(t,e){return ch(iu,t,e)}function uh(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function x2(t){return mv=Lc=1,w2=As(iu=t),cr=0,[]}function S2(t){return iu="",t}function sm(t){return b2(Kh(cr-1,mb(t===91?t+2:t===40?t+1:t)))}function _$(t){for(;(zt=zs())&&zt<33;)vr();return uh(t)>2||uh(zt)>3?"":" "}function b$(t,e){for(;--e&&vr()&&!(zt<48||zt>102||zt>57&&zt<65||zt>70&&zt<97););return Kh(t,rm()+(e<6&&zs()==32&&vr()==32))}function mb(t){for(;vr();)switch(zt){case t:return cr;case 34:case 39:t!==34&&t!==39&&mb(zt);break;case 40:t===41&&mb(t);break;case 92:vr();break}return cr}function w$(t,e){for(;vr()&&t+zt!==57;)if(t+zt===84&&zs()===47)break;return"/*"+Kh(e,cr-1)+"*"+pv(t===47?t:vr())}function x$(t){for(;!uh(zs());)vr();return Kh(t,cr)}function S$(t){return S2(im("",null,null,null,[""],t=x2(t),0,[0],t))}function im(t,e,n,r,s,i,o,a,l){for(var c=0,d=0,f=o,p=0,m=0,_=0,y=1,S=1,x=1,b=0,w="",k=s,j=i,O=r,C=w;S;)switch(_=b,b=vr()){case 40:if(_!=108&&mn(C,f-1)==58){pb(C+=Ke(sm(b),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:C+=sm(b);break;case 9:case 10:case 13:case 32:C+=_$(_);break;case 92:C+=b$(rm()-1,7);continue;case 47:switch(zs()){case 42:case 47:wp(E$(w$(vr(),rm()),e,n),l);break;default:C+="/"}break;case 123*y:a[c++]=As(C)*x;case 125*y:case 59:case 0:switch(b){case 0:case 125:S=0;case 59+d:x==-1&&(C=Ke(C,/\f/g,"")),m>0&&As(C)-f&&wp(m>32?AC(C+";",r,n,f-1):AC(Ke(C," ","")+";",r,n,f-2),l);break;case 59:C+=";";default:if(wp(O=PC(C,e,n,c,d,s,a,w,k=[],j=[],f),i),b===123)if(d===0)im(C,e,O,O,k,i,f,a,j);else switch(p===99&&mn(C,3)===110?100:p){case 100:case 108:case 109:case 115:im(t,O,O,r&&wp(PC(t,O,O,0,0,s,a,w,s,k=[],f),j),s,j,f,a,r?k:j);break;default:im(C,O,O,O,[""],j,0,a,j)}}c=d=m=0,y=x=1,w=C="",f=o;break;case 58:f=1+As(C),m=_;default:if(y<1){if(b==123)--y;else if(b==125&&y++==0&&y$()==125)continue}switch(C+=pv(b),b*y){case 38:x=d>0?1:(C+="\f",-1);break;case 44:a[c++]=(As(C)-1)*x,x=1;break;case 64:zs()===45&&(C+=sm(vr())),p=zs(),d=f=As(w=C+=x$(rm())),b++;break;case 45:_===45&&As(C)==2&&(y=0)}}return i}function PC(t,e,n,r,s,i,o,a,l,c,d){for(var f=s-1,p=s===0?i:[""],m=Tx(p),_=0,y=0,S=0;_<r;++_)for(var x=0,b=ch(t,f+1,f=h$(y=o[_])),w=t;x<m;++x)(w=b2(y>0?p[x]+" "+b:Ke(b,/&\f/g,p[x])))&&(l[S++]=w);return gv(t,e,n,s===0?Ex:a,l,c,d)}function E$(t,e,n){return gv(t,e,n,y2,pv(v$()),ch(t,2,-2),0)}function AC(t,e,n,r){return gv(t,e,n,Cx,ch(t,0,r),ch(t,r+1,-1),r)}function yc(t,e){for(var n="",r=Tx(t),s=0;s<r;s++)n+=e(t[s],s,t,e)||"";return n}function C$(t,e,n,r){switch(t.type){case d$:if(t.children.length)break;case u$:case Cx:return t.return=t.return||t.value;case y2:return"";case _2:return t.return=t.value+"{"+yc(t.children,r)+"}";case Ex:t.value=t.props.join(",")}return As(n=yc(t.children,r))?t.return=t.value+"{"+n+"}":""}function T$(t){var e=Tx(t);return function(n,r,s,i){for(var o="",a=0;a<e;a++)o+=t[a](n,r,s,i)||"";return o}}function I$(t){return function(e){e.root||(e=e.return)&&t(e)}}var RC=function(e){var n=new WeakMap;return function(r){if(n.has(r))return n.get(r);var s=e(r);return n.set(r,s),s}};function E2(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var k$=function(e,n,r){for(var s=0,i=0;s=i,i=zs(),s===38&&i===12&&(n[r]=1),!uh(i);)vr();return Kh(e,cr)},P$=function(e,n){var r=-1,s=44;do switch(uh(s)){case 0:s===38&&zs()===12&&(n[r]=1),e[r]+=k$(cr-1,n,r);break;case 2:e[r]+=sm(s);break;case 4:if(s===44){e[++r]=zs()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=pv(s)}while(s=vr());return e},A$=function(e,n){return S2(P$(x2(e),n))},jC=new WeakMap,R$=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,s=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!jC.get(r))&&!s){jC.set(e,!0);for(var i=[],o=A$(n,i),a=r.props,l=0,c=0;l<o.length;l++)for(var d=0;d<a.length;d++,c++)e.props[c]=i[l]?o[l].replace(/&\f/g,a[d]):a[d]+" "+o[l]}}},j$=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function C2(t,e){switch(p$(t,e)){case 5103:return Ge+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ge+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ge+t+og+t+An+t+t;case 6828:case 4268:return Ge+t+An+t+t;case 6165:return Ge+t+An+"flex-"+t+t;case 5187:return Ge+t+Ke(t,/(\w+).+(:[^]+)/,Ge+"box-$1$2"+An+"flex-$1$2")+t;case 5443:return Ge+t+An+"flex-item-"+Ke(t,/flex-|-self/,"")+t;case 4675:return Ge+t+An+"flex-line-pack"+Ke(t,/align-content|flex-|-self/,"")+t;case 5548:return Ge+t+An+Ke(t,"shrink","negative")+t;case 5292:return Ge+t+An+Ke(t,"basis","preferred-size")+t;case 6060:return Ge+"box-"+Ke(t,"-grow","")+Ge+t+An+Ke(t,"grow","positive")+t;case 4554:return Ge+Ke(t,/([^-])(transform)/g,"$1"+Ge+"$2")+t;case 6187:return Ke(Ke(Ke(t,/(zoom-|grab)/,Ge+"$1"),/(image-set)/,Ge+"$1"),t,"")+t;case 5495:case 3959:return Ke(t,/(image-set\([^]*)/,Ge+"$1$`$1");case 4968:return Ke(Ke(t,/(.+:)(flex-)?(.*)/,Ge+"box-pack:$3"+An+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ge+t+t;case 4095:case 3583:case 4068:case 2532:return Ke(t,/(.+)-inline(.+)/,Ge+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(As(t)-1-e>6)switch(mn(t,e+1)){case 109:if(mn(t,e+4)!==45)break;case 102:return Ke(t,/(.+:)(.+)-([^]+)/,"$1"+Ge+"$2-$3$1"+og+(mn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~pb(t,"stretch")?C2(Ke(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(mn(t,e+1)!==115)break;case 6444:switch(mn(t,As(t)-3-(~pb(t,"!important")&&10))){case 107:return Ke(t,":",":"+Ge)+t;case 101:return Ke(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ge+(mn(t,14)===45?"inline-":"")+"box$3$1"+Ge+"$2$3$1"+An+"$2box$3")+t}break;case 5936:switch(mn(t,e+11)){case 114:return Ge+t+An+Ke(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ge+t+An+Ke(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ge+t+An+Ke(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Ge+t+An+t+t}return t}var D$=function(e,n,r,s){if(e.length>-1&&!e.return)switch(e.type){case Cx:e.return=C2(e.value,e.length);break;case _2:return yc([Hu(e,{value:Ke(e.value,"@","@"+Ge)})],s);case Ex:if(e.length)return g$(e.props,function(i){switch(m$(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return yc([Hu(e,{props:[Ke(i,/:(read-\w+)/,":"+og+"$1")]})],s);case"::placeholder":return yc([Hu(e,{props:[Ke(i,/:(plac\w+)/,":"+Ge+"input-$1")]}),Hu(e,{props:[Ke(i,/:(plac\w+)/,":"+og+"$1")]}),Hu(e,{props:[Ke(i,/:(plac\w+)/,An+"input-$1")]})],s)}return""})}},N$=[D$],O$=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(y){var S=y.getAttribute("data-emotion");S.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var s=e.stylisPlugins||N$,i={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(y){for(var S=y.getAttribute("data-emotion").split(" "),x=1;x<S.length;x++)i[S[x]]=!0;a.push(y)});var l,c=[R$,j$];{var d,f=[C$,I$(function(y){d.insert(y)})],p=T$(c.concat(s,f)),m=function(S){return yc(S$(S),p)};l=function(S,x,b,w){d=b,m(S?S+"{"+x.styles+"}":x.styles),w&&(_.inserted[x.name]=!0)}}var _={key:n,sheet:new c$({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:l};return _.sheet.hydrate(a),_};function Ha(){return Ha=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ha.apply(this,arguments)}var T2={exports:{}},tt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var an=typeof Symbol=="function"&&Symbol.for,Ix=an?Symbol.for("react.element"):60103,kx=an?Symbol.for("react.portal"):60106,vv=an?Symbol.for("react.fragment"):60107,yv=an?Symbol.for("react.strict_mode"):60108,_v=an?Symbol.for("react.profiler"):60114,bv=an?Symbol.for("react.provider"):60109,wv=an?Symbol.for("react.context"):60110,Px=an?Symbol.for("react.async_mode"):60111,xv=an?Symbol.for("react.concurrent_mode"):60111,Sv=an?Symbol.for("react.forward_ref"):60112,Ev=an?Symbol.for("react.suspense"):60113,M$=an?Symbol.for("react.suspense_list"):60120,Cv=an?Symbol.for("react.memo"):60115,Tv=an?Symbol.for("react.lazy"):60116,L$=an?Symbol.for("react.block"):60121,V$=an?Symbol.for("react.fundamental"):60117,F$=an?Symbol.for("react.responder"):60118,$$=an?Symbol.for("react.scope"):60119;function kr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Ix:switch(t=t.type,t){case Px:case xv:case vv:case _v:case yv:case Ev:return t;default:switch(t=t&&t.$$typeof,t){case wv:case Sv:case Tv:case Cv:case bv:return t;default:return e}}case kx:return e}}}function I2(t){return kr(t)===xv}tt.AsyncMode=Px;tt.ConcurrentMode=xv;tt.ContextConsumer=wv;tt.ContextProvider=bv;tt.Element=Ix;tt.ForwardRef=Sv;tt.Fragment=vv;tt.Lazy=Tv;tt.Memo=Cv;tt.Portal=kx;tt.Profiler=_v;tt.StrictMode=yv;tt.Suspense=Ev;tt.isAsyncMode=function(t){return I2(t)||kr(t)===Px};tt.isConcurrentMode=I2;tt.isContextConsumer=function(t){return kr(t)===wv};tt.isContextProvider=function(t){return kr(t)===bv};tt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ix};tt.isForwardRef=function(t){return kr(t)===Sv};tt.isFragment=function(t){return kr(t)===vv};tt.isLazy=function(t){return kr(t)===Tv};tt.isMemo=function(t){return kr(t)===Cv};tt.isPortal=function(t){return kr(t)===kx};tt.isProfiler=function(t){return kr(t)===_v};tt.isStrictMode=function(t){return kr(t)===yv};tt.isSuspense=function(t){return kr(t)===Ev};tt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===vv||t===xv||t===_v||t===yv||t===Ev||t===M$||typeof t=="object"&&t!==null&&(t.$$typeof===Tv||t.$$typeof===Cv||t.$$typeof===bv||t.$$typeof===wv||t.$$typeof===Sv||t.$$typeof===V$||t.$$typeof===F$||t.$$typeof===$$||t.$$typeof===L$)};tt.typeOf=kr;T2.exports=tt;var z$=T2.exports,k2=z$,B$={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},U$={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},P2={};P2[k2.ForwardRef]=B$;P2[k2.Memo]=U$;var W$=!0;function H$(t,e,n){var r="";return n.split(" ").forEach(function(s){t[s]!==void 0?e.push(t[s]+";"):r+=s+" "}),r}var A2=function(e,n,r){var s=e.key+"-"+n.name;(r===!1||W$===!1)&&e.registered[s]===void 0&&(e.registered[s]=n.styles)},R2=function(e,n,r){A2(e,n,r);var s=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var i=n;do e.insert(n===i?"."+s:"",i,e.sheet,!0),i=i.next;while(i!==void 0)}};function q$(t){for(var e=0,n,r=0,s=t.length;s>=4;++r,s-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var G$={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},K$=/[A-Z]|^ms/g,Q$=/_EMO_([^_]+?)_([^]*?)_EMO_/g,j2=function(e){return e.charCodeAt(1)===45},DC=function(e){return e!=null&&typeof e!="boolean"},f0=E2(function(t){return j2(t)?t:t.replace(K$,"-$&").toLowerCase()}),NC=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(Q$,function(r,s,i){return Rs={name:s,styles:i,next:Rs},s})}return G$[e]!==1&&!j2(e)&&typeof n=="number"&&n!==0?n+"px":n};function dh(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Rs={name:n.name,styles:n.styles,next:Rs},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Rs={name:r.name,styles:r.styles,next:Rs},r=r.next;var s=n.styles+";";return s}return Y$(t,e,n)}case"function":{if(t!==void 0){var i=Rs,o=n(t);return Rs=i,dh(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function Y$(t,e,n){var r="";if(Array.isArray(n))for(var s=0;s<n.length;s++)r+=dh(t,e,n[s])+";";else for(var i in n){var o=n[i];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=i+"{"+e[o]+"}":DC(o)&&(r+=f0(i)+":"+NC(i,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)DC(o[a])&&(r+=f0(i)+":"+NC(i,o[a])+";");else{var l=dh(t,e,o);switch(i){case"animation":case"animationName":{r+=f0(i)+":"+l+";";break}default:r+=i+"{"+l+"}"}}}return r}var OC=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Rs,Ax=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var s=!0,i="";Rs=void 0;var o=e[0];o==null||o.raw===void 0?(s=!1,i+=dh(r,n,o)):i+=o[0];for(var a=1;a<e.length;a++)i+=dh(r,n,e[a]),s&&(i+=o[a]);OC.lastIndex=0;for(var l="",c;(c=OC.exec(i))!==null;)l+="-"+c[1];var d=q$(i)+l;return{name:d,styles:i,next:Rs}},X$=function(e){return e()},D2=v_.useInsertionEffect?v_.useInsertionEffect:!1,J$=D2||X$,MC=D2||g.useLayoutEffect,N2=g.createContext(typeof HTMLElement<"u"?O$({key:"css"}):null);N2.Provider;var O2=function(e){return g.forwardRef(function(n,r){var s=g.useContext(N2);return e(n,s,r)})},hh=g.createContext({}),Z$=function(e,n){if(typeof n=="function"){var r=n(e);return r}return Ha({},e,n)},e3=RC(function(t){return RC(function(e){return Z$(t,e)})}),t3=function(e){var n=g.useContext(hh);return e.theme!==n&&(n=e3(n)(e.theme)),g.createElement(hh.Provider,{value:n},e.children)},Iv=O2(function(t,e){var n=t.styles,r=Ax([n],void 0,g.useContext(hh)),s=g.useRef();return MC(function(){var i=e.key+"-global",o=new e.sheet.constructor({key:i,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+i+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",i),o.hydrate([l])),s.current=[o,a],function(){o.flush()}},[e]),MC(function(){var i=s.current,o=i[0],a=i[1];if(a){i[1]=!1;return}if(r.next!==void 0&&R2(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function n3(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Ax(e)}var r3=function(){var e=n3.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},M2=String.raw,L2=M2`
  :root,
  :host {
    --chakra-vh: 100vh;
  }

  @supports (height: -webkit-fill-available) {
    :root,
    :host {
      --chakra-vh: -webkit-fill-available;
    }
  }

  @supports (height: -moz-fill-available) {
    :root,
    :host {
      --chakra-vh: -moz-fill-available;
    }
  }

  @supports (height: 100dvh) {
    :root,
    :host {
      --chakra-vh: 100dvh;
    }
  }
`,s3=()=>u.jsx(Iv,{styles:L2}),i3=({scope:t=""})=>u.jsx(Iv,{styles:M2`
      html {
        line-height: 1.5;
        -webkit-text-size-adjust: 100%;
        font-family: system-ui, sans-serif;
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
        -moz-osx-font-smoothing: grayscale;
        touch-action: manipulation;
      }

      body {
        position: relative;
        min-height: 100%;
        margin: 0;
        font-feature-settings: "kern";
      }

      ${t} :where(*, *::before, *::after) {
        border-width: 0;
        border-style: solid;
        box-sizing: border-box;
        word-wrap: break-word;
      }

      main {
        display: block;
      }

      ${t} hr {
        border-top-width: 1px;
        box-sizing: content-box;
        height: 0;
        overflow: visible;
      }

      ${t} :where(pre, code, kbd,samp) {
        font-family: SFMono-Regular, Menlo, Monaco, Consolas, monospace;
        font-size: 1em;
      }

      ${t} a {
        background-color: transparent;
        color: inherit;
        text-decoration: inherit;
      }

      ${t} abbr[title] {
        border-bottom: none;
        text-decoration: underline;
        -webkit-text-decoration: underline dotted;
        text-decoration: underline dotted;
      }

      ${t} :where(b, strong) {
        font-weight: bold;
      }

      ${t} small {
        font-size: 80%;
      }

      ${t} :where(sub,sup) {
        font-size: 75%;
        line-height: 0;
        position: relative;
        vertical-align: baseline;
      }

      ${t} sub {
        bottom: -0.25em;
      }

      ${t} sup {
        top: -0.5em;
      }

      ${t} img {
        border-style: none;
      }

      ${t} :where(button, input, optgroup, select, textarea) {
        font-family: inherit;
        font-size: 100%;
        line-height: 1.15;
        margin: 0;
      }

      ${t} :where(button, input) {
        overflow: visible;
      }

      ${t} :where(button, select) {
        text-transform: none;
      }

      ${t} :where(
          button::-moz-focus-inner,
          [type="button"]::-moz-focus-inner,
          [type="reset"]::-moz-focus-inner,
          [type="submit"]::-moz-focus-inner
        ) {
        border-style: none;
        padding: 0;
      }

      ${t} fieldset {
        padding: 0.35em 0.75em 0.625em;
      }

      ${t} legend {
        box-sizing: border-box;
        color: inherit;
        display: table;
        max-width: 100%;
        padding: 0;
        white-space: normal;
      }

      ${t} progress {
        vertical-align: baseline;
      }

      ${t} textarea {
        overflow: auto;
      }

      ${t} :where([type="checkbox"], [type="radio"]) {
        box-sizing: border-box;
        padding: 0;
      }

      ${t} input[type="number"]::-webkit-inner-spin-button,
      ${t} input[type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none !important;
      }

      ${t} input[type="number"] {
        -moz-appearance: textfield;
      }

      ${t} input[type="search"] {
        -webkit-appearance: textfield;
        outline-offset: -2px;
      }

      ${t} input[type="search"]::-webkit-search-decoration {
        -webkit-appearance: none !important;
      }

      ${t} ::-webkit-file-upload-button {
        -webkit-appearance: button;
        font: inherit;
      }

      ${t} details {
        display: block;
      }

      ${t} summary {
        display: list-item;
      }

      template {
        display: none;
      }

      [hidden] {
        display: none !important;
      }

      ${t} :where(
          blockquote,
          dl,
          dd,
          h1,
          h2,
          h3,
          h4,
          h5,
          h6,
          hr,
          figure,
          p,
          pre
        ) {
        margin: 0;
      }

      ${t} button {
        background: transparent;
        padding: 0;
      }

      ${t} fieldset {
        margin: 0;
        padding: 0;
      }

      ${t} :where(ol, ul) {
        margin: 0;
        padding: 0;
      }

      ${t} textarea {
        resize: vertical;
      }

      ${t} :where(button, [role="button"]) {
        cursor: pointer;
      }

      ${t} button::-moz-focus-inner {
        border: 0 !important;
      }

      ${t} table {
        border-collapse: collapse;
      }

      ${t} :where(h1, h2, h3, h4, h5, h6) {
        font-size: inherit;
        font-weight: inherit;
      }

      ${t} :where(button, input, optgroup, select, textarea) {
        padding: 0;
        line-height: inherit;
        color: inherit;
      }

      ${t} :where(img, svg, video, canvas, audio, iframe, embed, object) {
        display: block;
      }

      ${t} :where(img, video) {
        max-width: 100%;
        height: auto;
      }

      [data-js-focus-visible]
        :focus:not([data-focus-visible-added]):not(
          [data-focus-visible-disabled]
        ) {
        outline: none;
        box-shadow: none;
      }

      ${t} select::-ms-expand {
        display: none;
      }

      ${L2}
    `});function o3(t,e){return`${t} returned \`undefined\`. Seems you forgot to wrap component within ${e}`}function Jt(t={}){const{name:e,strict:n=!0,hookName:r="useContext",providerName:s="Provider",errorMessage:i,defaultValue:o}=t,a=g.createContext(o);a.displayName=e;function l(){var c;const d=g.useContext(a);if(!d&&n){const f=new Error(i??o3(r,s));throw f.name="ContextError",(c=Error.captureStackTrace)==null||c.call(Error,f,l),f}return d}return[a.Provider,l,a]}var[a3,l3]=Jt({strict:!1,name:"PortalManagerContext"});function V2(t){const{children:e,zIndex:n}=t;return u.jsx(a3,{value:{zIndex:n},children:e})}V2.displayName="PortalManager";var Vc=globalThis!=null&&globalThis.document?g.useLayoutEffect:g.useEffect,[F2,c3]=Jt({strict:!1,name:"PortalContext"}),Rx="chakra-portal",u3=".chakra-portal",d3=t=>u.jsx("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:t.zIndex,top:0,left:0,right:0},children:t.children}),h3=t=>{const{appendToParentPortal:e,children:n}=t,[r,s]=g.useState(null),i=g.useRef(null),[,o]=g.useState({});g.useEffect(()=>o({}),[]);const a=c3(),l=l3();Vc(()=>{if(!r)return;const d=r.ownerDocument,f=e?a??d.body:d.body;if(!f)return;i.current=d.createElement("div"),i.current.className=Rx,f.appendChild(i.current),o({});const p=i.current;return()=>{f.contains(p)&&f.removeChild(p)}},[r]);const c=l!=null&&l.zIndex?u.jsx(d3,{zIndex:l==null?void 0:l.zIndex,children:n}):n;return i.current?wx.createPortal(u.jsx(F2,{value:i.current,children:c}),i.current):u.jsx("span",{ref:d=>{d&&s(d)}})},f3=t=>{const{children:e,containerRef:n,appendToParentPortal:r}=t,s=n.current,i=s??(typeof window<"u"?document.body:void 0),o=g.useMemo(()=>{const l=s==null?void 0:s.ownerDocument.createElement("div");return l&&(l.className=Rx),l},[s]),[,a]=g.useState({});return Vc(()=>a({}),[]),Vc(()=>{if(!(!o||!i))return i.appendChild(o),()=>{i.removeChild(o)}},[o,i]),i&&o?wx.createPortal(u.jsx(F2,{value:r?o:null,children:e}),o):null};function ou(t){const e={appendToParentPortal:!0,...t},{containerRef:n,...r}=e;return n?u.jsx(f3,{containerRef:n,...r}):u.jsx(h3,{...r})}ou.className=Rx;ou.selector=u3;ou.displayName="Portal";function Qh(){const t=g.useContext(hh);if(!t)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return t}var jx=g.createContext({});jx.displayName="ColorModeContext";function Dx(){const t=g.useContext(jx);if(t===void 0)throw new Error("useColorMode must be used within a ColorModeProvider");return t}var xp={light:"chakra-ui-light",dark:"chakra-ui-dark"};function p3(t={}){const{preventTransition:e=!0}=t,n={setDataset:r=>{const s=e?n.preventTransition():void 0;document.documentElement.dataset.theme=r,document.documentElement.style.colorScheme=r,s==null||s()},setClassName(r){document.body.classList.add(r?xp.dark:xp.light),document.body.classList.remove(r?xp.light:xp.dark)},query(){return window.matchMedia("(prefers-color-scheme: dark)")},getSystemTheme(r){var s;return((s=n.query().matches)!=null?s:r==="dark")?"dark":"light"},addListener(r){const s=n.query(),i=o=>{r(o.matches?"dark":"light")};return typeof s.addListener=="function"?s.addListener(i):s.addEventListener("change",i),()=>{typeof s.removeListener=="function"?s.removeListener(i):s.removeEventListener("change",i)}},preventTransition(){const r=document.createElement("style");return r.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(r),()=>{window.getComputedStyle(document.body),requestAnimationFrame(()=>{requestAnimationFrame(()=>{document.head.removeChild(r)})})}}};return n}var m3="chakra-ui-color-mode";function g3(t){return{ssr:!1,type:"localStorage",get(e){if(!(globalThis!=null&&globalThis.document))return e;let n;try{n=localStorage.getItem(t)||e}catch{}return n||e},set(e){try{localStorage.setItem(t,e)}catch{}}}}var v3=g3(m3),LC=()=>{};function VC(t,e){return t.type==="cookie"&&t.ssr?t.get(e):e}function $2(t){const{value:e,children:n,options:{useSystemColorMode:r,initialColorMode:s,disableTransitionOnChange:i}={},colorModeManager:o=v3}=t,a=s==="dark"?"dark":"light",[l,c]=g.useState(()=>VC(o,a)),[d,f]=g.useState(()=>VC(o)),{getSystemTheme:p,setClassName:m,setDataset:_,addListener:y}=g.useMemo(()=>p3({preventTransition:i}),[i]),S=s==="system"&&!l?d:l,x=g.useCallback(k=>{const j=k==="system"?p():k;c(j),m(j==="dark"),_(j),o.set(j)},[o,p,m,_]);Vc(()=>{s==="system"&&f(p())},[]),g.useEffect(()=>{const k=o.get();if(k){x(k);return}if(s==="system"){x("system");return}x(a)},[o,a,s,x]);const b=g.useCallback(()=>{x(S==="dark"?"light":"dark")},[S,x]);g.useEffect(()=>{if(r)return y(x)},[r,y,x]);const w=g.useMemo(()=>({colorMode:e??S,toggleColorMode:e?LC:b,setColorMode:e?LC:x,forced:e!==void 0}),[S,b,x,e]);return u.jsx(jx.Provider,{value:w,children:n})}$2.displayName="ColorModeProvider";function z2(){const t=Dx(),e=Qh();return{...t,theme:e}}var Ae=(...t)=>t.filter(Boolean).join(" ");function yr(t){const e=typeof t;return t!=null&&(e==="object"||e==="function")&&!Array.isArray(t)}function us(t,...e){return y3(t)?t(...e):t}var y3=t=>typeof t=="function",Jn=t=>t?"":void 0,p0=t=>t?!0:void 0;function Qt(...t){return function(n){t.some(r=>(r==null||r(n),n==null?void 0:n.defaultPrevented))}}function _3(...t){return function(n){t.forEach(r=>{r==null||r(n)})}}var ag={exports:{}};ag.exports;(function(t,e){var n=200,r="__lodash_hash_undefined__",s=800,i=16,o=9007199254740991,a="[object Arguments]",l="[object Array]",c="[object AsyncFunction]",d="[object Boolean]",f="[object Date]",p="[object Error]",m="[object Function]",_="[object GeneratorFunction]",y="[object Map]",S="[object Number]",x="[object Null]",b="[object Object]",w="[object Proxy]",k="[object RegExp]",j="[object Set]",O="[object String]",C="[object Undefined]",T="[object WeakMap]",I="[object ArrayBuffer]",P="[object DataView]",N="[object Float32Array]",M="[object Float64Array]",R="[object Int8Array]",$="[object Int16Array]",Q="[object Int32Array]",ne="[object Uint8Array]",B="[object Uint8ClampedArray]",q="[object Uint16Array]",ee="[object Uint32Array]",he=/[\\^$.*+?()[\]{}|]/g,ue=/^\[object .+?Constructor\]$/,ve=/^(?:0|[1-9]\d*)$/,ie={};ie[N]=ie[M]=ie[R]=ie[$]=ie[Q]=ie[ne]=ie[B]=ie[q]=ie[ee]=!0,ie[a]=ie[l]=ie[I]=ie[d]=ie[P]=ie[f]=ie[p]=ie[m]=ie[y]=ie[S]=ie[b]=ie[k]=ie[j]=ie[O]=ie[T]=!1;var Ee=typeof rp=="object"&&rp&&rp.Object===Object&&rp,Ie=typeof self=="object"&&self&&self.Object===Object&&self,je=Ee||Ie||Function("return this")(),pe=e&&!e.nodeType&&e,Y=pe&&!0&&t&&!t.nodeType&&t,X=Y&&Y.exports===pe,re=X&&Ee.process,De=function(){try{var D=Y&&Y.require&&Y.require("util").types;return D||re&&re.binding&&re.binding("util")}catch{}}(),Ne=De&&De.isTypedArray;function ut(D,L,z){switch(z.length){case 0:return D.call(L);case 1:return D.call(L,z[0]);case 2:return D.call(L,z[0],z[1]);case 3:return D.call(L,z[0],z[1],z[2])}return D.apply(L,z)}function Ar(D,L){for(var z=-1,de=Array(D);++z<D;)de[z]=L(z);return de}function Xr(D){return function(L){return D(L)}}function ln(D,L){return D==null?void 0:D[L]}function Kn(D,L){return function(z){return D(L(z))}}var Rr=Array.prototype,Qn=Function.prototype,tn=Object.prototype,jr=je["__core-js_shared__"],ws=Qn.toString,Yn=tn.hasOwnProperty,xs=function(){var D=/[^.]+$/.exec(jr&&jr.keys&&jr.keys.IE_PROTO||"");return D?"Symbol(src)_1."+D:""}(),ti=tn.toString,Gi=ws.call(Object),Dt=RegExp("^"+ws.call(Yn).replace(he,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Et=X?je.Buffer:void 0,ta=je.Symbol,Eu=je.Uint8Array,Cu=Et?Et.allocUnsafe:void 0,If=Kn(Object.getPrototypeOf,Object),Ki=Object.create,kf=tn.propertyIsEnumerable,Pf=Rr.splice,Jr=ta?ta.toStringTag:void 0,ml=function(){try{var D=ts(Object,"defineProperty");return D({},"",{}),D}catch{}}(),Cy=Et?Et.isBuffer:void 0,gl=Math.max,Af=Date.now,Tu=ts(je,"Map"),Zr=ts(Object,"create"),Iu=function(){function D(){}return function(L){if(!ii(L))return{};if(Ki)return Ki(L);D.prototype=L;var z=new D;return D.prototype=void 0,z}}();function es(D){var L=-1,z=D==null?0:D.length;for(this.clear();++L<z;){var de=D[L];this.set(de[0],de[1])}}function ni(){this.__data__=Zr?Zr(null):{},this.size=0}function Rf(D){var L=this.has(D)&&delete this.__data__[D];return this.size-=L?1:0,L}function vl(D){var L=this.__data__;if(Zr){var z=L[D];return z===r?void 0:z}return Yn.call(L,D)?L[D]:void 0}function jf(D){var L=this.__data__;return Zr?L[D]!==void 0:Yn.call(L,D)}function na(D,L){var z=this.__data__;return this.size+=this.has(D)?0:1,z[D]=Zr&&L===void 0?r:L,this}es.prototype.clear=ni,es.prototype.delete=Rf,es.prototype.get=vl,es.prototype.has=jf,es.prototype.set=na;function Dr(D){var L=-1,z=D==null?0:D.length;for(this.clear();++L<z;){var de=D[L];this.set(de[0],de[1])}}function cn(){this.__data__=[],this.size=0}function Df(D){var L=this.__data__,z=wl(L,D);if(z<0)return!1;var de=L.length-1;return z==de?L.pop():Pf.call(L,z,1),--this.size,!0}function ra(D){var L=this.__data__,z=wl(L,D);return z<0?void 0:L[z][1]}function sa(D){return wl(this.__data__,D)>-1}function Ty(D,L){var z=this.__data__,de=wl(z,D);return de<0?(++this.size,z.push([D,L])):z[de][1]=L,this}Dr.prototype.clear=cn,Dr.prototype.delete=Df,Dr.prototype.get=ra,Dr.prototype.has=sa,Dr.prototype.set=Ty;function Qi(D){var L=-1,z=D==null?0:D.length;for(this.clear();++L<z;){var de=D[L];this.set(de[0],de[1])}}function Yi(){this.size=0,this.__data__={hash:new es,map:new(Tu||Dr),string:new es}}function Iy(D){var L=xl(this,D).delete(D);return this.size-=L?1:0,L}function ky(D){return xl(this,D).get(D)}function yl(D){return xl(this,D).has(D)}function Nf(D,L){var z=xl(this,D),de=z.size;return z.set(D,L),this.size+=z.size==de?0:1,this}Qi.prototype.clear=Yi,Qi.prototype.delete=Iy,Qi.prototype.get=ky,Qi.prototype.has=yl,Qi.prototype.set=Nf;function Ss(D){var L=this.__data__=new Dr(D);this.size=L.size}function _l(){this.__data__=new Dr,this.size=0}function Es(D){var L=this.__data__,z=L.delete(D);return this.size=L.size,z}function Of(D){return this.__data__.get(D)}function Mf(D){return this.__data__.has(D)}function ku(D,L){var z=this.__data__;if(z instanceof Dr){var de=z.__data__;if(!Tu||de.length<n-1)return de.push([D,L]),this.size=++z.size,this;z=this.__data__=new Qi(de)}return z.set(D,L),this.size=z.size,this}Ss.prototype.clear=_l,Ss.prototype.delete=Es,Ss.prototype.get=Of,Ss.prototype.has=Mf,Ss.prototype.set=ku;function Pu(D,L){var z=Cl(D),de=!z&&Nr(D),Le=!z&&!de&&si(D),Je=!z&&!de&&!Le&&Qf(D),st=z||de||Le||Je,Me=st?Ar(D.length,String):[],it=Me.length;for(var At in D)(L||Yn.call(D,At))&&!(st&&(At=="length"||Le&&(At=="offset"||At=="parent")||Je&&(At=="buffer"||At=="byteLength"||At=="byteOffset")||ia(At,it)))&&Me.push(At);return Me}function bl(D,L,z){(z!==void 0&&!Cs(D[L],z)||z===void 0&&!(L in D))&&Xi(D,L,z)}function Lf(D,L,z){var de=D[L];(!(Yn.call(D,L)&&Cs(de,z))||z===void 0&&!(L in D))&&Xi(D,L,z)}function wl(D,L){for(var z=D.length;z--;)if(Cs(D[z][0],L))return z;return-1}function Xi(D,L,z){L=="__proto__"&&ml?ml(D,L,{configurable:!0,enumerable:!0,value:z,writable:!0}):D[L]=z}var Vf=Wf();function Ji(D){return D==null?D===void 0?C:x:Jr&&Jr in Object(D)?ns(D):jy(D)}function Zi(D){return Xn(D)&&Ji(D)==a}function ri(D){if(!ii(D)||El(D))return!1;var L=Ou(D)?Dt:ue;return L.test(Oy(D))}function Au(D){return Xn(D)&&Kf(D.length)&&!!ie[Ji(D)]}function Py(D){if(!ii(D))return oa(D);var L=eo(D),z=[];for(var de in D)de=="constructor"&&(L||!Yn.call(D,de))||z.push(de);return z}function Ru(D,L,z,de,Le){D!==L&&Vf(L,function(Je,st){if(Le||(Le=new Ss),ii(Je))Ff(D,L,st,z,Ru,de,Le);else{var Me=de?de(Nu(D,st),Je,st+"",D,L,Le):void 0;Me===void 0&&(Me=Je),bl(D,st,Me)}},la)}function Ff(D,L,z,de,Le,Je,st){var Me=Nu(D,z),it=Nu(L,z),At=st.get(it);if(At){bl(D,z,At);return}var Sn=Je?Je(Me,it,z+"",D,L,st):void 0,ua=Sn===void 0;if(ua){var oi=Cl(it),Il=!oi&&si(it),kl=!oi&&!Il&&Qf(it);Sn=it,oi||Il||kl?Cl(Me)?Sn=Me:Gf(Me)?Sn=Ay(Me):Il?(ua=!1,Sn=Du(it,!0)):kl?(ua=!1,Sn=Bf(it,!0)):Sn=[]:My(it)||Nr(it)?(Sn=Me,Nr(Me)?Sn=aa(Me):(!ii(Me)||Ou(Me))&&(Sn=Sl(it))):ua=!1}ua&&(st.set(it,Sn),Le(Sn,it,de,Je,st),st.delete(it)),bl(D,z,Sn)}function $f(D,L){return Dy(qf(D,L,to),D+"")}var ju=ml?function(D,L){return ml(D,"toString",{configurable:!0,enumerable:!1,value:ca(L),writable:!0})}:to;function Du(D,L){if(L)return D.slice();var z=D.length,de=Cu?Cu(z):new D.constructor(z);return D.copy(de),de}function zf(D){var L=new D.constructor(D.byteLength);return new Eu(L).set(new Eu(D)),L}function Bf(D,L){var z=L?zf(D.buffer):D.buffer;return new D.constructor(z,D.byteOffset,D.length)}function Ay(D,L){var z=-1,de=D.length;for(L||(L=Array(de));++z<de;)L[z]=D[z];return L}function Ry(D,L,z,de){var Le=!z;z||(z={});for(var Je=-1,st=L.length;++Je<st;){var Me=L[Je],it=de?de(z[Me],D[Me],Me,z,D):void 0;it===void 0&&(it=D[Me]),Le?Xi(z,Me,it):Lf(z,Me,it)}return z}function Uf(D){return $f(function(L,z){var de=-1,Le=z.length,Je=Le>1?z[Le-1]:void 0,st=Le>2?z[2]:void 0;for(Je=D.length>3&&typeof Je=="function"?(Le--,Je):void 0,st&&Hf(z[0],z[1],st)&&(Je=Le<3?void 0:Je,Le=1),L=Object(L);++de<Le;){var Me=z[de];Me&&D(L,Me,de,Je)}return L})}function Wf(D){return function(L,z,de){for(var Le=-1,Je=Object(L),st=de(L),Me=st.length;Me--;){var it=st[D?Me:++Le];if(z(Je[it],it,Je)===!1)break}return L}}function xl(D,L){var z=D.__data__;return rt(L)?z[typeof L=="string"?"string":"hash"]:z.map}function ts(D,L){var z=ln(D,L);return ri(z)?z:void 0}function ns(D){var L=Yn.call(D,Jr),z=D[Jr];try{D[Jr]=void 0;var de=!0}catch{}var Le=ti.call(D);return de&&(L?D[Jr]=z:delete D[Jr]),Le}function Sl(D){return typeof D.constructor=="function"&&!eo(D)?Iu(If(D)):{}}function ia(D,L){var z=typeof D;return L=L??o,!!L&&(z=="number"||z!="symbol"&&ve.test(D))&&D>-1&&D%1==0&&D<L}function Hf(D,L,z){if(!ii(z))return!1;var de=typeof L;return(de=="number"?Tl(z)&&ia(L,z.length):de=="string"&&L in z)?Cs(z[L],D):!1}function rt(D){var L=typeof D;return L=="string"||L=="number"||L=="symbol"||L=="boolean"?D!=="__proto__":D===null}function El(D){return!!xs&&xs in D}function eo(D){var L=D&&D.constructor,z=typeof L=="function"&&L.prototype||tn;return D===z}function oa(D){var L=[];if(D!=null)for(var z in Object(D))L.push(z);return L}function jy(D){return ti.call(D)}function qf(D,L,z){return L=gl(L===void 0?D.length-1:L,0),function(){for(var de=arguments,Le=-1,Je=gl(de.length-L,0),st=Array(Je);++Le<Je;)st[Le]=de[L+Le];Le=-1;for(var Me=Array(L+1);++Le<L;)Me[Le]=de[Le];return Me[L]=z(st),ut(D,this,Me)}}function Nu(D,L){if(!(L==="constructor"&&typeof D[L]=="function")&&L!="__proto__")return D[L]}var Dy=Ny(ju);function Ny(D){var L=0,z=0;return function(){var de=Af(),Le=i-(de-z);if(z=de,Le>0){if(++L>=s)return arguments[0]}else L=0;return D.apply(void 0,arguments)}}function Oy(D){if(D!=null){try{return ws.call(D)}catch{}try{return D+""}catch{}}return""}function Cs(D,L){return D===L||D!==D&&L!==L}var Nr=Zi(function(){return arguments}())?Zi:function(D){return Xn(D)&&Yn.call(D,"callee")&&!kf.call(D,"callee")},Cl=Array.isArray;function Tl(D){return D!=null&&Kf(D.length)&&!Ou(D)}function Gf(D){return Xn(D)&&Tl(D)}var si=Cy||Xf;function Ou(D){if(!ii(D))return!1;var L=Ji(D);return L==m||L==_||L==c||L==w}function Kf(D){return typeof D=="number"&&D>-1&&D%1==0&&D<=o}function ii(D){var L=typeof D;return D!=null&&(L=="object"||L=="function")}function Xn(D){return D!=null&&typeof D=="object"}function My(D){if(!Xn(D)||Ji(D)!=b)return!1;var L=If(D);if(L===null)return!0;var z=Yn.call(L,"constructor")&&L.constructor;return typeof z=="function"&&z instanceof z&&ws.call(z)==Gi}var Qf=Ne?Xr(Ne):Au;function aa(D){return Ry(D,la(D))}function la(D){return Tl(D)?Pu(D,!0):Py(D)}var Yf=Uf(function(D,L,z,de){Ru(D,L,z,de)});function ca(D){return function(){return D}}function to(D){return D}function Xf(){return!1}t.exports=Yf})(ag,ag.exports);var b3=ag.exports;const Ms=Yg(b3);var w3=t=>/!(important)?$/.test(t),FC=t=>typeof t=="string"?t.replace(/!(important)?$/,"").trim():t,x3=(t,e)=>n=>{const r=String(e),s=w3(r),i=FC(r),o=t?`${t}.${i}`:i;let a=yr(n.__cssMap)&&o in n.__cssMap?n.__cssMap[o].varRef:e;return a=FC(a),s?`${a} !important`:a};function Nx(t){const{scale:e,transform:n,compose:r}=t;return(i,o)=>{var a;const l=x3(e,i)(o);let c=(a=n==null?void 0:n(l,o))!=null?a:l;return r&&(c=r(c,o)),c}}var Sp=(...t)=>e=>t.reduce((n,r)=>r(n),e);function Or(t,e){return n=>{const r={property:n,scale:t};return r.transform=Nx({scale:t,transform:e}),r}}var S3=({rtl:t,ltr:e})=>n=>n.direction==="rtl"?t:e;function E3(t){const{property:e,scale:n,transform:r}=t;return{scale:n,property:S3(e),transform:n?Nx({scale:n,compose:r}):r}}var B2=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];function C3(){return["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...B2].join(" ")}function T3(){return["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...B2].join(" ")}var I3={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},k3={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};function P3(t){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":t,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}var A3={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},gb={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},R3=new Set(Object.values(gb)),vb=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),j3=t=>t.trim();function D3(t,e){if(t==null||vb.has(t))return t;if(!(yb(t)||vb.has(t)))return`url('${t}')`;const s=/(^[a-z-A-Z]+)\((.*)\)/g.exec(t),i=s==null?void 0:s[1],o=s==null?void 0:s[2];if(!i||!o)return t;const a=i.includes("-gradient")?i:`${i}-gradient`,[l,...c]=o.split(",").map(j3).filter(Boolean);if((c==null?void 0:c.length)===0)return t;const d=l in gb?gb[l]:l;c.unshift(d);const f=c.map(p=>{if(R3.has(p))return p;const m=p.indexOf(" "),[_,y]=m!==-1?[p.substr(0,m),p.substr(m+1)]:[p],S=yb(y)?y:y&&y.split(" "),x=`colors.${_}`,b=x in e.__cssMap?e.__cssMap[x].varRef:_;return S?[b,...Array.isArray(S)?S:[S]].join(" "):b});return`${a}(${f.join(", ")})`}var yb=t=>typeof t=="string"&&t.includes("(")&&t.includes(")"),N3=(t,e)=>D3(t,e??{});function O3(t){return/^var\(--.+\)$/.test(t)}var M3=t=>{const e=parseFloat(t.toString()),n=t.toString().replace(String(e),"");return{unitless:!n,value:e,unit:n}},Is=t=>e=>`${t}(${e})`,$e={filter(t){return t!=="auto"?t:I3},backdropFilter(t){return t!=="auto"?t:k3},ring(t){return P3($e.px(t))},bgClip(t){return t==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:t}},transform(t){return t==="auto"?C3():t==="auto-gpu"?T3():t},vh(t){return t==="$100vh"?"var(--chakra-vh)":t},px(t){if(t==null)return t;const{unitless:e}=M3(t);return e||typeof t=="number"?`${t}px`:t},fraction(t){return typeof t!="number"||t>1?t:`${t*100}%`},float(t,e){const n={left:"right",right:"left"};return e.direction==="rtl"?n[t]:t},degree(t){if(O3(t)||t==null)return t;const e=typeof t=="string"&&!t.endsWith("deg");return typeof t=="number"||e?`${t}deg`:t},gradient:N3,blur:Is("blur"),opacity:Is("opacity"),brightness:Is("brightness"),contrast:Is("contrast"),dropShadow:Is("drop-shadow"),grayscale:Is("grayscale"),hueRotate:t=>Is("hue-rotate")($e.degree(t)),invert:Is("invert"),saturate:Is("saturate"),sepia:Is("sepia"),bgImage(t){return t==null||yb(t)||vb.has(t)?t:`url(${t})`},outline(t){const e=String(t)==="0"||String(t)==="none";return t!==null&&e?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:t}},flexDirection(t){var e;const{space:n,divide:r}=(e=A3[t])!=null?e:{},s={flexDirection:t};return n&&(s[n]=1),r&&(s[r]=1),s}},V={borderWidths:Or("borderWidths"),borderStyles:Or("borderStyles"),colors:Or("colors"),borders:Or("borders"),gradients:Or("gradients",$e.gradient),radii:Or("radii",$e.px),space:Or("space",Sp($e.vh,$e.px)),spaceT:Or("space",Sp($e.vh,$e.px)),degreeT(t){return{property:t,transform:$e.degree}},prop(t,e,n){return{property:t,scale:e,...e&&{transform:Nx({scale:e,transform:n})}}},propT(t,e){return{property:t,transform:e}},sizes:Or("sizes",Sp($e.vh,$e.px)),sizesT:Or("sizes",Sp($e.vh,$e.fraction)),shadows:Or("shadows"),logical:E3,blur:Or("blur",$e.blur)},om={background:V.colors("background"),backgroundColor:V.colors("backgroundColor"),backgroundImage:V.gradients("backgroundImage"),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:$e.bgClip},bgSize:V.prop("backgroundSize"),bgPosition:V.prop("backgroundPosition"),bg:V.colors("background"),bgColor:V.colors("backgroundColor"),bgPos:V.prop("backgroundPosition"),bgRepeat:V.prop("backgroundRepeat"),bgAttachment:V.prop("backgroundAttachment"),bgGradient:V.gradients("backgroundImage"),bgClip:{transform:$e.bgClip}};Object.assign(om,{bgImage:om.backgroundImage,bgImg:om.backgroundImage});var qe={border:V.borders("border"),borderWidth:V.borderWidths("borderWidth"),borderStyle:V.borderStyles("borderStyle"),borderColor:V.colors("borderColor"),borderRadius:V.radii("borderRadius"),borderTop:V.borders("borderTop"),borderBlockStart:V.borders("borderBlockStart"),borderTopLeftRadius:V.radii("borderTopLeftRadius"),borderStartStartRadius:V.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:V.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:V.radii("borderTopRightRadius"),borderStartEndRadius:V.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:V.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:V.borders("borderRight"),borderInlineEnd:V.borders("borderInlineEnd"),borderBottom:V.borders("borderBottom"),borderBlockEnd:V.borders("borderBlockEnd"),borderBottomLeftRadius:V.radii("borderBottomLeftRadius"),borderBottomRightRadius:V.radii("borderBottomRightRadius"),borderLeft:V.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:V.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:V.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:V.borders(["borderLeft","borderRight"]),borderInline:V.borders("borderInline"),borderY:V.borders(["borderTop","borderBottom"]),borderBlock:V.borders("borderBlock"),borderTopWidth:V.borderWidths("borderTopWidth"),borderBlockStartWidth:V.borderWidths("borderBlockStartWidth"),borderTopColor:V.colors("borderTopColor"),borderBlockStartColor:V.colors("borderBlockStartColor"),borderTopStyle:V.borderStyles("borderTopStyle"),borderBlockStartStyle:V.borderStyles("borderBlockStartStyle"),borderBottomWidth:V.borderWidths("borderBottomWidth"),borderBlockEndWidth:V.borderWidths("borderBlockEndWidth"),borderBottomColor:V.colors("borderBottomColor"),borderBlockEndColor:V.colors("borderBlockEndColor"),borderBottomStyle:V.borderStyles("borderBottomStyle"),borderBlockEndStyle:V.borderStyles("borderBlockEndStyle"),borderLeftWidth:V.borderWidths("borderLeftWidth"),borderInlineStartWidth:V.borderWidths("borderInlineStartWidth"),borderLeftColor:V.colors("borderLeftColor"),borderInlineStartColor:V.colors("borderInlineStartColor"),borderLeftStyle:V.borderStyles("borderLeftStyle"),borderInlineStartStyle:V.borderStyles("borderInlineStartStyle"),borderRightWidth:V.borderWidths("borderRightWidth"),borderInlineEndWidth:V.borderWidths("borderInlineEndWidth"),borderRightColor:V.colors("borderRightColor"),borderInlineEndColor:V.colors("borderInlineEndColor"),borderRightStyle:V.borderStyles("borderRightStyle"),borderInlineEndStyle:V.borderStyles("borderInlineEndStyle"),borderTopRadius:V.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:V.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:V.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:V.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(qe,{rounded:qe.borderRadius,roundedTop:qe.borderTopRadius,roundedTopLeft:qe.borderTopLeftRadius,roundedTopRight:qe.borderTopRightRadius,roundedTopStart:qe.borderStartStartRadius,roundedTopEnd:qe.borderStartEndRadius,roundedBottom:qe.borderBottomRadius,roundedBottomLeft:qe.borderBottomLeftRadius,roundedBottomRight:qe.borderBottomRightRadius,roundedBottomStart:qe.borderEndStartRadius,roundedBottomEnd:qe.borderEndEndRadius,roundedLeft:qe.borderLeftRadius,roundedRight:qe.borderRightRadius,roundedStart:qe.borderInlineStartRadius,roundedEnd:qe.borderInlineEndRadius,borderStart:qe.borderInlineStart,borderEnd:qe.borderInlineEnd,borderTopStartRadius:qe.borderStartStartRadius,borderTopEndRadius:qe.borderStartEndRadius,borderBottomStartRadius:qe.borderEndStartRadius,borderBottomEndRadius:qe.borderEndEndRadius,borderStartRadius:qe.borderInlineStartRadius,borderEndRadius:qe.borderInlineEndRadius,borderStartWidth:qe.borderInlineStartWidth,borderEndWidth:qe.borderInlineEndWidth,borderStartColor:qe.borderInlineStartColor,borderEndColor:qe.borderInlineEndColor,borderStartStyle:qe.borderInlineStartStyle,borderEndStyle:qe.borderInlineEndStyle});var L3={color:V.colors("color"),textColor:V.colors("color"),fill:V.colors("fill"),stroke:V.colors("stroke")},_b={boxShadow:V.shadows("boxShadow"),mixBlendMode:!0,blendMode:V.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:V.prop("backgroundBlendMode"),opacity:!0};Object.assign(_b,{shadow:_b.boxShadow});var V3={filter:{transform:$e.filter},blur:V.blur("--chakra-blur"),brightness:V.propT("--chakra-brightness",$e.brightness),contrast:V.propT("--chakra-contrast",$e.contrast),hueRotate:V.propT("--chakra-hue-rotate",$e.hueRotate),invert:V.propT("--chakra-invert",$e.invert),saturate:V.propT("--chakra-saturate",$e.saturate),dropShadow:V.propT("--chakra-drop-shadow",$e.dropShadow),backdropFilter:{transform:$e.backdropFilter},backdropBlur:V.blur("--chakra-backdrop-blur"),backdropBrightness:V.propT("--chakra-backdrop-brightness",$e.brightness),backdropContrast:V.propT("--chakra-backdrop-contrast",$e.contrast),backdropHueRotate:V.propT("--chakra-backdrop-hue-rotate",$e.hueRotate),backdropInvert:V.propT("--chakra-backdrop-invert",$e.invert),backdropSaturate:V.propT("--chakra-backdrop-saturate",$e.saturate)},lg={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:$e.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:V.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:V.space("gap"),rowGap:V.space("rowGap"),columnGap:V.space("columnGap")};Object.assign(lg,{flexDir:lg.flexDirection});var U2={gridGap:V.space("gridGap"),gridColumnGap:V.space("gridColumnGap"),gridRowGap:V.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0},F3={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:$e.outline},outlineOffset:!0,outlineColor:V.colors("outlineColor")},Lr={width:V.sizesT("width"),inlineSize:V.sizesT("inlineSize"),height:V.sizes("height"),blockSize:V.sizes("blockSize"),boxSize:V.sizes(["width","height"]),minWidth:V.sizes("minWidth"),minInlineSize:V.sizes("minInlineSize"),minHeight:V.sizes("minHeight"),minBlockSize:V.sizes("minBlockSize"),maxWidth:V.sizes("maxWidth"),maxInlineSize:V.sizes("maxInlineSize"),maxHeight:V.sizes("maxHeight"),maxBlockSize:V.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,aspectRatio:!0,hideFrom:{scale:"breakpoints",transform:(t,e)=>{var n,r,s;return{[`@media screen and (min-width: ${(s=(r=(n=e.__breakpoints)==null?void 0:n.get(t))==null?void 0:r.minW)!=null?s:t})`]:{display:"none"}}}},hideBelow:{scale:"breakpoints",transform:(t,e)=>{var n,r,s;return{[`@media screen and (max-width: ${(s=(r=(n=e.__breakpoints)==null?void 0:n.get(t))==null?void 0:r._minW)!=null?s:t})`]:{display:"none"}}}},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:V.propT("float",$e.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(Lr,{w:Lr.width,h:Lr.height,minW:Lr.minWidth,maxW:Lr.maxWidth,minH:Lr.minHeight,maxH:Lr.maxHeight,overscroll:Lr.overscrollBehavior,overscrollX:Lr.overscrollBehaviorX,overscrollY:Lr.overscrollBehaviorY});var $3={listStyleType:!0,listStylePosition:!0,listStylePos:V.prop("listStylePosition"),listStyleImage:!0,listStyleImg:V.prop("listStyleImage")};function z3(t,e,n,r){const s=typeof e=="string"?e.split("."):[e];for(r=0;r<s.length&&t;r+=1)t=t[s[r]];return t===void 0?n:t}var B3=t=>{const e=new WeakMap;return(r,s,i,o)=>{if(typeof r>"u")return t(r,s,i);e.has(r)||e.set(r,new Map);const a=e.get(r);if(a.has(s))return a.get(s);const l=t(r,s,i,o);return a.set(s,l),l}},U3=B3(z3),W3={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},H3={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},m0=(t,e,n)=>{const r={},s=U3(t,e,{});for(const i in s)i in n&&n[i]!=null||(r[i]=s[i]);return r},q3={srOnly:{transform(t){return t===!0?W3:t==="focusable"?H3:{}}},layerStyle:{processResult:!0,transform:(t,e,n)=>m0(e,`layerStyles.${t}`,n)},textStyle:{processResult:!0,transform:(t,e,n)=>m0(e,`textStyles.${t}`,n)},apply:{processResult:!0,transform:(t,e,n)=>m0(e,t,n)}},Cd={position:!0,pos:V.prop("position"),zIndex:V.prop("zIndex","zIndices"),inset:V.spaceT("inset"),insetX:V.spaceT(["left","right"]),insetInline:V.spaceT("insetInline"),insetY:V.spaceT(["top","bottom"]),insetBlock:V.spaceT("insetBlock"),top:V.spaceT("top"),insetBlockStart:V.spaceT("insetBlockStart"),bottom:V.spaceT("bottom"),insetBlockEnd:V.spaceT("insetBlockEnd"),left:V.spaceT("left"),insetInlineStart:V.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:V.spaceT("right"),insetInlineEnd:V.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(Cd,{insetStart:Cd.insetInlineStart,insetEnd:Cd.insetInlineEnd});var G3={ring:{transform:$e.ring},ringColor:V.colors("--chakra-ring-color"),ringOffset:V.prop("--chakra-ring-offset-width"),ringOffsetColor:V.colors("--chakra-ring-offset-color"),ringInset:V.prop("--chakra-ring-inset")},ht={margin:V.spaceT("margin"),marginTop:V.spaceT("marginTop"),marginBlockStart:V.spaceT("marginBlockStart"),marginRight:V.spaceT("marginRight"),marginInlineEnd:V.spaceT("marginInlineEnd"),marginBottom:V.spaceT("marginBottom"),marginBlockEnd:V.spaceT("marginBlockEnd"),marginLeft:V.spaceT("marginLeft"),marginInlineStart:V.spaceT("marginInlineStart"),marginX:V.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:V.spaceT("marginInline"),marginY:V.spaceT(["marginTop","marginBottom"]),marginBlock:V.spaceT("marginBlock"),padding:V.space("padding"),paddingTop:V.space("paddingTop"),paddingBlockStart:V.space("paddingBlockStart"),paddingRight:V.space("paddingRight"),paddingBottom:V.space("paddingBottom"),paddingBlockEnd:V.space("paddingBlockEnd"),paddingLeft:V.space("paddingLeft"),paddingInlineStart:V.space("paddingInlineStart"),paddingInlineEnd:V.space("paddingInlineEnd"),paddingX:V.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:V.space("paddingInline"),paddingY:V.space(["paddingTop","paddingBottom"]),paddingBlock:V.space("paddingBlock")};Object.assign(ht,{m:ht.margin,mt:ht.marginTop,mr:ht.marginRight,me:ht.marginInlineEnd,marginEnd:ht.marginInlineEnd,mb:ht.marginBottom,ml:ht.marginLeft,ms:ht.marginInlineStart,marginStart:ht.marginInlineStart,mx:ht.marginX,my:ht.marginY,p:ht.padding,pt:ht.paddingTop,py:ht.paddingY,px:ht.paddingX,pb:ht.paddingBottom,pl:ht.paddingLeft,ps:ht.paddingInlineStart,paddingStart:ht.paddingInlineStart,pr:ht.paddingRight,pe:ht.paddingInlineEnd,paddingEnd:ht.paddingInlineEnd});var K3={textDecorationColor:V.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:V.shadows("textShadow")},Q3={clipPath:!0,transform:V.propT("transform",$e.transform),transformOrigin:!0,translateX:V.spaceT("--chakra-translate-x"),translateY:V.spaceT("--chakra-translate-y"),skewX:V.degreeT("--chakra-skew-x"),skewY:V.degreeT("--chakra-skew-y"),scaleX:V.prop("--chakra-scale-x"),scaleY:V.prop("--chakra-scale-y"),scale:V.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:V.degreeT("--chakra-rotate")},Y3={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:V.prop("transitionDuration","transition.duration"),transitionProperty:V.prop("transitionProperty","transition.property"),transitionTimingFunction:V.prop("transitionTimingFunction","transition.easing")},X3={fontFamily:V.prop("fontFamily","fonts"),fontSize:V.prop("fontSize","fontSizes",$e.px),fontWeight:V.prop("fontWeight","fontWeights"),lineHeight:V.prop("lineHeight","lineHeights"),letterSpacing:V.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(t){if(t===!0)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},J3={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:V.spaceT("scrollMargin"),scrollMarginTop:V.spaceT("scrollMarginTop"),scrollMarginBottom:V.spaceT("scrollMarginBottom"),scrollMarginLeft:V.spaceT("scrollMarginLeft"),scrollMarginRight:V.spaceT("scrollMarginRight"),scrollMarginX:V.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:V.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:V.spaceT("scrollPadding"),scrollPaddingTop:V.spaceT("scrollPaddingTop"),scrollPaddingBottom:V.spaceT("scrollPaddingBottom"),scrollPaddingLeft:V.spaceT("scrollPaddingLeft"),scrollPaddingRight:V.spaceT("scrollPaddingRight"),scrollPaddingX:V.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:V.spaceT(["scrollPaddingTop","scrollPaddingBottom"])};function W2(t){return yr(t)&&t.reference?t.reference:String(t)}var kv=(t,...e)=>e.map(W2).join(` ${t} `).replace(/calc/g,""),$C=(...t)=>`calc(${kv("+",...t)})`,zC=(...t)=>`calc(${kv("-",...t)})`,bb=(...t)=>`calc(${kv("*",...t)})`,BC=(...t)=>`calc(${kv("/",...t)})`,UC=t=>{const e=W2(t);return e!=null&&!Number.isNaN(parseFloat(e))?String(e).startsWith("-")?String(e).slice(1):`-${e}`:bb(e,-1)},_a=Object.assign(t=>({add:(...e)=>_a($C(t,...e)),subtract:(...e)=>_a(zC(t,...e)),multiply:(...e)=>_a(bb(t,...e)),divide:(...e)=>_a(BC(t,...e)),negate:()=>_a(UC(t)),toString:()=>t.toString()}),{add:$C,subtract:zC,multiply:bb,divide:BC,negate:UC});function Z3(t,e="-"){return t.replace(/\s+/g,e)}function ez(t){const e=Z3(t.toString());return nz(tz(e))}function tz(t){return t.includes("\\.")?t:!Number.isInteger(parseFloat(t.toString()))?t.replace(".","\\."):t}function nz(t){return t.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}function rz(t,e=""){return[e,t].filter(Boolean).join("-")}function sz(t,e){return`var(${t}${e?`, ${e}`:""})`}function iz(t,e=""){return ez(`--${rz(t,e)}`)}function we(t,e,n){const r=iz(t,n);return{variable:r,reference:sz(r,e)}}function oz(t,e){const n={};for(const r of e){if(Array.isArray(r)){const[s,i]=r;n[s]=we(`${t}-${s}`,i);continue}n[r]=we(`${t}-${r}`)}return n}function az(t){const e=t==null?0:t.length;return e?t[e-1]:void 0}function lz(t){const e=parseFloat(t.toString()),n=t.toString().replace(String(e),"");return{unitless:!n,value:e,unit:n}}function wb(t){if(t==null)return t;const{unitless:e}=lz(t);return e||typeof t=="number"?`${t}px`:t}var H2=(t,e)=>parseInt(t[1],10)>parseInt(e[1],10)?1:-1,Ox=t=>Object.fromEntries(Object.entries(t).sort(H2));function WC(t){const e=Ox(t);return Object.assign(Object.values(e),e)}function cz(t){const e=Object.keys(Ox(t));return new Set(e)}function HC(t){var e;if(!t)return t;t=(e=wb(t))!=null?e:t;const n=-.02;return typeof t=="number"?`${t+n}`:t.replace(/(\d+\.?\d*)/u,r=>`${parseFloat(r)+n}`)}function sd(t,e){const n=["@media screen"];return t&&n.push("and",`(min-width: ${wb(t)})`),e&&n.push("and",`(max-width: ${wb(e)})`),n.join(" ")}function uz(t){var e;if(!t)return null;t.base=(e=t.base)!=null?e:"0px";const n=WC(t),r=Object.entries(t).sort(H2).map(([o,a],l,c)=>{var d;let[,f]=(d=c[l+1])!=null?d:[];return f=parseFloat(f)>0?HC(f):void 0,{_minW:HC(a),breakpoint:o,minW:a,maxW:f,maxWQuery:sd(null,f),minWQuery:sd(a),minMaxQuery:sd(a,f)}}),s=cz(t),i=Array.from(s.values());return{keys:s,normalized:n,isResponsive(o){const a=Object.keys(o);return a.length>0&&a.every(l=>s.has(l))},asObject:Ox(t),asArray:WC(t),details:r,get(o){return r.find(a=>a.breakpoint===o)},media:[null,...n.map(o=>sd(o)).slice(1)],toArrayValue(o){if(!yr(o))throw new Error("toArrayValue: value must be an object");const a=i.map(l=>{var c;return(c=o[l])!=null?c:null});for(;az(a)===null;)a.pop();return a},toObjectValue(o){if(!Array.isArray(o))throw new Error("toObjectValue: value must be an array");return o.reduce((a,l,c)=>{const d=i[c];return d!=null&&l!=null&&(a[d]=l),a},{})}}}var dn={hover:(t,e)=>`${t}:hover ${e}, ${t}[data-hover] ${e}`,focus:(t,e)=>`${t}:focus ${e}, ${t}[data-focus] ${e}`,focusVisible:(t,e)=>`${t}:focus-visible ${e}`,focusWithin:(t,e)=>`${t}:focus-within ${e}`,active:(t,e)=>`${t}:active ${e}, ${t}[data-active] ${e}`,disabled:(t,e)=>`${t}:disabled ${e}, ${t}[data-disabled] ${e}`,invalid:(t,e)=>`${t}:invalid ${e}, ${t}[data-invalid] ${e}`,checked:(t,e)=>`${t}:checked ${e}, ${t}[data-checked] ${e}`,indeterminate:(t,e)=>`${t}:indeterminate ${e}, ${t}[aria-checked=mixed] ${e}, ${t}[data-indeterminate] ${e}`,readOnly:(t,e)=>`${t}:read-only ${e}, ${t}[readonly] ${e}, ${t}[data-read-only] ${e}`,expanded:(t,e)=>`${t}:read-only ${e}, ${t}[aria-expanded=true] ${e}, ${t}[data-expanded] ${e}`,placeholderShown:(t,e)=>`${t}:placeholder-shown ${e}`},ro=t=>q2(e=>t(e,"&"),"[role=group]","[data-group]",".group"),ai=t=>q2(e=>t(e,"~ &"),"[data-peer]",".peer"),q2=(t,...e)=>e.map(t).join(", "),Pv={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty",_expanded:"&[aria-expanded=true], &[data-expanded]",_checked:"&[aria-checked=true], &[data-checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_firstLetter:"&::first-letter",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate]",_groupHover:ro(dn.hover),_peerHover:ai(dn.hover),_groupFocus:ro(dn.focus),_peerFocus:ai(dn.focus),_groupFocusVisible:ro(dn.focusVisible),_peerFocusVisible:ai(dn.focusVisible),_groupActive:ro(dn.active),_peerActive:ai(dn.active),_groupDisabled:ro(dn.disabled),_peerDisabled:ai(dn.disabled),_groupInvalid:ro(dn.invalid),_peerInvalid:ai(dn.invalid),_groupChecked:ro(dn.checked),_peerChecked:ai(dn.checked),_groupFocusWithin:ro(dn.focusWithin),_peerFocusWithin:ai(dn.focusWithin),_peerPlaceholderShown:ai(dn.placeholderShown),_placeholder:"&::placeholder",_placeholderShown:"&:placeholder-shown",_fullScreen:"&:fullscreen",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]",_horizontal:"&[data-orientation=horizontal]",_vertical:"&[data-orientation=vertical]"},G2=Object.keys(Pv);function qC(t,e){return we(String(t).replace(/\./g,"-"),void 0,e)}function dz(t,e){let n={};const r={};for(const[s,i]of Object.entries(t)){const{isSemantic:o,value:a}=i,{variable:l,reference:c}=qC(s,e==null?void 0:e.cssVarPrefix);if(!o){if(s.startsWith("space")){const p=s.split("."),[m,..._]=p,y=`${m}.-${_.join(".")}`,S=_a.negate(a),x=_a.negate(c);r[y]={value:S,var:l,varRef:x}}n[l]=a,r[s]={value:a,var:l,varRef:c};continue}const d=p=>{const _=[String(s).split(".")[0],p].join(".");if(!t[_])return p;const{reference:S}=qC(_,e==null?void 0:e.cssVarPrefix);return S},f=yr(a)?a:{default:a};n=Ms(n,Object.entries(f).reduce((p,[m,_])=>{var y,S;if(!_)return p;const x=d(`${_}`);if(m==="default")return p[l]=x,p;const b=(S=(y=Pv)==null?void 0:y[m])!=null?S:m;return p[b]={[l]:x},p},{})),r[s]={value:c,var:l,varRef:c}}return{cssVars:n,cssMap:r}}function hz(t,e=[]){const n=Object.assign({},t);for(const r of e)r in n&&delete n[r];return n}function fz(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function pz(t){return typeof t=="object"&&t!=null&&!Array.isArray(t)}function GC(t,e,n={}){const{stop:r,getKey:s}=n;function i(o,a=[]){var l;if(pz(o)||Array.isArray(o)){const c={};for(const[d,f]of Object.entries(o)){const p=(l=s==null?void 0:s(d))!=null?l:d,m=[...a,p];if(r!=null&&r(o,m))return e(o,a);c[p]=i(f,m)}return c}return e(o,a)}return i(t)}var mz=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","gradients","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur","breakpoints"];function gz(t){return fz(t,mz)}function vz(t){return t.semanticTokens}function yz(t){const{__cssMap:e,__cssVars:n,__breakpoints:r,...s}=t;return s}var _z=t=>G2.includes(t)||t==="default";function bz({tokens:t,semanticTokens:e}){const n={};return GC(t,(r,s)=>{r!=null&&(n[s.join(".")]={isSemantic:!1,value:r})}),GC(e,(r,s)=>{r!=null&&(n[s.join(".")]={isSemantic:!0,value:r})},{stop:r=>Object.keys(r).every(_z)}),n}function wz(t){var e;const n=yz(t),r=gz(n),s=vz(n),i=bz({tokens:r,semanticTokens:s}),o=(e=n.config)==null?void 0:e.cssVarPrefix,{cssMap:a,cssVars:l}=dz(i,{cssVarPrefix:o});return Object.assign(n,{__cssVars:{...{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"},...l},__cssMap:a,__breakpoints:uz(n.breakpoints)}),n}var Mx=Ms({},om,qe,L3,lg,Lr,V3,G3,F3,U2,q3,Cd,_b,ht,J3,X3,K3,Q3,$3,Y3),xz=Object.assign({},ht,Lr,lg,U2,Cd),Sz=Object.keys(xz),Ez=[...Object.keys(Mx),...G2],Cz={...Mx,...Pv},Tz=t=>t in Cz,Iz=t=>e=>{if(!e.__breakpoints)return t;const{isResponsive:n,toArrayValue:r,media:s}=e.__breakpoints,i={};for(const o in t){let a=us(t[o],e);if(a==null)continue;if(a=yr(a)&&n(a)?r(a):a,!Array.isArray(a)){i[o]=a;continue}const l=a.slice(0,s.length).length;for(let c=0;c<l;c+=1){const d=s==null?void 0:s[c];if(!d){i[o]=a[c];continue}i[d]=i[d]||{},a[c]!=null&&(i[d][o]=a[c])}}return i};function kz(t){const e=[];let n="",r=!1;for(let s=0;s<t.length;s++){const i=t[s];i==="("?(r=!0,n+=i):i===")"?(r=!1,n+=i):i===","&&!r?(e.push(n),n=""):n+=i}return n=n.trim(),n&&e.push(n),e}function Pz(t){return/^var\(--.+\)$/.test(t)}var Az=(t,e)=>t.startsWith("--")&&typeof e=="string"&&!Pz(e),Rz=(t,e)=>{var n,r;if(e==null)return e;const s=l=>{var c,d;return(d=(c=t.__cssMap)==null?void 0:c[l])==null?void 0:d.varRef},i=l=>{var c;return(c=s(l))!=null?c:l},[o,a]=kz(e);return e=(r=(n=s(o))!=null?n:i(a))!=null?r:i(e),e};function jz(t){const{configs:e={},pseudos:n={},theme:r}=t,s=(i,o=!1)=>{var a,l,c;const d=us(i,r),f=Iz(d)(r);let p={};for(let m in f){const _=f[m];let y=us(_,r);m in n&&(m=n[m]),Az(m,y)&&(y=Rz(r,y));let S=e[m];if(S===!0&&(S={property:m}),yr(y)){p[m]=(a=p[m])!=null?a:{},p[m]=Ms({},p[m],s(y,!0));continue}let x=(c=(l=S==null?void 0:S.transform)==null?void 0:l.call(S,y,r,d))!=null?c:y;x=S!=null&&S.processResult?s(x,!0):x;const b=us(S==null?void 0:S.property,r);if(!o&&(S!=null&&S.static)){const w=us(S.static,r);p=Ms({},p,w)}if(b&&Array.isArray(b)){for(const w of b)p[w]=x;continue}if(b){b==="&"&&yr(x)?p=Ms({},p,x):p[b]=x;continue}if(yr(x)){p=Ms({},p,x);continue}p[m]=x}return p};return s}var K2=t=>e=>jz({theme:e,pseudos:Pv,configs:Mx})(t);function ct(t){return{definePartsStyle(e){return e},defineMultiStyleConfig(e){return{parts:t,...e}}}}function Dz(t,e){if(Array.isArray(t))return t;if(yr(t))return e(t);if(t!=null)return[t]}function Nz(t,e){for(let n=e+1;n<t.length;n++)if(t[n]!=null)return n;return-1}function Oz(t){const e=t.__breakpoints;return function(r,s,i,o){var a,l;if(!e)return;const c={},d=Dz(i,e.toArrayValue);if(!d)return c;const f=d.length,p=f===1,m=!!r.parts;for(let _=0;_<f;_++){const y=e.details[_],S=e.details[Nz(d,_)],x=sd(y.minW,S==null?void 0:S._minW),b=us((a=r[s])==null?void 0:a[d[_]],o);if(b){if(m){(l=r.parts)==null||l.forEach(w=>{Ms(c,{[w]:p?b[w]:{[x]:b[w]}})});continue}if(!m){p?Ms(c,b):c[x]=b;continue}c[x]=b}}return c}}function Mz(t){return e=>{var n;const{variant:r,size:s,theme:i}=e,o=Oz(i);return Ms({},us((n=t.baseStyle)!=null?n:{},e),o(t,"sizes",s,e),o(t,"variants",r,e))}}function Lz(t,e,n){var r,s,i;return(i=(s=(r=t.__cssMap)==null?void 0:r[`${e}.${n}`])==null?void 0:s.varRef)!=null?i:n}function Zt(t){return hz(t,["styleConfig","size","variant","colorScheme"])}var Vz={common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},Fz={"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},$z={"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"},zz={property:Vz,easing:Fz,duration:$z},Bz=zz,Uz={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},Wz=Uz,Hz={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},qz=Hz,Gz={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},Kz=Gz,Qz={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"},linkedin:{50:"#E8F4F9",100:"#CFEDFB",200:"#9BDAF3",300:"#68C7EC",400:"#34B3E4",500:"#00A0DC",600:"#008CC9",700:"#0077B5",800:"#005E93",900:"#004471"},facebook:{50:"#E8F4F9",100:"#D9DEE9",200:"#B7C2DA",300:"#6482C0",400:"#4267B2",500:"#385898",600:"#314E89",700:"#29487D",800:"#223B67",900:"#1E355B"},messenger:{50:"#D0E6FF",100:"#B9DAFF",200:"#A2CDFF",300:"#7AB8FF",400:"#2E90FF",500:"#0078FF",600:"#0063D1",700:"#0052AC",800:"#003C7E",900:"#002C5C"},whatsapp:{50:"#dffeec",100:"#b9f5d0",200:"#90edb3",300:"#65e495",400:"#3cdd78",500:"#22c35e",600:"#179848",700:"#0c6c33",800:"#01421c",900:"#001803"},twitter:{50:"#E5F4FD",100:"#C8E9FB",200:"#A8DCFA",300:"#83CDF7",400:"#57BBF5",500:"#1DA1F2",600:"#1A94DA",700:"#1681BF",800:"#136B9E",900:"#0D4D71"},telegram:{50:"#E3F2F9",100:"#C5E4F3",200:"#A2D4EC",300:"#7AC1E4",400:"#47A9DA",500:"#0088CC",600:"#007AB8",700:"#006BA1",800:"#005885",900:"#003F5E"}},Yz=Qz,Xz={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},Jz=Xz,Zz={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},eB=Zz,tB={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},nB=tB,rB={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},Q2=rB,Y2={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},sB={max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch"},iB={sm:"640px",md:"768px",lg:"1024px",xl:"1280px"},oB={...Y2,...sB,container:iB},X2=oB,aB={breakpoints:Kz,zIndices:Wz,radii:Jz,blur:nB,colors:Yz,...Q2,sizes:X2,shadows:eB,space:Y2,borders:qz,transition:Bz},{defineMultiStyleConfig:lB,definePartsStyle:id}=ct(["stepper","step","title","description","indicator","separator","icon","number"]),ui=we("stepper-indicator-size"),Jl=we("stepper-icon-size"),Zl=we("stepper-title-font-size"),od=we("stepper-description-font-size"),qu=we("stepper-accent-color"),cB=id(({colorScheme:t})=>({stepper:{display:"flex",justifyContent:"space-between",gap:"4","&[data-orientation=vertical]":{flexDirection:"column",alignItems:"flex-start"},"&[data-orientation=horizontal]":{flexDirection:"row",alignItems:"center"},[qu.variable]:`colors.${t}.500`,_dark:{[qu.variable]:`colors.${t}.200`}},title:{fontSize:Zl.reference,fontWeight:"medium"},description:{fontSize:od.reference,color:"chakra-subtle-text"},number:{fontSize:Zl.reference},step:{flexShrink:0,position:"relative",display:"flex",gap:"2","&[data-orientation=horizontal]":{alignItems:"center"},flex:"1","&:last-of-type:not([data-stretch])":{flex:"initial"}},icon:{flexShrink:0,width:Jl.reference,height:Jl.reference},indicator:{flexShrink:0,borderRadius:"full",width:ui.reference,height:ui.reference,display:"flex",justifyContent:"center",alignItems:"center","&[data-status=active]":{borderWidth:"2px",borderColor:qu.reference},"&[data-status=complete]":{bg:qu.reference,color:"chakra-inverse-text"},"&[data-status=incomplete]":{borderWidth:"2px"}},separator:{bg:"chakra-border-color",flex:"1","&[data-status=complete]":{bg:qu.reference},"&[data-orientation=horizontal]":{width:"100%",height:"2px",marginStart:"2"},"&[data-orientation=vertical]":{width:"2px",position:"absolute",height:"100%",maxHeight:`calc(100% - ${ui.reference} - 8px)`,top:`calc(${ui.reference} + 4px)`,insetStart:`calc(${ui.reference} / 2 - 1px)`}}})),uB=lB({baseStyle:cB,sizes:{xs:id({stepper:{[ui.variable]:"sizes.4",[Jl.variable]:"sizes.3",[Zl.variable]:"fontSizes.xs",[od.variable]:"fontSizes.xs"}}),sm:id({stepper:{[ui.variable]:"sizes.6",[Jl.variable]:"sizes.4",[Zl.variable]:"fontSizes.sm",[od.variable]:"fontSizes.xs"}}),md:id({stepper:{[ui.variable]:"sizes.8",[Jl.variable]:"sizes.5",[Zl.variable]:"fontSizes.md",[od.variable]:"fontSizes.sm"}}),lg:id({stepper:{[ui.variable]:"sizes.10",[Jl.variable]:"sizes.6",[Zl.variable]:"fontSizes.lg",[od.variable]:"fontSizes.md"}})},defaultProps:{size:"md",colorScheme:"blue"}});function Xe(t,e={}){let n=!1;function r(){if(!n){n=!0;return}throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?")}function s(...d){r();for(const f of d)e[f]=l(f);return Xe(t,e)}function i(...d){for(const f of d)f in e||(e[f]=l(f));return Xe(t,e)}function o(){return Object.fromEntries(Object.entries(e).map(([f,p])=>[f,p.selector]))}function a(){return Object.fromEntries(Object.entries(e).map(([f,p])=>[f,p.className]))}function l(d){const m=`chakra-${(["container","root"].includes(d??"")?[t]:[t,d]).filter(Boolean).join("__")}`;return{className:m,selector:`.${m}`,toString:()=>d}}return{parts:s,toPart:l,extend:i,selectors:o,classnames:a,get keys(){return Object.keys(e)},__type:{}}}var dB=Xe("accordion").parts("root","container","button","panel").extend("icon"),hB=Xe("alert").parts("title","description","container").extend("icon","spinner"),fB=Xe("avatar").parts("label","badge","container").extend("excessLabel","group"),pB=Xe("breadcrumb").parts("link","item","container").extend("separator");Xe("button").parts();var mB=Xe("checkbox").parts("control","icon","container").extend("label");Xe("progress").parts("track","filledTrack").extend("label");var gB=Xe("drawer").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),vB=Xe("editable").parts("preview","input","textarea"),yB=Xe("form").parts("container","requiredIndicator","helperText"),_B=Xe("formError").parts("text","icon"),bB=Xe("input").parts("addon","field","element","group"),wB=Xe("list").parts("container","item","icon"),xB=Xe("menu").parts("button","list","item").extend("groupTitle","icon","command","divider"),SB=Xe("modal").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),EB=Xe("numberinput").parts("root","field","stepperGroup","stepper");Xe("pininput").parts("field");var CB=Xe("popover").parts("content","header","body","footer").extend("popper","arrow","closeButton"),TB=Xe("progress").parts("label","filledTrack","track"),IB=Xe("radio").parts("container","control","label"),kB=Xe("select").parts("field","icon"),PB=Xe("slider").parts("container","track","thumb","filledTrack","mark"),AB=Xe("stat").parts("container","label","helpText","number","icon"),RB=Xe("switch").parts("container","track","thumb","label"),jB=Xe("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),DB=Xe("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),NB=Xe("tag").parts("container","label","closeButton"),OB=Xe("card").parts("container","header","body","footer");Xe("stepper").parts("stepper","step","title","description","indicator","separator","icon","number");function Ea(t,e,n){return Math.min(Math.max(t,n),e)}class MB extends Error{constructor(e){super(`Failed to parse color: "${e}"`)}}var ad=MB;function Lx(t){if(typeof t!="string")throw new ad(t);if(t.trim().toLowerCase()==="transparent")return[0,0,0,0];let e=t.trim();e=WB.test(t)?FB(t):t;const n=$B.exec(e);if(n){const o=Array.from(n).slice(1);return[...o.slice(0,3).map(a=>parseInt(fh(a,2),16)),parseInt(fh(o[3]||"f",2),16)/255]}const r=zB.exec(e);if(r){const o=Array.from(r).slice(1);return[...o.slice(0,3).map(a=>parseInt(a,16)),parseInt(o[3]||"ff",16)/255]}const s=BB.exec(e);if(s){const o=Array.from(s).slice(1);return[...o.slice(0,3).map(a=>parseInt(a,10)),parseFloat(o[3]||"1")]}const i=UB.exec(e);if(i){const[o,a,l,c]=Array.from(i).slice(1).map(parseFloat);if(Ea(0,100,a)!==a)throw new ad(t);if(Ea(0,100,l)!==l)throw new ad(t);return[...HB(o,a,l),Number.isNaN(c)?1:c]}throw new ad(t)}function LB(t){let e=5381,n=t.length;for(;n;)e=e*33^t.charCodeAt(--n);return(e>>>0)%2341}const KC=t=>parseInt(t.replace(/_/g,""),36),VB="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((t,e)=>{const n=KC(e.substring(0,3)),r=KC(e.substring(3)).toString(16);let s="";for(let i=0;i<6-r.length;i++)s+="0";return t[n]=`${s}${r}`,t},{});function FB(t){const e=t.toLowerCase().trim(),n=VB[LB(e)];if(!n)throw new ad(t);return`#${n}`}const fh=(t,e)=>Array.from(Array(e)).map(()=>t).join(""),$B=new RegExp(`^#${fh("([a-f0-9])",3)}([a-f0-9])?$`,"i"),zB=new RegExp(`^#${fh("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),BB=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${fh(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),UB=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,WB=/^[a-z]+$/i,QC=t=>Math.round(t*255),HB=(t,e,n)=>{let r=n/100;if(e===0)return[r,r,r].map(QC);const s=(t%360+360)%360/60,i=(1-Math.abs(2*r-1))*(e/100),o=i*(1-Math.abs(s%2-1));let a=0,l=0,c=0;s>=0&&s<1?(a=i,l=o):s>=1&&s<2?(a=o,l=i):s>=2&&s<3?(l=i,c=o):s>=3&&s<4?(l=o,c=i):s>=4&&s<5?(a=o,c=i):s>=5&&s<6&&(a=i,c=o);const d=r-i/2,f=a+d,p=l+d,m=c+d;return[f,p,m].map(QC)};function qB(t,e,n,r){return`rgba(${Ea(0,255,t).toFixed()}, ${Ea(0,255,e).toFixed()}, ${Ea(0,255,n).toFixed()}, ${parseFloat(Ea(0,1,r).toFixed(3))})`}function GB(t,e){const[n,r,s,i]=Lx(t);return qB(n,r,s,i-e)}function KB(t){const[e,n,r,s]=Lx(t);let i=o=>{const a=Ea(0,255,o).toString(16);return a.length===1?`0${a}`:a};return`#${i(e)}${i(n)}${i(r)}${s<1?i(Math.round(s*255)):""}`}function QB(t,e,n,r,s){for(e=e.split?e.split("."):e,r=0;r<e.length;r++)t=t?t[e[r]]:s;return t===s?n:t}var YB=t=>Object.keys(t).length===0,Bn=(t,e,n)=>{const r=QB(t,`colors.${e}`,e);try{return KB(r),r}catch{return n??"#000000"}},XB=t=>{const[e,n,r]=Lx(t);return(e*299+n*587+r*114)/1e3},JB=t=>e=>{const n=Bn(e,t);return XB(n)<128?"dark":"light"},ZB=t=>e=>JB(t)(e)==="dark",Fc=(t,e)=>n=>{const r=Bn(n,t);return GB(r,1-e)};function YC(t="1rem",e="rgba(255, 255, 255, 0.15)"){return{backgroundImage:`linear-gradient(
    45deg,
    ${e} 25%,
    transparent 25%,
    transparent 50%,
    ${e} 50%,
    ${e} 75%,
    transparent 75%,
    transparent
  )`,backgroundSize:`${t} ${t}`}}var e6=()=>`#${Math.floor(Math.random()*16777215).toString(16).padEnd(6,"0")}`;function t6(t){const e=e6();return!t||YB(t)?e:t.string&&t.colors?r6(t.string,t.colors):t.string&&!t.colors?n6(t.string):t.colors&&!t.string?s6(t.colors):e}function n6(t){let e=0;if(t.length===0)return e.toString();for(let r=0;r<t.length;r+=1)e=t.charCodeAt(r)+((e<<5)-e),e=e&e;let n="#";for(let r=0;r<3;r+=1){const s=e>>r*8&255;n+=`00${s.toString(16)}`.substr(-2)}return n}function r6(t,e){let n=0;if(t.length===0)return e[0];for(let r=0;r<t.length;r+=1)n=t.charCodeAt(r)+((n<<5)-n),n=n&n;return n=(n%e.length+e.length)%e.length,e[n]}function s6(t){return t[Math.floor(Math.random()*t.length)]}function be(t,e){return n=>n.colorMode==="dark"?e:t}function Vx(t){const{orientation:e,vertical:n,horizontal:r}=t;return e?e==="vertical"?n:r:{}}function J2(t){return yr(t)&&t.reference?t.reference:String(t)}var Av=(t,...e)=>e.map(J2).join(` ${t} `).replace(/calc/g,""),XC=(...t)=>`calc(${Av("+",...t)})`,JC=(...t)=>`calc(${Av("-",...t)})`,xb=(...t)=>`calc(${Av("*",...t)})`,ZC=(...t)=>`calc(${Av("/",...t)})`,eT=t=>{const e=J2(t);return e!=null&&!Number.isNaN(parseFloat(e))?String(e).startsWith("-")?String(e).slice(1):`-${e}`:xb(e,-1)},di=Object.assign(t=>({add:(...e)=>di(XC(t,...e)),subtract:(...e)=>di(JC(t,...e)),multiply:(...e)=>di(xb(t,...e)),divide:(...e)=>di(ZC(t,...e)),negate:()=>di(eT(t)),toString:()=>t.toString()}),{add:XC,subtract:JC,multiply:xb,divide:ZC,negate:eT});function i6(t){return!Number.isInteger(parseFloat(t.toString()))}function o6(t,e="-"){return t.replace(/\s+/g,e)}function Z2(t){const e=o6(t.toString());return e.includes("\\.")?t:i6(t)?e.replace(".","\\."):t}function a6(t,e=""){return[e,Z2(t)].filter(Boolean).join("-")}function l6(t,e){return`var(${Z2(t)}${e?`, ${e}`:""})`}function c6(t,e=""){return`--${a6(t,e)}`}function en(t,e){const n=c6(t,e==null?void 0:e.prefix);return{variable:n,reference:l6(n,u6(e==null?void 0:e.fallback))}}function u6(t){return typeof t=="string"?t:t==null?void 0:t.reference}var{defineMultiStyleConfig:d6,definePartsStyle:am}=ct(RB.keys),Td=en("switch-track-width"),Aa=en("switch-track-height"),g0=en("switch-track-diff"),h6=di.subtract(Td,Aa),Sb=en("switch-thumb-x"),Gu=en("switch-bg"),f6=t=>{const{colorScheme:e}=t;return{borderRadius:"full",p:"0.5",width:[Td.reference],height:[Aa.reference],transitionProperty:"common",transitionDuration:"fast",[Gu.variable]:"colors.gray.300",_dark:{[Gu.variable]:"colors.whiteAlpha.400"},_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{[Gu.variable]:`colors.${e}.500`,_dark:{[Gu.variable]:`colors.${e}.200`}},bg:Gu.reference}},p6={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[Aa.reference],height:[Aa.reference],_checked:{transform:`translateX(${Sb.reference})`}},m6=am(t=>({container:{[g0.variable]:h6,[Sb.variable]:g0.reference,_rtl:{[Sb.variable]:di(g0).negate().toString()}},track:f6(t),thumb:p6})),g6={sm:am({container:{[Td.variable]:"1.375rem",[Aa.variable]:"sizes.3"}}),md:am({container:{[Td.variable]:"1.875rem",[Aa.variable]:"sizes.4"}}),lg:am({container:{[Td.variable]:"2.875rem",[Aa.variable]:"sizes.6"}})},v6=d6({baseStyle:m6,sizes:g6,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:y6,definePartsStyle:_c}=ct(jB.keys),_6=_c({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),cg={"&[data-is-numeric=true]":{textAlign:"end"}},b6=_c(t=>{const{colorScheme:e}=t;return{th:{color:be("gray.600","gray.400")(t),borderBottom:"1px",borderColor:be(`${e}.100`,`${e}.700`)(t),...cg},td:{borderBottom:"1px",borderColor:be(`${e}.100`,`${e}.700`)(t),...cg},caption:{color:be("gray.600","gray.100")(t)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),w6=_c(t=>{const{colorScheme:e}=t;return{th:{color:be("gray.600","gray.400")(t),borderBottom:"1px",borderColor:be(`${e}.100`,`${e}.700`)(t),...cg},td:{borderBottom:"1px",borderColor:be(`${e}.100`,`${e}.700`)(t),...cg},caption:{color:be("gray.600","gray.100")(t)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:be(`${e}.100`,`${e}.700`)(t)},td:{background:be(`${e}.100`,`${e}.700`)(t)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),x6={simple:b6,striped:w6,unstyled:{}},S6={sm:_c({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:_c({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:_c({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},E6=y6({baseStyle:_6,variants:x6,sizes:S6,defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}}),er=we("tabs-color"),cs=we("tabs-bg"),Ep=we("tabs-border-color"),{defineMultiStyleConfig:C6,definePartsStyle:Bs}=ct(DB.keys),T6=t=>{const{orientation:e}=t;return{display:e==="vertical"?"flex":"block"}},I6=t=>{const{isFitted:e}=t;return{flex:e?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},k6=t=>{const{align:e="start",orientation:n}=t;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[e],flexDirection:n==="vertical"?"column":"row"}},P6={p:4},A6=Bs(t=>({root:T6(t),tab:I6(t),tablist:k6(t),tabpanel:P6})),R6={sm:Bs({tab:{py:1,px:4,fontSize:"sm"}}),md:Bs({tab:{fontSize:"md",py:2,px:4}}),lg:Bs({tab:{fontSize:"lg",py:3,px:4}})},j6=Bs(t=>{const{colorScheme:e,orientation:n}=t,r=n==="vertical",s=r?"borderStart":"borderBottom",i=r?"marginStart":"marginBottom";return{tablist:{[s]:"2px solid",borderColor:"inherit"},tab:{[s]:"2px solid",borderColor:"transparent",[i]:"-2px",_selected:{[er.variable]:`colors.${e}.600`,_dark:{[er.variable]:`colors.${e}.300`},borderColor:"currentColor"},_active:{[cs.variable]:"colors.gray.200",_dark:{[cs.variable]:"colors.whiteAlpha.300"}},_disabled:{_active:{bg:"none"}},color:er.reference,bg:cs.reference}}}),D6=Bs(t=>{const{colorScheme:e}=t;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",[Ep.variable]:"transparent",_selected:{[er.variable]:`colors.${e}.600`,[Ep.variable]:"colors.white",_dark:{[er.variable]:`colors.${e}.300`,[Ep.variable]:"colors.gray.800"},borderColor:"inherit",borderBottomColor:Ep.reference},color:er.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),N6=Bs(t=>{const{colorScheme:e}=t;return{tab:{border:"1px solid",borderColor:"inherit",[cs.variable]:"colors.gray.50",_dark:{[cs.variable]:"colors.whiteAlpha.50"},mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{[cs.variable]:"colors.white",[er.variable]:`colors.${e}.600`,_dark:{[cs.variable]:"colors.gray.800",[er.variable]:`colors.${e}.300`},borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"},color:er.reference,bg:cs.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),O6=Bs(t=>{const{colorScheme:e,theme:n}=t;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:Bn(n,`${e}.700`),bg:Bn(n,`${e}.100`)}}}}),M6=Bs(t=>{const{colorScheme:e}=t;return{tab:{borderRadius:"full",fontWeight:"semibold",[er.variable]:"colors.gray.600",_dark:{[er.variable]:"inherit"},_selected:{[er.variable]:"colors.white",[cs.variable]:`colors.${e}.600`,_dark:{[er.variable]:"colors.gray.800",[cs.variable]:`colors.${e}.300`}},color:er.reference,bg:cs.reference}}}),L6=Bs({}),V6={line:j6,enclosed:D6,"enclosed-colored":N6,"soft-rounded":O6,"solid-rounded":M6,unstyled:L6},F6=C6({baseStyle:A6,sizes:R6,variants:V6,defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),Vt=oz("badge",["bg","color","shadow"]),$6={px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold",bg:Vt.bg.reference,color:Vt.color.reference,boxShadow:Vt.shadow.reference},z6=t=>{const{colorScheme:e,theme:n}=t,r=Fc(`${e}.500`,.6)(n);return{[Vt.bg.variable]:`colors.${e}.500`,[Vt.color.variable]:"colors.white",_dark:{[Vt.bg.variable]:r,[Vt.color.variable]:"colors.whiteAlpha.800"}}},B6=t=>{const{colorScheme:e,theme:n}=t,r=Fc(`${e}.200`,.16)(n);return{[Vt.bg.variable]:`colors.${e}.100`,[Vt.color.variable]:`colors.${e}.800`,_dark:{[Vt.bg.variable]:r,[Vt.color.variable]:`colors.${e}.200`}}},U6=t=>{const{colorScheme:e,theme:n}=t,r=Fc(`${e}.200`,.8)(n);return{[Vt.color.variable]:`colors.${e}.500`,_dark:{[Vt.color.variable]:r},[Vt.shadow.variable]:`inset 0 0 0px 1px ${Vt.color.reference}`}},W6={solid:z6,subtle:B6,outline:U6},Id={baseStyle:$6,variants:W6,defaultProps:{variant:"subtle",colorScheme:"gray"}},{defineMultiStyleConfig:H6,definePartsStyle:Ra}=ct(NB.keys),tT=we("tag-bg"),nT=we("tag-color"),v0=we("tag-shadow"),lm=we("tag-min-height"),cm=we("tag-min-width"),um=we("tag-font-size"),dm=we("tag-padding-inline"),q6={fontWeight:"medium",lineHeight:1.2,outline:0,[nT.variable]:Vt.color.reference,[tT.variable]:Vt.bg.reference,[v0.variable]:Vt.shadow.reference,color:nT.reference,bg:tT.reference,boxShadow:v0.reference,borderRadius:"md",minH:lm.reference,minW:cm.reference,fontSize:um.reference,px:dm.reference,_focusVisible:{[v0.variable]:"shadows.outline"}},G6={lineHeight:1.2,overflow:"visible"},K6={fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}},Q6=Ra({container:q6,label:G6,closeButton:K6}),Y6={sm:Ra({container:{[lm.variable]:"sizes.5",[cm.variable]:"sizes.5",[um.variable]:"fontSizes.xs",[dm.variable]:"space.2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:Ra({container:{[lm.variable]:"sizes.6",[cm.variable]:"sizes.6",[um.variable]:"fontSizes.sm",[dm.variable]:"space.2"}}),lg:Ra({container:{[lm.variable]:"sizes.8",[cm.variable]:"sizes.8",[um.variable]:"fontSizes.md",[dm.variable]:"space.3"}})},X6={subtle:Ra(t=>{var e;return{container:(e=Id.variants)==null?void 0:e.subtle(t)}}),solid:Ra(t=>{var e;return{container:(e=Id.variants)==null?void 0:e.solid(t)}}),outline:Ra(t=>{var e;return{container:(e=Id.variants)==null?void 0:e.outline(t)}})},J6=H6({variants:X6,baseStyle:Q6,sizes:Y6,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}}),{definePartsStyle:pi,defineMultiStyleConfig:Z6}=ct(bB.keys),ec=we("input-height"),tc=we("input-font-size"),nc=we("input-padding"),rc=we("input-border-radius"),e9=pi({addon:{height:ec.reference,fontSize:tc.reference,px:nc.reference,borderRadius:rc.reference},field:{width:"100%",height:ec.reference,fontSize:tc.reference,px:nc.reference,borderRadius:rc.reference,minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),so={lg:{[tc.variable]:"fontSizes.lg",[nc.variable]:"space.4",[rc.variable]:"radii.md",[ec.variable]:"sizes.12"},md:{[tc.variable]:"fontSizes.md",[nc.variable]:"space.4",[rc.variable]:"radii.md",[ec.variable]:"sizes.10"},sm:{[tc.variable]:"fontSizes.sm",[nc.variable]:"space.3",[rc.variable]:"radii.sm",[ec.variable]:"sizes.8"},xs:{[tc.variable]:"fontSizes.xs",[nc.variable]:"space.2",[rc.variable]:"radii.sm",[ec.variable]:"sizes.6"}},t9={lg:pi({field:so.lg,group:so.lg}),md:pi({field:so.md,group:so.md}),sm:pi({field:so.sm,group:so.sm}),xs:pi({field:so.xs,group:so.xs})};function Fx(t){const{focusBorderColor:e,errorBorderColor:n}=t;return{focusBorderColor:e||be("blue.500","blue.300")(t),errorBorderColor:n||be("red.500","red.300")(t)}}var n9=pi(t=>{const{theme:e}=t,{focusBorderColor:n,errorBorderColor:r}=Fx(t);return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:be("gray.300","whiteAlpha.400")(t)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:Bn(e,r),boxShadow:`0 0 0 1px ${Bn(e,r)}`},_focusVisible:{zIndex:1,borderColor:Bn(e,n),boxShadow:`0 0 0 1px ${Bn(e,n)}`}},addon:{border:"1px solid",borderColor:be("inherit","whiteAlpha.50")(t),bg:be("gray.100","whiteAlpha.300")(t)}}}),r9=pi(t=>{const{theme:e}=t,{focusBorderColor:n,errorBorderColor:r}=Fx(t);return{field:{border:"2px solid",borderColor:"transparent",bg:be("gray.100","whiteAlpha.50")(t),_hover:{bg:be("gray.200","whiteAlpha.100")(t)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:Bn(e,r)},_focusVisible:{bg:"transparent",borderColor:Bn(e,n)}},addon:{border:"2px solid",borderColor:"transparent",bg:be("gray.100","whiteAlpha.50")(t)}}}),s9=pi(t=>{const{theme:e}=t,{focusBorderColor:n,errorBorderColor:r}=Fx(t);return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:Bn(e,r),boxShadow:`0px 1px 0px 0px ${Bn(e,r)}`},_focusVisible:{borderColor:Bn(e,n),boxShadow:`0px 1px 0px 0px ${Bn(e,n)}`}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}}),i9=pi({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}}),o9={outline:n9,filled:r9,flushed:s9,unstyled:i9},Qe=Z6({baseStyle:e9,sizes:t9,variants:o9,defaultProps:{size:"md",variant:"outline"}}),rT,a9={...(rT=Qe.baseStyle)==null?void 0:rT.field,paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"},sT,iT,l9={outline:t=>{var e,n;return(n=(e=Qe.variants)==null?void 0:e.outline(t).field)!=null?n:{}},flushed:t=>{var e,n;return(n=(e=Qe.variants)==null?void 0:e.flushed(t).field)!=null?n:{}},filled:t=>{var e,n;return(n=(e=Qe.variants)==null?void 0:e.filled(t).field)!=null?n:{}},unstyled:(iT=(sT=Qe.variants)==null?void 0:sT.unstyled.field)!=null?iT:{}},oT,aT,lT,cT,uT,dT,hT,fT,c9={xs:(aT=(oT=Qe.sizes)==null?void 0:oT.xs.field)!=null?aT:{},sm:(cT=(lT=Qe.sizes)==null?void 0:lT.sm.field)!=null?cT:{},md:(dT=(uT=Qe.sizes)==null?void 0:uT.md.field)!=null?dT:{},lg:(fT=(hT=Qe.sizes)==null?void 0:hT.lg.field)!=null?fT:{}},u9={baseStyle:a9,sizes:c9,variants:l9,defaultProps:{size:"md",variant:"outline"}},Cp=en("tooltip-bg"),y0=en("tooltip-fg"),d9=en("popper-arrow-bg"),h9={bg:Cp.reference,color:y0.reference,[Cp.variable]:"colors.gray.700",[y0.variable]:"colors.whiteAlpha.900",_dark:{[Cp.variable]:"colors.gray.300",[y0.variable]:"colors.gray.900"},[d9.variable]:Cp.reference,px:"2",py:"0.5",borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"xs",zIndex:"tooltip"},f9={baseStyle:h9},{defineMultiStyleConfig:p9,definePartsStyle:ld}=ct(TB.keys),m9=t=>{const{colorScheme:e,theme:n,isIndeterminate:r,hasStripe:s}=t,i=be(YC(),YC("1rem","rgba(0,0,0,0.1)"))(t),o=be(`${e}.500`,`${e}.200`)(t),a=`linear-gradient(
    to right,
    transparent 0%,
    ${Bn(n,o)} 50%,
    transparent 100%
  )`;return{...!r&&s&&i,...r?{bgImage:a}:{bgColor:o}}},g9={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},v9=t=>({bg:be("gray.100","whiteAlpha.300")(t)}),y9=t=>({transitionProperty:"common",transitionDuration:"slow",...m9(t)}),_9=ld(t=>({label:g9,filledTrack:y9(t),track:v9(t)})),b9={xs:ld({track:{h:"1"}}),sm:ld({track:{h:"2"}}),md:ld({track:{h:"3"}}),lg:ld({track:{h:"4"}})},w9=p9({sizes:b9,baseStyle:_9,defaultProps:{size:"md",colorScheme:"blue"}}),x9=t=>typeof t=="function";function Wn(t,...e){return x9(t)?t(...e):t}var{definePartsStyle:hm,defineMultiStyleConfig:S9}=ct(mB.keys),kd=we("checkbox-size"),E9=t=>{const{colorScheme:e}=t;return{w:kd.reference,h:kd.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:be(`${e}.500`,`${e}.200`)(t),borderColor:be(`${e}.500`,`${e}.200`)(t),color:be("white","gray.900")(t),_hover:{bg:be(`${e}.600`,`${e}.300`)(t),borderColor:be(`${e}.600`,`${e}.300`)(t)},_disabled:{borderColor:be("gray.200","transparent")(t),bg:be("gray.200","whiteAlpha.300")(t),color:be("gray.500","whiteAlpha.500")(t)}},_indeterminate:{bg:be(`${e}.500`,`${e}.200`)(t),borderColor:be(`${e}.500`,`${e}.200`)(t),color:be("white","gray.900")(t)},_disabled:{bg:be("gray.100","whiteAlpha.100")(t),borderColor:be("gray.100","transparent")(t)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:be("red.500","red.300")(t)}}},C9={_disabled:{cursor:"not-allowed"}},T9={userSelect:"none",_disabled:{opacity:.4}},I9={transitionProperty:"transform",transitionDuration:"normal"},k9=hm(t=>({icon:I9,container:C9,control:Wn(E9,t),label:T9})),P9={sm:hm({control:{[kd.variable]:"sizes.3"},label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:hm({control:{[kd.variable]:"sizes.4"},label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:hm({control:{[kd.variable]:"sizes.5"},label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},ug=S9({baseStyle:k9,sizes:P9,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:A9,definePartsStyle:fm}=ct(IB.keys),R9=t=>{var e;const n=(e=Wn(ug.baseStyle,t))==null?void 0:e.control;return{...n,borderRadius:"full",_checked:{...n==null?void 0:n._checked,_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}}}},j9=fm(t=>{var e,n,r,s;return{label:(n=(e=ug).baseStyle)==null?void 0:n.call(e,t).label,container:(s=(r=ug).baseStyle)==null?void 0:s.call(r,t).container,control:R9(t)}}),D9={md:fm({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:fm({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:fm({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},N9=A9({baseStyle:j9,sizes:D9,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:O9,definePartsStyle:M9}=ct(kB.keys),Tp=we("select-bg"),pT,L9={...(pT=Qe.baseStyle)==null?void 0:pT.field,appearance:"none",paddingBottom:"1px",lineHeight:"normal",bg:Tp.reference,[Tp.variable]:"colors.white",_dark:{[Tp.variable]:"colors.gray.700"},"> option, > optgroup":{bg:Tp.reference}},V9={width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}},F9=M9({field:L9,icon:V9}),Ip={paddingInlineEnd:"8"},mT,gT,vT,yT,_T,bT,wT,xT,$9={lg:{...(mT=Qe.sizes)==null?void 0:mT.lg,field:{...(gT=Qe.sizes)==null?void 0:gT.lg.field,...Ip}},md:{...(vT=Qe.sizes)==null?void 0:vT.md,field:{...(yT=Qe.sizes)==null?void 0:yT.md.field,...Ip}},sm:{...(_T=Qe.sizes)==null?void 0:_T.sm,field:{...(bT=Qe.sizes)==null?void 0:bT.sm.field,...Ip}},xs:{...(wT=Qe.sizes)==null?void 0:wT.xs,field:{...(xT=Qe.sizes)==null?void 0:xT.xs.field,...Ip},icon:{insetEnd:"1"}}},z9=O9({baseStyle:F9,sizes:$9,variants:Qe.variants,defaultProps:Qe.defaultProps}),_0=we("skeleton-start-color"),b0=we("skeleton-end-color"),B9={[_0.variable]:"colors.gray.100",[b0.variable]:"colors.gray.400",_dark:{[_0.variable]:"colors.gray.800",[b0.variable]:"colors.gray.600"},background:_0.reference,borderColor:b0.reference,opacity:.7,borderRadius:"sm"},U9={baseStyle:B9},w0=we("skip-link-bg"),W9={borderRadius:"md",fontWeight:"semibold",_focusVisible:{boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6",[w0.variable]:"colors.white",_dark:{[w0.variable]:"colors.gray.700"},bg:w0.reference}},H9={baseStyle:W9},{defineMultiStyleConfig:q9,definePartsStyle:Rv}=ct(PB.keys),ph=we("slider-thumb-size"),mh=we("slider-track-size"),po=we("slider-bg"),G9=t=>{const{orientation:e}=t;return{display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"},...Vx({orientation:e,vertical:{h:"100%"},horizontal:{w:"100%"}})}},K9=t=>({...Vx({orientation:t.orientation,horizontal:{h:mh.reference},vertical:{w:mh.reference}}),overflow:"hidden",borderRadius:"sm",[po.variable]:"colors.gray.200",_dark:{[po.variable]:"colors.whiteAlpha.200"},_disabled:{[po.variable]:"colors.gray.300",_dark:{[po.variable]:"colors.whiteAlpha.300"}},bg:po.reference}),Q9=t=>{const{orientation:e}=t;return{...Vx({orientation:e,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}}),w:ph.reference,h:ph.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{bg:"gray.300"}}},Y9=t=>{const{colorScheme:e}=t;return{width:"inherit",height:"inherit",[po.variable]:`colors.${e}.500`,_dark:{[po.variable]:`colors.${e}.200`},bg:po.reference}},X9=Rv(t=>({container:G9(t),track:K9(t),thumb:Q9(t),filledTrack:Y9(t)})),J9=Rv({container:{[ph.variable]:"sizes.4",[mh.variable]:"sizes.1"}}),Z9=Rv({container:{[ph.variable]:"sizes.3.5",[mh.variable]:"sizes.1"}}),eU=Rv({container:{[ph.variable]:"sizes.2.5",[mh.variable]:"sizes.0.5"}}),tU={lg:J9,md:Z9,sm:eU},nU=q9({baseStyle:X9,sizes:tU,defaultProps:{size:"md",colorScheme:"blue"}}),ba=en("spinner-size"),rU={width:[ba.reference],height:[ba.reference]},sU={xs:{[ba.variable]:"sizes.3"},sm:{[ba.variable]:"sizes.4"},md:{[ba.variable]:"sizes.6"},lg:{[ba.variable]:"sizes.8"},xl:{[ba.variable]:"sizes.12"}},iU={baseStyle:rU,sizes:sU,defaultProps:{size:"md"}},{defineMultiStyleConfig:oU,definePartsStyle:ej}=ct(AB.keys),aU={fontWeight:"medium"},lU={opacity:.8,marginBottom:"2"},cU={verticalAlign:"baseline",fontWeight:"semibold"},uU={marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"},dU=ej({container:{},label:aU,helpText:lU,number:cU,icon:uU}),hU={md:ej({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},fU=oU({baseStyle:dU,sizes:hU,defaultProps:{size:"md"}}),x0=we("kbd-bg"),pU={[x0.variable]:"colors.gray.100",_dark:{[x0.variable]:"colors.whiteAlpha.100"},bg:x0.reference,borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"},mU={baseStyle:pU},gU={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},vU={baseStyle:gU},{defineMultiStyleConfig:yU,definePartsStyle:_U}=ct(wB.keys),bU={marginEnd:"2",display:"inline",verticalAlign:"text-bottom"},wU=_U({icon:bU}),xU=yU({baseStyle:wU}),{defineMultiStyleConfig:SU,definePartsStyle:EU}=ct(xB.keys),Ps=we("menu-bg"),S0=we("menu-shadow"),CU={[Ps.variable]:"#fff",[S0.variable]:"shadows.sm",_dark:{[Ps.variable]:"colors.gray.700",[S0.variable]:"shadows.dark-lg"},color:"inherit",minW:"3xs",py:"2",zIndex:1,borderRadius:"md",borderWidth:"1px",bg:Ps.reference,boxShadow:S0.reference},TU={py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{[Ps.variable]:"colors.gray.100",_dark:{[Ps.variable]:"colors.whiteAlpha.100"}},_active:{[Ps.variable]:"colors.gray.200",_dark:{[Ps.variable]:"colors.whiteAlpha.200"}},_expanded:{[Ps.variable]:"colors.gray.100",_dark:{[Ps.variable]:"colors.whiteAlpha.100"}},_disabled:{opacity:.4,cursor:"not-allowed"},bg:Ps.reference},IU={mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},kU={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0},PU={opacity:.6},AU={border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6},RU={transitionProperty:"common",transitionDuration:"normal"},jU=EU({button:RU,list:CU,item:TU,groupTitle:IU,icon:kU,command:PU,divider:AU}),DU=SU({baseStyle:jU}),{defineMultiStyleConfig:NU,definePartsStyle:Eb}=ct(SB.keys),E0=we("modal-bg"),C0=we("modal-shadow"),OU={bg:"blackAlpha.600",zIndex:"modal"},MU=t=>{const{isCentered:e,scrollBehavior:n}=t;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:e?"center":"flex-start",overflow:n==="inside"?"hidden":"auto",overscrollBehaviorY:"none"}},LU=t=>{const{isCentered:e,scrollBehavior:n}=t;return{borderRadius:"md",color:"inherit",my:e?"auto":"16",mx:e?"auto":void 0,zIndex:"modal",maxH:n==="inside"?"calc(100% - 7.5rem)":void 0,[E0.variable]:"colors.white",[C0.variable]:"shadows.lg",_dark:{[E0.variable]:"colors.gray.700",[C0.variable]:"shadows.dark-lg"},bg:E0.reference,boxShadow:C0.reference}},VU={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},FU={position:"absolute",top:"2",insetEnd:"3"},$U=t=>{const{scrollBehavior:e}=t;return{px:"6",py:"2",flex:"1",overflow:e==="inside"?"auto":void 0}},zU={px:"6",py:"4"},BU=Eb(t=>({overlay:OU,dialogContainer:Wn(MU,t),dialog:Wn(LU,t),header:VU,closeButton:FU,body:Wn($U,t),footer:zU}));function is(t){return Eb(t==="full"?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:t}})}var UU={xs:is("xs"),sm:is("sm"),md:is("md"),lg:is("lg"),xl:is("xl"),"2xl":is("2xl"),"3xl":is("3xl"),"4xl":is("4xl"),"5xl":is("5xl"),"6xl":is("6xl"),full:is("full")},WU=NU({baseStyle:BU,sizes:UU,defaultProps:{size:"md"}}),{defineMultiStyleConfig:HU,definePartsStyle:tj}=ct(EB.keys),$x=en("number-input-stepper-width"),nj=en("number-input-input-padding"),qU=di($x).add("0.5rem").toString(),T0=en("number-input-bg"),I0=en("number-input-color"),k0=en("number-input-border-color"),GU={[$x.variable]:"sizes.6",[nj.variable]:qU},KU=t=>{var e,n;return(n=(e=Wn(Qe.baseStyle,t))==null?void 0:e.field)!=null?n:{}},QU={width:$x.reference},YU={borderStart:"1px solid",borderStartColor:k0.reference,color:I0.reference,bg:T0.reference,[I0.variable]:"colors.chakra-body-text",[k0.variable]:"colors.chakra-border-color",_dark:{[I0.variable]:"colors.whiteAlpha.800",[k0.variable]:"colors.whiteAlpha.300"},_active:{[T0.variable]:"colors.gray.200",_dark:{[T0.variable]:"colors.whiteAlpha.300"}},_disabled:{opacity:.4,cursor:"not-allowed"}},XU=tj(t=>{var e;return{root:GU,field:(e=Wn(KU,t))!=null?e:{},stepperGroup:QU,stepper:YU}});function kp(t){var e,n,r;const s=(e=Qe.sizes)==null?void 0:e[t],i={lg:"md",md:"md",sm:"sm",xs:"sm"},o=(r=(n=s.field)==null?void 0:n.fontSize)!=null?r:"md",a=Q2.fontSizes[o];return tj({field:{...s.field,paddingInlineEnd:nj.reference,verticalAlign:"top"},stepper:{fontSize:di(a).multiply(.75).toString(),_first:{borderTopEndRadius:i[t]},_last:{borderBottomEndRadius:i[t],mt:"-1px",borderTopWidth:1}}})}var JU={xs:kp("xs"),sm:kp("sm"),md:kp("md"),lg:kp("lg")},ZU=HU({baseStyle:XU,sizes:JU,variants:Qe.variants,defaultProps:Qe.defaultProps}),ST,e8={...(ST=Qe.baseStyle)==null?void 0:ST.field,textAlign:"center"},t8={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}},ET,CT,n8={outline:t=>{var e,n,r;return(r=(n=Wn((e=Qe.variants)==null?void 0:e.outline,t))==null?void 0:n.field)!=null?r:{}},flushed:t=>{var e,n,r;return(r=(n=Wn((e=Qe.variants)==null?void 0:e.flushed,t))==null?void 0:n.field)!=null?r:{}},filled:t=>{var e,n,r;return(r=(n=Wn((e=Qe.variants)==null?void 0:e.filled,t))==null?void 0:n.field)!=null?r:{}},unstyled:(CT=(ET=Qe.variants)==null?void 0:ET.unstyled.field)!=null?CT:{}},r8={baseStyle:e8,sizes:t8,variants:n8,defaultProps:Qe.defaultProps},{defineMultiStyleConfig:s8,definePartsStyle:i8}=ct(CB.keys),Pp=en("popper-bg"),o8=en("popper-arrow-bg"),TT=en("popper-arrow-shadow-color"),a8={zIndex:10},l8={[Pp.variable]:"colors.white",bg:Pp.reference,[o8.variable]:Pp.reference,[TT.variable]:"colors.gray.200",_dark:{[Pp.variable]:"colors.gray.700",[TT.variable]:"colors.whiteAlpha.300"},width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focusVisible:{outline:0,boxShadow:"outline"}},c8={px:3,py:2,borderBottomWidth:"1px"},u8={px:3,py:2},d8={px:3,py:2,borderTopWidth:"1px"},h8={position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2},f8=i8({popper:a8,content:l8,header:c8,body:u8,footer:d8,closeButton:h8}),p8=s8({baseStyle:f8}),{definePartsStyle:Cb,defineMultiStyleConfig:m8}=ct(gB.keys),P0=we("drawer-bg"),A0=we("drawer-box-shadow");function jl(t){return Cb(t==="full"?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:t}})}var g8={bg:"blackAlpha.600",zIndex:"modal"},v8={display:"flex",zIndex:"modal",justifyContent:"center"},y8=t=>{const{isFullHeight:e}=t;return{...e&&{height:"100vh"},zIndex:"modal",maxH:"100vh",color:"inherit",[P0.variable]:"colors.white",[A0.variable]:"shadows.lg",_dark:{[P0.variable]:"colors.gray.700",[A0.variable]:"shadows.dark-lg"},bg:P0.reference,boxShadow:A0.reference}},_8={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},b8={position:"absolute",top:"2",insetEnd:"3"},w8={px:"6",py:"2",flex:"1",overflow:"auto"},x8={px:"6",py:"4"},S8=Cb(t=>({overlay:g8,dialogContainer:v8,dialog:Wn(y8,t),header:_8,closeButton:b8,body:w8,footer:x8})),E8={xs:jl("xs"),sm:jl("md"),md:jl("lg"),lg:jl("2xl"),xl:jl("4xl"),full:jl("full")},C8=m8({baseStyle:S8,sizes:E8,defaultProps:{size:"xs"}}),{definePartsStyle:T8,defineMultiStyleConfig:I8}=ct(vB.keys),k8={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},P8={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},A8={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},R8=T8({preview:k8,input:P8,textarea:A8}),j8=I8({baseStyle:R8}),{definePartsStyle:D8,defineMultiStyleConfig:N8}=ct(yB.keys),bc=we("form-control-color"),O8={marginStart:"1",[bc.variable]:"colors.red.500",_dark:{[bc.variable]:"colors.red.300"},color:bc.reference},M8={mt:"2",[bc.variable]:"colors.gray.600",_dark:{[bc.variable]:"colors.whiteAlpha.600"},color:bc.reference,lineHeight:"normal",fontSize:"sm"},L8=D8({container:{width:"100%",position:"relative"},requiredIndicator:O8,helperText:M8}),V8=N8({baseStyle:L8}),{definePartsStyle:F8,defineMultiStyleConfig:$8}=ct(_B.keys),wc=we("form-error-color"),z8={[wc.variable]:"colors.red.500",_dark:{[wc.variable]:"colors.red.300"},color:wc.reference,mt:"2",fontSize:"sm",lineHeight:"normal"},B8={marginEnd:"0.5em",[wc.variable]:"colors.red.500",_dark:{[wc.variable]:"colors.red.300"},color:wc.reference},U8=F8({text:z8,icon:B8}),W8=$8({baseStyle:U8}),H8={fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}},q8={baseStyle:H8},G8={fontFamily:"heading",fontWeight:"bold"},K8={"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},Q8={baseStyle:G8,sizes:K8,defaultProps:{size:"xl"}},{defineMultiStyleConfig:Y8,definePartsStyle:X8}=ct(pB.keys),R0=we("breadcrumb-link-decor"),J8={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",outline:"none",color:"inherit",textDecoration:R0.reference,[R0.variable]:"none","&:not([aria-current=page])":{cursor:"pointer",_hover:{[R0.variable]:"underline"},_focusVisible:{boxShadow:"outline"}}},Z8=X8({link:J8}),eW=Y8({baseStyle:Z8}),tW={lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},rj=t=>{const{colorScheme:e,theme:n}=t;if(e==="gray")return{color:be("gray.800","whiteAlpha.900")(t),_hover:{bg:be("gray.100","whiteAlpha.200")(t)},_active:{bg:be("gray.200","whiteAlpha.300")(t)}};const r=Fc(`${e}.200`,.12)(n),s=Fc(`${e}.200`,.24)(n);return{color:be(`${e}.600`,`${e}.200`)(t),bg:"transparent",_hover:{bg:be(`${e}.50`,r)(t)},_active:{bg:be(`${e}.100`,s)(t)}}},nW=t=>{const{colorScheme:e}=t,n=be("gray.200","whiteAlpha.300")(t);return{border:"1px solid",borderColor:e==="gray"?n:"currentColor",".chakra-button__group[data-attached][data-orientation=horizontal] > &:not(:last-of-type)":{marginEnd:"-1px"},".chakra-button__group[data-attached][data-orientation=vertical] > &:not(:last-of-type)":{marginBottom:"-1px"},...Wn(rj,t)}},rW={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},sW=t=>{var e;const{colorScheme:n}=t;if(n==="gray"){const l=be("gray.100","whiteAlpha.200")(t);return{bg:l,color:be("gray.800","whiteAlpha.900")(t),_hover:{bg:be("gray.200","whiteAlpha.300")(t),_disabled:{bg:l}},_active:{bg:be("gray.300","whiteAlpha.400")(t)}}}const{bg:r=`${n}.500`,color:s="white",hoverBg:i=`${n}.600`,activeBg:o=`${n}.700`}=(e=rW[n])!=null?e:{},a=be(r,`${n}.200`)(t);return{bg:a,color:be(s,"gray.800")(t),_hover:{bg:be(i,`${n}.300`)(t),_disabled:{bg:a}},_active:{bg:be(o,`${n}.400`)(t)}}},iW=t=>{const{colorScheme:e}=t;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:be(`${e}.500`,`${e}.200`)(t),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:be(`${e}.700`,`${e}.500`)(t)}}},oW={bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"},aW={ghost:rj,outline:nW,solid:sW,link:iW,unstyled:oW},lW={lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},cW={baseStyle:tW,variants:aW,sizes:lW,defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},{definePartsStyle:ja,defineMultiStyleConfig:uW}=ct(OB.keys),dg=we("card-bg"),wi=we("card-padding"),sj=we("card-shadow"),pm=we("card-radius"),ij=we("card-border-width","0"),oj=we("card-border-color"),dW=ja({container:{[dg.variable]:"colors.chakra-body-bg",backgroundColor:dg.reference,boxShadow:sj.reference,borderRadius:pm.reference,color:"chakra-body-text",borderWidth:ij.reference,borderColor:oj.reference},body:{padding:wi.reference,flex:"1 1 0%"},header:{padding:wi.reference},footer:{padding:wi.reference}}),hW={sm:ja({container:{[pm.variable]:"radii.base",[wi.variable]:"space.3"}}),md:ja({container:{[pm.variable]:"radii.md",[wi.variable]:"space.5"}}),lg:ja({container:{[pm.variable]:"radii.xl",[wi.variable]:"space.7"}})},fW={elevated:ja({container:{[sj.variable]:"shadows.base",_dark:{[dg.variable]:"colors.gray.700"}}}),outline:ja({container:{[ij.variable]:"1px",[oj.variable]:"colors.chakra-border-color"}}),filled:ja({container:{[dg.variable]:"colors.chakra-subtle-bg"}}),unstyled:{body:{[wi.variable]:0},header:{[wi.variable]:0},footer:{[wi.variable]:0}}},pW=uW({baseStyle:dW,variants:fW,sizes:hW,defaultProps:{variant:"elevated",size:"md"}}),Pd=en("close-button-size"),Ku=en("close-button-bg"),mW={w:[Pd.reference],h:[Pd.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{[Ku.variable]:"colors.blackAlpha.100",_dark:{[Ku.variable]:"colors.whiteAlpha.100"}},_active:{[Ku.variable]:"colors.blackAlpha.200",_dark:{[Ku.variable]:"colors.whiteAlpha.200"}},_focusVisible:{boxShadow:"outline"},bg:Ku.reference},gW={lg:{[Pd.variable]:"sizes.10",fontSize:"md"},md:{[Pd.variable]:"sizes.8",fontSize:"xs"},sm:{[Pd.variable]:"sizes.6",fontSize:"2xs"}},vW={baseStyle:mW,sizes:gW,defaultProps:{size:"md"}},{variants:yW,defaultProps:_W}=Id,bW={fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm",bg:Vt.bg.reference,color:Vt.color.reference,boxShadow:Vt.shadow.reference},wW={baseStyle:bW,variants:yW,defaultProps:_W},xW={w:"100%",mx:"auto",maxW:"prose",px:"4"},SW={baseStyle:xW},EW={opacity:.6,borderColor:"inherit"},CW={borderStyle:"solid"},TW={borderStyle:"dashed"},IW={solid:CW,dashed:TW},kW={baseStyle:EW,variants:IW,defaultProps:{variant:"solid"}},{definePartsStyle:PW,defineMultiStyleConfig:AW}=ct(dB.keys),RW={borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},jW={transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},DW={pt:"2",px:"4",pb:"5"},NW={fontSize:"1.25em"},OW=PW({container:RW,button:jW,panel:DW,icon:NW}),MW=AW({baseStyle:OW}),{definePartsStyle:Yh,defineMultiStyleConfig:LW}=ct(hB.keys),_r=we("alert-fg"),Ri=we("alert-bg"),VW=Yh({container:{bg:Ri.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:_r.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:_r.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function zx(t){const{theme:e,colorScheme:n}=t,r=Fc(`${n}.200`,.16)(e);return{light:`colors.${n}.100`,dark:r}}var FW=Yh(t=>{const{colorScheme:e}=t,n=zx(t);return{container:{[_r.variable]:`colors.${e}.600`,[Ri.variable]:n.light,_dark:{[_r.variable]:`colors.${e}.200`,[Ri.variable]:n.dark}}}}),$W=Yh(t=>{const{colorScheme:e}=t,n=zx(t);return{container:{[_r.variable]:`colors.${e}.600`,[Ri.variable]:n.light,_dark:{[_r.variable]:`colors.${e}.200`,[Ri.variable]:n.dark},paddingStart:"3",borderStartWidth:"4px",borderStartColor:_r.reference}}}),zW=Yh(t=>{const{colorScheme:e}=t,n=zx(t);return{container:{[_r.variable]:`colors.${e}.600`,[Ri.variable]:n.light,_dark:{[_r.variable]:`colors.${e}.200`,[Ri.variable]:n.dark},pt:"2",borderTopWidth:"4px",borderTopColor:_r.reference}}}),BW=Yh(t=>{const{colorScheme:e}=t;return{container:{[_r.variable]:"colors.white",[Ri.variable]:`colors.${e}.600`,_dark:{[_r.variable]:"colors.gray.900",[Ri.variable]:`colors.${e}.200`},color:_r.reference}}}),UW={subtle:FW,"left-accent":$W,"top-accent":zW,solid:BW},WW=LW({baseStyle:VW,variants:UW,defaultProps:{variant:"subtle",colorScheme:"blue"}}),{definePartsStyle:aj,defineMultiStyleConfig:HW}=ct(fB.keys),xc=we("avatar-border-color"),Ad=we("avatar-bg"),gh=we("avatar-font-size"),$c=we("avatar-size"),qW={borderRadius:"full",border:"0.2em solid",borderColor:xc.reference,[xc.variable]:"white",_dark:{[xc.variable]:"colors.gray.800"}},GW={bg:Ad.reference,fontSize:gh.reference,width:$c.reference,height:$c.reference,lineHeight:"1",[Ad.variable]:"colors.gray.200",_dark:{[Ad.variable]:"colors.whiteAlpha.400"}},KW=t=>{const{name:e,theme:n}=t,r=e?t6({string:e}):"colors.gray.400",s=ZB(r)(n);let i="white";return s||(i="gray.800"),{bg:Ad.reference,fontSize:gh.reference,color:i,borderColor:xc.reference,verticalAlign:"top",width:$c.reference,height:$c.reference,"&:not([data-loaded])":{[Ad.variable]:r},[xc.variable]:"colors.white",_dark:{[xc.variable]:"colors.gray.800"}}},QW={fontSize:gh.reference,lineHeight:"1"},YW=aj(t=>({badge:Wn(qW,t),excessLabel:Wn(GW,t),container:Wn(KW,t),label:QW}));function io(t){const e=t!=="100%"?X2[t]:void 0;return aj({container:{[$c.variable]:e??t,[gh.variable]:`calc(${e??t} / 2.5)`},excessLabel:{[$c.variable]:e??t,[gh.variable]:`calc(${e??t} / 2.5)`}})}var XW={"2xs":io(4),xs:io(6),sm:io(8),md:io(12),lg:io(16),xl:io(24),"2xl":io(32),full:io("100%")},JW=HW({baseStyle:YW,sizes:XW,defaultProps:{size:"md"}}),ZW={Accordion:MW,Alert:WW,Avatar:JW,Badge:Id,Breadcrumb:eW,Button:cW,Checkbox:ug,CloseButton:vW,Code:wW,Container:SW,Divider:kW,Drawer:C8,Editable:j8,Form:V8,FormError:W8,FormLabel:q8,Heading:Q8,Input:Qe,Kbd:mU,Link:vU,List:xU,Menu:DU,Modal:WU,NumberInput:ZU,PinInput:r8,Popover:p8,Progress:w9,Radio:N9,Select:z9,Skeleton:U9,SkipLink:H9,Slider:nU,Spinner:iU,Stat:fU,Switch:v6,Table:E6,Tabs:F6,Tag:J6,Textarea:u9,Tooltip:f9,Card:pW,Stepper:uB},e7={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-inverse-text":{_light:"white",_dark:"gray.800"},"chakra-subtle-bg":{_light:"gray.100",_dark:"gray.700"},"chakra-subtle-text":{_light:"gray.600",_dark:"gray.400"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},t7={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color"}}},n7="ltr",r7={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},s7={semanticTokens:e7,direction:n7,...aB,components:ZW,styles:t7,config:r7};function i7(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var o7=i7();function a7(t,e){const n={};return Object.keys(t).forEach(r=>{e.includes(r)||(n[r]=t[r])}),n}function l7(t,e,n,r){const s=typeof e=="string"?e.split("."):[e];for(r=0;r<s.length&&t;r+=1)t=t[s[r]];return t===void 0?n:t}var c7=t=>{const e=new WeakMap;return(r,s,i,o)=>{if(typeof r>"u")return t(r,s,i);e.has(r)||e.set(r,new Map);const a=e.get(r);if(a.has(s))return a.get(s);const l=t(r,s,i,o);return a.set(s,l),l}},lj=c7(l7);function cj(t,e){const n={};return Object.keys(t).forEach(r=>{const s=t[r];e(s,r,t)&&(n[r]=s)}),n}var uj=t=>cj(t,e=>e!=null);function u7(t){return typeof t=="function"}function dj(t,...e){return u7(t)?t(...e):t}function d7(...t){return function(n){t.some(r=>(r==null||r(n),n==null?void 0:n.defaultPrevented))}}var h7=typeof Element<"u",f7=typeof Map=="function",p7=typeof Set=="function",m7=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function mm(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,s;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!mm(t[r],e[r]))return!1;return!0}var i;if(f7&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(i=t.entries();!(r=i.next()).done;)if(!e.has(r.value[0]))return!1;for(i=t.entries();!(r=i.next()).done;)if(!mm(r.value[1],e.get(r.value[0])))return!1;return!0}if(p7&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(i=t.entries();!(r=i.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(m7&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[r]))return!1;if(h7&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((s[r]==="_owner"||s[r]==="__v"||s[r]==="__o")&&t.$$typeof)&&!mm(t[s[r]],e[s[r]]))return!1;return!0}return t!==t&&e!==e}var g7=function(e,n){try{return mm(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const v7=Yg(g7);function hj(t,e={}){var n;const{styleConfig:r,...s}=e,{theme:i,colorMode:o}=z2(),a=t?lj(i,`components.${t}`):void 0,l=r||a,c=Ms({theme:i,colorMode:o},(n=l==null?void 0:l.defaultProps)!=null?n:{},uj(a7(s,["children"]))),d=g.useRef({});if(l){const p=Mz(l)(c);v7(d.current,p)||(d.current=p)}return d.current}function Zs(t,e={}){return hj(t,e)}function _s(t,e={}){return hj(t,e)}var y7=new Set([...Ez,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),_7=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function b7(t){return _7.has(t)||!y7.has(t)}function w7(t,...e){if(t==null)throw new TypeError("Cannot convert undefined or null to object");const n={...t};for(const r of e)if(r!=null)for(const s in r)Object.prototype.hasOwnProperty.call(r,s)&&(s in n&&delete n[s],n[s]=r[s]);return n}function fj(t){const e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}var x7=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,S7=E2(function(t){return x7.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),E7=S7,C7=function(e){return e!=="theme"},IT=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?E7:C7},kT=function(e,n,r){var s;if(n){var i=n.shouldForwardProp;s=e.__emotion_forwardProp&&i?function(o){return e.__emotion_forwardProp(o)&&i(o)}:i}return typeof s!="function"&&r&&(s=e.__emotion_forwardProp),s},T7=function(e){var n=e.cache,r=e.serialized,s=e.isStringTag;return A2(n,r,s),J$(function(){return R2(n,r,s)}),null},I7=function t(e,n){var r=e.__emotion_real===e,s=r&&e.__emotion_base||e,i,o;n!==void 0&&(i=n.label,o=n.target);var a=kT(e,n,r),l=a||IT(s),c=!l("as");return function(){var d=arguments,f=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(i!==void 0&&f.push("label:"+i+";"),d[0]==null||d[0].raw===void 0)f.push.apply(f,d);else{f.push(d[0][0]);for(var p=d.length,m=1;m<p;m++)f.push(d[m],d[0][m])}var _=O2(function(y,S,x){var b=c&&y.as||s,w="",k=[],j=y;if(y.theme==null){j={};for(var O in y)j[O]=y[O];j.theme=g.useContext(hh)}typeof y.className=="string"?w=H$(S.registered,k,y.className):y.className!=null&&(w=y.className+" ");var C=Ax(f.concat(k),S.registered,j);w+=S.key+"-"+C.name,o!==void 0&&(w+=" "+o);var T=c&&a===void 0?IT(b):l,I={};for(var P in y)c&&P==="as"||T(P)&&(I[P]=y[P]);return I.className=w,I.ref=x,g.createElement(g.Fragment,null,g.createElement(T7,{cache:S,serialized:C,isStringTag:typeof b=="string"}),g.createElement(b,I))});return _.displayName=i!==void 0?i:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",_.defaultProps=e.defaultProps,_.__emotion_real=_,_.__emotion_base=s,_.__emotion_styles=f,_.__emotion_forwardProp=a,Object.defineProperty(_,"toString",{value:function(){return"."+o}}),_.withComponent=function(y,S){return t(y,Ha({},n,S,{shouldForwardProp:kT(_,S,!0)})).apply(void 0,f)},_}},k7=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],hg=I7.bind();k7.forEach(function(t){hg[t]=hg(t)});var PT,P7=(PT=hg.default)!=null?PT:hg,A7=({baseStyle:t})=>e=>{const{theme:n,css:r,__css:s,sx:i,...o}=e,a=cj(o,(f,p)=>Tz(p)),l=dj(t,e),c=w7({},s,l,uj(a),i),d=K2(c)(e.theme);return r?[d,r]:d};function j0(t,e){const{baseStyle:n,...r}=e??{};r.shouldForwardProp||(r.shouldForwardProp=b7);const s=A7({baseStyle:n}),i=P7(t,r)(s);return nr.forwardRef(function(l,c){const{colorMode:d,forced:f}=Dx();return nr.createElement(i,{ref:c,"data-theme":f?d:void 0,...l})})}function R7(){const t=new Map;return new Proxy(j0,{apply(e,n,r){return j0(...r)},get(e,n){return t.has(n)||t.set(n,j0(n)),t.get(n)}})}var ce=R7();function ge(t){return g.forwardRef(t)}function pj(t={}){const{strict:e=!0,errorMessage:n="useContext: `context` is undefined. Seems you forgot to wrap component within the Provider",name:r}=t,s=g.createContext(void 0);s.displayName=r;function i(){var o;const a=g.useContext(s);if(!a&&e){const l=new Error(n);throw l.name="ContextError",(o=Error.captureStackTrace)==null||o.call(Error,l,i),l}return a}return[s.Provider,i,s]}function j7(t){const{cssVarsRoot:e,theme:n,children:r}=t,s=g.useMemo(()=>wz(n),[n]);return u.jsxs(t3,{theme:s,children:[u.jsx(D7,{root:e}),r]})}function D7({root:t=":host, :root"}){const e=[t,"[data-theme]"].join(",");return u.jsx(Iv,{styles:n=>({[e]:n.__cssVars})})}pj({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "});function N7(t){return pj({name:`${t}StylesContext`,errorMessage:`useStyles: "styles" is undefined. Seems you forgot to wrap the components in "<${t} />" `})}function O7(){const{colorMode:t}=Dx();return u.jsx(Iv,{styles:e=>{const n=lj(e,"styles.global"),r=dj(n,{theme:e,colorMode:t});return r?K2(r)(e):void 0}})}var Bx=g.createContext({getDocument(){return document},getWindow(){return window}});Bx.displayName="EnvironmentContext";function M7({defer:t}={}){const[,e]=g.useReducer(n=>n+1,0);return Vc(()=>{t&&e()},[t]),g.useContext(Bx)}function mj(t){const{children:e,environment:n,disabled:r}=t,s=g.useRef(null),i=g.useMemo(()=>n||{getDocument:()=>{var a,l;return(l=(a=s.current)==null?void 0:a.ownerDocument)!=null?l:document},getWindow:()=>{var a,l;return(l=(a=s.current)==null?void 0:a.ownerDocument.defaultView)!=null?l:window}},[n]),o=!r||!n;return u.jsxs(Bx.Provider,{value:i,children:[e,o&&u.jsx("span",{id:"__chakra_env",hidden:!0,ref:s})]})}mj.displayName="EnvironmentProvider";var L7=t=>{const{children:e,colorModeManager:n,portalZIndex:r,resetScope:s,resetCSS:i=!0,theme:o={},environment:a,cssVarsRoot:l,disableEnvironment:c,disableGlobalStyle:d}=t,f=u.jsx(mj,{environment:a,disabled:c,children:e});return u.jsx(j7,{theme:o,cssVarsRoot:l,children:u.jsxs($2,{colorModeManager:n,options:o.config,children:[i?u.jsx(i3,{scope:s}):u.jsx(s3,{}),!d&&u.jsx(O7,{}),r?u.jsx(V2,{zIndex:r,children:f}):f]})})},V7=(t,e)=>t.find(n=>n.id===e);function AT(t,e){const n=gj(t,e),r=n?t[n].findIndex(s=>s.id===e):-1;return{position:n,index:r}}function gj(t,e){for(const[n,r]of Object.entries(t))if(V7(r,e))return n}function F7(t){const e=t.includes("right"),n=t.includes("left");let r="center";return e&&(r="flex-end"),n&&(r="flex-start"),{display:"flex",flexDirection:"column",alignItems:r}}function $7(t){const n=t==="top"||t==="bottom"?"0 auto":void 0,r=t.includes("top")?"env(safe-area-inset-top, 0px)":void 0,s=t.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,i=t.includes("left")?void 0:"env(safe-area-inset-right, 0px)",o=t.includes("right")?void 0:"env(safe-area-inset-left, 0px)";return{position:"fixed",zIndex:"var(--toast-z-index, 5500)",pointerEvents:"none",display:"flex",flexDirection:"column",margin:n,top:r,bottom:s,right:i,left:o}}function Do(t,e=[]){const n=g.useRef(t);return g.useEffect(()=>{n.current=t}),g.useCallback((...r)=>{var s;return(s=n.current)==null?void 0:s.call(n,...r)},e)}function z7(t,e){const n=Do(t);g.useEffect(()=>{if(e==null)return;let r=null;return r=window.setTimeout(()=>{n()},e),()=>{r&&window.clearTimeout(r)}},[e,n])}function vh(t,e){const n=g.useRef(!1),r=g.useRef(!1);g.useEffect(()=>{if(n.current&&r.current)return t();r.current=!0},e),g.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[])}const vj=g.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),jv=g.createContext({}),Xh=g.createContext(null),Dv=typeof document<"u",Ux=Dv?g.useLayoutEffect:g.useEffect,yj=g.createContext({strict:!1}),Wx=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),B7="framerAppearId",_j="data-"+Wx(B7),bj={skipAnimations:!1,useManualTiming:!1};class RT{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function U7(t){let e=new RT,n=new RT,r=0,s=!1,i=!1;const o=new WeakSet,a={schedule:(l,c=!1,d=!1)=>{const f=d&&s,p=f?e:n;return c&&o.add(l),p.add(l)&&f&&s&&(r=e.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(s){i=!0;return}if(s=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const d=e.order[c];o.has(d)&&(a.schedule(d),t()),d(l)}s=!1,i&&(i=!1,a.process(l))}};return a}const Ap=["prepare","read","update","preRender","render","postRender"],W7=40;function wj(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=Ap.reduce((f,p)=>(f[p]=U7(()=>n=!0),f),{}),o=f=>{i[f].process(s)},a=()=>{const f=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(f-s.timestamp,W7),1),s.timestamp=f,s.isProcessing=!0,Ap.forEach(o),s.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,s.isProcessing||t(a)};return{schedule:Ap.reduce((f,p)=>{const m=i[p];return f[p]=(_,y=!1,S=!1)=>(n||l(),m.schedule(_,y,S)),f},{}),cancel:f=>Ap.forEach(p=>i[p].cancel(f)),state:s,steps:i}}const{schedule:Hx,cancel:ade}=wj(queueMicrotask,!1);function H7(t,e,n,r){const{visualElement:s}=g.useContext(jv),i=g.useContext(yj),o=g.useContext(Xh),a=g.useContext(vj).reducedMotion,l=g.useRef();r=r||i.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:s,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;g.useInsertionEffect(()=>{c&&c.update(n,o)});const d=g.useRef(!!(n[_j]&&!window.HandoffComplete));return Ux(()=>{c&&(Hx.postRender(c.render),d.current&&c.animationState&&c.animationState.animateChanges())}),g.useEffect(()=>{c&&(c.updateFeatures(),!d.current&&c.animationState&&c.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),c}function sc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function q7(t,e,n){return g.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):sc(n)&&(n.current=r))},[e])}function yh(t){return typeof t=="string"||Array.isArray(t)}function Nv(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const qx=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Gx=["initial",...qx];function Ov(t){return Nv(t.animate)||Gx.some(e=>yh(t[e]))}function xj(t){return!!(Ov(t)||t.variants)}function G7(t,e){if(Ov(t)){const{initial:n,animate:r}=t;return{initial:n===!1||yh(n)?n:void 0,animate:yh(r)?r:void 0}}return t.inherit!==!1?e:{}}function K7(t){const{initial:e,animate:n}=G7(t,g.useContext(jv));return g.useMemo(()=>({initial:e,animate:n}),[jT(e),jT(n)])}function jT(t){return Array.isArray(t)?t.join(" "):t}const DT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},_h={};for(const t in DT)_h[t]={isEnabled:e=>DT[t].some(n=>!!e[n])};function Q7(t){for(const e in t)_h[e]={..._h[e],...t[e]}}const Kx=g.createContext({}),Sj=g.createContext({}),Y7=Symbol.for("motionComponentSymbol");function X7({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&Q7(t);function i(a,l){let c;const d={...g.useContext(vj),...a,layoutId:J7(a)},{isStatic:f}=d,p=K7(a),m=r(a,f);if(!f&&Dv){p.visualElement=H7(s,m,d,e);const _=g.useContext(Sj),y=g.useContext(yj).strict;p.visualElement&&(c=p.visualElement.loadFeatures(d,y,t,_))}return g.createElement(jv.Provider,{value:p},c&&p.visualElement?g.createElement(c,{visualElement:p.visualElement,...d}):null,n(s,a,q7(m,p.visualElement,l),m,f,p.visualElement))}const o=g.forwardRef(i);return o[Y7]=s,o}function J7({layoutId:t}){const e=g.useContext(Kx).id;return e&&t!==void 0?e+"-"+t:t}function Z7(t){function e(r,s={}){return X7(t(r,s))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,s)=>(n.has(s)||n.set(s,e(s)),n.get(s))})}const eH=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Qx(t){return typeof t!="string"||t.includes("-")?!1:!!(eH.indexOf(t)>-1||/[A-Z]/.test(t))}const fg={};function tH(t){Object.assign(fg,t)}const Jh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],al=new Set(Jh);function Ej(t,{layout:e,layoutId:n}){return al.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!fg[t]||t==="opacity")}const ur=t=>!!(t&&t.getVelocity),nH={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},rH=Jh.length;function sH(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,s){let i="";for(let o=0;o<rH;o++){const a=Jh[o];if(t[a]!==void 0){const l=nH[a]||a;i+=`${l}(${t[a]}) `}}return e&&!t.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(t,r?"":i):n&&r&&(i="none"),i}const Cj=t=>e=>typeof e=="string"&&e.startsWith(t),Tj=Cj("--"),iH=Cj("var(--"),pg=t=>iH(t)&&oH.test(t),oH=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)$/i,aH=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Fo=(t,e,n)=>n>e?e:n<t?t:n,au={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Rd={...au,transform:t=>Fo(0,1,t)},Rp={...au,default:1},jd=t=>Math.round(t*1e5)/1e5,Yx=/(-)?([\d]*\.?[\d])+/g,lH=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,cH=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Zh(t){return typeof t=="string"}const ef=t=>({test:e=>Zh(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ao=ef("deg"),Us=ef("%"),Ce=ef("px"),uH=ef("vh"),dH=ef("vw"),NT={...Us,parse:t=>Us.parse(t)/100,transform:t=>Us.transform(t*100)},OT={...au,transform:Math.round},Ij={borderWidth:Ce,borderTopWidth:Ce,borderRightWidth:Ce,borderBottomWidth:Ce,borderLeftWidth:Ce,borderRadius:Ce,radius:Ce,borderTopLeftRadius:Ce,borderTopRightRadius:Ce,borderBottomRightRadius:Ce,borderBottomLeftRadius:Ce,width:Ce,maxWidth:Ce,height:Ce,maxHeight:Ce,size:Ce,top:Ce,right:Ce,bottom:Ce,left:Ce,padding:Ce,paddingTop:Ce,paddingRight:Ce,paddingBottom:Ce,paddingLeft:Ce,margin:Ce,marginTop:Ce,marginRight:Ce,marginBottom:Ce,marginLeft:Ce,rotate:ao,rotateX:ao,rotateY:ao,rotateZ:ao,scale:Rp,scaleX:Rp,scaleY:Rp,scaleZ:Rp,skew:ao,skewX:ao,skewY:ao,distance:Ce,translateX:Ce,translateY:Ce,translateZ:Ce,x:Ce,y:Ce,z:Ce,perspective:Ce,transformPerspective:Ce,opacity:Rd,originX:NT,originY:NT,originZ:Ce,zIndex:OT,fillOpacity:Rd,strokeOpacity:Rd,numOctaves:OT};function Xx(t,e,n,r){const{style:s,vars:i,transform:o,transformOrigin:a}=t;let l=!1,c=!1,d=!0;for(const f in e){const p=e[f];if(Tj(f)){i[f]=p;continue}const m=Ij[f],_=aH(p,m);if(al.has(f)){if(l=!0,o[f]=_,!d)continue;p!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(c=!0,a[f]=_):s[f]=_}if(e.transform||(l||r?s.transform=sH(t.transform,n,d,r):s.transform&&(s.transform="none")),c){const{originX:f="50%",originY:p="50%",originZ:m=0}=a;s.transformOrigin=`${f} ${p} ${m}`}}const Jx=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function kj(t,e,n){for(const r in e)!ur(e[r])&&!Ej(r,n)&&(t[r]=e[r])}function hH({transformTemplate:t},e,n){return g.useMemo(()=>{const r=Jx();return Xx(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function fH(t,e,n){const r=t.style||{},s={};return kj(s,r,t),Object.assign(s,hH(t,e,n)),s}function pH(t,e,n){const r={},s=fH(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}const mH=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function mg(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||mH.has(t)}let Pj=t=>!mg(t);function gH(t){t&&(Pj=e=>e.startsWith("on")?!mg(e):t(e))}try{gH(require("@emotion/is-prop-valid").default)}catch{}function vH(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(Pj(s)||n===!0&&mg(s)||!e&&!mg(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function MT(t,e,n){return typeof t=="string"?t:Ce.transform(e+n*t)}function yH(t,e,n){const r=MT(e,t.x,t.width),s=MT(n,t.y,t.height);return`${r} ${s}`}const _H={offset:"stroke-dashoffset",array:"stroke-dasharray"},bH={offset:"strokeDashoffset",array:"strokeDasharray"};function wH(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?_H:bH;t[i.offset]=Ce.transform(-r);const o=Ce.transform(e),a=Ce.transform(n);t[i.array]=`${o} ${a}`}function Zx(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},d,f,p){if(Xx(t,c,d,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:_,dimensions:y}=t;m.transform&&(y&&(_.transform=m.transform),delete m.transform),y&&(s!==void 0||i!==void 0||_.transform)&&(_.transformOrigin=yH(y,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),o!==void 0&&wH(m,o,a,l,!1)}const Aj=()=>({...Jx(),attrs:{}}),eS=t=>typeof t=="string"&&t.toLowerCase()==="svg";function xH(t,e,n,r){const s=g.useMemo(()=>{const i=Aj();return Zx(i,e,{enableHardwareAcceleration:!1},eS(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};kj(i,t.style,t),s.style={...i,...s.style}}return s}function SH(t=!1){return(n,r,s,{latestValues:i},o)=>{const l=(Qx(n)?xH:pH)(r,i,o,n),d={...vH(r,typeof n=="string",t),...l,ref:s},{children:f}=r,p=g.useMemo(()=>ur(f)?f.get():f,[f]);return g.createElement(n,{...d,children:p})}}function Rj(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const jj=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Dj(t,e,n,r){Rj(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(jj.has(s)?s:Wx(s),e.attrs[s])}function tS(t,e){const{style:n}=t,r={};for(const s in n)(ur(n[s])||e.style&&ur(e.style[s])||Ej(s,t))&&(r[s]=n[s]);return r}function Nj(t,e){const n=tS(t,e);for(const r in t)if(ur(t[r])||ur(e[r])){const s=Jh.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=t[r]}return n}function nS(t,e,n,r={},s={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),e}function Oj(t){const e=g.useRef(null);return e.current===null&&(e.current=t()),e.current}const gg=t=>Array.isArray(t),EH=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),CH=t=>gg(t)?t[t.length-1]||0:t;function gm(t){const e=ur(t)?t.get():t;return EH(e)?e.toValue():e}function TH({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,s,i){const o={latestValues:IH(r,s,i,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const Mj=t=>(e,n)=>{const r=g.useContext(jv),s=g.useContext(Xh),i=()=>TH(t,e,r,s);return n?i():Oj(i)};function IH(t,e,n,r){const s={},i=r(t,{});for(const p in i)s[p]=gm(i[p]);let{initial:o,animate:a}=t;const l=Ov(t),c=xj(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?a:o;return f&&typeof f!="boolean"&&!Nv(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const _=nS(t,m);if(!_)return;const{transitionEnd:y,transition:S,...x}=_;for(const b in x){let w=x[b];if(Array.isArray(w)){const k=d?w.length-1:0;w=w[k]}w!==null&&(s[b]=w)}for(const b in y)s[b]=y[b]}),s}const Ut=t=>t,{schedule:wt,cancel:ji,state:fn,steps:D0}=wj(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ut,!0),kH={useVisualState:Mj({scrapeMotionValuesFromProps:Nj,createRenderState:Aj,onMount:(t,e,{renderState:n,latestValues:r})=>{wt.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),wt.render(()=>{Zx(n,r,{enableHardwareAcceleration:!1},eS(e.tagName),t.transformTemplate),Dj(e,n)})}})},PH={useVisualState:Mj({scrapeMotionValuesFromProps:tS,createRenderState:Jx})};function AH(t,{forwardMotionProps:e=!1},n,r){return{...Qx(t)?kH:PH,preloadedFeatures:n,useRender:SH(e),createVisualElement:r,Component:t}}function mi(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const Lj=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Mv(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const RH=t=>e=>Lj(e)&&t(e,Mv(e));function xi(t,e,n,r){return mi(t,e,RH(n),r)}const jH=(t,e)=>n=>e(t(n)),Si=(...t)=>t.reduce(jH);function Vj(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const LT=Vj("dragHorizontal"),VT=Vj("dragVertical");function Fj(t){let e=!1;if(t==="y")e=VT();else if(t==="x")e=LT();else{const n=LT(),r=VT();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function $j(){const t=Fj(!0);return t?(t(),!1):!0}class Qo{constructor(e){this.isMounted=!1,this.node=e}update(){}}function FT(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),s=(i,o)=>{if(i.pointerType==="touch"||$j())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&wt.update(()=>a[r](i,o))};return xi(t.current,n,s,{passive:!t.getProps()[r]})}class DH extends Qo{mount(){this.unmount=Si(FT(this.node,!0),FT(this.node,!1))}unmount(){}}class NH extends Qo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Si(mi(this.node.current,"focus",()=>this.onFocus()),mi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const zj=(t,e)=>e?t===e?!0:zj(t,e.parentElement):!1;function N0(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Mv(n))}class OH extends Qo{constructor(){super(...arguments),this.removeStartListeners=Ut,this.removeEndListeners=Ut,this.removeAccessibleListeners=Ut,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=xi(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:d,globalTapTarget:f}=this.node.getProps();wt.update(()=>{!f&&!zj(this.node.current,a.target)?d&&d(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=xi(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Si(i,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||N0("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&wt.update(()=>d(l,c))})};this.removeEndListeners(),this.removeEndListeners=mi(this.node.current,"keyup",o),N0("down",(a,l)=>{this.startPress(a,l)})},n=mi(this.node.current,"keydown",e),r=()=>{this.isPressing&&N0("cancel",(i,o)=>this.cancelPress(i,o))},s=mi(this.node.current,"blur",r);this.removeAccessibleListeners=Si(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&wt.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!$j()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&wt.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=xi(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=mi(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Si(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Tb=new WeakMap,O0=new WeakMap,MH=t=>{const e=Tb.get(t.target);e&&e(t)},LH=t=>{t.forEach(MH)};function VH({root:t,...e}){const n=t||document;O0.has(n)||O0.set(n,{});const r=O0.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(LH,{root:t,...e})),r[s]}function FH(t,e,n){const r=VH(e);return Tb.set(t,n),r.observe(t),()=>{Tb.delete(t),r.unobserve(t)}}const $H={some:0,all:1};class zH extends Qo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:$H[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=c?d:f;p&&p(l)};return FH(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(BH(e,n))&&this.startObserver()}unmount(){}}function BH({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const UH={inView:{Feature:zH},tap:{Feature:OH},focus:{Feature:NH},hover:{Feature:DH}};function Bj(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function WH(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function HH(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Lv(t,e,n){const r=t.getProps();return nS(r,e,n!==void 0?n:r.custom,WH(t),HH(t))}let rS=Ut;const Da=t=>t*1e3,Ei=t=>t/1e3,qH={current:!1},Uj=t=>Array.isArray(t)&&typeof t[0]=="number";function Wj(t){return!!(!t||typeof t=="string"&&Hj[t]||Uj(t)||Array.isArray(t)&&t.every(Wj))}const cd=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Hj={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cd([0,.65,.55,1]),circOut:cd([.55,0,1,.45]),backIn:cd([.31,.01,.66,-.59]),backOut:cd([.33,1.53,.69,.99])};function qj(t){if(t)return Uj(t)?cd(t):Array.isArray(t)?t.map(qj):Hj[t]}function GH(t,e,n,{delay:r=0,duration:s,repeat:i=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const d=qj(a);return Array.isArray(d)&&(c.easing=d),t.animate(c,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function KH(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const Gj=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,QH=1e-7,YH=12;function XH(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=Gj(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>QH&&++a<YH);return o}function tf(t,e,n,r){if(t===e&&n===r)return Ut;const s=i=>XH(i,0,1,t,n);return i=>i===0||i===1?i:Gj(s(i),e,r)}const JH=tf(.42,0,1,1),ZH=tf(0,0,.58,1),Kj=tf(.42,0,.58,1),eq=t=>Array.isArray(t)&&typeof t[0]!="number",Qj=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Yj=t=>e=>1-t(1-e),sS=t=>1-Math.sin(Math.acos(t)),Xj=Yj(sS),tq=Qj(sS),Jj=tf(.33,1.53,.69,.99),iS=Yj(Jj),nq=Qj(iS),rq=t=>(t*=2)<1?.5*iS(t):.5*(2-Math.pow(2,-10*(t-1))),sq={linear:Ut,easeIn:JH,easeInOut:Kj,easeOut:ZH,circIn:sS,circInOut:tq,circOut:Xj,backIn:iS,backInOut:nq,backOut:Jj,anticipate:rq},$T=t=>{if(Array.isArray(t)){rS(t.length===4);const[e,n,r,s]=t;return tf(e,n,r,s)}else if(typeof t=="string")return sq[t];return t},bh=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Tt=(t,e,n)=>t+(e-t)*n;function M0(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function iq({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=M0(l,a,t+1/3),i=M0(l,a,t),o=M0(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}const oS=(t,e)=>n=>!!(Zh(n)&&cH.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),Zj=(t,e,n)=>r=>{if(!Zh(r))return r;const[s,i,o,a]=r.match(Yx);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},oq=t=>Fo(0,255,t),L0={...au,transform:t=>Math.round(oq(t))},Ca={test:oS("rgb","red"),parse:Zj("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+L0.transform(t)+", "+L0.transform(e)+", "+L0.transform(n)+", "+jd(Rd.transform(r))+")"};function aq(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Ib={test:oS("#"),parse:aq,transform:Ca.transform},ic={test:oS("hsl","hue"),parse:Zj("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Us.transform(jd(e))+", "+Us.transform(jd(n))+", "+jd(Rd.transform(r))+")"},V0=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},lq=[Ib,Ca,ic],cq=t=>lq.find(e=>e.test(t));function zT(t){const e=cq(t);let n=e.parse(t);return e===ic&&(n=iq(n)),n}const BT=(t,e)=>{const n=zT(t),r=zT(e),s={...n};return i=>(s.red=V0(n.red,r.red,i),s.green=V0(n.green,r.green,i),s.blue=V0(n.blue,r.blue,i),s.alpha=Tt(n.alpha,r.alpha,i),Ca.transform(s))},Rn={test:t=>Ca.test(t)||Ib.test(t)||ic.test(t),parse:t=>Ca.test(t)?Ca.parse(t):ic.test(t)?ic.parse(t):Ib.parse(t),transform:t=>Zh(t)?t:t.hasOwnProperty("red")?Ca.transform(t):ic.transform(t)};function uq(t){var e,n;return isNaN(t)&&Zh(t)&&(((e=t.match(Yx))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(lH))===null||n===void 0?void 0:n.length)||0)>0}const eD="number",tD="color",dq="var",hq="var(",UT="${}",WT=/(var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\))|(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))|((-)?([\d]*\.?[\d])+)/gi;function vg(t){const e=t.toString(),n=e.match(WT)||[],r=[],s={color:[],number:[],var:[]},i=[];for(let l=0;l<n.length;l++){const c=n[l];Rn.test(c)?(s.color.push(l),i.push(tD),r.push(Rn.parse(c))):c.startsWith(hq)?(s.var.push(l),i.push(dq),r.push(c)):(s.number.push(l),i.push(eD),r.push(parseFloat(c)))}const a=e.replace(WT,UT).split(UT);return{values:r,split:a,indexes:s,types:i}}function nD(t){return vg(t).values}function rD(t){const{split:e,types:n}=vg(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===eD?i+=jd(s[o]):a===tD?i+=Rn.transform(s[o]):i+=s[o]}return i}}const fq=t=>typeof t=="number"?0:t;function pq(t){const e=nD(t);return rD(t)(e.map(fq))}const $o={test:uq,parse:nD,createTransformer:rD,getAnimatableNone:pq};function kb(t,e){return n=>n>0?e:t}function mq(t,e){return n=>Tt(t,e,n)}function aS(t){return typeof t=="number"?mq:typeof t=="string"?pg(t)?kb:Rn.test(t)?BT:yq:Array.isArray(t)?sD:typeof t=="object"?Rn.test(t)?BT:gq:kb}function sD(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>aS(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function gq(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=aS(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function vq(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],a=t.indexes[o][s[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[i]=l,s[o]++}return r}const yq=(t,e)=>{const n=$o.createTransformer(e),r=vg(t),s=vg(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Si(sD(vq(r,s),s.values),n):kb(t,e)};function iD(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Tt(t,e,n):aS(t)(t,e)}function _q(t,e,n){const r=[],s=n||iD,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Ut:e;a=Si(l,a)}r.push(a)}return r}function bq(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(rS(i===e.length),i===1)return()=>e[0];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=_q(e,r,s),a=o.length,l=c=>{let d=0;if(a>1)for(;d<t.length-2&&!(c<t[d+1]);d++);const f=bh(t[d],t[d+1],c);return o[d](f)};return n?c=>l(Fo(t[0],t[i-1],c)):l}function wq(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=bh(0,e,r);t.push(Tt(n,1,s))}}function xq(t){const e=[0];return wq(e,t.length-1),e}function Sq(t,e){return t.map(n=>n*e)}function Eq(t,e){return t.map(()=>e||Kj).splice(0,t.length-1)}function yg({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=eq(r)?r.map($T):$T(r),i={done:!1,value:e[0]},o=Sq(n&&n.length===e.length?n:xq(e),t),a=bq(o,e,{ease:Array.isArray(s)?s:Eq(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}function oD(t,e){return e?t*(1e3/e):0}const Cq=5;function aD(t,e,n){const r=Math.max(e-Cq,0);return oD(n-t(r),e-r)}const F0=.001,Tq=.01,Iq=10,kq=.05,Pq=1;function Aq({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,i,o=1-e;o=Fo(kq,Pq,o),t=Fo(Tq,Iq,Ei(t)),o<1?(s=c=>{const d=c*o,f=d*t,p=d-n,m=Pb(c,o),_=Math.exp(-f);return F0-p/m*_},i=c=>{const f=c*o*t,p=f*n+n,m=Math.pow(o,2)*Math.pow(c,2)*t,_=Math.exp(-f),y=Pb(Math.pow(c,2),o);return(-s(c)+F0>0?-1:1)*((p-m)*_)/y}):(s=c=>{const d=Math.exp(-c*t),f=(c-n)*t+1;return-F0+d*f},i=c=>{const d=Math.exp(-c*t),f=(n-c)*(t*t);return d*f});const a=5/t,l=jq(s,i,a);if(t=Da(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const Rq=12;function jq(t,e,n){let r=n;for(let s=1;s<Rq;s++)r=r-t(r)/e(r);return r}function Pb(t,e){return t*Math.sqrt(1-e*e)}const Dq=["duration","bounce"],Nq=["stiffness","damping","mass"];function HT(t,e){return e.some(n=>t[n]!==void 0)}function Oq(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!HT(t,Nq)&&HT(t,Dq)){const n=Aq(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function lD({keyframes:t,restDelta:e,restSpeed:n,...r}){const s=t[0],i=t[t.length-1],o={done:!1,value:s},{stiffness:a,damping:l,mass:c,duration:d,velocity:f,isResolvedFromDuration:p}=Oq({...r,velocity:-Ei(r.velocity||0)}),m=f||0,_=l/(2*Math.sqrt(a*c)),y=i-s,S=Ei(Math.sqrt(a/c)),x=Math.abs(y)<5;n||(n=x?.01:2),e||(e=x?.005:.5);let b;if(_<1){const w=Pb(S,_);b=k=>{const j=Math.exp(-_*S*k);return i-j*((m+_*S*y)/w*Math.sin(w*k)+y*Math.cos(w*k))}}else if(_===1)b=w=>i-Math.exp(-S*w)*(y+(m+S*y)*w);else{const w=S*Math.sqrt(_*_-1);b=k=>{const j=Math.exp(-_*S*k),O=Math.min(w*k,300);return i-j*((m+_*S*y)*Math.sinh(O)+w*y*Math.cosh(O))/w}}return{calculatedDuration:p&&d||null,next:w=>{const k=b(w);if(p)o.done=w>=d;else{let j=m;w!==0&&(_<1?j=aD(b,w,k):j=0);const O=Math.abs(j)<=n,C=Math.abs(i-k)<=e;o.done=O&&C}return o.value=o.done?i:k,o}}}function qT({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const f=t[0],p={done:!1,value:f},m=T=>a!==void 0&&T<a||l!==void 0&&T>l,_=T=>a===void 0?l:l===void 0||Math.abs(a-T)<Math.abs(l-T)?a:l;let y=n*e;const S=f+y,x=o===void 0?S:o(S);x!==S&&(y=x-f);const b=T=>-y*Math.exp(-T/r),w=T=>x+b(T),k=T=>{const I=b(T),P=w(T);p.done=Math.abs(I)<=c,p.value=p.done?x:P};let j,O;const C=T=>{m(p.value)&&(j=T,O=lD({keyframes:[p.value,_(p.value)],velocity:aD(w,T,p.value),damping:s,stiffness:i,restDelta:c,restSpeed:d}))};return C(0),{calculatedDuration:null,next:T=>{let I=!1;return!O&&j===void 0&&(I=!0,k(T),C(T)),j!==void 0&&T>j?O.next(T-j):(!I&&k(T),p)}}}let vm;function Mq(){vm=void 0}const Na={now:()=>(vm===void 0&&Na.set(fn.isProcessing||bj.useManualTiming?fn.timestamp:performance.now()),vm),set:t=>{vm=t,queueMicrotask(Mq)}},Lq=t=>{const e=({timestamp:n})=>t(n);return{start:()=>wt.update(e,!0),stop:()=>ji(e),now:()=>fn.isProcessing?fn.timestamp:Na.now()}},GT=2e4;function KT(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<GT;)e+=n,r=t.next(e);return e>=GT?1/0:e}const Vq={decay:qT,inertia:qT,tween:yg,keyframes:yg,spring:lD},Fq=t=>t/100;function _g({autoplay:t=!0,delay:e=0,driver:n=Lq,keyframes:r,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:d,onUpdate:f,...p}){let m=1,_=!1,y,S;const x=()=>{S=new Promise(ue=>{y=ue})};x();let b;const w=Vq[s]||yg;let k;w!==yg&&typeof r[0]!="number"&&(k=Si(Fq,iD(r[0],r[1])),r=[0,100]);const j=w({...p,keyframes:r});let O;a==="mirror"&&(O=w({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let C="idle",T=null,I=null,P=null;j.calculatedDuration===null&&i&&(j.calculatedDuration=KT(j));const{calculatedDuration:N}=j;let M=1/0,R=1/0;N!==null&&(M=N+o,R=M*(i+1)-o);let $=0;const Q=ue=>{if(I===null)return;m>0&&(I=Math.min(I,ue)),m<0&&(I=Math.min(ue-R/m,I)),T!==null?$=T:$=Math.round(ue-I)*m;const ve=$-e*(m>=0?1:-1),ie=m>=0?ve<0:ve>R;$=Math.max(ve,0),C==="finished"&&T===null&&($=R);let Ee=$,Ie=j;if(i){const X=Math.min($,R)/M;let re=Math.floor(X),De=X%1;!De&&X>=1&&(De=1),De===1&&re--,re=Math.min(re,i+1),!!(re%2)&&(a==="reverse"?(De=1-De,o&&(De-=o/M)):a==="mirror"&&(Ie=O)),Ee=Fo(0,1,De)*M}const je=ie?{done:!1,value:r[0]}:Ie.next(Ee);k&&(je.value=k(je.value));let{done:pe}=je;!ie&&N!==null&&(pe=m>=0?$>=R:$<=0);const Y=T===null&&(C==="finished"||C==="running"&&pe);return f&&f(je.value),Y&&q(),je},ne=()=>{b&&b.stop(),b=void 0},B=()=>{C="idle",ne(),y(),x(),I=P=null},q=()=>{C="finished",d&&d(),ne(),y()},ee=()=>{if(_)return;b||(b=n(Q));const ue=b.now();l&&l(),T!==null?I=ue-T:(!I||C==="finished")&&(I=ue),C==="finished"&&x(),P=I,T=null,C="running",b.start()};t&&ee();const he={then(ue,ve){return S.then(ue,ve)},get time(){return Ei($)},set time(ue){ue=Da(ue),$=ue,T!==null||!b||m===0?T=ue:I=b.now()-ue/m},get duration(){const ue=j.calculatedDuration===null?KT(j):j.calculatedDuration;return Ei(ue)},get speed(){return m},set speed(ue){ue===m||!b||(m=ue,he.time=Ei($))},get state(){return C},play:ee,pause:()=>{C="paused",T=$},stop:()=>{_=!0,C!=="idle"&&(C="idle",c&&c(),B())},cancel:()=>{P!==null&&Q(P),B()},complete:()=>{C="finished"},sample:ue=>(I=0,Q(ue))};return he}function $q(t){let e;return()=>(e===void 0&&(e=t()),e)}const zq=$q(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Bq=new Set(["opacity","clipPath","filter","transform"]),jp=10,Uq=2e4,Wq=(t,e)=>e.type==="spring"||t==="backgroundColor"||!Wj(e.ease);function Hq(t,e,{onUpdate:n,onComplete:r,...s}){if(!(zq()&&Bq.has(e)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let o=!1,a,l,c=!1;const d=()=>{l=new Promise(w=>{a=w})};d();let{keyframes:f,duration:p=300,ease:m,times:_}=s;if(Wq(e,s)){const w=_g({...s,repeat:0,delay:0});let k={done:!1,value:f[0]};const j=[];let O=0;for(;!k.done&&O<Uq;)k=w.sample(O),j.push(k.value),O+=jp;_=void 0,f=j,p=O-jp,m="linear"}const y=GH(t.owner.current,e,f,{...s,duration:p,ease:m,times:_}),S=()=>{c=!1,y.cancel()},x=()=>{c=!0,wt.update(S),a(),d()};return y.onfinish=()=>{c||(t.set(KH(f,s)),r&&r(),x())},{then(w,k){return l.then(w,k)},attachTimeline(w){return y.timeline=w,y.onfinish=null,Ut},get time(){return Ei(y.currentTime||0)},set time(w){y.currentTime=Da(w)},get speed(){return y.playbackRate},set speed(w){y.playbackRate=w},get duration(){return Ei(p)},play:()=>{o||(y.play(),ji(S))},pause:()=>y.pause(),stop:()=>{if(o=!0,y.playState==="idle")return;const{currentTime:w}=y;if(w){const k=_g({...s,autoplay:!1});t.setWithVelocity(k.sample(w-jp).value,k.sample(w).value,jp)}x()},complete:()=>{c||y.finish()},cancel:x}}function qq({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const s=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Ut,pause:Ut,stop:Ut,then:i=>(i(),Promise.resolve()),cancel:Ut,complete:Ut});return e?_g({keyframes:[0,1],duration:0,delay:e,onComplete:s}):s()}const Gq={type:"spring",stiffness:500,damping:25,restSpeed:10},Kq=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Qq={type:"keyframes",duration:.8},Yq={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Xq=(t,{keyframes:e})=>e.length>2?Qq:al.has(t)?t.startsWith("scale")?Kq(e[1]):Gq:Yq,Ab=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&($o.test(e)||e==="0")&&!e.startsWith("url(")),Jq=new Set(["brightness","contrast","saturate","opacity"]);function Zq(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Yx)||[];if(!r)return t;const s=n.replace(r,"");let i=Jq.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const eG=/([a-z-]*)\(.*?\)/g,Rb={...$o,getAnimatableNone:t=>{const e=t.match(eG);return e?e.map(Zq).join(" "):t}},tG={...Ij,color:Rn,backgroundColor:Rn,outlineColor:Rn,fill:Rn,stroke:Rn,borderColor:Rn,borderTopColor:Rn,borderRightColor:Rn,borderBottomColor:Rn,borderLeftColor:Rn,filter:Rb,WebkitFilter:Rb},lS=t=>tG[t];function cD(t,e){let n=lS(t);return n!==Rb&&(n=$o),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const uD=t=>/^0[^.\s]+$/.test(t);function nG(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||uD(t)}function rG(t,e,n,r){const s=Ab(e,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const l=[];for(let c=0;c<i.length;c++)i[c]===null&&(i[c]=c===0?o:i[c-1]),nG(i[c])&&l.push(c),typeof i[c]=="string"&&i[c]!=="none"&&i[c]!=="0"&&(a=i[c]);if(s&&l.length&&a)for(let c=0;c<l.length;c++){const d=l[c];i[d]=cD(e,a)}return i}function sG({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}function cS(t,e){return t[e]||t.default||t}const uS=(t,e,n,r={})=>s=>{const i=cS(r,t)||{},o=i.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Da(o);const l=rG(e,t,n,i),c=l[0],d=l[l.length-1],f=Ab(t,c),p=Ab(t,d);let m={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:_=>{e.set(_),i.onUpdate&&i.onUpdate(_)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(sG(i)||(m={...m,...Xq(t,m)}),m.duration&&(m.duration=Da(m.duration)),m.repeatDelay&&(m.repeatDelay=Da(m.repeatDelay)),!f||!p||qH.current||i.type===!1||bj.skipAnimations)return qq(m);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const _=Hq(e,t,m);if(_)return _}return _g(m)};function bg(t){return!!(ur(t)&&t.add)}const dD=t=>/^\-?\d*\.?\d+$/.test(t);function dS(t,e){t.indexOf(e)===-1&&t.push(e)}function hS(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class fS{constructor(){this.subscriptions=[]}add(e){return dS(this.subscriptions,e),()=>hS(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const QT=30,iG=t=>!isNaN(parseFloat(t));class oG{constructor(e,n={}){this.version="11.0.5",this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=Na.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.canTrackVelocity=iG(this.current),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Na.now()}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new fS);const r=this.events[e].add(n);return e==="change"?()=>{r(),wt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Na.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>QT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,QT);return oD(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function zc(t,e){return new oG(t,e)}const hD=t=>e=>e.test(t),aG={test:t=>t==="auto",parse:t=>t},fD=[au,Ce,Us,ao,dH,uH,aG],Qu=t=>fD.find(hD(t)),lG=[...fD,Rn,$o],cG=t=>lG.find(hD(t));function uG(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,zc(n))}function dG(t,e){const n=Lv(t,e);let{transitionEnd:r={},transition:s={},...i}=n?t.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const o in i){const a=CH(i[o]);uG(t,o,a)}}function hG(t,e,n){var r,s;const i=Object.keys(e).filter(a=>!t.hasValue(a)),o=i.length;if(o)for(let a=0;a<o;a++){const l=i[a],c=e[l];let d=null;Array.isArray(c)&&(d=c[0]),d===null&&(d=(s=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&s!==void 0?s:e[l]),d!=null&&(typeof d=="string"&&(dD(d)||uD(d))?d=parseFloat(d):!cG(d)&&$o.test(c)&&(d=cD(l,c)),t.addValue(l,zc(d,{owner:t})),n[l]===void 0&&(n[l]=d),d!==null&&t.setBaseTarget(l,d))}}function fG(t,e){return e?(e[t]||e.default||e).from:void 0}function pG(t,e,n){const r={};for(const s in t){const i=fG(s,e);if(i!==void 0)r[s]=i;else{const o=n.getValue(s);o&&(r[s]=o.get())}}return r}function mG({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function gG(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function pD(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(i=r);const c=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const f in a){const p=t.getValue(f),m=a[f];if(!p||m===void 0||d&&mG(d,f))continue;const _={delay:n,elapsed:0,...cS(i||{},f)};if(window.HandoffAppearAnimations){const x=t.getProps()[_j];if(x){const b=window.HandoffAppearAnimations(x,f,p,wt);b!==null&&(_.elapsed=b,_.isHandoff=!0)}}let y=!_.isHandoff&&!gG(p,m);if(_.type==="spring"&&(p.getVelocity()||_.velocity)&&(y=!1),p.animation&&(y=!1),y)continue;p.start(uS(f,p,m,t.shouldReduceMotion&&al.has(f)?{type:!1}:_));const S=p.animation;bg(l)&&(l.add(f),S.then(()=>l.remove(f))),c.push(S)}return o&&Promise.all(c).then(()=>{o&&dG(t,o)}),c}function jb(t,e,n={}){const r=Lv(t,e,n.custom);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(pD(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:f}=s;return vG(t,e,c+l,d,f,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[l,c]=a==="beforeChildren"?[i,o]:[o,i];return l().then(()=>c())}else return Promise.all([i(),o(n.delay)])}function vG(t,e,n=0,r=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*r,l=s===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(yG).forEach((c,d)=>{c.notify("AnimationStart",e),o.push(jb(c,e,{...i,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function yG(t,e){return t.sortNodePosition(e)}function _G(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>jb(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=jb(t,e,n);else{const s=typeof e=="function"?Lv(t,e,n.custom):e;r=Promise.all(pD(t,s,n))}return r.then(()=>t.notify("AnimationComplete",e))}const bG=[...qx].reverse(),wG=qx.length;function xG(t){return e=>Promise.all(e.map(({animation:n,options:r})=>_G(t,n,r)))}function SG(t){let e=xG(t);const n=CG();let r=!0;const s=(l,c)=>{const d=Lv(t,c);if(d){const{transition:f,transitionEnd:p,...m}=d;l={...l,...m,...p}}return l};function i(l){e=l(t)}function o(l,c){const d=t.getProps(),f=t.getVariantContext(!0)||{},p=[],m=new Set;let _={},y=1/0;for(let x=0;x<wG;x++){const b=bG[x],w=n[b],k=d[b]!==void 0?d[b]:f[b],j=yh(k),O=b===c?w.isActive:null;O===!1&&(y=x);let C=k===f[b]&&k!==d[b]&&j;if(C&&r&&t.manuallyAnimateOnMount&&(C=!1),w.protectedKeys={..._},!w.isActive&&O===null||!k&&!w.prevProp||Nv(k)||typeof k=="boolean")continue;let I=EG(w.prevProp,k)||b===c&&w.isActive&&!C&&j||x>y&&j,P=!1;const N=Array.isArray(k)?k:[k];let M=N.reduce(s,{});O===!1&&(M={});const{prevResolvedValues:R={}}=w,$={...R,...M},Q=ne=>{I=!0,m.has(ne)&&(P=!0,m.delete(ne)),w.needsAnimating[ne]=!0};for(const ne in $){const B=M[ne],q=R[ne];if(_.hasOwnProperty(ne))continue;let ee=!1;gg(B)&&gg(q)?ee=!Bj(B,q):ee=B!==q,ee?B!==void 0?Q(ne):m.add(ne):B!==void 0&&m.has(ne)?Q(ne):w.protectedKeys[ne]=!0}w.prevProp=k,w.prevResolvedValues=M,w.isActive&&(_={..._,...M}),r&&t.blockInitialAnimation&&(I=!1),I&&(!C||P)&&p.push(...N.map(ne=>({animation:ne,options:{type:b,...l}})))}if(m.size){const x={};m.forEach(b=>{const w=t.getBaseTarget(b);w!==void 0&&(x[b]=w)}),p.push({animation:x})}let S=!!p.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(p):Promise.resolve()}function a(l,c,d){var f;if(n[l].isActive===c)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(m=>{var _;return(_=m.animationState)===null||_===void 0?void 0:_.setActive(l,c)}),n[l].isActive=c;const p=o(d,l);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n}}function EG(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Bj(e,t):!1}function ha(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function CG(){return{animate:ha(!0),whileInView:ha(),whileHover:ha(),whileTap:ha(),whileDrag:ha(),whileFocus:ha(),exit:ha()}}class TG extends Qo{constructor(e){super(e),e.animationState||(e.animationState=SG(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Nv(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let IG=0;class kG extends Qo{constructor(){super(...arguments),this.id=IG++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const PG={animation:{Feature:TG},exit:{Feature:kG}},YT=(t,e)=>Math.abs(t-e);function AG(t,e){const n=YT(t.x,e.x),r=YT(t.y,e.y);return Math.sqrt(n**2+r**2)}class mD{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=z0(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=AG(f.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:_}=f,{timestamp:y}=fn;this.history.push({..._,timestamp:y});const{onStart:S,onMove:x}=this.handlers;p||(S&&S(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=$0(p,this.transformPagePoint),wt.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:m,onSessionEnd:_,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=z0(f.type==="pointercancel"?this.lastMoveEventInfo:$0(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,S),_&&_(f,S)},!Lj(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=Mv(e),a=$0(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=fn;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,z0(a,this.history)),this.removeListeners=Si(xi(this.contextWindow,"pointermove",this.handlePointerMove),xi(this.contextWindow,"pointerup",this.handlePointerUp),xi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ji(this.updatePoint)}}function $0(t,e){return e?{point:e(t.point)}:t}function XT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function z0({point:t},e){return{point:t,delta:XT(t,gD(e)),offset:XT(t,RG(e)),velocity:jG(e,.1)}}function RG(t){return t[0]}function gD(t){return t[t.length-1]}function jG(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=gD(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Da(e)));)n--;if(!r)return{x:0,y:0};const i=Ei(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Sr(t){return t.max-t.min}function Db(t,e=0,n=.01){return Math.abs(t-e)<=n}function JT(t,e,n,r=.5){t.origin=r,t.originPoint=Tt(e.min,e.max,t.origin),t.scale=Sr(n)/Sr(e),(Db(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Tt(n.min,n.max,t.origin)-t.originPoint,(Db(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Dd(t,e,n,r){JT(t.x,e.x,n.x,r?r.originX:void 0),JT(t.y,e.y,n.y,r?r.originY:void 0)}function ZT(t,e,n){t.min=n.min+e.min,t.max=t.min+Sr(e)}function DG(t,e,n){ZT(t.x,e.x,n.x),ZT(t.y,e.y,n.y)}function eI(t,e,n){t.min=e.min-n.min,t.max=t.min+Sr(e)}function Nd(t,e,n){eI(t.x,e.x,n.x),eI(t.y,e.y,n.y)}function NG(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Tt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Tt(n,t,r.max):Math.min(t,n)),t}function tI(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function OG(t,{top:e,left:n,bottom:r,right:s}){return{x:tI(t.x,n,s),y:tI(t.y,e,r)}}function nI(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function MG(t,e){return{x:nI(t.x,e.x),y:nI(t.y,e.y)}}function LG(t,e){let n=.5;const r=Sr(t),s=Sr(e);return s>r?n=bh(e.min,e.max-r,t.min):r>s&&(n=bh(t.min,t.max-s,e.min)),Fo(0,1,n)}function VG(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Nb=.35;function FG(t=Nb){return t===!1?t=0:t===!0&&(t=Nb),{x:rI(t,"left","right"),y:rI(t,"top","bottom")}}function rI(t,e,n){return{min:sI(t,e),max:sI(t,n)}}function sI(t,e){return typeof t=="number"?t:t[e]||0}const iI=()=>({translate:0,scale:1,origin:0,originPoint:0}),oc=()=>({x:iI(),y:iI()}),oI=()=>({min:0,max:0}),Nt=()=>({x:oI(),y:oI()});function Vr(t){return[t("x"),t("y")]}function vD({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function $G({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function zG(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function B0(t){return t===void 0||t===1}function Ob({scale:t,scaleX:e,scaleY:n}){return!B0(t)||!B0(e)||!B0(n)}function ma(t){return Ob(t)||yD(t)||t.z||t.rotate||t.rotateX||t.rotateY}function yD(t){return aI(t.x)||aI(t.y)}function aI(t){return t&&t!=="0%"}function wg(t,e,n){const r=t-n,s=e*r;return n+s}function lI(t,e,n,r,s){return s!==void 0&&(t=wg(t,s,r)),wg(t,n,r)+e}function Mb(t,e=0,n=1,r,s){t.min=lI(t.min,e,n,r,s),t.max=lI(t.max,e,n,r,s)}function _D(t,{x:e,y:n}){Mb(t.x,e.translate,e.scale,e.originPoint),Mb(t.y,n.translate,n.scale,n.originPoint)}function BG(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ac(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,_D(t,o)),r&&ma(i.latestValues)&&ac(t,i.latestValues))}e.x=cI(e.x),e.y=cI(e.y)}function cI(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function uo(t,e){t.min=t.min+e,t.max=t.max+e}function uI(t,e,[n,r,s]){const i=e[s]!==void 0?e[s]:.5,o=Tt(t.min,t.max,i);Mb(t,e[n],e[r],o,e.scale)}const UG=["x","scaleX","originX"],WG=["y","scaleY","originY"];function ac(t,e){uI(t.x,e,UG),uI(t.y,e,WG)}function bD(t,e){return vD(zG(t.getBoundingClientRect(),e))}function HG(t,e,n){const r=bD(t,n),{scroll:s}=e;return s&&(uo(r.x,s.offset.x),uo(r.y,s.offset.y)),r}const wD=({current:t})=>t?t.ownerDocument.defaultView:null,qG=new WeakMap;class GG{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Nt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Mv(d,"page").point)},i=(d,f)=>{const{drag:p,dragPropagation:m,onDragStart:_}=this.getProps();if(p&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Fj(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Vr(S=>{let x=this.getAxisMotionValue(S).get()||0;if(Us.test(x)){const{projection:b}=this.visualElement;if(b&&b.layout){const w=b.layout.layoutBox[S];w&&(x=Sr(w)*(parseFloat(x)/100))}}this.originPoint[S]=x}),_&&wt.update(()=>_(d,f),!1,!0);const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:_,onDrag:y}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:S}=f;if(m&&this.currentDirection===null){this.currentDirection=KG(S),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",f.point,S),this.updateAxis("y",f.point,S),this.visualElement.render(),y&&y(d,f)},a=(d,f)=>this.stop(d,f),l=()=>Vr(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new mD(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:wD(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&wt.update(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Dp(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=NG(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&sc(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=OG(s.layoutBox,n):this.constraints=!1,this.elastic=FG(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Vr(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=VG(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!sc(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=HG(r,s.root,this.visualElement.getTransformPagePoint());let o=MG(s.layout.layoutBox,i);if(n){const a=n($G(o));this.hasMutatedConstraints=!!a,a&&(o=vD(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Vr(d=>{if(!Dp(d,n,this.currentDirection))return;let f=l&&l[d]||{};o&&(f={min:0,max:0});const p=s?200:1e6,m=s?40:1e7,_={type:"inertia",velocity:r?e[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,_)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(uS(e,r,0,n))}stopAnimation(){Vr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Vr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Vr(n=>{const{drag:r}=this.getProps();if(!Dp(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-Tt(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!sc(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Vr(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();s[o]=LG({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Vr(o=>{if(!Dp(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Tt(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;qG.set(this.visualElement,this);const e=this.visualElement.current,n=xi(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();sc(l)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const o=mi(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Vr(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Nb,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Dp(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function KG(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class QG extends Qo{constructor(e){super(e),this.removeGroupControls=Ut,this.removeListeners=Ut,this.controls=new GG(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ut}unmount(){this.removeGroupControls(),this.removeListeners()}}const dI=t=>(e,n)=>{t&&wt.update(()=>t(e,n))};class YG extends Qo{constructor(){super(...arguments),this.removePointerDownListener=Ut}onPointerDown(e){this.session=new mD(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:wD(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:dI(e),onStart:dI(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&wt.update(()=>s(i,o))}}}mount(){this.removePointerDownListener=xi(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function xD(){const t=g.useContext(Xh);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=g.useId();return g.useEffect(()=>r(s),[]),!e&&n?[!1,()=>n&&n(s)]:[!0]}function XG(){return JG(g.useContext(Xh))}function JG(t){return t===null?!0:t.isPresent}const ym={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function hI(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Yu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ce.test(t))t=parseFloat(t);else return t;const n=hI(t,e.target.x),r=hI(t,e.target.y);return`${n}% ${r}%`}},ZG={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=$o.parse(t);if(s.length>5)return r;const i=$o.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=Tt(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};class eK extends nr.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;tH(tK),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),ym.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||wt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Hx.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function SD(t){const[e,n]=xD(),r=g.useContext(Kx);return nr.createElement(eK,{...t,layoutGroup:r,switchLayoutGroup:g.useContext(Sj),isPresent:e,safeToRemove:n})}const tK={borderRadius:{...Yu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Yu,borderTopRightRadius:Yu,borderBottomLeftRadius:Yu,borderBottomRightRadius:Yu,boxShadow:ZG},ED=["TopLeft","TopRight","BottomLeft","BottomRight"],nK=ED.length,fI=t=>typeof t=="string"?parseFloat(t):t,pI=t=>typeof t=="number"||Ce.test(t);function rK(t,e,n,r,s,i){s?(t.opacity=Tt(0,n.opacity!==void 0?n.opacity:1,sK(r)),t.opacityExit=Tt(e.opacity!==void 0?e.opacity:1,0,iK(r))):i&&(t.opacity=Tt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<nK;o++){const a=`border${ED[o]}Radius`;let l=mI(e,a),c=mI(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||pI(l)===pI(c)?(t[a]=Math.max(Tt(fI(l),fI(c),r),0),(Us.test(c)||Us.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Tt(e.rotate||0,n.rotate||0,r))}function mI(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const sK=CD(0,.5,Xj),iK=CD(.5,.95,Ut);function CD(t,e,n){return r=>r<t?0:r>e?1:n(bh(t,e,r))}function gI(t,e){t.min=e.min,t.max=e.max}function Mr(t,e){gI(t.x,e.x),gI(t.y,e.y)}function vI(t,e,n,r,s){return t-=e,t=wg(t,1/n,r),s!==void 0&&(t=wg(t,1/s,r)),t}function oK(t,e=0,n=1,r=.5,s,i=t,o=t){if(Us.test(e)&&(e=parseFloat(e),e=Tt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Tt(i.min,i.max,r);t===i&&(a-=e),t.min=vI(t.min,e,n,a,s),t.max=vI(t.max,e,n,a,s)}function yI(t,e,[n,r,s],i,o){oK(t,e[n],e[r],e[s],e.scale,i,o)}const aK=["x","scaleX","originX"],lK=["y","scaleY","originY"];function _I(t,e,n,r){yI(t.x,e,aK,n?n.x:void 0,r?r.x:void 0),yI(t.y,e,lK,n?n.y:void 0,r?r.y:void 0)}function bI(t){return t.translate===0&&t.scale===1}function TD(t){return bI(t.x)&&bI(t.y)}function cK(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function ID(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function wI(t){return Sr(t.x)/Sr(t.y)}class uK{constructor(){this.members=[]}add(e){dS(this.members,e),e.scheduleRender()}remove(e){if(hS(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function xI(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y;if((s||i)&&(r=`translate3d(${s}px, ${i}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),d&&(r+=`rotateY(${d}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const dK=(t,e)=>t.depth-e.depth;class hK{constructor(){this.children=[],this.isDirty=!1}add(e){dS(this.children,e),this.isDirty=!0}remove(e){hS(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(dK),this.isDirty=!1,this.children.forEach(e)}}function fK(t,e){const n=Na.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(ji(r),t(i-e))};return wt.read(r,!0),()=>ji(r)}function pK(t){window.MotionDebug&&window.MotionDebug.record(t)}function mK(t){return t instanceof SVGElement&&t.tagName!=="svg"}function gK(t,e,n){const r=ur(t)?t:zc(t);return r.start(uS("",r,e,n)),r.animation}const SI=["","X","Y","Z"],vK={visibility:"hidden"},EI=1e3;let yK=0;const ga={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function kD({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=yK++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ga.totalNodes=ga.resolvedTargetDeltas=ga.recalculatedProjection=0,this.nodes.forEach(wK),this.nodes.forEach(TK),this.nodes.forEach(IK),this.nodes.forEach(xK),pK(ga)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new hK)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new fS),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=mK(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let f;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=fK(p,250),ym.hasAnimatedSinceResize&&(ym.hasAnimatedSinceResize=!1,this.nodes.forEach(TI))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||d.getDefaultTransition()||jK,{onLayoutAnimationStart:S,onLayoutAnimationComplete:x}=d.getProps(),b=!this.targetLayout||!ID(this.targetLayout,_)||m,w=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||p&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const k={...cS(y,"layout"),onPlay:S,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k)}else p||TI(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ji(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(kK),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(CI);return}this.isUpdating||this.nodes.forEach(EK),this.isUpdating=!1,this.nodes.forEach(CK),this.nodes.forEach(_K),this.nodes.forEach(bK),this.clearAllSnapshots();const a=Na.now();fn.delta=Fo(0,1e3/60,a-fn.timestamp),fn.timestamp=a,fn.isProcessing=!0,D0.update.process(fn),D0.preRender.process(fn),D0.render.process(fn),fn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Hx.read(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(SK),this.sharedNodes.forEach(PK)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,wt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){wt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Nt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!TD(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&(a||ma(this.latestValues)||d)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),DK(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Nt();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(uo(a.x,l.offset.x),uo(a.y,l.offset.y)),a}removeElementScroll(o){const a=Nt();Mr(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:d,options:f}=c;if(c!==this.root&&d&&f.layoutScroll){if(d.isRoot){Mr(a,o);const{scroll:p}=this.root;p&&(uo(a.x,-p.offset.x),uo(a.y,-p.offset.y))}uo(a.x,d.offset.x),uo(a.y,d.offset.y)}}return a}applyTransform(o,a=!1){const l=Nt();Mr(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&ac(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ma(d.latestValues)&&ac(l,d.latestValues)}return ma(this.latestValues)&&ac(l,this.latestValues),l}removeTransform(o){const a=Nt();Mr(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!ma(c.latestValues))continue;Ob(c.latestValues)&&c.updateSnapshot();const d=Nt(),f=c.measurePageBox();Mr(d,f),_I(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return ma(this.latestValues)&&_I(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==fn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=fn.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Nt(),this.relativeTargetOrigin=Nt(),Nd(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Mr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Nt(),this.targetWithTransforms=Nt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),DG(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Mr(this.target,this.layout.layoutBox),_D(this.target,this.targetDelta)):Mr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Nt(),this.relativeTargetOrigin=Nt(),Nd(this.relativeTargetOrigin,this.target,m.target),Mr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ga.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Ob(this.parent.latestValues)||yD(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===fn.timestamp&&(c=!1),c)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Mr(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;BG(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Nt());const{target:_}=a;if(!_){this.projectionTransform&&(this.projectionDelta=oc(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=oc(),this.projectionDeltaWithTransform=oc());const y=this.projectionTransform;Dd(this.projectionDelta,this.layoutCorrected,_,this.latestValues),this.projectionTransform=xI(this.projectionDelta,this.treeScale),(this.projectionTransform!==y||this.treeScale.x!==p||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_)),ga.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},f=oc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Nt(),m=l?l.source:void 0,_=this.layout?this.layout.source:void 0,y=m!==_,S=this.getStack(),x=!S||S.members.length<=1,b=!!(y&&!x&&this.options.crossfade===!0&&!this.path.some(RK));this.animationProgress=0;let w;this.mixTargetDelta=k=>{const j=k/1e3;II(f.x,o.x,j),II(f.y,o.y,j),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Nd(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),AK(this.relativeTarget,this.relativeTargetOrigin,p,j),w&&cK(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Nt()),Mr(w,this.relativeTarget)),y&&(this.animationValues=d,rK(d,c,this.latestValues,j,b,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ji(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=wt.update(()=>{ym.hasAnimatedSinceResize=!0,this.currentAnimation=gK(0,EI,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(EI),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&PD(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Nt();const f=Sr(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const p=Sr(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}Mr(a,l),ac(a,d),Dd(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new uK),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let d=0;d<SI.length;d++){const f="rotate"+SI[d];l[f]&&(c[f]=l[f],o.setStaticValue(f,0))}o.render();for(const d in c)o.setStaticValue(d,c[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return vK;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=gm(o==null?void 0:o.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=gm(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ma(this.latestValues)&&(y.transform=d?d({},""):"none",this.hasProjected=!1),y}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=xI(this.projectionDeltaWithTransform,this.treeScale,p),d&&(c.transform=d(p,c.transform));const{x:m,y:_}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${_.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const y in fg){if(p[y]===void 0)continue;const{correct:S,applyTo:x}=fg[y],b=c.transform==="none"?p[y]:S(p[y],f);if(x){const w=x.length;for(let k=0;k<w;k++)c[x[k]]=b}else c[y]=b}return this.options.layoutId&&(c.pointerEvents=f===this?gm(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(CI),this.root.sharedNodes.clear()}}}function _K(t){t.updateLayout()}function bK(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?Vr(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],m=Sr(p);p.min=r[f].min,p.max=p.min+m}):PD(i,n.layoutBox,r)&&Vr(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],m=Sr(r[f]);p.max=p.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+m)});const a=oc();Dd(a,r,n.layoutBox);const l=oc();o?Dd(l,t.applyTransform(s,!0),n.measuredBox):Dd(l,r,n.layoutBox);const c=!TD(a);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:m}=f;if(p&&m){const _=Nt();Nd(_,n.layoutBox,p.layoutBox);const y=Nt();Nd(y,r,m.layoutBox),ID(_,y)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=_,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function wK(t){ga.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function xK(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function SK(t){t.clearSnapshot()}function CI(t){t.clearMeasurements()}function EK(t){t.isLayoutDirty=!1}function CK(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function TI(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function TK(t){t.resolveTargetDelta()}function IK(t){t.calcProjection()}function kK(t){t.resetRotation()}function PK(t){t.removeLeadSnapshot()}function II(t,e,n){t.translate=Tt(e.translate,0,n),t.scale=Tt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function kI(t,e,n,r){t.min=Tt(e.min,n.min,r),t.max=Tt(e.max,n.max,r)}function AK(t,e,n,r){kI(t.x,e.x,n.x,r),kI(t.y,e.y,n.y,r)}function RK(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const jK={duration:.45,ease:[.4,0,.1,1]},PI=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),AI=PI("applewebkit/")&&!PI("chrome/")?Math.round:Ut;function RI(t){t.min=AI(t.min),t.max=AI(t.max)}function DK(t){RI(t.x),RI(t.y)}function PD(t,e,n){return t==="position"||t==="preserve-aspect"&&!Db(wI(e),wI(n),.2)}const NK=kD({attachResizeListener:(t,e)=>mi(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),U0={current:void 0},AD=kD({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!U0.current){const t=new NK({});t.mount(window),t.setOptions({layoutScroll:!0}),U0.current=t}return U0.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),OK={pan:{Feature:YG},drag:{Feature:QG,ProjectionNode:AD,MeasureLayout:SD}},MK=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function LK(t){const e=MK.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function Lb(t,e,n=1){const[r,s]=LK(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return dD(o)?parseFloat(o):o}else return pg(s)?Lb(s,e,n+1):s}function VK(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(s=>{const i=s.get();if(!pg(i))return;const o=Lb(i,r);o&&s.set(o)});for(const s in e){const i=e[s];if(!pg(i))continue;const o=Lb(i,r);o&&(e[s]=o,n||(n={}),n[s]===void 0&&(n[s]=i))}return{target:e,transitionEnd:n}}const FK=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),RD=t=>FK.has(t),$K=t=>Object.keys(t).some(RD),jI=t=>t===au||t===Ce,DI=(t,e)=>parseFloat(t.split(", ")[e]),NI=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return DI(s[1],e);{const i=r.match(/^matrix\((.+)\)$/);return i?DI(i[1],t):0}},zK=new Set(["x","y","z"]),BK=Jh.filter(t=>!zK.has(t));function UK(t){const e=[];return BK.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Bc={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:NI(4,13),y:NI(5,14)};Bc.translateX=Bc.x;Bc.translateY=Bc.y;const WK=(t,e,n)=>{const r=e.measureViewportBox(),s=e.current,i=getComputedStyle(s),{display:o}=i,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{a[c]=Bc[c](r,i)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const d=e.getValue(c);d&&d.jump(a[c]),t[c]=Bc[c](l,i)}),t},HK=(t,e,n={},r={})=>{e={...e},r={...r};const s=Object.keys(e).filter(RD);let i=[],o=!1;const a=[];if(s.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let d=n[l],f=Qu(d);const p=e[l];let m;if(gg(p)){const _=p.length,y=p[0]===null?1:0;d=p[y],f=Qu(d);for(let S=y;S<_&&p[S]!==null;S++)m?rS(Qu(p[S])===m):m=Qu(p[S])}else m=Qu(p);if(f!==m)if(jI(f)&&jI(m)){const _=c.get();typeof _=="string"&&c.set(parseFloat(_)),typeof p=="string"?e[l]=parseFloat(p):Array.isArray(p)&&m===Ce&&(e[l]=p.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(d===0||p===0)?d===0?c.set(m.transform(d)):e[l]=f.transform(p):(o||(i=UK(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(p))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=WK(e,t,a);return i.length&&i.forEach(([d,f])=>{t.getValue(d).set(f)}),t.render(),Dv&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function qK(t,e,n,r){return $K(e)?HK(t,e,n,r):{target:e,transitionEnd:r}}const GK=(t,e,n,r)=>{const s=VK(t,e,r);return e=s.target,r=s.transitionEnd,qK(t,e,n,r)},Vb={current:null},jD={current:!1};function KK(){if(jD.current=!0,!!Dv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Vb.current=t.matches;t.addListener(e),e()}else Vb.current=!1}function QK(t,e,n){const{willChange:r}=e;for(const s in e){const i=e[s],o=n[s];if(ur(i))t.addValue(s,i),bg(r)&&r.add(s);else if(ur(o))t.addValue(s,zc(i,{owner:t})),bg(r)&&r.remove(s);else if(o!==i)if(t.hasValue(s)){const a=t.getValue(s);!a.hasAnimated&&a.set(i)}else{const a=t.getStaticValue(s);t.addValue(s,zc(a!==void 0?a:i,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const OI=new WeakMap,DD=Object.keys(_h),YK=DD.length,MI=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],XK=Gx.length;class JK{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>wt.render(this.render,!1,!0);const{latestValues:a,renderState:l}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=Ov(n),this.isVariantNode=xj(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const p=d[f];a[f]!==void 0&&ur(p)&&(p.set(a[f],!1),bg(c)&&c.add(f))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,OI.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),jD.current||KK(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Vb.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){OI.delete(this.current),this.projection&&this.projection.unmount(),ji(this.notifyUpdate),ji(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=al.has(e),s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&wt.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),i()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,s,i){let o,a;for(let l=0;l<YK;l++){const c=DD[l],{isEnabled:d,Feature:f,ProjectionNode:p,MeasureLayout:m}=_h[c];p&&(o=p),d(n)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),m&&(a=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:d,dragConstraints:f,layoutScroll:p,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!d||f&&sc(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:m})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Nt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<MI.length;r++){const s=MI[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=e["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=QK(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<XK;r++){const s=Gx[r],i=this.props[s];(yh(i)||i===!1)&&(n[s]=i)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=zc(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=nS(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!ur(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new fS),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class ND extends JK{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},s){const i=pG(r,e||{},this);if(s){hG(this,r,i);const o=GK(this,r,i,n);n=o.transitionEnd,r=o.target}return{transition:e,transitionEnd:n,...r}}}function ZK(t){return window.getComputedStyle(t)}class eQ extends ND{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(al.has(n)){const r=lS(n);return r&&r.default||0}else{const r=ZK(e),s=(Tj(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return bD(e,n)}build(e,n,r,s){Xx(e,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,n){return tS(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ur(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,s){Rj(e,n,r,s)}}class tQ extends ND{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(al.has(n)){const r=lS(n);return r&&r.default||0}return n=jj.has(n)?n:Wx(n),e.getAttribute(n)}measureInstanceViewportBox(){return Nt()}scrapeMotionValuesFromProps(e,n){return Nj(e,n)}build(e,n,r,s){Zx(e,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,r,s){Dj(e,n,r,s)}mount(e){this.isSVGTag=eS(e.tagName),super.mount(e)}}const nQ=(t,e)=>Qx(t)?new tQ(e,{enableHardwareAcceleration:!1}):new eQ(e,{enableHardwareAcceleration:!0}),rQ={layout:{ProjectionNode:AD,MeasureLayout:SD}},sQ={...PG,...UH,...OK,...rQ},Yo=Z7((t,e)=>AH(t,e,sQ,nQ));function OD(){const t=g.useRef(!1);return Ux(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function iQ(){const t=OD(),[e,n]=g.useState(0),r=g.useCallback(()=>{t.current&&n(e+1)},[e]);return[g.useCallback(()=>wt.postRender(r),[r]),e]}class oQ extends g.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function aQ({children:t,isPresent:e}){const n=g.useId(),r=g.useRef(null),s=g.useRef({width:0,height:0,top:0,left:0});return g.useInsertionEffect(()=>{const{width:i,height:o,top:a,left:l}=s.current;if(e||!r.current||!i||!o)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),g.createElement(oQ,{isPresent:e,childRef:r,sizeRef:s},g.cloneElement(t,{ref:r}))}const W0=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=Oj(lQ),l=g.useId(),c=g.useMemo(()=>({id:l,initial:e,isPresent:n,custom:s,onExitComplete:d=>{a.set(d,!0);for(const f of a.values())if(!f)return;r&&r()},register:d=>(a.set(d,!1),()=>a.delete(d))}),i?void 0:[n]);return g.useMemo(()=>{a.forEach((d,f)=>a.set(f,!1))},[n]),g.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=g.createElement(aQ,{isPresent:n},t)),g.createElement(Xh.Provider,{value:c},t)};function lQ(){return new Map}function cQ(t){return g.useEffect(()=>()=>t(),[])}const va=t=>t.key||"";function uQ(t,e){t.forEach(n=>{const r=va(n);e.set(r,n)})}function dQ(t){const e=[];return g.Children.forEach(t,n=>{g.isValidElement(n)&&e.push(n)}),e}const lu=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const a=g.useContext(Kx).forceRender||iQ()[0],l=OD(),c=dQ(t);let d=c;const f=g.useRef(new Map).current,p=g.useRef(d),m=g.useRef(new Map).current,_=g.useRef(!0);if(Ux(()=>{_.current=!1,uQ(c,m),p.current=d}),cQ(()=>{_.current=!0,m.clear(),f.clear()}),_.current)return g.createElement(g.Fragment,null,d.map(b=>g.createElement(W0,{key:va(b),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:o},b)));d=[...d];const y=p.current.map(va),S=c.map(va),x=y.length;for(let b=0;b<x;b++){const w=y[b];S.indexOf(w)===-1&&!f.has(w)&&f.set(w,void 0)}return o==="wait"&&f.size&&(d=[]),f.forEach((b,w)=>{if(S.indexOf(w)!==-1)return;const k=m.get(w);if(!k)return;const j=y.indexOf(w);let O=b;if(!O){const C=()=>{f.delete(w);const T=Array.from(m.keys()).filter(I=>!S.includes(I));if(T.forEach(I=>m.delete(I)),p.current=c.filter(I=>{const P=va(I);return P===w||T.includes(P)}),!f.size){if(l.current===!1)return;a(),r&&r()}};O=g.createElement(W0,{key:va(k),isPresent:!1,onExitComplete:C,custom:e,presenceAffectsLayout:i,mode:o},k),f.set(w,O)}d.splice(j,0,O)}),d=d.map(b=>{const w=b.key;return f.has(w)?b:g.createElement(W0,{key:va(b),isPresent:!0,presenceAffectsLayout:i,mode:o},b)}),g.createElement(g.Fragment,null,f.size?d:d.map(b=>g.cloneElement(b)))};var hQ={initial:t=>{const{position:e}=t,n=["top","bottom"].includes(e)?"y":"x";let r=["top-right","bottom-right"].includes(e)?1:-1;return e==="bottom"&&(r=1),{opacity:0,[n]:r*24}},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},MD=g.memo(t=>{const{id:e,message:n,onCloseComplete:r,onRequestRemove:s,requestClose:i=!1,position:o="bottom",duration:a=5e3,containerStyle:l,motionVariants:c=hQ,toastSpacing:d="0.5rem"}=t,[f,p]=g.useState(a),m=XG();vh(()=>{m||r==null||r()},[m]),vh(()=>{p(a)},[a]);const _=()=>p(null),y=()=>p(a),S=()=>{m&&s()};g.useEffect(()=>{m&&i&&s()},[m,i,s]),z7(S,f);const x=g.useMemo(()=>({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:d,...l}),[l,d]),b=g.useMemo(()=>F7(o),[o]);return u.jsx(Yo.div,{layout:!0,className:"chakra-toast",variants:c,initial:"initial",animate:"animate",exit:"exit",onHoverStart:_,onHoverEnd:y,custom:{position:o},style:b,children:u.jsx(ce.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:x,children:us(n,{id:e,onClose:S})})})});MD.displayName="ToastComponent";function fQ(t,e){var n;const r=t??"bottom",i={"top-start":{ltr:"top-left",rtl:"top-right"},"top-end":{ltr:"top-right",rtl:"top-left"},"bottom-start":{ltr:"bottom-left",rtl:"bottom-right"},"bottom-end":{ltr:"bottom-right",rtl:"bottom-left"}}[r];return(n=i==null?void 0:i[e])!=null?n:r}var LI={path:u.jsxs("g",{stroke:"currentColor",strokeWidth:"1.5",children:[u.jsx("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),u.jsx("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),u.jsx("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},ll=ge((t,e)=>{const{as:n,viewBox:r,color:s="currentColor",focusable:i=!1,children:o,className:a,__css:l,...c}=t,d=Ae("chakra-icon",a),f=Zs("Icon",t),p={w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:s,...l,...f},m={ref:e,focusable:i,className:d,__css:p},_=r??LI.viewBox;if(n&&typeof n!="string")return u.jsx(ce.svg,{as:n,...m,...c});const y=o??LI.path;return u.jsx(ce.svg,{verticalAlign:"middle",viewBox:_,...m,...c,children:y})});ll.displayName="Icon";function cl(t){const{viewBox:e="0 0 24 24",d:n,displayName:r,defaultProps:s={}}=t,i=g.Children.toArray(t.path),o=ge((a,l)=>u.jsx(ll,{ref:l,viewBox:e,...s,...a,children:i.length?i:u.jsx("path",{fill:"currentColor",d:n})}));return o.displayName=r,o}function pQ(t){return u.jsx(ll,{viewBox:"0 0 24 24",...t,children:u.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})})}function mQ(t){return u.jsx(ll,{viewBox:"0 0 24 24",...t,children:u.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})})}function VI(t){return u.jsx(ll,{viewBox:"0 0 24 24",...t,children:u.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}var gQ=r3({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),pS=ge((t,e)=>{const n=Zs("Spinner",t),{label:r="Loading...",thickness:s="2px",speed:i="0.45s",emptyColor:o="transparent",className:a,...l}=Zt(t),c=Ae("chakra-spinner",a),d={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:s,borderBottomColor:o,borderLeftColor:o,animation:`${gQ} ${i} linear infinite`,...n};return u.jsx(ce.div,{ref:e,__css:d,className:c,...l,children:r&&u.jsx(ce.span,{srOnly:!0,children:r})})});pS.displayName="Spinner";var[vQ,mS]=Jt({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),[yQ,gS]=Jt({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),LD={info:{icon:mQ,colorScheme:"blue"},warning:{icon:VI,colorScheme:"orange"},success:{icon:pQ,colorScheme:"green"},error:{icon:VI,colorScheme:"red"},loading:{icon:pS,colorScheme:"blue"}};function _Q(t){return LD[t].colorScheme}function bQ(t){return LD[t].icon}var VD=ge(function(e,n){const r=gS(),{status:s}=mS(),i={display:"inline",...r.description};return u.jsx(ce.div,{ref:n,"data-status":s,...e,className:Ae("chakra-alert__desc",e.className),__css:i})});VD.displayName="AlertDescription";function FD(t){const{status:e}=mS(),n=bQ(e),r=gS(),s=e==="loading"?r.spinner:r.icon;return u.jsx(ce.span,{display:"inherit","data-status":e,...t,className:Ae("chakra-alert__icon",t.className),__css:s,children:t.children||u.jsx(n,{h:"100%",w:"100%"})})}FD.displayName="AlertIcon";var $D=ge(function(e,n){const r=gS(),{status:s}=mS();return u.jsx(ce.div,{ref:n,"data-status":s,...e,className:Ae("chakra-alert__title",e.className),__css:r.title})});$D.displayName="AlertTitle";var zD=ge(function(e,n){var r;const{status:s="info",addRole:i=!0,...o}=Zt(e),a=(r=e.colorScheme)!=null?r:_Q(s),l=_s("Alert",{...e,colorScheme:a}),c={width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",...l.container};return u.jsx(vQ,{value:{status:s},children:u.jsx(yQ,{value:l,children:u.jsx(ce.div,{"data-status":s,role:i?"alert":void 0,ref:n,...o,className:Ae("chakra-alert",e.className),__css:c})})})});zD.displayName="Alert";function wQ(t){return u.jsx(ll,{focusable:"false","aria-hidden":!0,...t,children:u.jsx("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})})}var vS=ge(function(e,n){const r=Zs("CloseButton",e),{children:s,isDisabled:i,__css:o,...a}=Zt(e),l={outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0};return u.jsx(ce.button,{type:"button","aria-label":"Close",ref:n,disabled:i,__css:{...l,...r,...o},...a,children:s||u.jsx(wQ,{width:"1em",height:"1em"})})});vS.displayName="CloseButton";var xQ={top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]},Ds=SQ(xQ);function SQ(t){let e=t;const n=new Set,r=s=>{e=s(e),n.forEach(i=>i())};return{getState:()=>e,subscribe:s=>(n.add(s),()=>{r(()=>t),n.delete(s)}),removeToast:(s,i)=>{r(o=>({...o,[i]:o[i].filter(a=>a.id!=s)}))},notify:(s,i)=>{const o=EQ(s,i),{position:a,id:l}=o;return r(c=>{var d,f;const m=a.includes("top")?[o,...(d=c[a])!=null?d:[]]:[...(f=c[a])!=null?f:[],o];return{...c,[a]:m}}),l},update:(s,i)=>{s&&r(o=>{const a={...o},{position:l,index:c}=AT(a,s);return l&&c!==-1&&(a[l][c]={...a[l][c],...i,message:BD(i)}),a})},closeAll:({positions:s}={})=>{r(i=>(s??["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce((l,c)=>(l[c]=i[c].map(d=>({...d,requestClose:!0})),l),{...i}))},close:s=>{r(i=>{const o=gj(i,s);return o?{...i,[o]:i[o].map(a=>a.id==s?{...a,requestClose:!0}:a)}:i})},isActive:s=>!!AT(Ds.getState(),s).position}}var FI=0;function EQ(t,e={}){var n,r;FI+=1;const s=(n=e.id)!=null?n:FI,i=(r=e.position)!=null?r:"bottom";return{id:s,message:t,position:i,duration:e.duration,onCloseComplete:e.onCloseComplete,onRequestRemove:()=>Ds.removeToast(String(s),i),status:e.status,requestClose:!1,containerStyle:e.containerStyle}}var CQ=t=>{const{status:e,variant:n="solid",id:r,title:s,isClosable:i,onClose:o,description:a,colorScheme:l,icon:c}=t,d=r?{root:`toast-${r}`,title:`toast-${r}-title`,description:`toast-${r}-description`}:void 0;return u.jsxs(zD,{addRole:!1,status:e,variant:n,id:d==null?void 0:d.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",colorScheme:l,children:[u.jsx(FD,{children:c}),u.jsxs(ce.div,{flex:"1",maxWidth:"100%",children:[s&&u.jsx($D,{id:d==null?void 0:d.title,children:s}),a&&u.jsx(VD,{id:d==null?void 0:d.description,display:"block",children:a})]}),i&&u.jsx(vS,{size:"sm",onClick:o,position:"absolute",insetEnd:1,top:1})]})};function BD(t={}){const{render:e,toastComponent:n=CQ}=t;return s=>typeof e=="function"?e({...s,...t}):u.jsx(n,{...s,...t})}function TQ(t,e){const n=s=>{var i;return{...e,...s,position:fQ((i=s==null?void 0:s.position)!=null?i:e==null?void 0:e.position,t)}},r=s=>{const i=n(s),o=BD(i);return Ds.notify(o,i)};return r.update=(s,i)=>{Ds.update(s,n(i))},r.promise=(s,i)=>{const o=r({...i.loading,status:"loading",duration:null});s.then(a=>r.update(o,{status:"success",duration:5e3,...us(i.success,a)})).catch(a=>r.update(o,{status:"error",duration:5e3,...us(i.error,a)}))},r.closeAll=Ds.closeAll,r.close=Ds.close,r.isActive=Ds.isActive,r}var[IQ,kQ]=Jt({name:"ToastOptionsContext",strict:!1}),PQ=t=>{const e=g.useSyncExternalStore(Ds.subscribe,Ds.getState,Ds.getState),{motionVariants:n,component:r=MD,portalProps:s}=t,o=Object.keys(e).map(a=>{const l=e[a];return u.jsx("div",{role:"region","aria-live":"polite","aria-label":`Notifications-${a}`,id:`chakra-toast-manager-${a}`,style:$7(a),children:u.jsx(lu,{initial:!1,children:l.map(c=>u.jsx(r,{motionVariants:n,...c},c.id))})},a)});return u.jsx(ou,{...s,children:o})};function Gn(t){const{theme:e}=z2(),n=kQ();return g.useMemo(()=>TQ(e.direction,{...n,...t}),[t,e.direction,n])}var AQ=t=>function({children:n,theme:r=t,toastOptions:s,...i}){return u.jsxs(L7,{theme:r,...i,children:[u.jsx(IQ,{value:s==null?void 0:s.defaultOptions,children:n}),u.jsx(PQ,{...s})]})},RQ=AQ(s7),jQ=Object.defineProperty,DQ=(t,e,n)=>e in t?jQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Rt=(t,e,n)=>(DQ(t,typeof e!="symbol"?e+"":e,n),n);function $I(t){return t.sort((e,n)=>{const r=e.compareDocumentPosition(n);if(r&Node.DOCUMENT_POSITION_FOLLOWING||r&Node.DOCUMENT_POSITION_CONTAINED_BY)return-1;if(r&Node.DOCUMENT_POSITION_PRECEDING||r&Node.DOCUMENT_POSITION_CONTAINS)return 1;if(r&Node.DOCUMENT_POSITION_DISCONNECTED||r&Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC)throw Error("Cannot sort the given nodes.");return 0})}var NQ=t=>typeof t=="object"&&"nodeType"in t&&t.nodeType===Node.ELEMENT_NODE;function zI(t,e,n){let r=t+1;return n&&r>=e&&(r=0),r}function BI(t,e,n){let r=t-1;return n&&r<0&&(r=e),r}var Fb=typeof window<"u"?g.useLayoutEffect:g.useEffect,xg=t=>t,OQ=class{constructor(){Rt(this,"descendants",new Map),Rt(this,"register",t=>{if(t!=null)return NQ(t)?this.registerNode(t):e=>{this.registerNode(e,t)}}),Rt(this,"unregister",t=>{this.descendants.delete(t);const e=$I(Array.from(this.descendants.keys()));this.assignIndex(e)}),Rt(this,"destroy",()=>{this.descendants.clear()}),Rt(this,"assignIndex",t=>{this.descendants.forEach(e=>{const n=t.indexOf(e.node);e.index=n,e.node.dataset.index=e.index.toString()})}),Rt(this,"count",()=>this.descendants.size),Rt(this,"enabledCount",()=>this.enabledValues().length),Rt(this,"values",()=>Array.from(this.descendants.values()).sort((e,n)=>e.index-n.index)),Rt(this,"enabledValues",()=>this.values().filter(t=>!t.disabled)),Rt(this,"item",t=>{if(this.count()!==0)return this.values()[t]}),Rt(this,"enabledItem",t=>{if(this.enabledCount()!==0)return this.enabledValues()[t]}),Rt(this,"first",()=>this.item(0)),Rt(this,"firstEnabled",()=>this.enabledItem(0)),Rt(this,"last",()=>this.item(this.descendants.size-1)),Rt(this,"lastEnabled",()=>{const t=this.enabledValues().length-1;return this.enabledItem(t)}),Rt(this,"indexOf",t=>{var e,n;return t&&(n=(e=this.descendants.get(t))==null?void 0:e.index)!=null?n:-1}),Rt(this,"enabledIndexOf",t=>t==null?-1:this.enabledValues().findIndex(e=>e.node.isSameNode(t))),Rt(this,"next",(t,e=!0)=>{const n=zI(t,this.count(),e);return this.item(n)}),Rt(this,"nextEnabled",(t,e=!0)=>{const n=this.item(t);if(!n)return;const r=this.enabledIndexOf(n.node),s=zI(r,this.enabledCount(),e);return this.enabledItem(s)}),Rt(this,"prev",(t,e=!0)=>{const n=BI(t,this.count()-1,e);return this.item(n)}),Rt(this,"prevEnabled",(t,e=!0)=>{const n=this.item(t);if(!n)return;const r=this.enabledIndexOf(n.node),s=BI(r,this.enabledCount()-1,e);return this.enabledItem(s)}),Rt(this,"registerNode",(t,e)=>{if(!t||this.descendants.has(t))return;const n=Array.from(this.descendants.keys()).concat(t),r=$I(n);e!=null&&e.disabled&&(e.disabled=!!e.disabled);const s={node:t,index:-1,...e};this.descendants.set(t,s),this.assignIndex(r)})}};function MQ(t,e){if(t!=null){if(typeof t=="function"){t(e);return}try{t.current=e}catch{throw new Error(`Cannot assign value '${e}' to ref '${t}'`)}}}function dr(...t){return e=>{t.forEach(n=>{MQ(n,e)})}}function LQ(...t){return g.useMemo(()=>dr(...t),t)}function VQ(){const t=g.useRef(new OQ);return Fb(()=>()=>t.current.destroy()),t.current}var[FQ,UD]=Jt({name:"DescendantsProvider",errorMessage:"useDescendantsContext must be used within DescendantsProvider"});function $Q(t){const e=UD(),[n,r]=g.useState(-1),s=g.useRef(null);Fb(()=>()=>{s.current&&e.unregister(s.current)},[]),Fb(()=>{if(!s.current)return;const o=Number(s.current.dataset.index);n!=o&&!Number.isNaN(o)&&r(o)});const i=xg(t?e.register(t):e.register);return{descendants:e,index:n,enabledIndex:e.enabledIndexOf(s.current),register:dr(i,s)}}function WD(){return[xg(FQ),()=>xg(UD()),()=>VQ(),s=>$Q(s)]}function zQ(t){const{value:e,defaultValue:n,onChange:r,shouldUpdate:s=(p,m)=>p!==m}=t,i=Do(r),o=Do(s),[a,l]=g.useState(n),c=e!==void 0,d=c?e:a,f=Do(p=>{const _=typeof p=="function"?p(d):p;o(d,_)&&(c||l(_),i(_))},[c,i,d,o]);return[d,f]}var UI={ease:[.25,.1,.25,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1]},Oa={enter:{duration:.2,ease:UI.easeOut},exit:{duration:.1,ease:UI.easeIn}},Ma={enter:(t,e)=>({...t,delay:typeof e=="number"?e:e==null?void 0:e.enter}),exit:(t,e)=>({...t,delay:typeof e=="number"?e:e==null?void 0:e.exit})},BQ={enter:({transition:t,transitionEnd:e,delay:n}={})=>{var r;return{opacity:1,transition:(r=t==null?void 0:t.enter)!=null?r:Ma.enter(Oa.enter,n),transitionEnd:e==null?void 0:e.enter}},exit:({transition:t,transitionEnd:e,delay:n}={})=>{var r;return{opacity:0,transition:(r=t==null?void 0:t.exit)!=null?r:Ma.exit(Oa.exit,n),transitionEnd:e==null?void 0:e.exit}}},HD={initial:"exit",animate:"enter",exit:"exit",variants:BQ},UQ=g.forwardRef(function(e,n){const{unmountOnExit:r,in:s,className:i,transition:o,transitionEnd:a,delay:l,...c}=e,d=s||r?"enter":"exit",f=r?s&&r:!0,p={transition:o,transitionEnd:a,delay:l};return u.jsx(lu,{custom:p,children:f&&u.jsx(Yo.div,{ref:n,className:Ae("chakra-fade",i),custom:p,...HD,animate:d,...c})})});UQ.displayName="Fade";var WQ={exit:({reverse:t,initialScale:e,transition:n,transitionEnd:r,delay:s})=>{var i;return{opacity:0,...t?{scale:e,transitionEnd:r==null?void 0:r.exit}:{transitionEnd:{scale:e,...r==null?void 0:r.exit}},transition:(i=n==null?void 0:n.exit)!=null?i:Ma.exit(Oa.exit,s)}},enter:({transitionEnd:t,transition:e,delay:n})=>{var r;return{opacity:1,scale:1,transition:(r=e==null?void 0:e.enter)!=null?r:Ma.enter(Oa.enter,n),transitionEnd:t==null?void 0:t.enter}}},qD={initial:"exit",animate:"enter",exit:"exit",variants:WQ},HQ=g.forwardRef(function(e,n){const{unmountOnExit:r,in:s,reverse:i=!0,initialScale:o=.95,className:a,transition:l,transitionEnd:c,delay:d,...f}=e,p=r?s&&r:!0,m=s||r?"enter":"exit",_={initialScale:o,reverse:i,transition:l,transitionEnd:c,delay:d};return u.jsx(lu,{custom:_,children:p&&u.jsx(Yo.div,{ref:n,className:Ae("chakra-offset-slide",a),...qD,animate:m,custom:_,...f})})});HQ.displayName="ScaleFade";var qQ={initial:({offsetX:t,offsetY:e,transition:n,transitionEnd:r,delay:s})=>{var i;return{opacity:0,x:t,y:e,transition:(i=n==null?void 0:n.exit)!=null?i:Ma.exit(Oa.exit,s),transitionEnd:r==null?void 0:r.exit}},enter:({transition:t,transitionEnd:e,delay:n})=>{var r;return{opacity:1,x:0,y:0,transition:(r=t==null?void 0:t.enter)!=null?r:Ma.enter(Oa.enter,n),transitionEnd:e==null?void 0:e.enter}},exit:({offsetY:t,offsetX:e,transition:n,transitionEnd:r,reverse:s,delay:i})=>{var o;const a={x:e,y:t};return{opacity:0,transition:(o=n==null?void 0:n.exit)!=null?o:Ma.exit(Oa.exit,i),...s?{...a,transitionEnd:r==null?void 0:r.exit}:{transitionEnd:{...a,...r==null?void 0:r.exit}}}}},ud={initial:"initial",animate:"enter",exit:"exit",variants:qQ},GQ=g.forwardRef(function(e,n){const{unmountOnExit:r,in:s,reverse:i=!0,className:o,offsetX:a=0,offsetY:l=8,transition:c,transitionEnd:d,delay:f,...p}=e,m=r?s&&r:!0,_=s||r?"enter":"exit",y={offsetX:a,offsetY:l,reverse:i,transition:c,transitionEnd:d,delay:f};return u.jsx(lu,{custom:y,children:m&&u.jsx(Yo.div,{ref:n,className:Ae("chakra-offset-slide",o),custom:y,...ud,animate:_,...p})})});GQ.displayName="SlideFade";var[KQ,QQ]=Jt({name:"AvatarStylesContext",hookName:"useAvatarStyles",providerName:"<Avatar/>"});function YQ(t){var e;const n=t.split(" "),r=(e=n[0])!=null?e:"",s=n.length>1?n[n.length-1]:"";return r&&s?`${r.charAt(0)}${s.charAt(0)}`:r.charAt(0)}function GD(t){const{name:e,getInitials:n,...r}=t,s=QQ();return u.jsx(ce.div,{role:"img","aria-label":e,...r,__css:s.label,children:e?n==null?void 0:n(e):null})}GD.displayName="AvatarName";var KD=t=>u.jsxs(ce.svg,{viewBox:"0 0 128 128",color:"#fff",width:"100%",height:"100%",className:"chakra-avatar__svg",...t,children:[u.jsx("path",{fill:"currentColor",d:"M103,102.1388 C93.094,111.92 79.3504,118 64.1638,118 C48.8056,118 34.9294,111.768 25,101.7892 L25,95.2 C25,86.8096 31.981,80 40.6,80 L87.4,80 C96.019,80 103,86.8096 103,95.2 L103,102.1388 Z"}),u.jsx("path",{fill:"currentColor",d:"M63.9961647,24 C51.2938136,24 41,34.2938136 41,46.9961647 C41,59.7061864 51.2938136,70 63.9961647,70 C76.6985159,70 87,59.7061864 87,46.9961647 C87,34.2938136 76.6985159,24 63.9961647,24"})]}),$b=ge(function(e,n){const{htmlWidth:r,htmlHeight:s,alt:i,...o}=e;return u.jsx("img",{width:r,height:s,ref:n,alt:i,...o})});$b.displayName="NativeImage";function QD(t){const{loading:e,src:n,srcSet:r,onLoad:s,onError:i,crossOrigin:o,sizes:a,ignoreFallback:l}=t,[c,d]=g.useState("pending");g.useEffect(()=>{d(n?"loading":"pending")},[n]);const f=g.useRef(),p=g.useCallback(()=>{if(!n)return;m();const _=new Image;_.src=n,o&&(_.crossOrigin=o),r&&(_.srcset=r),a&&(_.sizes=a),e&&(_.loading=e),_.onload=y=>{m(),d("loaded"),s==null||s(y)},_.onerror=y=>{m(),d("failed"),i==null||i(y)},f.current=_},[n,o,r,a,s,i,e]),m=()=>{f.current&&(f.current.onload=null,f.current.onerror=null,f.current=null)};return Vc(()=>{if(!l)return c==="loading"&&p(),()=>{m()}},[c,p,l]),l?"loaded":c}var XQ=(t,e)=>t!=="loaded"&&e==="beforeLoadOrError"||t==="failed"&&e==="onError";function JQ(t,e=[]){const n=Object.assign({},t);for(const r of e)r in n&&delete n[r];return n}var Vv=ge(function(e,n){const{fallbackSrc:r,fallback:s,src:i,srcSet:o,align:a,fit:l,loading:c,ignoreFallback:d,crossOrigin:f,fallbackStrategy:p="beforeLoadOrError",referrerPolicy:m,..._}=e,y=r!==void 0||s!==void 0,S=c!=null||d||!y,x=QD({...e,crossOrigin:f,ignoreFallback:S}),b=XQ(x,p),w={ref:n,objectFit:l,objectPosition:a,...S?_:JQ(_,["onError","onLoad"])};return b?s||u.jsx(ce.img,{as:$b,className:"chakra-image__placeholder",src:r,...w}):u.jsx(ce.img,{as:$b,src:i,srcSet:o,crossOrigin:f,loading:c,referrerPolicy:m,className:"chakra-image",...w})});Vv.displayName="Image";function YD(t){const{src:e,srcSet:n,onError:r,onLoad:s,getInitials:i,name:o,borderRadius:a,loading:l,iconLabel:c,icon:d=u.jsx(KD,{}),ignoreFallback:f,referrerPolicy:p,crossOrigin:m}=t,y=QD({src:e,onError:r,crossOrigin:m,ignoreFallback:f})==="loaded";return!e||!y?o?u.jsx(GD,{className:"chakra-avatar__initials",getInitials:i,name:o}):g.cloneElement(d,{role:"img","aria-label":c}):u.jsx(ce.img,{src:e,srcSet:n,alt:o,onLoad:s,referrerPolicy:p,crossOrigin:m??void 0,className:"chakra-avatar__img",loading:l,__css:{width:"100%",height:"100%",objectFit:"cover",borderRadius:a}})}YD.displayName="AvatarImage";var ZQ={display:"inline-flex",alignItems:"center",justifyContent:"center",textAlign:"center",textTransform:"uppercase",fontWeight:"medium",position:"relative",flexShrink:0},Pr=ge((t,e)=>{const n=_s("Avatar",t),[r,s]=g.useState(!1),{src:i,srcSet:o,name:a,showBorder:l,borderRadius:c="full",onError:d,onLoad:f,getInitials:p=YQ,icon:m=u.jsx(KD,{}),iconLabel:_=" avatar",loading:y,children:S,borderColor:x,ignoreFallback:b,crossOrigin:w,referrerPolicy:k,...j}=Zt(t),O={borderRadius:c,borderWidth:l?"2px":void 0,...ZQ,...n.container};return x&&(O.borderColor=x),u.jsx(ce.span,{ref:e,...j,className:Ae("chakra-avatar",t.className),"data-loaded":Jn(r),__css:O,children:u.jsxs(KQ,{value:n,children:[u.jsx(YD,{src:i,srcSet:o,loading:y,onLoad:Qt(f,()=>{s(!0)}),onError:d,getInitials:p,name:a,borderRadius:c,icon:m,iconLabel:_,ignoreFallback:b,crossOrigin:w,referrerPolicy:k}),S]})})});Pr.displayName="Avatar";function Fv(t){return g.Children.toArray(t).filter(e=>g.isValidElement(e))}var[eY,tY]=Jt({strict:!1,name:"ButtonGroupContext"}),nY={horizontal:{"> *:first-of-type:not(:last-of-type)":{borderEndRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderStartRadius:0}},vertical:{"> *:first-of-type:not(:last-of-type)":{borderBottomRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderTopRadius:0}}},rY={horizontal:t=>({"& > *:not(style) ~ *:not(style)":{marginStart:t}}),vertical:t=>({"& > *:not(style) ~ *:not(style)":{marginTop:t}})},XD=ge(function(e,n){const{size:r,colorScheme:s,variant:i,className:o,spacing:a="0.5rem",isAttached:l,isDisabled:c,orientation:d="horizontal",...f}=e,p=Ae("chakra-button__group",o),m=g.useMemo(()=>({size:r,colorScheme:s,variant:i,isDisabled:c}),[r,s,i,c]);let _={display:"inline-flex",...l?nY[d]:rY[d](a)};const y=d==="vertical";return u.jsx(eY,{value:m,children:u.jsx(ce.div,{ref:n,role:"group",__css:_,className:p,"data-attached":l?"":void 0,"data-orientation":d,flexDir:y?"column":void 0,...f})})});XD.displayName="ButtonGroup";function sY(t){const[e,n]=g.useState(!t);return{ref:g.useCallback(i=>{i&&n(i.tagName==="BUTTON")},[]),type:e?"button":void 0}}function zb(t){const{children:e,className:n,...r}=t,s=g.isValidElement(e)?g.cloneElement(e,{"aria-hidden":!0,focusable:!1}):e,i=Ae("chakra-button__icon",n);return u.jsx(ce.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...r,className:i,children:s})}zb.displayName="ButtonIcon";function Bb(t){const{label:e,placement:n,spacing:r="0.5rem",children:s=u.jsx(pS,{color:"currentColor",width:"1em",height:"1em"}),className:i,__css:o,...a}=t,l=Ae("chakra-button__spinner",i),c=n==="start"?"marginEnd":"marginStart",d=g.useMemo(()=>({display:"flex",alignItems:"center",position:e?"relative":"absolute",[c]:e?r:0,fontSize:"1em",lineHeight:"normal",...o}),[o,e,c,r]);return u.jsx(ce.div,{className:l,...a,__css:d,children:s})}Bb.displayName="ButtonSpinner";var se=ge((t,e)=>{const n=tY(),r=Zs("Button",{...n,...t}),{isDisabled:s=n==null?void 0:n.isDisabled,isLoading:i,isActive:o,children:a,leftIcon:l,rightIcon:c,loadingText:d,iconSpacing:f="0.5rem",type:p,spinner:m,spinnerPlacement:_="start",className:y,as:S,...x}=Zt(t),b=g.useMemo(()=>{const O={...r==null?void 0:r._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...r,...!!n&&{_focus:O}}},[r,n]),{ref:w,type:k}=sY(S),j={rightIcon:c,leftIcon:l,iconSpacing:f,children:a};return u.jsxs(ce.button,{ref:LQ(e,w),as:S,type:p??k,"data-active":Jn(o),"data-loading":Jn(i),__css:b,className:Ae("chakra-button",y),...x,disabled:s||i,children:[i&&_==="start"&&u.jsx(Bb,{className:"chakra-button__spinner--start",label:d,placement:"start",spacing:f,children:m}),i?d||u.jsx(ce.span,{opacity:0,children:u.jsx(WI,{...j})}):u.jsx(WI,{...j}),i&&_==="end"&&u.jsx(Bb,{className:"chakra-button__spinner--end",label:d,placement:"end",spacing:f,children:m})]})});se.displayName="Button";function WI(t){const{leftIcon:e,rightIcon:n,children:r,iconSpacing:s}=t;return u.jsxs(u.Fragment,{children:[e&&u.jsx(zb,{marginEnd:s,children:e}),r,n&&u.jsx(zb,{marginStart:s,children:n})]})}var wh=ge((t,e)=>{const{icon:n,children:r,isRound:s,"aria-label":i,...o}=t,a=n||r,l=g.isValidElement(a)?g.cloneElement(a,{"aria-hidden":!0,focusable:!1}):null;return u.jsx(se,{padding:"0",borderRadius:s?"full":void 0,ref:e,"aria-label":i,...o,children:l})});wh.displayName="IconButton";var[iY,JD]=N7("Card"),oY=ge(function(e,n){const{className:r,...s}=e,i=JD();return u.jsx(ce.div,{ref:n,className:Ae("chakra-card__body",r),__css:i.body,...s})}),aY=ge(function(e,n){const{className:r,...s}=e,i=JD();return u.jsx(ce.div,{ref:n,className:Ae("chakra-card__header",r),__css:i.header,...s})}),ZD=ge(function(e,n){const{className:r,children:s,direction:i="column",justify:o,align:a,...l}=Zt(e),c=_s("Card",e);return u.jsx(ce.div,{ref:n,className:Ae("chakra-card",r),__css:{display:"flex",flexDirection:i,justifyContent:o,alignItems:a,position:"relative",minWidth:0,wordWrap:"break-word",...c.container},...l,children:u.jsx(iY,{value:c,children:s})})}),[lY,eN]=Jt({name:"FormControlStylesContext",errorMessage:`useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormControl />" `}),[cY,$v]=Jt({strict:!1,name:"FormControlContext"});function uY(t){const{id:e,isRequired:n,isInvalid:r,isDisabled:s,isReadOnly:i,...o}=t,a=g.useId(),l=e||`field-${a}`,c=`${l}-label`,d=`${l}-feedback`,f=`${l}-helptext`,[p,m]=g.useState(!1),[_,y]=g.useState(!1),[S,x]=g.useState(!1),b=g.useCallback((C={},T=null)=>({id:f,...C,ref:dr(T,I=>{I&&y(!0)})}),[f]),w=g.useCallback((C={},T=null)=>({...C,ref:T,"data-focus":Jn(S),"data-disabled":Jn(s),"data-invalid":Jn(r),"data-readonly":Jn(i),id:C.id!==void 0?C.id:c,htmlFor:C.htmlFor!==void 0?C.htmlFor:l}),[l,s,S,r,i,c]),k=g.useCallback((C={},T=null)=>({id:d,...C,ref:dr(T,I=>{I&&m(!0)}),"aria-live":"polite"}),[d]),j=g.useCallback((C={},T=null)=>({...C,...o,ref:T,role:"group","data-focus":Jn(S),"data-disabled":Jn(s),"data-invalid":Jn(r),"data-readonly":Jn(i)}),[o,s,S,r,i]),O=g.useCallback((C={},T=null)=>({...C,ref:T,role:"presentation","aria-hidden":!0,children:C.children||"*"}),[]);return{isRequired:!!n,isInvalid:!!r,isReadOnly:!!i,isDisabled:!!s,isFocused:!!S,onFocus:()=>x(!0),onBlur:()=>x(!1),hasFeedbackText:p,setHasFeedbackText:m,hasHelpText:_,setHasHelpText:y,id:l,labelId:c,feedbackId:d,helpTextId:f,htmlProps:o,getHelpTextProps:b,getErrorMessageProps:k,getRootProps:j,getLabelProps:w,getRequiredIndicatorProps:O}}var xe=ge(function(e,n){const r=_s("Form",e),s=Zt(e),{getRootProps:i,htmlProps:o,...a}=uY(s),l=Ae("chakra-form-control",e.className);return u.jsx(cY,{value:a,children:u.jsx(lY,{value:r,children:u.jsx(ce.div,{...i({},n),className:l,__css:r.container})})})});xe.displayName="FormControl";var dY=ge(function(e,n){const r=$v(),s=eN(),i=Ae("chakra-form__helper-text",e.className);return u.jsx(ce.div,{...r==null?void 0:r.getHelpTextProps(e,n),__css:s.helperText,className:i})});dY.displayName="FormHelperText";var Te=ge(function(e,n){var r;const s=Zs("FormLabel",e),i=Zt(e),{className:o,children:a,requiredIndicator:l=u.jsx(tN,{}),optionalIndicator:c=null,...d}=i,f=$v(),p=(r=f==null?void 0:f.getLabelProps(d,n))!=null?r:{ref:n,...d};return u.jsxs(ce.label,{...p,className:Ae("chakra-form__label",i.className),__css:{display:"block",textAlign:"start",...s},children:[a,f!=null&&f.isRequired?l:c]})});Te.displayName="FormLabel";var tN=ge(function(e,n){const r=$v(),s=eN();if(!(r!=null&&r.isRequired))return null;const i=Ae("chakra-form__required-indicator",e.className);return u.jsx(ce.span,{...r==null?void 0:r.getRequiredIndicatorProps(e,n),__css:s.requiredIndicator,className:i})});tN.displayName="RequiredIndicator";function yS(t){const{isDisabled:e,isInvalid:n,isReadOnly:r,isRequired:s,...i}=hY(t);return{...i,disabled:e,readOnly:r,required:s,"aria-invalid":p0(n),"aria-required":p0(s),"aria-readonly":p0(r)}}function hY(t){var e,n,r;const s=$v(),{id:i,disabled:o,readOnly:a,required:l,isRequired:c,isInvalid:d,isReadOnly:f,isDisabled:p,onFocus:m,onBlur:_,...y}=t,S=t["aria-describedby"]?[t["aria-describedby"]]:[];return s!=null&&s.hasFeedbackText&&(s!=null&&s.isInvalid)&&S.push(s.feedbackId),s!=null&&s.hasHelpText&&S.push(s.helpTextId),{...y,"aria-describedby":S.join(" ")||void 0,id:i??(s==null?void 0:s.id),isDisabled:(e=o??p)!=null?e:s==null?void 0:s.isDisabled,isReadOnly:(n=a??f)!=null?n:s==null?void 0:s.isReadOnly,isRequired:(r=l??c)!=null?r:s==null?void 0:s.isRequired,isInvalid:d??(s==null?void 0:s.isInvalid),onFocus:Qt(s==null?void 0:s.onFocus,m),onBlur:Qt(s==null?void 0:s.onBlur,_)}}function _m(t,e,n,r){const s=Do(n);return g.useEffect(()=>{const i=typeof t=="function"?t():t??document;if(!(!n||!i))return i.addEventListener(e,s,r),()=>{i.removeEventListener(e,s,r)}},[e,t,r,s,n]),()=>{const i=typeof t=="function"?t():t??document;i==null||i.removeEventListener(e,s,r)}}function fY(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var nN={exports:{}},pY="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",mY=pY,gY=mY;function rN(){}function sN(){}sN.resetWarningCache=rN;var vY=function(){function t(r,s,i,o,a,l){if(l!==gY){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:sN,resetWarningCache:rN};return n.PropTypes=n,n};nN.exports=vY();var yY=nN.exports;const Np=Yg(yY);var Ub="data-focus-lock",iN="data-focus-lock-disabled",_Y="data-no-focus-lock",bY="data-autofocus-inside",wY="data-no-autofocus";function H0(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function xY(t,e){var n=g.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var HI=new WeakMap;function oN(t,e){var n=xY(e||null,function(r){return t.forEach(function(s){return H0(s,r)})});return g.useLayoutEffect(function(){var r=HI.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||H0(a,null)}),i.forEach(function(a){s.has(a)||H0(a,o)})}HI.set(n,t)},[t]),n}var q0={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},Ns=function(){return Ns=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ns.apply(this,arguments)};function nf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function SY(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function aN(t){return t}function lN(t,e){e===void 0&&(e=aN);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return s}function _S(t,e){return e===void 0&&(e=aN),lN(t,e)}function cN(t){t===void 0&&(t={});var e=lN(null);return e.options=Ns({async:!0,ssr:!1},t),e}var uN=function(t){var e=t.sideCar,n=nf(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,Ns({},n))};uN.isSideCarExport=!0;function EY(t,e){return t.useMedium(e),uN}var dN=_S({},function(t){var e=t.target,n=t.currentTarget;return{target:e,currentTarget:n}}),hN=_S(),CY=_S(),TY=cN({async:!0,ssr:typeof document<"u"}),IY=g.createContext(void 0),kY=[],fN=g.forwardRef(function(e,n){var r,s=g.useState(),i=s[0],o=s[1],a=g.useRef(),l=g.useRef(!1),c=g.useRef(null),d=g.useState({}),f=d[1],p=e.children,m=e.disabled,_=m===void 0?!1:m,y=e.noFocusGuards,S=y===void 0?!1:y,x=e.persistentFocus,b=x===void 0?!1:x,w=e.crossFrame,k=w===void 0?!0:w,j=e.autoFocus,O=j===void 0?!0:j;e.allowTextSelection;var C=e.group,T=e.className,I=e.whiteList,P=e.hasPositiveIndices,N=e.shards,M=N===void 0?kY:N,R=e.as,$=R===void 0?"div":R,Q=e.lockProps,ne=Q===void 0?{}:Q,B=e.sideCar,q=e.returnFocus,ee=q===void 0?!1:q,he=e.focusOptions,ue=e.onActivation,ve=e.onDeactivation,ie=g.useState({}),Ee=ie[0],Ie=g.useCallback(function(ln){var Kn=ln.captureFocusRestore;if(!c.current){var Rr,Qn=(Rr=document)==null?void 0:Rr.activeElement;c.current=Qn,Qn!==document.body&&(c.current=Kn(Qn))}a.current&&ue&&ue(a.current),l.current=!0,f()},[ue]),je=g.useCallback(function(){l.current=!1,ve&&ve(a.current),f()},[ve]),pe=g.useCallback(function(ln){var Kn=c.current;if(Kn){var Rr=(typeof Kn=="function"?Kn():Kn)||document.body,Qn=typeof ee=="function"?ee(Rr):ee;if(Qn){var tn=typeof Qn=="object"?Qn:void 0;c.current=null,ln?Promise.resolve().then(function(){return Rr.focus(tn)}):Rr.focus(tn)}}},[ee]),Y=g.useCallback(function(ln){l.current&&dN.useMedium(ln)},[]),X=hN.useMedium,re=g.useCallback(function(ln){a.current!==ln&&(a.current=ln,o(ln))},[]),De=Ha((r={},r[iN]=_&&"disabled",r[Ub]=C,r),ne),Ne=S!==!0,ut=Ne&&S!=="tail",Ar=oN([n,re]),Xr=g.useMemo(function(){return{observed:a,shards:M,enabled:!_,active:l.current}},[_,l.current,M,i]);return g.createElement(g.Fragment,null,Ne&&[g.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:_?-1:0,style:q0}),P?g.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:_?-1:1,style:q0}):null],!_&&g.createElement(B,{id:Ee,sideCar:TY,observed:i,disabled:_,persistentFocus:b,crossFrame:k,autoFocus:O,whiteList:I,shards:M,onActivation:Ie,onDeactivation:je,returnFocus:pe,focusOptions:he}),g.createElement($,Ha({ref:Ar},De,{className:T,onBlur:X,onFocus:Y}),g.createElement(IY.Provider,{value:Xr},p)),ut&&g.createElement("div",{"data-focus-guard":!0,tabIndex:_?-1:0,style:q0}))});fN.propTypes={};const pN=fN;function Wb(t,e){return Wb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Wb(t,e)}function PY(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Wb(t,e)}function xh(t){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xh(t)}function AY(t,e){if(xh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RY(t){var e=AY(t,"string");return xh(e)=="symbol"?e:String(e)}function jY(t,e,n){return e=RY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DY(t,e){function n(r){return r.displayName||r.name||"Component"}return function(s){var i=[],o;function a(){o=t(i.map(function(c){return c.props})),e(o)}var l=function(c){PY(d,c);function d(){return c.apply(this,arguments)||this}d.peek=function(){return o};var f=d.prototype;return f.componentDidMount=function(){i.push(this),a()},f.componentDidUpdate=function(){a()},f.componentWillUnmount=function(){var m=i.indexOf(this);i.splice(m,1),a()},f.render=function(){return nr.createElement(s,this.props)},d}(g.PureComponent);return jY(l,"displayName","SideEffect("+n(s)+")"),l}}var ei=function(t){for(var e=Array(t.length),n=0;n<t.length;++n)e[n]=t[n];return e},qa=function(t){return Array.isArray(t)?t:[t]},mN=function(t){return Array.isArray(t)?t[0]:t},NY=function(t){if(t.nodeType!==Node.ELEMENT_NODE)return!1;var e=window.getComputedStyle(t,null);return!e||!e.getPropertyValue?!1:e.getPropertyValue("display")==="none"||e.getPropertyValue("visibility")==="hidden"},gN=function(t){return t.parentNode&&t.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?t.parentNode.host:t.parentNode},vN=function(t){return t===document||t&&t.nodeType===Node.DOCUMENT_NODE},OY=function(t){return t.hasAttribute("inert")},MY=function(t,e){return!t||vN(t)||!NY(t)&&!OY(t)&&e(gN(t))},yN=function(t,e){var n=t.get(e);if(n!==void 0)return n;var r=MY(e,yN.bind(void 0,t));return t.set(e,r),r},LY=function(t,e){return t&&!vN(t)?$Y(t)?e(gN(t)):!1:!0},_N=function(t,e){var n=t.get(e);if(n!==void 0)return n;var r=LY(e,_N.bind(void 0,t));return t.set(e,r),r},bN=function(t){return t.dataset},VY=function(t){return t.tagName==="BUTTON"},wN=function(t){return t.tagName==="INPUT"},xN=function(t){return wN(t)&&t.type==="radio"},FY=function(t){return!((wN(t)||VY(t))&&(t.type==="hidden"||t.disabled))},$Y=function(t){var e=t.getAttribute(wY);return![!0,"true",""].includes(e)},bS=function(t){var e;return!!(t&&(!((e=bN(t))===null||e===void 0)&&e.focusGuard))},Hb=function(t){return!bS(t)},zY=function(t){return!!t},BY=function(t,e){var n=Math.max(0,t.tabIndex),r=Math.max(0,e.tabIndex),s=n-r,i=t.index-e.index;if(s){if(!n)return 1;if(!r)return-1}return s||i},UY=function(t){return t.tabIndex<0&&!t.hasAttribute("tabindex")?0:t.tabIndex},wS=function(t,e,n){return ei(t).map(function(r,s){var i=UY(r);return{node:r,index:s,tabIndex:n&&i===-1?(r.dataset||{}).focusGuard?0:-1:i}}).filter(function(r){return!e||r.tabIndex>=0}).sort(BY)},WY=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],xS=WY.join(","),HY="".concat(xS,", [data-focus-guard]"),SN=function(t,e){return ei((t.shadowRoot||t).children).reduce(function(n,r){return n.concat(r.matches(e?HY:xS)?[r]:[],SN(r))},[])},qY=function(t,e){var n;return t instanceof HTMLIFrameElement&&(!((n=t.contentDocument)===null||n===void 0)&&n.body)?Uc([t.contentDocument.body],e):[t]},Uc=function(t,e){return t.reduce(function(n,r){var s,i=SN(r,e),o=(s=[]).concat.apply(s,i.map(function(a){return qY(a,e)}));return n.concat(o,r.parentNode?ei(r.parentNode.querySelectorAll(xS)).filter(function(a){return a===r}):[])},[])},GY=function(t){var e=t.querySelectorAll("[".concat(bY,"]"));return ei(e).map(function(n){return Uc([n])}).reduce(function(n,r){return n.concat(r)},[])},SS=function(t,e){return ei(t).filter(function(n){return yN(e,n)}).filter(function(n){return FY(n)})},qI=function(t,e){return e===void 0&&(e=new Map),ei(t).filter(function(n){return _N(e,n)})},ES=function(t,e,n){return wS(SS(Uc(t,n),e),!0,n)},Sg=function(t,e){return wS(SS(Uc(t),e),!1)},KY=function(t,e){return SS(GY(t),e)},La=function(t,e){return t.shadowRoot?La(t.shadowRoot,e):Object.getPrototypeOf(t).contains!==void 0&&Object.getPrototypeOf(t).contains.call(t,e)?!0:ei(t.children).some(function(n){var r;if(n instanceof HTMLIFrameElement){var s=(r=n.contentDocument)===null||r===void 0?void 0:r.body;return s?La(s,e):!1}return La(n,e)})},QY=function(t){for(var e=new Set,n=t.length,r=0;r<n;r+=1)for(var s=r+1;s<n;s+=1){var i=t[r].compareDocumentPosition(t[s]);(i&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&e.add(s),(i&Node.DOCUMENT_POSITION_CONTAINS)>0&&e.add(r)}return t.filter(function(o,a){return!e.has(a)})},EN=function(t){return t.parentNode?EN(t.parentNode):t},CS=function(t){var e=qa(t);return e.filter(Boolean).reduce(function(n,r){var s=r.getAttribute(Ub);return n.push.apply(n,s?QY(ei(EN(r).querySelectorAll("[".concat(Ub,'="').concat(s,'"]:not([').concat(iN,'="disabled"])')))):[r]),n},[])},YY=function(t){try{return t()}catch{return}},Sh=function(t){if(t===void 0&&(t=document),!(!t||!t.activeElement)){var e=t.activeElement;return e.shadowRoot?Sh(e.shadowRoot):e instanceof HTMLIFrameElement&&YY(function(){return e.contentWindow.document})?Sh(e.contentWindow.document):e}},XY=function(t,e){return t===e},JY=function(t,e){return!!ei(t.querySelectorAll("iframe")).some(function(n){return XY(n,e)})},CN=function(t,e){return e===void 0&&(e=Sh(mN(t).ownerDocument)),!e||e.dataset&&e.dataset.focusGuard?!1:CS(t).some(function(n){return La(n,e)||JY(n,e)})},ZY=function(t){t===void 0&&(t=document);var e=Sh(t);return e?ei(t.querySelectorAll("[".concat(_Y,"]"))).some(function(n){return La(n,e)}):!1},eX=function(t,e){return e.filter(xN).filter(function(n){return n.name===t.name}).filter(function(n){return n.checked})[0]||t},TS=function(t,e){return xN(t)&&t.name?eX(t,e):t},tX=function(t){var e=new Set;return t.forEach(function(n){return e.add(TS(n,t))}),t.filter(function(n){return e.has(n)})},GI=function(t){return t[0]&&t.length>1?TS(t[0],t):t[0]},KI=function(t,e){return t.indexOf(TS(e,t))},qb="NEW_FOCUS",nX=function(t,e,n,r,s){var i=t.length,o=t[0],a=t[i-1],l=bS(r);if(!(r&&t.indexOf(r)>=0)){var c=r!==void 0?n.indexOf(r):-1,d=s?n.indexOf(s):c,f=s?t.indexOf(s):-1;if(c===-1)return f!==-1?f:qb;if(f===-1)return qb;var p=c-d,m=n.indexOf(o),_=n.indexOf(a),y=tX(n),S=r!==void 0?y.indexOf(r):-1,x=S-(s?y.indexOf(s):c);if(!p&&f>=0||e.length===0)return f;var b=KI(t,e[0]),w=KI(t,e[e.length-1]);if(c<=m&&l&&Math.abs(p)>1)return w;if(c>=_&&l&&Math.abs(p)>1)return b;if(p&&Math.abs(x)>1)return f;if(c<=m)return w;if(c>_)return b;if(p)return Math.abs(p)>1?f:(i+f+p)%i}},rX=function(t){return function(e){var n,r=(n=bN(e))===null||n===void 0?void 0:n.autofocus;return e.autofocus||r!==void 0&&r!=="false"||t.indexOf(e)>=0}},sX=function(t,e,n){var r=t.map(function(i){var o=i.node;return o}),s=qI(r.filter(rX(n)));return s&&s.length?GI(s):GI(qI(e))},Gb=function(t,e){return e===void 0&&(e=[]),e.push(t),t.parentNode&&Gb(t.parentNode.host||t.parentNode,e),e},G0=function(t,e){for(var n=Gb(t),r=Gb(e),s=0;s<n.length;s+=1){var i=n[s];if(r.indexOf(i)>=0)return i}return!1},TN=function(t,e,n){var r=qa(t),s=qa(e),i=r[0],o=!1;return s.filter(Boolean).forEach(function(a){o=G0(o||a,a)||o,n.filter(Boolean).forEach(function(l){var c=G0(i,l);c&&(!o||La(c,o)?o=c:o=G0(c,o))})}),o},iX=function(t,e){return t.reduce(function(n,r){return n.concat(KY(r,e))},[])},oX=function(t,e){var n=new Map;return e.forEach(function(r){return n.set(r.node,r)}),t.map(function(r){return n.get(r)}).filter(zY)},aX=function(t,e){var n=Sh(qa(t).length>0?document:mN(t).ownerDocument),r=CS(t).filter(Hb),s=TN(n||t,t,r),i=new Map,o=Sg(r,i),a=o.filter(function(_){var y=_.node;return Hb(y)});if(a[0]){var l=Sg([s],i).map(function(_){var y=_.node;return y}),c=oX(l,a),d=c.map(function(_){var y=_.node;return y}),f=c.filter(function(_){var y=_.tabIndex;return y>=0}).map(function(_){var y=_.node;return y}),p=nX(d,f,l,n,e);if(p===qb){var m=sX(o,f,iX(r,i));if(m)return{node:m};console.warn("focus-lock: cannot find any node to move focus into");return}return p===void 0?p:c[p]}},lX=function(t){var e=CS(t).filter(Hb),n=TN(t,t,e),r=wS(Uc([n],!0),!0,!0),s=Uc(e,!1);return r.map(function(i){var o=i.node,a=i.index;return{node:o,index:a,lockItem:s.indexOf(o)>=0,guard:bS(o)}})},IS=function(t,e){t&&("focus"in t&&t.focus(e),"contentWindow"in t&&t.contentWindow&&t.contentWindow.focus())},K0=0,Q0=!1,IN=function(t,e,n){n===void 0&&(n={});var r=aX(t,e);if(!Q0&&r){if(K0>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),Q0=!0,setTimeout(function(){Q0=!1},1);return}K0++,IS(r.node,n.focusOptions),K0--}};function Xu(t){if(!t)return null;var e=t?new WeakRef(t):null;return function(){return(e==null?void 0:e.deref())||null}}var cX=function(t){for(var e=[],n=t;n&&n!==document.body;)e.push({current:Xu(n),parent:Xu(n.parentElement),left:Xu(n.previousElementSibling),right:Xu(n.nextElementSibling)}),n=n.parentElement;return{element:Xu(t),stack:e,ownerDocument:t.ownerDocument}},uX=function(t){for(var e,n,r,s,i,o=t.stack,a=t.ownerDocument,l=new Map,c=0,d=o;c<d.length;c++){var f=d[c],p=(e=f.parent)===null||e===void 0?void 0:e.call(f);if(p&&a.contains(p)){for(var m=(n=f.left)===null||n===void 0?void 0:n.call(f),_=(r=f.right)===null||r===void 0?void 0:r.call(f),y=ES([p],l),S=(i=(s=m==null?void 0:m.nextElementSibling)!==null&&s!==void 0?s:_)!==null&&i!==void 0?i:m;S;){for(var x=0,b=y;x<b.length;x++){var w=b[x];if(S!=null&&S.contains(w.node))return w.node}S=S.nextElementSibling}if(y.length)return y[0].node}}},dX=function(t){var e=cX(t);return function(){return uX(e)}},hX=function(t,e,n){if(!t||!e)return console.error("no element or scope given"),{};var r=qa(e);if(r.every(function(o){return!La(o,t)}))return console.error("Active element is not contained in the scope"),{};var s=n?ES(r,new Map):Sg(r,new Map),i=s.findIndex(function(o){var a=o.node;return a===t});if(i!==-1)return{prev:s[i-1],next:s[i+1],first:s[0],last:s[s.length-1]}},fX=function(t,e){var n=e?ES(qa(t),new Map):Sg(qa(t),new Map);return{first:n[0],last:n[n.length-1]}},pX=function(t){return Object.assign({scope:document.body,cycle:!0,onlyTabbable:!0},t)},kN=function(t,e,n){e===void 0&&(e={});var r=pX(e),s=hX(t,r.scope,r.onlyTabbable);if(s){var i=n(s,r.cycle);i&&IS(i.node,r.focusOptions)}},mX=function(t,e){e===void 0&&(e={}),kN(t,e,function(n,r){var s=n.next,i=n.first;return s||r&&i})},gX=function(t,e){e===void 0&&(e={}),kN(t,e,function(n,r){var s=n.prev,i=n.last;return s||r&&i})},PN=function(t,e,n){var r,s=fX(t,(r=e.onlyTabbable)!==null&&r!==void 0?r:!0),i=s[n];i&&IS(i.node,e.focusOptions)},vX=function(t,e){e===void 0&&(e={}),PN(t,e,"first")},yX=function(t,e){e===void 0&&(e={}),PN(t,e,"last")};function kS(t){setTimeout(t,1)}var _X=function(e){return e&&"current"in e?e.current:e},bX=function(){return document&&document.activeElement===document.body},wX=function(){return bX()||ZY()},Sc=null,lc=null,Ec=null,Eh=!1,xX=function(){return!0},SX=function(e){return(Sc.whiteList||xX)(e)},EX=function(e,n){Ec={observerNode:e,portaledElement:n}},CX=function(e){return Ec&&Ec.portaledElement===e};function QI(t,e,n,r){var s=null,i=t;do{var o=r[i];if(o.guard)o.node.dataset.focusAutoGuard&&(s=o);else if(o.lockItem){if(i!==t)return;s=null}else break}while((i+=n)!==e);s&&(s.node.tabIndex=0)}var TX=function(e){return e?!!Eh:Eh==="meanwhile"},IX=function t(e,n,r){return n&&(n.host===e&&(!n.activeElement||r.contains(n.activeElement))||n.parentNode&&t(e,n.parentNode,r))},kX=function(e,n){return n.some(function(r){return IX(e,r,r)})},Eg=function(){var e=!1;if(Sc){var n=Sc,r=n.observed,s=n.persistentFocus,i=n.autoFocus,o=n.shards,a=n.crossFrame,l=n.focusOptions,c=r||Ec&&Ec.portaledElement,d=document&&document.activeElement;if(c){var f=[c].concat(o.map(_X).filter(Boolean));if((!d||SX(d))&&(s||TX(a)||!wX()||!lc&&i)&&(c&&!(CN(f)||d&&kX(d,f)||CX(d))&&(document&&!lc&&d&&!i?(d.blur&&d.blur(),document.body.focus()):(e=IN(f,lc,{focusOptions:l}),Ec={})),Eh=!1,lc=document&&document.activeElement),document&&d!==document.activeElement&&document.querySelector("[data-focus-auto-guard]")){var p=document&&document.activeElement,m=lX(f),_=m.map(function(y){var S=y.node;return S}).indexOf(p);_>-1&&(m.filter(function(y){var S=y.guard,x=y.node;return S&&x.dataset.focusAutoGuard}).forEach(function(y){var S=y.node;return S.removeAttribute("tabIndex")}),QI(_,m.length,1,m),QI(_,-1,-1,m))}}}return e},AN=function(e){Eg()&&e&&(e.stopPropagation(),e.preventDefault())},PS=function(){return kS(Eg)},PX=function(e){var n=e.target,r=e.currentTarget;r.contains(n)||EX(r,n)},AX=function(){return null},RN=function(){Eh="just",kS(function(){Eh="meanwhile"})},RX=function(){document.addEventListener("focusin",AN),document.addEventListener("focusout",PS),window.addEventListener("blur",RN)},jX=function(){document.removeEventListener("focusin",AN),document.removeEventListener("focusout",PS),window.removeEventListener("blur",RN)};function DX(t){return t.filter(function(e){var n=e.disabled;return!n})}var jN={moveFocusInside:IN,focusInside:CN,focusNextElement:mX,focusPrevElement:gX,focusFirstElement:vX,focusLastElement:yX,captureFocusRestore:dX};function NX(t){var e=t.slice(-1)[0];e&&!Sc&&RX();var n=Sc,r=n&&e&&e.id===n.id;Sc=e,n&&!r&&(n.onDeactivation(),t.filter(function(s){var i=s.id;return i===n.id}).length||n.returnFocus(!e)),e?(lc=null,(!r||n.observed!==e.observed)&&e.onActivation(jN),Eg(),kS(Eg)):(jX(),lc=null)}dN.assignSyncMedium(PX);hN.assignMedium(PS);CY.assignMedium(function(t){return t(jN)});const OX=DY(DX,NX)(AX);var Kb=g.forwardRef(function(e,n){return g.createElement(pN,Ha({sideCar:OX,ref:n},e))}),DN=pN.propTypes||{};DN.sideCar;fY(DN,["sideCar"]);Kb.propTypes={};function NN(t){return t!=null&&typeof t=="object"&&"nodeType"in t&&t.nodeType===Node.ELEMENT_NODE}function AS(t){var e;if(!NN(t))return!1;const n=(e=t.ownerDocument.defaultView)!=null?e:window;return t instanceof n.HTMLElement}function MX(t){var e,n;return(n=(e=ON(t))==null?void 0:e.defaultView)!=null?n:window}function ON(t){return NN(t)?t.ownerDocument:document}function LX(t){return ON(t).activeElement}function VX(t){const e=t.ownerDocument.defaultView||window,{overflow:n,overflowX:r,overflowY:s}=e.getComputedStyle(t);return/auto|scroll|overlay|hidden/.test(n+s+r)}function FX(t){return t.localName==="html"?t:t.assignedSlot||t.parentElement||t.ownerDocument.documentElement}function MN(t){return["html","body","#document"].includes(t.localName)?t.ownerDocument.body:AS(t)&&VX(t)?t:MN(FX(t))}var LN=t=>t.hasAttribute("tabindex"),$X=t=>LN(t)&&t.tabIndex===-1;function zX(t){return!!t.getAttribute("disabled")||!!t.getAttribute("aria-disabled")}function VN(t){return t.parentElement&&VN(t.parentElement)?!0:t.hidden}function BX(t){const e=t.getAttribute("contenteditable");return e!=="false"&&e!=null}function FN(t){if(!AS(t)||VN(t)||zX(t))return!1;const{localName:e}=t;if(["input","select","textarea","button"].indexOf(e)>=0)return!0;const r={a:()=>t.hasAttribute("href"),audio:()=>t.hasAttribute("controls"),video:()=>t.hasAttribute("controls")};return e in r?r[e]():BX(t)?!0:LN(t)}function UX(t){return t?AS(t)&&FN(t)&&!$X(t):!1}var WX=["input:not(:disabled):not([disabled])","select:not(:disabled):not([disabled])","textarea:not(:disabled):not([disabled])","embed","iframe","object","a[href]","area[href]","button:not(:disabled):not([disabled])","[tabindex]","audio[controls]","video[controls]","*[tabindex]:not([aria-disabled])","*[contenteditable]"],HX=WX.join(),qX=t=>t.offsetWidth>0&&t.offsetHeight>0;function GX(t){const e=Array.from(t.querySelectorAll(HX));return e.unshift(t),e.filter(n=>FN(n)&&qX(n))}var YI,KX=(YI=Kb.default)!=null?YI:Kb,$N=t=>{const{initialFocusRef:e,finalFocusRef:n,contentRef:r,restoreFocus:s,children:i,isDisabled:o,autoFocus:a,persistentFocus:l,lockFocusAcrossFrames:c}=t,d=g.useCallback(()=>{e!=null&&e.current?e.current.focus():r!=null&&r.current&&GX(r.current).length===0&&requestAnimationFrame(()=>{var _;(_=r.current)==null||_.focus()})},[e,r]),f=g.useCallback(()=>{var m;(m=n==null?void 0:n.current)==null||m.focus()},[n]),p=s&&!n;return u.jsx(KX,{crossFrame:c,persistentFocus:l,autoFocus:a,disabled:o,onActivation:d,onDeactivation:f,returnFocus:p,children:i})};$N.displayName="FocusLock";var QX=o7?g.useLayoutEffect:g.useEffect;function XI(t,e=[]){const n=g.useRef(t);return QX(()=>{n.current=t}),g.useCallback((...r)=>{var s;return(s=n.current)==null?void 0:s.call(n,...r)},e)}function YX(t,e){const n=g.useId();return g.useMemo(()=>t||[e,n].filter(Boolean).join("-"),[t,e,n])}function XX(t,e){const n=t!==void 0;return[n,n&&typeof t<"u"?t:e]}function bm(t={}){const{onClose:e,onOpen:n,isOpen:r,id:s}=t,i=XI(n),o=XI(e),[a,l]=g.useState(t.defaultIsOpen||!1),[c,d]=XX(r,a),f=YX(s,"disclosure"),p=g.useCallback(()=>{c||l(!1),o==null||o()},[c,o]),m=g.useCallback(()=>{c||l(!0),i==null||i()},[c,i]),_=g.useCallback(()=>{(d?p:m)()},[d,m,p]);return{isOpen:!!d,onOpen:m,onClose:p,onToggle:_,isControlled:c,getButtonProps:(y={})=>({...y,"aria-expanded":d,"aria-controls":f,onClick:d7(y.onClick,_)}),getDisclosureProps:(y={})=>({...y,hidden:!d,id:f})}}var[JX,ZX]=Jt({name:"InputGroupStylesContext",errorMessage:`useInputGroupStyles returned is 'undefined'. Seems you forgot to wrap the components in "<InputGroup />" `}),zv=ge(function(e,n){const r=_s("Input",e),{children:s,className:i,...o}=Zt(e),a=Ae("chakra-input__group",i),l={},c=Fv(s),d=r.field;c.forEach(p=>{var m,_;r&&(d&&p.type.id==="InputLeftElement"&&(l.paddingStart=(m=d.height)!=null?m:d.h),d&&p.type.id==="InputRightElement"&&(l.paddingEnd=(_=d.height)!=null?_:d.h),p.type.id==="InputRightAddon"&&(l.borderEndRadius=0),p.type.id==="InputLeftAddon"&&(l.borderStartRadius=0))});const f=c.map(p=>{var m,_;const y=fj({size:((m=p.props)==null?void 0:m.size)||e.size,variant:((_=p.props)==null?void 0:_.variant)||e.variant});return p.type.id!=="Input"?g.cloneElement(p,y):g.cloneElement(p,Object.assign(y,l,p.props))});return u.jsx(ce.div,{className:a,ref:n,__css:{width:"100%",display:"flex",position:"relative",isolation:"isolate",...r.group},"data-group":!0,...o,children:u.jsx(JX,{value:r,children:f})})});zv.displayName="InputGroup";var eJ=ce("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),Bv=ge(function(e,n){var r,s;const{placement:i="left",...o}=e,a=ZX(),l=a.field,d={[i==="left"?"insetStart":"insetEnd"]:"0",width:(r=l==null?void 0:l.height)!=null?r:l==null?void 0:l.h,height:(s=l==null?void 0:l.height)!=null?s:l==null?void 0:l.h,fontSize:l==null?void 0:l.fontSize,...a.element};return u.jsx(eJ,{ref:n,__css:d,...o})});Bv.id="InputElement";Bv.displayName="InputElement";var RS=ge(function(e,n){const{className:r,...s}=e,i=Ae("chakra-input__left-element",r);return u.jsx(Bv,{ref:n,placement:"left",className:i,...s})});RS.id="InputLeftElement";RS.displayName="InputLeftElement";var zN=ge(function(e,n){const{className:r,...s}=e,i=Ae("chakra-input__right-element",r);return u.jsx(Bv,{ref:n,placement:"right",className:i,...s})});zN.id="InputRightElement";zN.displayName="InputRightElement";var Oe=ge(function(e,n){const{htmlSize:r,...s}=e,i=_s("Input",s),o=Zt(s),a=yS(o),l=Ae("chakra-input",e.className);return u.jsx(ce.input,{size:r,...a,__css:i.field,ref:n,className:l})});Oe.displayName="Input";Oe.id="Input";var[tJ,BN]=Jt({name:"ListStylesContext",errorMessage:`useListStyles returned is 'undefined'. Seems you forgot to wrap the components in "<List />" `}),Uv=ge(function(e,n){const r=_s("List",e),{children:s,styleType:i="none",stylePosition:o,spacing:a,...l}=Zt(e),c=Fv(s),f=a?{["& > *:not(style) ~ *:not(style)"]:{mt:a}}:{};return u.jsx(tJ,{value:r,children:u.jsx(ce.ul,{ref:n,listStyleType:i,listStylePosition:o,role:"list",__css:{...r.container,...f},...l,children:c})})});Uv.displayName="List";var nJ=ge((t,e)=>{const{as:n,...r}=t;return u.jsx(Uv,{ref:e,as:"ol",styleType:"decimal",marginStart:"1em",...r})});nJ.displayName="OrderedList";var rJ=ge(function(e,n){const{as:r,...s}=e;return u.jsx(Uv,{ref:n,as:"ul",styleType:"initial",marginStart:"1em",...s})});rJ.displayName="UnorderedList";var UN=ge(function(e,n){const r=BN();return u.jsx(ce.li,{ref:n,...e,__css:r.item})});UN.displayName="ListItem";var sJ=ge(function(e,n){const r=BN();return u.jsx(ll,{ref:n,role:"presentation",...e,__css:r.icon})});sJ.displayName="ListIcon";var WN=Object.freeze(["base","sm","md","lg","xl","2xl"]);function iJ(t,e){return Array.isArray(t)?t.map(n=>n===null?null:e(n)):yr(t)?Object.keys(t).reduce((n,r)=>(n[r]=e(t[r]),n),{}):t!=null?e(t):null}function oJ(t,e=WN){const n={};return t.forEach((r,s)=>{const i=e[s];r!=null&&(n[i]=r)}),n}var Os=ce("div",{baseStyle:{flex:1,justifySelf:"stretch",alignSelf:"stretch"}});Os.displayName="Spacer";var H=ge(function(e,n){const r=Zs("Text",e),{className:s,align:i,decoration:o,casing:a,...l}=Zt(e),c=fj({textAlign:e.align,textDecoration:e.decoration,textTransform:e.casing});return u.jsx(ce.p,{ref:n,className:Ae("chakra-text",e.className),...c,...l,__css:r})});H.displayName="Text";var HN=t=>u.jsx(ce.div,{className:"chakra-stack__item",...t,__css:{display:"inline-block",flex:"0 0 auto",minWidth:0,...t.__css}});HN.displayName="StackItem";function aJ(t){const{spacing:e,direction:n}=t,r={column:{my:e,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:e,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:e,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:e,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":iJ(n,s=>r[s])}}var jS=ge((t,e)=>{const{isInline:n,direction:r,align:s,justify:i,spacing:o="0.5rem",wrap:a,children:l,divider:c,className:d,shouldWrapChildren:f,...p}=t,m=n?"row":r??"column",_=g.useMemo(()=>aJ({spacing:o,direction:m}),[o,m]),y=!!c,S=!f&&!y,x=g.useMemo(()=>{const w=Fv(l);return S?w:w.map((k,j)=>{const O=typeof k.key<"u"?k.key:j,C=j+1===w.length,I=f?u.jsx(HN,{children:k},O):k;if(!y)return I;const P=g.cloneElement(c,{__css:_}),N=C?null:P;return u.jsxs(g.Fragment,{children:[I,N]},O)})},[c,_,y,S,f,l]),b=Ae("chakra-stack",d);return u.jsx(ce.div,{ref:e,display:"flex",alignItems:s,justifyContent:i,flexDirection:m,flexWrap:a,gap:y?void 0:o,className:b,...p,children:x})});jS.displayName="Stack";var qN=ge((t,e)=>u.jsx(jS,{align:"center",...t,direction:"column",ref:e}));qN.displayName="VStack";var GN=ge(function(e,n){const r=Zs("Heading",e),{className:s,...i}=Zt(e);return u.jsx(ce.h2,{ref:n,className:Ae("chakra-heading",e.className),...i,__css:r})});GN.displayName="Heading";var W=ce("div");W.displayName="Box";var KN=ge(function(e,n){const{size:r,centerContent:s=!0,...i}=e,o=s?{display:"flex",alignItems:"center",justifyContent:"center"}:{};return u.jsx(W,{ref:n,boxSize:r,__css:{...o,flexShrink:0,flexGrow:0},...i})});KN.displayName="Square";var lJ=ge(function(e,n){const{size:r,...s}=e;return u.jsx(KN,{size:r,ref:n,borderRadius:"9999px",...s})});lJ.displayName="Circle";var Xt=ge(function(e,n){const{borderLeftWidth:r,borderBottomWidth:s,borderTopWidth:i,borderRightWidth:o,borderWidth:a,borderStyle:l,borderColor:c,...d}=Zs("Divider",e),{className:f,orientation:p="horizontal",__css:m,..._}=Zt(e),y={vertical:{borderLeftWidth:r||o||a||"1px",height:"100%"},horizontal:{borderBottomWidth:s||i||a||"1px",width:"100%"}};return u.jsx(ce.hr,{ref:n,"aria-orientation":p,..._,__css:{...d,border:"0",borderColor:c,borderStyle:l,...y[p],...m},className:Ae("chakra-divider",f)})});Xt.displayName="Divider";var ye=ge(function(e,n){const{direction:r,align:s,justify:i,wrap:o,basis:a,grow:l,shrink:c,...d}=e,f={display:"flex",flexDirection:r,alignItems:s,justifyContent:i,flexWrap:o,flexBasis:a,flexGrow:l,flexShrink:c};return u.jsx(ce.div,{ref:n,__css:f,...d})});ye.displayName="Flex";function cJ(t,e={}){const{ssr:n=!0,fallback:r}=e,{getWindow:s}=M7(),i=Array.isArray(t)?t:[t];let o=Array.isArray(r)?r:[r];o=o.filter(c=>c!=null);const[a,l]=g.useState(()=>i.map((c,d)=>({media:c,matches:n?!!o[d]:s().matchMedia(c).matches})));return g.useEffect(()=>{const c=s();l(i.map(p=>({media:p,matches:c.matchMedia(p).matches})));const d=i.map(p=>c.matchMedia(p)),f=p=>{l(m=>m.slice().map(_=>_.media===p.media?{..._,matches:p.matches}:_))};return d.forEach(p=>{typeof p.addListener=="function"?p.addListener(f):p.addEventListener("change",f)}),()=>{d.forEach(p=>{typeof p.removeListener=="function"?p.removeListener(f):p.removeEventListener("change",f)})}},[s]),a.map(c=>c.matches)}function uJ(t,e,n=WN){let r=Object.keys(t).indexOf(e);if(r!==-1)return t[e];let s=n.indexOf(e);for(;s>=0;){const i=n[s];if(t.hasOwnProperty(i)){r=s;break}s-=1}if(r!==-1){const i=n[r];return t[i]}}function dJ(t){var e,n;const r=yr(t)?t:{fallback:t??"base"},i=Qh().__breakpoints.details.map(({minMaxQuery:c,breakpoint:d})=>({breakpoint:d,query:c.replace("@media screen and ","")})),o=i.map(c=>c.breakpoint===r.fallback),l=cJ(i.map(c=>c.query),{fallback:o,ssr:r.ssr}).findIndex(c=>c==!0);return(n=(e=i[l])==null?void 0:e.breakpoint)!=null?n:r.fallback}function Di(t,e){var n;const r=yr(e)?e:{fallback:e??"base"},s=dJ(r),i=Qh();if(!s)return;const o=Array.from(((n=i.__breakpoints)==null?void 0:n.keys)||[]),a=Array.isArray(t)?Object.fromEntries(Object.entries(oJ(t,o)).map(([l,c])=>[l,c])):t;return uJ(a,s,o)}function hJ(t){const{key:e}=t;return e.length===1||e.length>1&&/[^a-zA-Z0-9]/.test(e)}function fJ(t={}){const{timeout:e=300,preventDefault:n=()=>!0}=t,[r,s]=g.useState([]),i=g.useRef(),o=()=>{i.current&&(clearTimeout(i.current),i.current=null)},a=()=>{o(),i.current=setTimeout(()=>{s([]),i.current=null},e)};g.useEffect(()=>o,[]);function l(c){return d=>{if(d.key==="Backspace"){const f=[...r];f.pop(),s(f);return}if(hJ(d)){const f=r.concat(d.key);n(d)&&(d.preventDefault(),d.stopPropagation()),s(f),c(f.join("")),a()}}}return l}function pJ(t,e,n,r){if(e==null)return r;if(!r)return t.find(o=>n(o).toLowerCase().startsWith(e.toLowerCase()));const s=t.filter(i=>n(i).toLowerCase().startsWith(e.toLowerCase()));if(s.length>0){let i;return s.includes(r)?(i=s.indexOf(r)+1,i===s.length&&(i=0),s[i]):(i=t.indexOf(s[0]),t[i])}return r}function mJ(){const t=g.useRef(new Map),e=t.current,n=g.useCallback((s,i,o,a)=>{t.current.set(o,{type:i,el:s,options:a}),s.addEventListener(i,o,a)},[]),r=g.useCallback((s,i,o,a)=>{s.removeEventListener(i,o,a),t.current.delete(o)},[]);return g.useEffect(()=>()=>{e.forEach((s,i)=>{r(s.el,s.type,i,s.options)})},[r,e]),{add:n,remove:r}}function Y0(t){const e=t.target,{tagName:n,isContentEditable:r}=e;return n!=="INPUT"&&n!=="TEXTAREA"&&r!==!0}function QN(t={}){const{ref:e,isDisabled:n,isFocusable:r,clickOnEnter:s=!0,clickOnSpace:i=!0,onMouseDown:o,onMouseUp:a,onClick:l,onKeyDown:c,onKeyUp:d,tabIndex:f,onMouseOver:p,onMouseLeave:m,..._}=t,[y,S]=g.useState(!0),[x,b]=g.useState(!1),w=mJ(),k=B=>{B&&B.tagName!=="BUTTON"&&S(!1)},j=y?f:f||0,O=n&&!r,C=g.useCallback(B=>{if(n){B.stopPropagation(),B.preventDefault();return}B.currentTarget.focus(),l==null||l(B)},[n,l]),T=g.useCallback(B=>{x&&Y0(B)&&(B.preventDefault(),B.stopPropagation(),b(!1),w.remove(document,"keyup",T,!1))},[x,w]),I=g.useCallback(B=>{if(c==null||c(B),n||B.defaultPrevented||B.metaKey||!Y0(B.nativeEvent)||y)return;const q=s&&B.key==="Enter";i&&B.key===" "&&(B.preventDefault(),b(!0)),q&&(B.preventDefault(),B.currentTarget.click()),w.add(document,"keyup",T,!1)},[n,y,c,s,i,w,T]),P=g.useCallback(B=>{if(d==null||d(B),n||B.defaultPrevented||B.metaKey||!Y0(B.nativeEvent)||y)return;i&&B.key===" "&&(B.preventDefault(),b(!1),B.currentTarget.click())},[i,y,n,d]),N=g.useCallback(B=>{B.button===0&&(b(!1),w.remove(document,"mouseup",N,!1))},[w]),M=g.useCallback(B=>{if(B.button!==0)return;if(n){B.stopPropagation(),B.preventDefault();return}y||b(!0),B.currentTarget.focus({preventScroll:!0}),w.add(document,"mouseup",N,!1),o==null||o(B)},[n,y,o,w,N]),R=g.useCallback(B=>{B.button===0&&(y||b(!1),a==null||a(B))},[a,y]),$=g.useCallback(B=>{if(n){B.preventDefault();return}p==null||p(B)},[n,p]),Q=g.useCallback(B=>{x&&(B.preventDefault(),b(!1)),m==null||m(B)},[x,m]),ne=dr(e,k);return y?{..._,ref:ne,type:"button","aria-disabled":O?void 0:n,disabled:O,onClick:C,onMouseDown:o,onMouseUp:a,onKeyUp:d,onKeyDown:c,onMouseOver:p,onMouseLeave:m}:{..._,ref:ne,role:"button","data-active":Jn(x),"aria-disabled":n?"true":void 0,tabIndex:O?void 0:j,onClick:C,onMouseDown:M,onMouseUp:R,onKeyUp:P,onKeyDown:I,onMouseOver:$,onMouseLeave:Q}}function gJ(t){const e=t.current;if(!e)return!1;const n=LX(e);return!n||e.contains(n)?!1:!!UX(n)}function vJ(t,e){const{shouldFocus:n,visible:r,focusRef:s}=e,i=n&&!r;vh(()=>{if(!i||gJ(t))return;const o=(s==null?void 0:s.current)||t.current;let a;if(o)return a=requestAnimationFrame(()=>{o.focus({preventScroll:!0})}),()=>{cancelAnimationFrame(a)}},[i,t,s])}var Dl=(t,e)=>({var:t,varRef:e?`var(${t}, ${e})`:`var(${t})`}),gn={arrowShadowColor:Dl("--popper-arrow-shadow-color"),arrowSize:Dl("--popper-arrow-size","8px"),arrowSizeHalf:Dl("--popper-arrow-size-half"),arrowBg:Dl("--popper-arrow-bg"),transformOrigin:Dl("--popper-transform-origin"),arrowOffset:Dl("--popper-arrow-offset")};function yJ(t){if(t.includes("top"))return"1px 1px 0px 0 var(--popper-arrow-shadow-color)";if(t.includes("bottom"))return"-1px -1px 0px 0 var(--popper-arrow-shadow-color)";if(t.includes("right"))return"-1px 1px 0px 0 var(--popper-arrow-shadow-color)";if(t.includes("left"))return"1px -1px 0px 0 var(--popper-arrow-shadow-color)"}var _J={top:"bottom center","top-start":"bottom left","top-end":"bottom right",bottom:"top center","bottom-start":"top left","bottom-end":"top right",left:"right center","left-start":"right top","left-end":"right bottom",right:"left center","right-start":"left top","right-end":"left bottom"},bJ=t=>_J[t],JI={scroll:!0,resize:!0};function wJ(t){let e;return typeof t=="object"?e={enabled:!0,options:{...JI,...t}}:e={enabled:t,options:JI},e}var xJ={name:"matchWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:({state:t})=>{t.styles.popper.width=`${t.rects.reference.width}px`},effect:({state:t})=>()=>{const e=t.elements.reference;t.elements.popper.style.width=`${e.offsetWidth}px`}},SJ={name:"transformOrigin",enabled:!0,phase:"write",fn:({state:t})=>{ZI(t)},effect:({state:t})=>()=>{ZI(t)}},ZI=t=>{t.elements.popper.style.setProperty(gn.transformOrigin.var,bJ(t.placement))},EJ={name:"positionArrow",enabled:!0,phase:"afterWrite",fn:({state:t})=>{CJ(t)}},CJ=t=>{var e;if(!t.placement)return;const n=TJ(t.placement);if((e=t.elements)!=null&&e.arrow&&n){Object.assign(t.elements.arrow.style,{[n.property]:n.value,width:gn.arrowSize.varRef,height:gn.arrowSize.varRef,zIndex:-1});const r={[gn.arrowSizeHalf.var]:`calc(${gn.arrowSize.varRef} / 2 - 1px)`,[gn.arrowOffset.var]:`calc(${gn.arrowSizeHalf.varRef} * -1)`};for(const s in r)t.elements.arrow.style.setProperty(s,r[s])}},TJ=t=>{if(t.startsWith("top"))return{property:"bottom",value:gn.arrowOffset.varRef};if(t.startsWith("bottom"))return{property:"top",value:gn.arrowOffset.varRef};if(t.startsWith("left"))return{property:"right",value:gn.arrowOffset.varRef};if(t.startsWith("right"))return{property:"left",value:gn.arrowOffset.varRef}},IJ={name:"innerArrow",enabled:!0,phase:"main",requires:["arrow"],fn:({state:t})=>{ek(t)},effect:({state:t})=>()=>{ek(t)}},ek=t=>{if(!t.elements.arrow)return;const e=t.elements.arrow.querySelector("[data-popper-arrow-inner]");if(!e)return;const n=yJ(t.placement);n&&e.style.setProperty("--popper-arrow-default-shadow",n),Object.assign(e.style,{transform:"rotate(45deg)",background:gn.arrowBg.varRef,top:0,left:0,width:"100%",height:"100%",position:"absolute",zIndex:"inherit",boxShadow:"var(--popper-arrow-shadow, var(--popper-arrow-default-shadow))"})},kJ={"start-start":{ltr:"left-start",rtl:"right-start"},"start-end":{ltr:"left-end",rtl:"right-end"},"end-start":{ltr:"right-start",rtl:"left-start"},"end-end":{ltr:"right-end",rtl:"left-end"},start:{ltr:"left",rtl:"right"},end:{ltr:"right",rtl:"left"}},PJ={"auto-start":"auto-end","auto-end":"auto-start","top-start":"top-end","top-end":"top-start","bottom-start":"bottom-end","bottom-end":"bottom-start"};function AJ(t,e="ltr"){var n,r;const s=((n=kJ[t])==null?void 0:n[e])||t;return e==="ltr"?s:(r=PJ[t])!=null?r:s}var or="top",Kr="bottom",Qr="right",ar="left",DS="auto",rf=[or,Kr,Qr,ar],Wc="start",Ch="end",RJ="clippingParents",YN="viewport",Ju="popper",jJ="reference",tk=rf.reduce(function(t,e){return t.concat([e+"-"+Wc,e+"-"+Ch])},[]),XN=[].concat(rf,[DS]).reduce(function(t,e){return t.concat([e,e+"-"+Wc,e+"-"+Ch])},[]),DJ="beforeRead",NJ="read",OJ="afterRead",MJ="beforeMain",LJ="main",VJ="afterMain",FJ="beforeWrite",$J="write",zJ="afterWrite",BJ=[DJ,NJ,OJ,MJ,LJ,VJ,FJ,$J,zJ];function Qs(t){return t?(t.nodeName||"").toLowerCase():null}function Er(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Ga(t){var e=Er(t).Element;return t instanceof e||t instanceof Element}function Ur(t){var e=Er(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function NS(t){if(typeof ShadowRoot>"u")return!1;var e=Er(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function UJ(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},s=e.attributes[n]||{},i=e.elements[n];!Ur(i)||!Qs(i)||(Object.assign(i.style,r),Object.keys(s).forEach(function(o){var a=s[o];a===!1?i.removeAttribute(o):i.setAttribute(o,a===!0?"":a)}))})}function WJ(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var s=e.elements[r],i=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=o.reduce(function(l,c){return l[c]="",l},{});!Ur(s)||!Qs(s)||(Object.assign(s.style,a),Object.keys(i).forEach(function(l){s.removeAttribute(l)}))})}}const HJ={name:"applyStyles",enabled:!0,phase:"write",fn:UJ,effect:WJ,requires:["computeStyles"]};function Ws(t){return t.split("-")[0]}var Va=Math.max,Cg=Math.min,Hc=Math.round;function Qb(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function JN(){return!/^((?!chrome|android).)*safari/i.test(Qb())}function qc(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),s=1,i=1;e&&Ur(t)&&(s=t.offsetWidth>0&&Hc(r.width)/t.offsetWidth||1,i=t.offsetHeight>0&&Hc(r.height)/t.offsetHeight||1);var o=Ga(t)?Er(t):window,a=o.visualViewport,l=!JN()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/s,d=(r.top+(l&&a?a.offsetTop:0))/i,f=r.width/s,p=r.height/i;return{width:f,height:p,top:d,right:c+f,bottom:d+p,left:c,x:c,y:d}}function OS(t){var e=qc(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function ZN(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&NS(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ni(t){return Er(t).getComputedStyle(t)}function qJ(t){return["table","td","th"].indexOf(Qs(t))>=0}function Xo(t){return((Ga(t)?t.ownerDocument:t.document)||window.document).documentElement}function Wv(t){return Qs(t)==="html"?t:t.assignedSlot||t.parentNode||(NS(t)?t.host:null)||Xo(t)}function nk(t){return!Ur(t)||Ni(t).position==="fixed"?null:t.offsetParent}function GJ(t){var e=/firefox/i.test(Qb()),n=/Trident/i.test(Qb());if(n&&Ur(t)){var r=Ni(t);if(r.position==="fixed")return null}var s=Wv(t);for(NS(s)&&(s=s.host);Ur(s)&&["html","body"].indexOf(Qs(s))<0;){var i=Ni(s);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return s;s=s.parentNode}return null}function sf(t){for(var e=Er(t),n=nk(t);n&&qJ(n)&&Ni(n).position==="static";)n=nk(n);return n&&(Qs(n)==="html"||Qs(n)==="body"&&Ni(n).position==="static")?e:n||GJ(t)||e}function MS(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Od(t,e,n){return Va(t,Cg(e,n))}function KJ(t,e,n){var r=Od(t,e,n);return r>n?n:r}function eO(){return{top:0,right:0,bottom:0,left:0}}function tO(t){return Object.assign({},eO(),t)}function nO(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var QJ=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,tO(typeof e!="number"?e:nO(e,rf))};function YJ(t){var e,n=t.state,r=t.name,s=t.options,i=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Ws(n.placement),l=MS(a),c=[ar,Qr].indexOf(a)>=0,d=c?"height":"width";if(!(!i||!o)){var f=QJ(s.padding,n),p=OS(i),m=l==="y"?or:ar,_=l==="y"?Kr:Qr,y=n.rects.reference[d]+n.rects.reference[l]-o[l]-n.rects.popper[d],S=o[l]-n.rects.reference[l],x=sf(i),b=x?l==="y"?x.clientHeight||0:x.clientWidth||0:0,w=y/2-S/2,k=f[m],j=b-p[d]-f[_],O=b/2-p[d]/2+w,C=Od(k,O,j),T=l;n.modifiersData[r]=(e={},e[T]=C,e.centerOffset=C-O,e)}}function XJ(t){var e=t.state,n=t.options,r=n.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||ZN(e.elements.popper,s)&&(e.elements.arrow=s))}const JJ={name:"arrow",enabled:!0,phase:"main",fn:YJ,effect:XJ,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Gc(t){return t.split("-")[1]}var ZJ={top:"auto",right:"auto",bottom:"auto",left:"auto"};function eZ(t,e){var n=t.x,r=t.y,s=e.devicePixelRatio||1;return{x:Hc(n*s)/s||0,y:Hc(r*s)/s||0}}function rk(t){var e,n=t.popper,r=t.popperRect,s=t.placement,i=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,d=t.roundOffsets,f=t.isFixed,p=o.x,m=p===void 0?0:p,_=o.y,y=_===void 0?0:_,S=typeof d=="function"?d({x:m,y}):{x:m,y};m=S.x,y=S.y;var x=o.hasOwnProperty("x"),b=o.hasOwnProperty("y"),w=ar,k=or,j=window;if(c){var O=sf(n),C="clientHeight",T="clientWidth";if(O===Er(n)&&(O=Xo(n),Ni(O).position!=="static"&&a==="absolute"&&(C="scrollHeight",T="scrollWidth")),O=O,s===or||(s===ar||s===Qr)&&i===Ch){k=Kr;var I=f&&O===j&&j.visualViewport?j.visualViewport.height:O[C];y-=I-r.height,y*=l?1:-1}if(s===ar||(s===or||s===Kr)&&i===Ch){w=Qr;var P=f&&O===j&&j.visualViewport?j.visualViewport.width:O[T];m-=P-r.width,m*=l?1:-1}}var N=Object.assign({position:a},c&&ZJ),M=d===!0?eZ({x:m,y},Er(n)):{x:m,y};if(m=M.x,y=M.y,l){var R;return Object.assign({},N,(R={},R[k]=b?"0":"",R[w]=x?"0":"",R.transform=(j.devicePixelRatio||1)<=1?"translate("+m+"px, "+y+"px)":"translate3d("+m+"px, "+y+"px, 0)",R))}return Object.assign({},N,(e={},e[k]=b?y+"px":"",e[w]=x?m+"px":"",e.transform="",e))}function tZ(t){var e=t.state,n=t.options,r=n.gpuAcceleration,s=r===void 0?!0:r,i=n.adaptive,o=i===void 0?!0:i,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:Ws(e.placement),variation:Gc(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,rk(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,rk(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const nZ={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:tZ,data:{}};var Op={passive:!0};function rZ(t){var e=t.state,n=t.instance,r=t.options,s=r.scroll,i=s===void 0?!0:s,o=r.resize,a=o===void 0?!0:o,l=Er(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&c.forEach(function(d){d.addEventListener("scroll",n.update,Op)}),a&&l.addEventListener("resize",n.update,Op),function(){i&&c.forEach(function(d){d.removeEventListener("scroll",n.update,Op)}),a&&l.removeEventListener("resize",n.update,Op)}}const sZ={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:rZ,data:{}};var iZ={left:"right",right:"left",bottom:"top",top:"bottom"};function wm(t){return t.replace(/left|right|bottom|top/g,function(e){return iZ[e]})}var oZ={start:"end",end:"start"};function sk(t){return t.replace(/start|end/g,function(e){return oZ[e]})}function LS(t){var e=Er(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function VS(t){return qc(Xo(t)).left+LS(t).scrollLeft}function aZ(t,e){var n=Er(t),r=Xo(t),s=n.visualViewport,i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;var c=JN();(c||!c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a+VS(t),y:l}}function lZ(t){var e,n=Xo(t),r=LS(t),s=(e=t.ownerDocument)==null?void 0:e.body,i=Va(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=Va(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-r.scrollLeft+VS(t),l=-r.scrollTop;return Ni(s||n).direction==="rtl"&&(a+=Va(n.clientWidth,s?s.clientWidth:0)-i),{width:i,height:o,x:a,y:l}}function FS(t){var e=Ni(t),n=e.overflow,r=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function rO(t){return["html","body","#document"].indexOf(Qs(t))>=0?t.ownerDocument.body:Ur(t)&&FS(t)?t:rO(Wv(t))}function Md(t,e){var n;e===void 0&&(e=[]);var r=rO(t),s=r===((n=t.ownerDocument)==null?void 0:n.body),i=Er(r),o=s?[i].concat(i.visualViewport||[],FS(r)?r:[]):r,a=e.concat(o);return s?a:a.concat(Md(Wv(o)))}function Yb(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function cZ(t,e){var n=qc(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function ik(t,e,n){return e===YN?Yb(aZ(t,n)):Ga(e)?cZ(e,n):Yb(lZ(Xo(t)))}function uZ(t){var e=Md(Wv(t)),n=["absolute","fixed"].indexOf(Ni(t).position)>=0,r=n&&Ur(t)?sf(t):t;return Ga(r)?e.filter(function(s){return Ga(s)&&ZN(s,r)&&Qs(s)!=="body"}):[]}function dZ(t,e,n,r){var s=e==="clippingParents"?uZ(t):[].concat(e),i=[].concat(s,[n]),o=i[0],a=i.reduce(function(l,c){var d=ik(t,c,r);return l.top=Va(d.top,l.top),l.right=Cg(d.right,l.right),l.bottom=Cg(d.bottom,l.bottom),l.left=Va(d.left,l.left),l},ik(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function sO(t){var e=t.reference,n=t.element,r=t.placement,s=r?Ws(r):null,i=r?Gc(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(s){case or:l={x:o,y:e.y-n.height};break;case Kr:l={x:o,y:e.y+e.height};break;case Qr:l={x:e.x+e.width,y:a};break;case ar:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=s?MS(s):null;if(c!=null){var d=c==="y"?"height":"width";switch(i){case Wc:l[c]=l[c]-(e[d]/2-n[d]/2);break;case Ch:l[c]=l[c]+(e[d]/2-n[d]/2);break}}return l}function Th(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=r===void 0?t.placement:r,i=n.strategy,o=i===void 0?t.strategy:i,a=n.boundary,l=a===void 0?RJ:a,c=n.rootBoundary,d=c===void 0?YN:c,f=n.elementContext,p=f===void 0?Ju:f,m=n.altBoundary,_=m===void 0?!1:m,y=n.padding,S=y===void 0?0:y,x=tO(typeof S!="number"?S:nO(S,rf)),b=p===Ju?jJ:Ju,w=t.rects.popper,k=t.elements[_?b:p],j=dZ(Ga(k)?k:k.contextElement||Xo(t.elements.popper),l,d,o),O=qc(t.elements.reference),C=sO({reference:O,element:w,strategy:"absolute",placement:s}),T=Yb(Object.assign({},w,C)),I=p===Ju?T:O,P={top:j.top-I.top+x.top,bottom:I.bottom-j.bottom+x.bottom,left:j.left-I.left+x.left,right:I.right-j.right+x.right},N=t.modifiersData.offset;if(p===Ju&&N){var M=N[s];Object.keys(P).forEach(function(R){var $=[Qr,Kr].indexOf(R)>=0?1:-1,Q=[or,Kr].indexOf(R)>=0?"y":"x";P[R]+=M[Q]*$})}return P}function hZ(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=n.boundary,i=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?XN:l,d=Gc(r),f=d?a?tk:tk.filter(function(_){return Gc(_)===d}):rf,p=f.filter(function(_){return c.indexOf(_)>=0});p.length===0&&(p=f);var m=p.reduce(function(_,y){return _[y]=Th(t,{placement:y,boundary:s,rootBoundary:i,padding:o})[Ws(y)],_},{});return Object.keys(m).sort(function(_,y){return m[_]-m[y]})}function fZ(t){if(Ws(t)===DS)return[];var e=wm(t);return[sk(t),e,sk(e)]}function pZ(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var s=n.mainAxis,i=s===void 0?!0:s,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,d=n.boundary,f=n.rootBoundary,p=n.altBoundary,m=n.flipVariations,_=m===void 0?!0:m,y=n.allowedAutoPlacements,S=e.options.placement,x=Ws(S),b=x===S,w=l||(b||!_?[wm(S)]:fZ(S)),k=[S].concat(w).reduce(function(Ee,Ie){return Ee.concat(Ws(Ie)===DS?hZ(e,{placement:Ie,boundary:d,rootBoundary:f,padding:c,flipVariations:_,allowedAutoPlacements:y}):Ie)},[]),j=e.rects.reference,O=e.rects.popper,C=new Map,T=!0,I=k[0],P=0;P<k.length;P++){var N=k[P],M=Ws(N),R=Gc(N)===Wc,$=[or,Kr].indexOf(M)>=0,Q=$?"width":"height",ne=Th(e,{placement:N,boundary:d,rootBoundary:f,altBoundary:p,padding:c}),B=$?R?Qr:ar:R?Kr:or;j[Q]>O[Q]&&(B=wm(B));var q=wm(B),ee=[];if(i&&ee.push(ne[M]<=0),a&&ee.push(ne[B]<=0,ne[q]<=0),ee.every(function(Ee){return Ee})){I=N,T=!1;break}C.set(N,ee)}if(T)for(var he=_?3:1,ue=function(Ie){var je=k.find(function(pe){var Y=C.get(pe);if(Y)return Y.slice(0,Ie).every(function(X){return X})});if(je)return I=je,"break"},ve=he;ve>0;ve--){var ie=ue(ve);if(ie==="break")break}e.placement!==I&&(e.modifiersData[r]._skip=!0,e.placement=I,e.reset=!0)}}const mZ={name:"flip",enabled:!0,phase:"main",fn:pZ,requiresIfExists:["offset"],data:{_skip:!1}};function ok(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function ak(t){return[or,Qr,Kr,ar].some(function(e){return t[e]>=0})}function gZ(t){var e=t.state,n=t.name,r=e.rects.reference,s=e.rects.popper,i=e.modifiersData.preventOverflow,o=Th(e,{elementContext:"reference"}),a=Th(e,{altBoundary:!0}),l=ok(o,r),c=ok(a,s,i),d=ak(l),f=ak(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":f})}const vZ={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:gZ};function yZ(t,e,n){var r=Ws(t),s=[ar,or].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=i[0],a=i[1];return o=o||0,a=(a||0)*s,[ar,Qr].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function _Z(t){var e=t.state,n=t.options,r=t.name,s=n.offset,i=s===void 0?[0,0]:s,o=XN.reduce(function(d,f){return d[f]=yZ(f,e.rects,i),d},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=o}const bZ={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:_Z};function wZ(t){var e=t.state,n=t.name;e.modifiersData[n]=sO({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const xZ={name:"popperOffsets",enabled:!0,phase:"read",fn:wZ,data:{}};function SZ(t){return t==="x"?"y":"x"}function EZ(t){var e=t.state,n=t.options,r=t.name,s=n.mainAxis,i=s===void 0?!0:s,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,d=n.altBoundary,f=n.padding,p=n.tether,m=p===void 0?!0:p,_=n.tetherOffset,y=_===void 0?0:_,S=Th(e,{boundary:l,rootBoundary:c,padding:f,altBoundary:d}),x=Ws(e.placement),b=Gc(e.placement),w=!b,k=MS(x),j=SZ(k),O=e.modifiersData.popperOffsets,C=e.rects.reference,T=e.rects.popper,I=typeof y=="function"?y(Object.assign({},e.rects,{placement:e.placement})):y,P=typeof I=="number"?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),N=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,M={x:0,y:0};if(O){if(i){var R,$=k==="y"?or:ar,Q=k==="y"?Kr:Qr,ne=k==="y"?"height":"width",B=O[k],q=B+S[$],ee=B-S[Q],he=m?-T[ne]/2:0,ue=b===Wc?C[ne]:T[ne],ve=b===Wc?-T[ne]:-C[ne],ie=e.elements.arrow,Ee=m&&ie?OS(ie):{width:0,height:0},Ie=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:eO(),je=Ie[$],pe=Ie[Q],Y=Od(0,C[ne],Ee[ne]),X=w?C[ne]/2-he-Y-je-P.mainAxis:ue-Y-je-P.mainAxis,re=w?-C[ne]/2+he+Y+pe+P.mainAxis:ve+Y+pe+P.mainAxis,De=e.elements.arrow&&sf(e.elements.arrow),Ne=De?k==="y"?De.clientTop||0:De.clientLeft||0:0,ut=(R=N==null?void 0:N[k])!=null?R:0,Ar=B+X-ut-Ne,Xr=B+re-ut,ln=Od(m?Cg(q,Ar):q,B,m?Va(ee,Xr):ee);O[k]=ln,M[k]=ln-B}if(a){var Kn,Rr=k==="x"?or:ar,Qn=k==="x"?Kr:Qr,tn=O[j],jr=j==="y"?"height":"width",ws=tn+S[Rr],Yn=tn-S[Qn],xs=[or,ar].indexOf(x)!==-1,ti=(Kn=N==null?void 0:N[j])!=null?Kn:0,Gi=xs?ws:tn-C[jr]-T[jr]-ti+P.altAxis,Dt=xs?tn+C[jr]+T[jr]-ti-P.altAxis:Yn,Et=m&&xs?KJ(Gi,tn,Dt):Od(m?Gi:ws,tn,m?Dt:Yn);O[j]=Et,M[j]=Et-tn}e.modifiersData[r]=M}}const CZ={name:"preventOverflow",enabled:!0,phase:"main",fn:EZ,requiresIfExists:["offset"]};function TZ(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function IZ(t){return t===Er(t)||!Ur(t)?LS(t):TZ(t)}function kZ(t){var e=t.getBoundingClientRect(),n=Hc(e.width)/t.offsetWidth||1,r=Hc(e.height)/t.offsetHeight||1;return n!==1||r!==1}function PZ(t,e,n){n===void 0&&(n=!1);var r=Ur(e),s=Ur(e)&&kZ(e),i=Xo(e),o=qc(t,s,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Qs(e)!=="body"||FS(i))&&(a=IZ(e)),Ur(e)?(l=qc(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):i&&(l.x=VS(i))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function AZ(t){var e=new Map,n=new Set,r=[];t.forEach(function(i){e.set(i.name,i)});function s(i){n.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&s(l)}}),r.push(i)}return t.forEach(function(i){n.has(i.name)||s(i)}),r}function RZ(t){var e=AZ(t);return BJ.reduce(function(n,r){return n.concat(e.filter(function(s){return s.phase===r}))},[])}function jZ(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function DZ(t){var e=t.reduce(function(n,r){var s=n[r.name];return n[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var lk={placement:"bottom",modifiers:[],strategy:"absolute"};function ck(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function NZ(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,s=e.defaultOptions,i=s===void 0?lk:s;return function(a,l,c){c===void 0&&(c=i);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},lk,i),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},f=[],p=!1,m={state:d,setOptions:function(x){var b=typeof x=="function"?x(d.options):x;y(),d.options=Object.assign({},i,d.options,b),d.scrollParents={reference:Ga(a)?Md(a):a.contextElement?Md(a.contextElement):[],popper:Md(l)};var w=RZ(DZ([].concat(r,d.options.modifiers)));return d.orderedModifiers=w.filter(function(k){return k.enabled}),_(),m.update()},forceUpdate:function(){if(!p){var x=d.elements,b=x.reference,w=x.popper;if(ck(b,w)){d.rects={reference:PZ(b,sf(w),d.options.strategy==="fixed"),popper:OS(w)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(P){return d.modifiersData[P.name]=Object.assign({},P.data)});for(var k=0;k<d.orderedModifiers.length;k++){if(d.reset===!0){d.reset=!1,k=-1;continue}var j=d.orderedModifiers[k],O=j.fn,C=j.options,T=C===void 0?{}:C,I=j.name;typeof O=="function"&&(d=O({state:d,options:T,name:I,instance:m})||d)}}}},update:jZ(function(){return new Promise(function(S){m.forceUpdate(),S(d)})}),destroy:function(){y(),p=!0}};if(!ck(a,l))return m;m.setOptions(c).then(function(S){!p&&c.onFirstUpdate&&c.onFirstUpdate(S)});function _(){d.orderedModifiers.forEach(function(S){var x=S.name,b=S.options,w=b===void 0?{}:b,k=S.effect;if(typeof k=="function"){var j=k({state:d,name:x,instance:m,options:w}),O=function(){};f.push(j||O)}})}function y(){f.forEach(function(S){return S()}),f=[]}return m}}var OZ=[sZ,xZ,nZ,HJ,bZ,mZ,CZ,JJ,vZ],MZ=NZ({defaultModifiers:OZ});function iO(t={}){const{enabled:e=!0,modifiers:n,placement:r="bottom",strategy:s="absolute",arrowPadding:i=8,eventListeners:o=!0,offset:a,gutter:l=8,flip:c=!0,boundary:d="clippingParents",preventOverflow:f=!0,matchWidth:p,direction:m="ltr"}=t,_=g.useRef(null),y=g.useRef(null),S=g.useRef(null),x=AJ(r,m),b=g.useRef(()=>{}),w=g.useCallback(()=>{var P;!e||!_.current||!y.current||((P=b.current)==null||P.call(b),S.current=MZ(_.current,y.current,{placement:x,modifiers:[IJ,EJ,SJ,{...xJ,enabled:!!p},{name:"eventListeners",...wJ(o)},{name:"arrow",options:{padding:i}},{name:"offset",options:{offset:a??[0,l]}},{name:"flip",enabled:!!c,options:{padding:8}},{name:"preventOverflow",enabled:!!f,options:{boundary:d}},...n??[]],strategy:s}),S.current.forceUpdate(),b.current=S.current.destroy)},[x,e,n,p,o,i,a,l,c,f,d,s]);g.useEffect(()=>()=>{var P;!_.current&&!y.current&&((P=S.current)==null||P.destroy(),S.current=null)},[]);const k=g.useCallback(P=>{_.current=P,w()},[w]),j=g.useCallback((P={},N=null)=>({...P,ref:dr(k,N)}),[k]),O=g.useCallback(P=>{y.current=P,w()},[w]),C=g.useCallback((P={},N=null)=>({...P,ref:dr(O,N),style:{...P.style,position:s,minWidth:p?void 0:"max-content",inset:"0 auto auto 0"}}),[s,O,p]),T=g.useCallback((P={},N=null)=>{const{size:M,shadowColor:R,bg:$,style:Q,...ne}=P;return{...ne,ref:N,"data-popper-arrow":"",style:LZ(P)}},[]),I=g.useCallback((P={},N=null)=>({...P,ref:N,"data-popper-arrow-inner":""}),[]);return{update(){var P;(P=S.current)==null||P.update()},forceUpdate(){var P;(P=S.current)==null||P.forceUpdate()},transformOrigin:gn.transformOrigin.varRef,referenceRef:k,popperRef:O,getPopperProps:C,getArrowProps:T,getArrowInnerProps:I,getReferenceProps:j}}function LZ(t){const{size:e,shadowColor:n,bg:r,style:s}=t,i={...s,position:"absolute"};return e&&(i["--popper-arrow-size"]=e),n&&(i["--popper-arrow-shadow-color"]=n),r&&(i["--popper-arrow-bg"]=r),i}function oO(t={}){const{onClose:e,onOpen:n,isOpen:r,id:s}=t,i=Do(n),o=Do(e),[a,l]=g.useState(t.defaultIsOpen||!1),c=r!==void 0?r:a,d=r!==void 0,f=g.useId(),p=s??`disclosure-${f}`,m=g.useCallback(()=>{d||l(!1),o==null||o()},[d,o]),_=g.useCallback(()=>{d||l(!0),i==null||i()},[d,i]),y=g.useCallback(()=>{c?m():_()},[c,_,m]);function S(b={}){return{...b,"aria-expanded":c,"aria-controls":p,onClick(w){var k;(k=b.onClick)==null||k.call(b,w),y()}}}function x(b={}){return{...b,hidden:!c,id:p}}return{isOpen:c,onOpen:_,onClose:m,onToggle:y,isControlled:d,getButtonProps:S,getDisclosureProps:x}}function VZ(t){const{ref:e,handler:n,enabled:r=!0}=t,s=Do(n),o=g.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}).current;g.useEffect(()=>{if(!r)return;const a=f=>{X0(f,e)&&(o.isPointerDown=!0)},l=f=>{if(o.ignoreEmulatedMouseEvents){o.ignoreEmulatedMouseEvents=!1;return}o.isPointerDown&&n&&X0(f,e)&&(o.isPointerDown=!1,s(f))},c=f=>{o.ignoreEmulatedMouseEvents=!0,n&&o.isPointerDown&&X0(f,e)&&(o.isPointerDown=!1,s(f))},d=aO(e.current);return d.addEventListener("mousedown",a,!0),d.addEventListener("mouseup",l,!0),d.addEventListener("touchstart",a,!0),d.addEventListener("touchend",c,!0),()=>{d.removeEventListener("mousedown",a,!0),d.removeEventListener("mouseup",l,!0),d.removeEventListener("touchstart",a,!0),d.removeEventListener("touchend",c,!0)}},[n,e,s,o,r])}function X0(t,e){var n;const r=t.target;return r&&!aO(r).contains(r)?!1:!((n=e.current)!=null&&n.contains(r))}function aO(t){var e;return(e=t==null?void 0:t.ownerDocument)!=null?e:document}function FZ(t){const{isOpen:e,ref:n}=t,[r,s]=g.useState(e),[i,o]=g.useState(!1);return g.useEffect(()=>{i||(s(e),o(!0))},[e,i,r]),_m(()=>n.current,"animationend",()=>{s(e)}),{present:!(e?!1:!r),onComplete(){var l;const c=MX(n.current),d=new c.CustomEvent("animationend",{bubbles:!0});(l=n.current)==null||l.dispatchEvent(d)}}}function lO(t){const{wasSelected:e,enabled:n,isSelected:r,mode:s="unmount"}=t;return!!(!n||r||s==="keepMounted"&&e)}var[$Z,zZ,BZ,UZ]=WD(),[WZ,of]=Jt({strict:!1,name:"MenuContext"});function HZ(t,...e){const n=g.useId(),r=t||n;return g.useMemo(()=>e.map(s=>`${s}-${r}`),[r,e])}function cO(t){var e;return(e=t==null?void 0:t.ownerDocument)!=null?e:document}function uk(t){return cO(t).activeElement===t}function qZ(t={}){const{id:e,closeOnSelect:n=!0,closeOnBlur:r=!0,initialFocusRef:s,autoSelect:i=!0,isLazy:o,isOpen:a,defaultIsOpen:l,onClose:c,onOpen:d,placement:f="bottom-start",lazyBehavior:p="unmount",direction:m,computePositionOnMount:_=!1,...y}=t,S=g.useRef(null),x=g.useRef(null),b=BZ(),w=g.useCallback(()=>{requestAnimationFrame(()=>{var ie;(ie=S.current)==null||ie.focus({preventScroll:!1})})},[]),k=g.useCallback(()=>{const ie=setTimeout(()=>{var Ee;if(s)(Ee=s.current)==null||Ee.focus();else{const Ie=b.firstEnabled();Ie&&R(Ie.index)}});q.current.add(ie)},[b,s]),j=g.useCallback(()=>{const ie=setTimeout(()=>{const Ee=b.lastEnabled();Ee&&R(Ee.index)});q.current.add(ie)},[b]),O=g.useCallback(()=>{d==null||d(),i?k():w()},[i,k,w,d]),{isOpen:C,onOpen:T,onClose:I,onToggle:P}=oO({isOpen:a,defaultIsOpen:l,onClose:c,onOpen:O});VZ({enabled:C&&r,ref:S,handler:ie=>{var Ee;(Ee=x.current)!=null&&Ee.contains(ie.target)||I()}});const N=iO({...y,enabled:C||_,placement:f,direction:m}),[M,R]=g.useState(-1);vh(()=>{C||R(-1)},[C]),vJ(S,{focusRef:x,visible:C,shouldFocus:!0});const $=FZ({isOpen:C,ref:S}),[Q,ne]=HZ(e,"menu-button","menu-list"),B=g.useCallback(()=>{T(),w()},[T,w]),q=g.useRef(new Set([]));g.useEffect(()=>{const ie=q.current;return()=>{ie.forEach(Ee=>clearTimeout(Ee)),ie.clear()}},[]);const ee=g.useCallback(()=>{T(),k()},[k,T]),he=g.useCallback(()=>{T(),j()},[T,j]),ue=g.useCallback(()=>{var ie,Ee;const Ie=cO(S.current),je=(ie=S.current)==null?void 0:ie.contains(Ie.activeElement);if(!(C&&!je))return;const Y=(Ee=b.item(M))==null?void 0:Ee.node;Y==null||Y.focus({preventScroll:!0})},[C,M,b]),ve=g.useRef(null);return{openAndFocusMenu:B,openAndFocusFirstItem:ee,openAndFocusLastItem:he,onTransitionEnd:ue,unstable__animationState:$,descendants:b,popper:N,buttonId:Q,menuId:ne,forceUpdate:N.forceUpdate,orientation:"vertical",isOpen:C,onToggle:P,onOpen:T,onClose:I,menuRef:S,buttonRef:x,focusedIndex:M,closeOnSelect:n,closeOnBlur:r,autoSelect:i,setFocusedIndex:R,isLazy:o,lazyBehavior:p,initialFocusRef:s,rafId:ve}}function GZ(t={},e=null){const n=of(),{onToggle:r,popper:s,openAndFocusFirstItem:i,openAndFocusLastItem:o}=n,a=g.useCallback(l=>{const c=l.key,f={Enter:i,ArrowDown:i,ArrowUp:o}[c];f&&(l.preventDefault(),l.stopPropagation(),f(l))},[i,o]);return{...t,ref:dr(n.buttonRef,e,s.referenceRef),id:n.buttonId,"data-active":Jn(n.isOpen),"aria-expanded":n.isOpen,"aria-haspopup":"menu","aria-controls":n.menuId,onClick:Qt(t.onClick,r),onKeyDown:Qt(t.onKeyDown,a)}}function Xb(t){var e;return XZ(t)&&!!((e=t==null?void 0:t.getAttribute("role"))!=null&&e.startsWith("menuitem"))}function KZ(t={},e=null){const n=of();if(!n)throw new Error("useMenuContext: context is undefined. Seems you forgot to wrap component within <Menu>");const{focusedIndex:r,setFocusedIndex:s,menuRef:i,isOpen:o,onClose:a,menuId:l,isLazy:c,lazyBehavior:d,unstable__animationState:f}=n,p=zZ(),m=fJ({preventDefault:x=>x.key!==" "&&Xb(x.target)}),_=g.useCallback(x=>{if(!x.currentTarget.contains(x.target))return;const b=x.key,k={Tab:O=>O.preventDefault(),Escape:a,ArrowDown:()=>{const O=p.nextEnabled(r);O&&s(O.index)},ArrowUp:()=>{const O=p.prevEnabled(r);O&&s(O.index)}}[b];if(k){x.preventDefault(),k(x);return}const j=m(O=>{const C=pJ(p.values(),O,T=>{var I,P;return(P=(I=T==null?void 0:T.node)==null?void 0:I.textContent)!=null?P:""},p.item(r));if(C){const T=p.indexOf(C.node);s(T)}});Xb(x.target)&&j(x)},[p,r,m,a,s]),y=g.useRef(!1);o&&(y.current=!0);const S=lO({wasSelected:y.current,enabled:c,mode:d,isSelected:f.present});return{...t,ref:dr(i,e),children:S?t.children:null,tabIndex:-1,role:"menu",id:l,style:{...t.style,transformOrigin:"var(--popper-transform-origin)"},"aria-orientation":"vertical",onKeyDown:Qt(t.onKeyDown,_)}}function QZ(t={}){const{popper:e,isOpen:n}=of();return e.getPopperProps({...t,style:{visibility:n?"visible":"hidden",...t.style}})}function YZ(t={},e=null){const{onMouseEnter:n,onMouseMove:r,onMouseLeave:s,onClick:i,onFocus:o,isDisabled:a,isFocusable:l,closeOnSelect:c,type:d,...f}=t,p=of(),{setFocusedIndex:m,focusedIndex:_,closeOnSelect:y,onClose:S,menuRef:x,isOpen:b,menuId:w,rafId:k}=p,j=g.useRef(null),O=`${w}-menuitem-${g.useId()}`,{index:C,register:T}=UZ({disabled:a&&!l}),I=g.useCallback(B=>{n==null||n(B),!a&&m(C)},[m,C,a,n]),P=g.useCallback(B=>{r==null||r(B),j.current&&!uk(j.current)&&I(B)},[I,r]),N=g.useCallback(B=>{s==null||s(B),!a&&m(-1)},[m,a,s]),M=g.useCallback(B=>{i==null||i(B),Xb(B.currentTarget)&&(c??y)&&S()},[S,i,y,c]),R=g.useCallback(B=>{o==null||o(B),m(C)},[m,o,C]),$=C===_,Q=a&&!l;vh(()=>{if(b)return $&&!Q&&j.current?(k.current&&cancelAnimationFrame(k.current),k.current=requestAnimationFrame(()=>{var B;(B=j.current)==null||B.focus({preventScroll:!0}),k.current=null})):x.current&&!uk(x.current)&&x.current.focus({preventScroll:!0}),()=>{k.current&&cancelAnimationFrame(k.current)}},[$,Q,x,b]);const ne=QN({onClick:M,onFocus:R,onMouseEnter:I,onMouseMove:P,onMouseLeave:N,ref:dr(T,j,e),isDisabled:a,isFocusable:l});return{...f,...ne,type:d??ne.type,id:O,role:"menuitem",tabIndex:$?0:-1}}function XZ(t){var e;if(!JZ(t))return!1;const n=(e=t.ownerDocument.defaultView)!=null?e:window;return t instanceof n.HTMLElement}function JZ(t){return t!=null&&typeof t=="object"&&"nodeType"in t&&t.nodeType===Node.ELEMENT_NODE}var[ZZ,cu]=Jt({name:"MenuStylesContext",errorMessage:`useMenuStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Menu />" `}),$S=t=>{const{children:e}=t,n=_s("Menu",t),r=Zt(t),{direction:s}=Qh(),{descendants:i,...o}=qZ({...r,direction:s}),a=g.useMemo(()=>o,[o]),{isOpen:l,onClose:c,forceUpdate:d}=a;return u.jsx($Z,{value:i,children:u.jsx(WZ,{value:a,children:u.jsx(ZZ,{value:n,children:us(e,{isOpen:l,onClose:c,forceUpdate:d})})})})};$S.displayName="Menu";var uO=ge((t,e)=>{const n=cu();return u.jsx(ce.span,{ref:e,...t,__css:n.command,className:"chakra-menu__command"})});uO.displayName="MenuCommand";var eee=ge((t,e)=>{const{type:n,...r}=t,s=cu(),i=r.as||n?n??void 0:"button",o=g.useMemo(()=>({textDecoration:"none",color:"inherit",userSelect:"none",display:"flex",width:"100%",alignItems:"center",textAlign:"start",flex:"0 0 auto",outline:0,...s.item}),[s.item]);return u.jsx(ce.button,{ref:e,type:i,...r,__css:o})}),dO=t=>{const{className:e,children:n,...r}=t,s=cu(),i=g.Children.only(n),o=g.isValidElement(i)?g.cloneElement(i,{focusable:"false","aria-hidden":!0,className:Ae("chakra-menu__icon",i.props.className)}):null,a=Ae("chakra-menu__icon-wrapper",e);return u.jsx(ce.span,{className:a,...r,__css:s.icon,children:o})};dO.displayName="MenuIcon";var cc=ge((t,e)=>{const{icon:n,iconSpacing:r="0.75rem",command:s,commandSpacing:i="0.75rem",children:o,...a}=t,l=YZ(a,e),d=n||s?u.jsx("span",{style:{pointerEvents:"none",flex:1},children:o}):o;return u.jsxs(eee,{...l,className:Ae("chakra-menu__menuitem",l.className),children:[n&&u.jsx(dO,{fontSize:"0.8em",marginEnd:r,children:n}),d,s&&u.jsx(uO,{marginStart:i,children:s})]})});cc.displayName="MenuItem";var tee={enter:{visibility:"visible",opacity:1,scale:1,transition:{duration:.2,ease:[.4,0,.2,1]}},exit:{transitionEnd:{visibility:"hidden"},opacity:0,scale:.8,transition:{duration:.1,easings:"easeOut"}}},nee=ce(Yo.div),zS=ge(function(e,n){var r,s;const{rootProps:i,motionProps:o,...a}=e,{isOpen:l,onTransitionEnd:c,unstable__animationState:d}=of(),f=KZ(a,n),p=QZ(i),m=cu();return u.jsx(ce.div,{...p,__css:{zIndex:(s=e.zIndex)!=null?s:(r=m.list)==null?void 0:r.zIndex},children:u.jsx(nee,{variants:tee,initial:!1,animate:l?"enter":"exit",__css:{outline:0,...m.list},...o,className:Ae("chakra-menu__menu-list",f.className),...f,onUpdate:c,onAnimationComplete:_3(d.onComplete,f.onAnimationComplete)})})});zS.displayName="MenuList";var ree=ge((t,e)=>{const n=cu();return u.jsx(ce.button,{ref:e,...t,__css:{display:"inline-flex",appearance:"none",alignItems:"center",outline:0,...n.button}})}),BS=ge((t,e)=>{const{children:n,as:r,...s}=t,i=GZ(s,e),o=r||ree;return u.jsx(o,{...i,className:Ae("chakra-menu__menu-button",t.className),children:u.jsx(ce.span,{__css:{pointerEvents:"none",flex:"1 1 auto",minW:0},children:t.children})})});BS.displayName="MenuButton";var Jb=t=>{const{className:e,...n}=t,r=cu();return u.jsx(ce.hr,{"aria-orientation":"horizontal",className:Ae("chakra-menu__divider",e),...n,__css:r.divider})};Jb.displayName="MenuDivider";var see={slideInBottom:{...ud,custom:{offsetY:16,reverse:!0}},slideInRight:{...ud,custom:{offsetX:16,reverse:!0}},slideInTop:{...ud,custom:{offsetY:-16,reverse:!0}},slideInLeft:{...ud,custom:{offsetX:-16,reverse:!0}},scale:{...qD,custom:{initialScale:.95,reverse:!0}},none:{}},iee=ce(Yo.section),oee=t=>see[t||"none"],hO=g.forwardRef((t,e)=>{const{preset:n,motionProps:r=oee(n),...s}=t;return u.jsx(iee,{ref:e,...r,...s})});hO.displayName="ModalTransition";var aee=Object.defineProperty,lee=(t,e,n)=>e in t?aee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,cee=(t,e,n)=>(lee(t,typeof e!="symbol"?e+"":e,n),n),uee=class{constructor(){cee(this,"modals"),this.modals=new Map}add(t){return this.modals.set(t,this.modals.size+1),this.modals.size}remove(t){this.modals.delete(t)}isTopModal(t){return t?this.modals.get(t)===this.modals.size:!1}},Zb=new uee;function fO(t,e){const[n,r]=g.useState(0);return g.useEffect(()=>{const s=t.current;if(s){if(e){const i=Zb.add(s);r(i)}return()=>{Zb.remove(s),r(0)}}},[e,t]),n}var dee=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Nl=new WeakMap,Mp=new WeakMap,Lp={},J0=0,pO=function(t){return t&&(t.host||pO(t.parentNode))},hee=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=pO(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},fee=function(t,e,n,r){var s=hee(e,Array.isArray(t)?t:[t]);Lp[n]||(Lp[n]=new WeakMap);var i=Lp[n],o=[],a=new Set,l=new Set(s),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};s.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))d(p);else{var m=p.getAttribute(r),_=m!==null&&m!=="false",y=(Nl.get(p)||0)+1,S=(i.get(p)||0)+1;Nl.set(p,y),i.set(p,S),o.push(p),y===1&&_&&Mp.set(p,!0),S===1&&p.setAttribute(n,"true"),_||p.setAttribute(r,"true")}})};return d(e),a.clear(),J0++,function(){o.forEach(function(f){var p=Nl.get(f)-1,m=i.get(f)-1;Nl.set(f,p),i.set(f,m),p||(Mp.has(f)||f.removeAttribute(r),Mp.delete(f)),m||f.removeAttribute(n)}),J0--,J0||(Nl=new WeakMap,Nl=new WeakMap,Mp=new WeakMap,Lp={})}},pee=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=e||dee(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),fee(r,s,n,"aria-hidden")):function(){return null}};function mee(t){const{isOpen:e,onClose:n,id:r,closeOnOverlayClick:s=!0,closeOnEsc:i=!0,useInert:o=!0,onOverlayClick:a,onEsc:l}=t,c=g.useRef(null),d=g.useRef(null),[f,p,m]=vee(r,"chakra-modal","chakra-modal--header","chakra-modal--body");gee(c,e&&o);const _=fO(c,e),y=g.useRef(null),S=g.useCallback(I=>{y.current=I.target},[]),x=g.useCallback(I=>{I.key==="Escape"&&(I.stopPropagation(),i&&(n==null||n()),l==null||l())},[i,n,l]),[b,w]=g.useState(!1),[k,j]=g.useState(!1),O=g.useCallback((I={},P=null)=>({role:"dialog",...I,ref:dr(P,c),id:f,tabIndex:-1,"aria-modal":!0,"aria-labelledby":b?p:void 0,"aria-describedby":k?m:void 0,onClick:Qt(I.onClick,N=>N.stopPropagation())}),[m,k,f,p,b]),C=g.useCallback(I=>{I.stopPropagation(),y.current===I.target&&Zb.isTopModal(c.current)&&(s&&(n==null||n()),a==null||a())},[n,s,a]),T=g.useCallback((I={},P=null)=>({...I,ref:dr(P,d),onClick:Qt(I.onClick,C),onKeyDown:Qt(I.onKeyDown,x),onMouseDown:Qt(I.onMouseDown,S)}),[x,S,C]);return{isOpen:e,onClose:n,headerId:p,bodyId:m,setBodyMounted:j,setHeaderMounted:w,dialogRef:c,overlayRef:d,getDialogProps:O,getDialogContainerProps:T,index:_}}function gee(t,e){const n=t.current;g.useEffect(()=>{if(!(!t.current||!e))return pee(t.current)},[e,t,n])}function vee(t,...e){const n=g.useId(),r=t||n;return g.useMemo(()=>e.map(s=>`${s}-${r}`),[r,e])}var[yee,uu]=Jt({name:"ModalStylesContext",errorMessage:`useModalStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Modal />" `}),[_ee,Ka]=Jt({strict:!0,name:"ModalContext",errorMessage:"useModalContext: `context` is undefined. Seems you forgot to wrap modal components in `<Modal />`"}),mt=t=>{const e={scrollBehavior:"outside",autoFocus:!0,trapFocus:!0,returnFocusOnClose:!0,blockScrollOnMount:!0,allowPinchZoom:!1,motionPreset:"scale",lockFocusAcrossFrames:!0,...t},{portalProps:n,children:r,autoFocus:s,trapFocus:i,initialFocusRef:o,finalFocusRef:a,returnFocusOnClose:l,blockScrollOnMount:c,allowPinchZoom:d,preserveScrollBarGap:f,motionPreset:p,lockFocusAcrossFrames:m,onCloseComplete:_}=e,y=_s("Modal",e),x={...mee(e),autoFocus:s,trapFocus:i,initialFocusRef:o,finalFocusRef:a,returnFocusOnClose:l,blockScrollOnMount:c,allowPinchZoom:d,preserveScrollBarGap:f,motionPreset:p,lockFocusAcrossFrames:m};return u.jsx(_ee,{value:x,children:u.jsx(yee,{value:y,children:u.jsx(lu,{onExitComplete:_,children:x.isOpen&&u.jsx(ou,{...n,children:r})})})})};mt.displayName="Modal";var xm="right-scroll-bar-position",Sm="width-before-scroll-bar",bee="with-scroll-bars-hidden",wee="--removed-body-scroll-bar-size",mO=cN(),Z0=function(){},Hv=g.forwardRef(function(t,e){var n=g.useRef(null),r=g.useState({onScrollCapture:Z0,onWheelCapture:Z0,onTouchMoveCapture:Z0}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,f=t.shards,p=t.sideCar,m=t.noIsolation,_=t.inert,y=t.allowPinchZoom,S=t.as,x=S===void 0?"div":S,b=t.gapMode,w=nf(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=p,j=oN([n,e]),O=Ns(Ns({},w),s);return g.createElement(g.Fragment,null,d&&g.createElement(k,{sideCar:mO,removeScrollBar:c,shards:f,noIsolation:m,inert:_,setCallbacks:i,allowPinchZoom:!!y,lockRef:n,gapMode:b}),o?g.cloneElement(g.Children.only(a),Ns(Ns({},O),{ref:j})):g.createElement(x,Ns({},O,{className:l,ref:j}),a))});Hv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Hv.classNames={fullWidth:Sm,zeroRight:xm};var xee=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function See(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=xee();return e&&t.setAttribute("nonce",e),t}function Eee(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Cee(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Tee=function(){var t=0,e=null;return{add:function(n){t==0&&(e=See())&&(Eee(e,n),Cee(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Iee=function(){var t=Tee();return function(e,n){g.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},gO=function(){var t=Iee(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},kee={left:0,top:0,right:0,gap:0},e_=function(t){return parseInt(t||"",10)||0},Pee=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[e_(n),e_(r),e_(s)]},Aee=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return kee;var e=Pee(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Ree=gO(),jee=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(bee,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(xm,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Sm,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(xm," .").concat(xm,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Sm," .").concat(Sm,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body {
    `).concat(wee,": ").concat(a,`px;
  }
`)},Dee=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r,i=g.useMemo(function(){return Aee(s)},[s]);return g.createElement(Ree,{styles:jee(i,!e,s,n?"":"!important")})},ew=!1;if(typeof window<"u")try{var Vp=Object.defineProperty({},"passive",{get:function(){return ew=!0,!0}});window.addEventListener("test",Vp,Vp),window.removeEventListener("test",Vp,Vp)}catch{ew=!1}var Ol=ew?{passive:!1}:!1,Nee=function(t){return t.tagName==="TEXTAREA"},vO=function(t,e){var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Nee(t)&&n[e]==="visible")},Oee=function(t){return vO(t,"overflowY")},Mee=function(t){return vO(t,"overflowX")},dk=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=yO(t,r);if(s){var i=_O(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Lee=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Vee=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},yO=function(t,e){return t==="v"?Oee(e):Mee(e)},_O=function(t,e){return t==="v"?Lee(e):Vee(e)},Fee=function(t,e){return t==="h"&&e==="rtl"?-1:1},$ee=function(t,e,n,r,s){var i=Fee(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,d=o>0,f=0,p=0;do{var m=_O(t,a),_=m[0],y=m[1],S=m[2],x=y-S-i*_;(_||x)&&yO(t,a)&&(f+=x,p+=_),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(s&&Math.abs(f)<1||!s&&o>f)||!d&&(s&&Math.abs(p)<1||!s&&-o>p))&&(c=!0),c},Fp=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},hk=function(t){return[t.deltaX,t.deltaY]},fk=function(t){return t&&"current"in t?t.current:t},zee=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Bee=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Uee=0,Ml=[];function Wee(t){var e=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),s=g.useState(Uee++)[0],i=g.useState(gO)[0],o=g.useRef(t);g.useEffect(function(){o.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var y=SY([t.lockRef.current],(t.shards||[]).map(fk),!0).filter(Boolean);return y.forEach(function(S){return S.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=g.useCallback(function(y,S){if("touches"in y&&y.touches.length===2)return!o.current.allowPinchZoom;var x=Fp(y),b=n.current,w="deltaX"in y?y.deltaX:b[0]-x[0],k="deltaY"in y?y.deltaY:b[1]-x[1],j,O=y.target,C=Math.abs(w)>Math.abs(k)?"h":"v";if("touches"in y&&C==="h"&&O.type==="range")return!1;var T=dk(C,O);if(!T)return!0;if(T?j=C:(j=C==="v"?"h":"v",T=dk(C,O)),!T)return!1;if(!r.current&&"changedTouches"in y&&(w||k)&&(r.current=j),!j)return!0;var I=r.current||j;return $ee(I,S,y,I==="h"?w:k,!0)},[]),l=g.useCallback(function(y){var S=y;if(!(!Ml.length||Ml[Ml.length-1]!==i)){var x="deltaY"in S?hk(S):Fp(S),b=e.current.filter(function(j){return j.name===S.type&&(j.target===S.target||S.target===j.shadowParent)&&zee(j.delta,x)})[0];if(b&&b.should){S.cancelable&&S.preventDefault();return}if(!b){var w=(o.current.shards||[]).map(fk).filter(Boolean).filter(function(j){return j.contains(S.target)}),k=w.length>0?a(S,w[0]):!o.current.noIsolation;k&&S.cancelable&&S.preventDefault()}}},[]),c=g.useCallback(function(y,S,x,b){var w={name:y,delta:S,target:x,should:b,shadowParent:Hee(x)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(k){return k!==w})},1)},[]),d=g.useCallback(function(y){n.current=Fp(y),r.current=void 0},[]),f=g.useCallback(function(y){c(y.type,hk(y),y.target,a(y,t.lockRef.current))},[]),p=g.useCallback(function(y){c(y.type,Fp(y),y.target,a(y,t.lockRef.current))},[]);g.useEffect(function(){return Ml.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",l,Ol),document.addEventListener("touchmove",l,Ol),document.addEventListener("touchstart",d,Ol),function(){Ml=Ml.filter(function(y){return y!==i}),document.removeEventListener("wheel",l,Ol),document.removeEventListener("touchmove",l,Ol),document.removeEventListener("touchstart",d,Ol)}},[]);var m=t.removeScrollBar,_=t.inert;return g.createElement(g.Fragment,null,_?g.createElement(i,{styles:Bee(s)}):null,m?g.createElement(Dee,{gapMode:t.gapMode}):null)}function Hee(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const qee=EY(mO,Wee);var bO=g.forwardRef(function(t,e){return g.createElement(Hv,Ns({},t,{ref:e,sideCar:qee}))});bO.classNames=Hv.classNames;const Gee=bO;function Kee(t){const{autoFocus:e,trapFocus:n,dialogRef:r,initialFocusRef:s,blockScrollOnMount:i,allowPinchZoom:o,finalFocusRef:a,returnFocusOnClose:l,preserveScrollBarGap:c,lockFocusAcrossFrames:d,isOpen:f}=Ka(),[p,m]=xD();g.useEffect(()=>{!p&&m&&setTimeout(m)},[p,m]);const _=fO(r,f);return u.jsx($N,{autoFocus:e,isDisabled:!n,initialFocusRef:s,finalFocusRef:a,restoreFocus:l,contentRef:r,lockFocusAcrossFrames:d,children:u.jsx(Gee,{removeScrollBar:!c,allowPinchZoom:o,enabled:_===1&&i,forwardProps:!0,children:t.children})})}var gt=ge((t,e)=>{const{className:n,children:r,containerProps:s,motionProps:i,...o}=t,{getDialogProps:a,getDialogContainerProps:l}=Ka(),c=a(o,e),d=l(s),f=Ae("chakra-modal__content",n),p=uu(),m={display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,...p.dialog},_={display:"flex",width:"100vw",height:"$100vh",position:"fixed",left:0,top:0,...p.dialogContainer},{motionPreset:y}=Ka();return u.jsx(Kee,{children:u.jsx(ce.div,{...d,className:"chakra-modal__content-container",tabIndex:-1,__css:_,children:u.jsx(hO,{preset:y,motionProps:i,className:f,...c,__css:m,children:r})})})});gt.displayName="ModalContent";function Qee(t){const{leastDestructiveRef:e,...n}=t;return u.jsx(mt,{...n,initialFocusRef:e})}var Yee=ge((t,e)=>u.jsx(gt,{ref:e,role:"alertdialog",...t})),Ft=ge((t,e)=>{const{className:n,...r}=t,s=Ae("chakra-modal__footer",n),o={display:"flex",alignItems:"center",justifyContent:"flex-end",...uu().footer};return u.jsx(ce.footer,{ref:e,...r,__css:o,className:s})});Ft.displayName="ModalFooter";var vt=ge((t,e)=>{const{className:n,...r}=t,{headerId:s,setHeaderMounted:i}=Ka();g.useEffect(()=>(i(!0),()=>i(!1)),[i]);const o=Ae("chakra-modal__header",n),l={flex:0,...uu().header};return u.jsx(ce.header,{ref:e,className:o,id:s,...r,__css:l})});vt.displayName="ModalHeader";var Xee=ce(Yo.div),yt=ge((t,e)=>{const{className:n,transition:r,motionProps:s,...i}=t,o=Ae("chakra-modal__overlay",n),l={pos:"fixed",left:"0",top:"0",w:"100vw",h:"100vh",...uu().overlay},{motionPreset:c}=Ka(),f=s||(c==="none"?{}:HD);return u.jsx(Xee,{...f,__css:l,ref:e,className:o,...i})});yt.displayName="ModalOverlay";var _t=ge((t,e)=>{const{className:n,...r}=t,{bodyId:s,setBodyMounted:i}=Ka();g.useEffect(()=>(i(!0),()=>i(!1)),[i]);const o=Ae("chakra-modal__body",n),a=uu();return u.jsx(ce.div,{ref:e,className:o,id:s,...r,__css:a.body})});_t.displayName="ModalBody";var St=ge((t,e)=>{const{onClick:n,className:r,...s}=t,{onClose:i}=Ka(),o=Ae("chakra-modal__close-btn",r),a=uu();return u.jsx(vS,{ref:e,__css:a.closeButton,className:o,onClick:Qt(n,l=>{l.stopPropagation(),i()}),...s})});St.displayName="ModalCloseButton";var wO=ge(function(e,n){const{children:r,placeholder:s,className:i,...o}=e;return u.jsxs(ce.select,{...o,ref:n,className:Ae("chakra-select",i),children:[s&&u.jsx("option",{value:"",children:s}),r]})});wO.displayName="SelectField";function Jee(t,e){const n={},r={};for(const[s,i]of Object.entries(t))e.includes(s)?n[s]=i:r[s]=i;return[n,r]}var Oi=ge((t,e)=>{var n;const r=_s("Select",t),{rootProps:s,placeholder:i,icon:o,color:a,height:l,h:c,minH:d,minHeight:f,iconColor:p,iconSize:m,..._}=Zt(t),[y,S]=Jee(_,Sz),x=yS(S),b={width:"100%",height:"fit-content",position:"relative",color:a},w={paddingEnd:"2rem",...r.field,_focus:{zIndex:"unset",...(n=r.field)==null?void 0:n._focus}};return u.jsxs(ce.div,{className:"chakra-select__wrapper",__css:b,...y,...s,children:[u.jsx(wO,{ref:e,height:c??l,minH:d??f,placeholder:i,...x,__css:w,children:t.children}),u.jsx(xO,{"data-disabled":Jn(x.disabled),...(p||a)&&{color:p||a},__css:r.icon,...m&&{fontSize:m},children:o})]})});Oi.displayName="Select";var Zee=t=>u.jsx("svg",{viewBox:"0 0 24 24",...t,children:u.jsx("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})}),ete=ce("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),xO=t=>{const{children:e=u.jsx(Zee,{}),...n}=t,r=g.cloneElement(e,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return u.jsx(ete,{...n,className:"chakra-select__icon-wrapper",children:g.isValidElement(e)?r:null})};xO.displayName="SelectIcon";var[tte,nte,rte,ste]=WD();function ite(t){var e;const{defaultIndex:n,onChange:r,index:s,isManual:i,isLazy:o,lazyBehavior:a="unmount",orientation:l="horizontal",direction:c="ltr",...d}=t,[f,p]=g.useState(n??0),[m,_]=zQ({defaultValue:n??0,value:s,onChange:r});g.useEffect(()=>{s!=null&&p(s)},[s]);const y=rte(),S=g.useId();return{id:`tabs-${(e=t.id)!=null?e:S}`,selectedIndex:m,focusedIndex:f,setSelectedIndex:_,setFocusedIndex:p,isManual:i,isLazy:o,lazyBehavior:a,orientation:l,descendants:y,direction:c,htmlProps:d}}var[ote,qv]=Jt({name:"TabsContext",errorMessage:"useTabsContext: `context` is undefined. Seems you forgot to wrap all tabs components within <Tabs />"});function ate(t){const{focusedIndex:e,orientation:n,direction:r}=qv(),s=nte(),i=g.useCallback(o=>{const a=()=>{var b;const w=s.nextEnabled(e);w&&((b=w.node)==null||b.focus())},l=()=>{var b;const w=s.prevEnabled(e);w&&((b=w.node)==null||b.focus())},c=()=>{var b;const w=s.firstEnabled();w&&((b=w.node)==null||b.focus())},d=()=>{var b;const w=s.lastEnabled();w&&((b=w.node)==null||b.focus())},f=n==="horizontal",p=n==="vertical",m=o.key,_=r==="ltr"?"ArrowLeft":"ArrowRight",y=r==="ltr"?"ArrowRight":"ArrowLeft",x={[_]:()=>f&&l(),[y]:()=>f&&a(),ArrowDown:()=>p&&a(),ArrowUp:()=>p&&l(),Home:c,End:d}[m];x&&(o.preventDefault(),x(o))},[s,e,n,r]);return{...t,role:"tablist","aria-orientation":n,onKeyDown:Qt(t.onKeyDown,i)}}function lte(t){const{isDisabled:e=!1,isFocusable:n=!1,...r}=t,{setSelectedIndex:s,isManual:i,id:o,setFocusedIndex:a,selectedIndex:l}=qv(),{index:c,register:d}=ste({disabled:e&&!n}),f=c===l,p=()=>{s(c)},m=()=>{a(c),!i&&!(e&&n)&&s(c)};return{...QN({...r,ref:dr(d,t.ref),isDisabled:e,isFocusable:n,onClick:Qt(t.onClick,p)}),id:SO(o,c),role:"tab",tabIndex:f?0:-1,type:"button","aria-selected":f,"aria-controls":EO(o,c),onFocus:e?void 0:Qt(t.onFocus,m)}}var[cte,ute]=Jt({});function dte(t){const e=qv(),{id:n,selectedIndex:r}=e,i=Fv(t.children).map((o,a)=>g.createElement(cte,{key:a,value:{isSelected:a===r,id:EO(n,a),tabId:SO(n,a),selectedIndex:r}},o));return{...t,children:i}}function hte(t){const{children:e,...n}=t,{isLazy:r,lazyBehavior:s}=qv(),{isSelected:i,id:o,tabId:a}=ute(),l=g.useRef(!1);i&&(l.current=!0);const c=lO({wasSelected:l.current,isSelected:i,enabled:r,mode:s});return{tabIndex:0,...n,children:c?e:null,role:"tabpanel","aria-labelledby":a,hidden:!i,id:o}}function SO(t,e){return`${t}--tab-${e}`}function EO(t,e){return`${t}--tabpanel-${e}`}var[fte,Gv]=Jt({name:"TabsStylesContext",errorMessage:`useTabsStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Tabs />" `}),af=ge(function(e,n){const r=_s("Tabs",e),{children:s,className:i,...o}=Zt(e),{htmlProps:a,descendants:l,...c}=ite(o),d=g.useMemo(()=>c,[c]),{isFitted:f,...p}=a,m={position:"relative",...r.root};return u.jsx(tte,{value:l,children:u.jsx(ote,{value:d,children:u.jsx(fte,{value:r,children:u.jsx(ce.div,{className:Ae("chakra-tabs",i),ref:n,...p,__css:m,children:s})})})})});af.displayName="Tabs";var lf=ge(function(e,n){const r=ate({...e,ref:n}),i={display:"flex",...Gv().tablist};return u.jsx(ce.div,{...r,className:Ae("chakra-tabs__tablist",e.className),__css:i})});lf.displayName="TabList";var Mi=ge(function(e,n){const r=hte({...e,ref:n}),s=Gv();return u.jsx(ce.div,{outline:"0",...r,className:Ae("chakra-tabs__tab-panel",e.className),__css:s.tabpanel})});Mi.displayName="TabPanel";var cf=ge(function(e,n){const r=dte(e),s=Gv();return u.jsx(ce.div,{...r,width:"100%",ref:n,className:Ae("chakra-tabs__tab-panels",e.className),__css:s.tabpanels})});cf.displayName="TabPanels";var Li=ge(function(e,n){const r=Gv(),s=lte({...e,ref:n}),i={outline:"0",display:"flex",alignItems:"center",justifyContent:"center",...r.tab};return u.jsx(ce.button,{...s,className:Ae("chakra-tabs__tab",e.className),__css:i})});Li.displayName="Tab";function pte(t,e=[]){const n=Object.assign({},t);for(const r of e)r in n&&delete n[r];return n}var mte=["h","minH","height","minHeight"],Kv=ge((t,e)=>{const n=Zs("Textarea",t),{className:r,rows:s,...i}=Zt(t),o=yS(i),a=s?pte(n,mte):n;return u.jsx(ce.textarea,{ref:e,rows:s,...o,className:Ae("chakra-textarea",r),__css:a})});Kv.displayName="Textarea";var gte={exit:{scale:.85,opacity:0,transition:{opacity:{duration:.15,easings:"easeInOut"},scale:{duration:.2,easings:"easeInOut"}}},enter:{scale:1,opacity:1,transition:{opacity:{easings:"easeOut",duration:.2},scale:{duration:.2,ease:[.175,.885,.4,1.1]}}}},tw=t=>{var e;return((e=t.current)==null?void 0:e.ownerDocument)||document},Em=t=>{var e,n;return((n=(e=t.current)==null?void 0:e.ownerDocument)==null?void 0:n.defaultView)||window};function vte(t={}){const{openDelay:e=0,closeDelay:n=0,closeOnClick:r=!0,closeOnMouseDown:s,closeOnScroll:i,closeOnPointerDown:o=s,closeOnEsc:a=!0,onOpen:l,onClose:c,placement:d,id:f,isOpen:p,defaultIsOpen:m,arrowSize:_=10,arrowShadowColor:y,arrowPadding:S,modifiers:x,isDisabled:b,gutter:w,offset:k,direction:j,...O}=t,{isOpen:C,onOpen:T,onClose:I}=oO({isOpen:p,defaultIsOpen:m,onOpen:l,onClose:c}),{referenceRef:P,getPopperProps:N,getArrowInnerProps:M,getArrowProps:R}=iO({enabled:C,placement:d,arrowPadding:S,modifiers:x,gutter:w,offset:k,direction:j}),$=g.useId(),ne=`tooltip-${f??$}`,B=g.useRef(null),q=g.useRef(),ee=g.useCallback(()=>{q.current&&(clearTimeout(q.current),q.current=void 0)},[]),he=g.useRef(),ue=g.useCallback(()=>{he.current&&(clearTimeout(he.current),he.current=void 0)},[]),ve=g.useCallback(()=>{ue(),I()},[I,ue]),ie=yte(B,ve),Ee=g.useCallback(()=>{if(!b&&!q.current){C&&ie();const Ne=Em(B);q.current=Ne.setTimeout(T,e)}},[ie,b,C,T,e]),Ie=g.useCallback(()=>{ee();const Ne=Em(B);he.current=Ne.setTimeout(ve,n)},[n,ve,ee]),je=g.useCallback(()=>{C&&r&&Ie()},[r,Ie,C]),pe=g.useCallback(()=>{C&&o&&Ie()},[o,Ie,C]),Y=g.useCallback(Ne=>{C&&Ne.key==="Escape"&&Ie()},[C,Ie]);_m(()=>tw(B),"keydown",a?Y:void 0),_m(()=>{if(!i)return null;const Ne=B.current;if(!Ne)return null;const ut=MN(Ne);return ut.localName==="body"?Em(B):ut},"scroll",()=>{C&&i&&ve()},{passive:!0,capture:!0}),g.useEffect(()=>{b&&(ee(),C&&I())},[b,C,I,ee]),g.useEffect(()=>()=>{ee(),ue()},[ee,ue]),_m(()=>B.current,"pointerleave",Ie);const X=g.useCallback((Ne={},ut=null)=>({...Ne,ref:dr(B,ut,P),onPointerEnter:Qt(Ne.onPointerEnter,Xr=>{Xr.pointerType!=="touch"&&Ee()}),onClick:Qt(Ne.onClick,je),onPointerDown:Qt(Ne.onPointerDown,pe),onFocus:Qt(Ne.onFocus,Ee),onBlur:Qt(Ne.onBlur,Ie),"aria-describedby":C?ne:void 0}),[Ee,Ie,pe,C,ne,je,P]),re=g.useCallback((Ne={},ut=null)=>N({...Ne,style:{...Ne.style,[gn.arrowSize.var]:_?`${_}px`:void 0,[gn.arrowShadowColor.var]:y}},ut),[N,_,y]),De=g.useCallback((Ne={},ut=null)=>{const Ar={...Ne.style,position:"relative",transformOrigin:gn.transformOrigin.varRef};return{ref:ut,...O,...Ne,id:ne,role:"tooltip",style:Ar}},[O,ne]);return{isOpen:C,show:Ee,hide:Ie,getTriggerProps:X,getTooltipProps:De,getTooltipPositionerProps:re,getArrowProps:R,getArrowInnerProps:M}}var t_="chakra-ui:close-tooltip";function yte(t,e){return g.useEffect(()=>{const n=tw(t);return n.addEventListener(t_,e),()=>n.removeEventListener(t_,e)},[e,t]),()=>{const n=tw(t),r=Em(t);n.dispatchEvent(new r.CustomEvent(t_))}}function _te(t,e=[]){const n=Object.assign({},t);for(const r of e)r in n&&delete n[r];return n}function bte(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}var wte=ce(Yo.div),Ls=ge((t,e)=>{var n,r;const s=Zs("Tooltip",t),i=Zt(t),o=Qh(),{children:a,label:l,shouldWrapChildren:c,"aria-label":d,hasArrow:f,bg:p,portalProps:m,background:_,backgroundColor:y,bgColor:S,motionProps:x,...b}=i,w=(r=(n=_??y)!=null?n:p)!=null?r:S;if(w){s.bg=w;const N=Lz(o,"colors",w);s[gn.arrowBg.var]=N}const k=vte({...b,direction:o.direction}),j=typeof a=="string"||c;let O;if(j)O=u.jsx(ce.span,{display:"inline-block",tabIndex:0,...k.getTriggerProps(),children:a});else{const N=g.Children.only(a);O=g.cloneElement(N,k.getTriggerProps(N.props,N.ref))}const C=!!d,T=k.getTooltipProps({},e),I=C?_te(T,["role","id"]):T,P=bte(T,["role","id"]);return l?u.jsxs(u.Fragment,{children:[O,u.jsx(lu,{children:k.isOpen&&u.jsx(ou,{...m,children:u.jsx(ce.div,{...k.getTooltipPositionerProps(),__css:{zIndex:s.zIndex,pointerEvents:"none"},children:u.jsxs(wte,{variants:gte,initial:"exit",animate:"enter",exit:"exit",...x,...I,__css:s,children:[l,C&&u.jsx(ce.span,{srOnly:!0,...P,children:d}),f&&u.jsx(ce.div,{"data-popper-arrow":!0,className:"chakra-tooltip__arrow-wrapper",children:u.jsx(ce.div,{"data-popper-arrow-inner":!0,className:"chakra-tooltip__arrow",__css:{bg:s.bg}})})]})})})})]}):u.jsx(u.Fragment,{children:a})});Ls.displayName="Tooltip";var CO={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},pk=nr.createContext&&nr.createContext(CO),xte=["attr","size","title"];function Ste(t,e){if(t==null)return{};var n=Ete(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ete(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Tg(){return Tg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tg.apply(this,arguments)}function mk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ig(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mk(Object(n),!0).forEach(function(r){Cte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cte(t,e,n){return e=Tte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tte(t){var e=Ite(t,"string");return typeof e=="symbol"?e:String(e)}function Ite(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TO(t){return t&&t.map((e,n)=>nr.createElement(e.tag,Ig({key:n},e.attr),TO(e.child)))}function kte(t){return e=>nr.createElement(Pte,Tg({attr:Ig({},t.attr)},e),TO(t.child))}function Pte(t){var e=n=>{var{attr:r,size:s,title:i}=t,o=Ste(t,xte),a=s||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),nr.createElement("svg",Tg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Ig(Ig({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&nr.createElement("title",null,i),t.children)};return pk!==void 0?nr.createElement(pk.Consumer,null,n=>e(n)):e(CO)}function Kc(t){return kte({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M294.1 256L167 129c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.3 34 0L345 239c9.1 9.1 9.3 23.7.7 33.1L201.1 417c-4.7 4.7-10.9 7-17 7s-12.3-2.3-17-7c-9.4-9.4-9.4-24.6 0-33.9l127-127.1z"},child:[]}]})(t)}var gk={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Ate=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},kO={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,d=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(p=64)),r.push(n[d],n[f],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(IO(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Ate(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||f==null)throw new Rte;const p=i<<2|a>>4;if(r.push(p),c!==64){const m=a<<4&240|c>>2;if(r.push(m),f!==64){const _=c<<6&192|f;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Rte extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jte=function(t){const e=IO(t);return kO.encodeByteArray(e,!0)},kg=function(t){return jte(t).replace(/\./g,"")},PO=function(t){try{return kO.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dte(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nte=()=>Dte().__FIREBASE_DEFAULTS__,Ote=()=>{if(typeof process>"u"||typeof gk>"u")return;const t=gk.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Mte=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&PO(t[1]);return e&&JSON.parse(e)},Qv=()=>{try{return Nte()||Ote()||Mte()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},AO=t=>{var e,n;return(n=(e=Qv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Lte=t=>{const e=AO(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},RO=()=>{var t;return(t=Qv())===null||t===void 0?void 0:t.config},jO=t=>{var e;return(e=Qv())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vte{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fte(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[kg(JSON.stringify(n)),kg(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $te(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vn())}function zte(){var t;const e=(t=Qv())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Bte(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ute(){const t=Vn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Wte(){return!zte()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function NO(){try{return typeof indexedDB=="object"}catch{return!1}}function OO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function Hte(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qte="FirebaseError";class bs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=qte,Object.setPrototypeOf(this,bs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ul.prototype.create)}}class ul{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?Gte(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new bs(s,a,r)}}function Gte(t,e){return t.replace(Kte,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Kte=/\{\$([^}]+)}/g;function Qte(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ih(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(vk(i)&&vk(o)){if(!Ih(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function vk(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function dd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function hd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Yte(t,e){const n=new Xte(t,e);return n.subscribe.bind(n)}class Xte{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Jte(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=n_),s.error===void 0&&(s.error=n_),s.complete===void 0&&(s.complete=n_);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Jte(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function n_(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zte=1e3,ene=2,tne=4*60*60*1e3,nne=.5;function yk(t,e=Zte,n=ene){const r=e*Math.pow(n,t),s=Math.round(nne*r*(Math.random()-.5)*2);return Math.min(tne,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(t){return t&&t._delegate?t._delegate:t}class ps{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rne{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Vte;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ine(e))try{this.getOrInitializeService({instanceIdentifier:ya})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ya){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ya){return this.instances.has(e)}getOptions(e=ya){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:sne(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ya){return this.component?this.component.multipleInstances?e:ya:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sne(t){return t===ya?void 0:t}function ine(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class one{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new rne(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ze||(ze={}));const ane={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},lne=ze.INFO,cne={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},une=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=cne[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yv{constructor(e){this.name=e,this._logLevel=lne,this._logHandler=une,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ane[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const dne=(t,e)=>e.some(n=>t instanceof n);let _k,bk;function hne(){return _k||(_k=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fne(){return bk||(bk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const MO=new WeakMap,nw=new WeakMap,LO=new WeakMap,r_=new WeakMap,US=new WeakMap;function pne(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(No(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&MO.set(n,t)}).catch(()=>{}),US.set(e,t),e}function mne(t){if(nw.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});nw.set(t,e)}let rw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return nw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||LO.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return No(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function gne(t){rw=t(rw)}function vne(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(s_(this),e,...n);return LO.set(r,e.sort?e.sort():[e]),No(r)}:fne().includes(t)?function(...e){return t.apply(s_(this),e),No(MO.get(this))}:function(...e){return No(t.apply(s_(this),e))}}function yne(t){return typeof t=="function"?vne(t):(t instanceof IDBTransaction&&mne(t),dne(t,hne())?new Proxy(t,rw):t)}function No(t){if(t instanceof IDBRequest)return pne(t);if(r_.has(t))return r_.get(t);const e=yne(t);return e!==t&&(r_.set(t,e),US.set(e,t)),e}const s_=t=>US.get(t);function VO(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=No(o);return r&&o.addEventListener("upgradeneeded",l=>{r(No(o.result),l.oldVersion,l.newVersion,No(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const _ne=["get","getKey","getAll","getAllKeys","count"],bne=["put","add","delete","clear"],i_=new Map;function wk(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(i_.get(e))return i_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=bne.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||_ne.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return i_.set(e,i),i}gne(t=>({...t,get:(e,n,r)=>wk(e,n)||t.get(e,n,r),has:(e,n)=>!!wk(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wne{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(xne(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function xne(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const sw="@firebase/app",xk="0.10.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=new Yv("@firebase/app"),Sne="@firebase/app-compat",Ene="@firebase/analytics-compat",Cne="@firebase/analytics",Tne="@firebase/app-check-compat",Ine="@firebase/app-check",kne="@firebase/auth",Pne="@firebase/auth-compat",Ane="@firebase/database",Rne="@firebase/database-compat",jne="@firebase/functions",Dne="@firebase/functions-compat",Nne="@firebase/installations",One="@firebase/installations-compat",Mne="@firebase/messaging",Lne="@firebase/messaging-compat",Vne="@firebase/performance",Fne="@firebase/performance-compat",$ne="@firebase/remote-config",zne="@firebase/remote-config-compat",Bne="@firebase/storage",Une="@firebase/storage-compat",Wne="@firebase/firestore",Hne="@firebase/vertexai-preview",qne="@firebase/firestore-compat",Gne="firebase",Kne="10.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="[DEFAULT]",Qne={[sw]:"fire-core",[Sne]:"fire-core-compat",[Cne]:"fire-analytics",[Ene]:"fire-analytics-compat",[Ine]:"fire-app-check",[Tne]:"fire-app-check-compat",[kne]:"fire-auth",[Pne]:"fire-auth-compat",[Ane]:"fire-rtdb",[Rne]:"fire-rtdb-compat",[jne]:"fire-fn",[Dne]:"fire-fn-compat",[Nne]:"fire-iid",[One]:"fire-iid-compat",[Mne]:"fire-fcm",[Lne]:"fire-fcm-compat",[Vne]:"fire-perf",[Fne]:"fire-perf-compat",[$ne]:"fire-rc",[zne]:"fire-rc-compat",[Bne]:"fire-gcs",[Une]:"fire-gcs-compat",[Wne]:"fire-fst",[qne]:"fire-fst-compat",[Hne]:"fire-vertex","fire-js":"fire-js",[Gne]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pg=new Map,Yne=new Map,ow=new Map;function Sk(t,e){try{t.container.addComponent(e)}catch(n){Vi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ys(t){const e=t.name;if(ow.has(e))return Vi.debug(`There were multiple attempts to register component ${e}.`),!1;ow.set(e,t);for(const n of Pg.values())Sk(n,t);for(const n of Yne.values())Sk(n,t);return!0}function dl(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Vs(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xne={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Oo=new ul("app","Firebase",Xne);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jne{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Oo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=Kne;function FO(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:iw,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Oo.create("bad-app-name",{appName:String(s)});if(n||(n=RO()),!n)throw Oo.create("no-options");const i=Pg.get(s);if(i){if(Ih(n,i.options)&&Ih(r,i.config))return i;throw Oo.create("duplicate-app",{appName:s})}const o=new one(s);for(const l of ow.values())o.addComponent(l);const a=new Jne(n,r,o);return Pg.set(s,a),a}function WS(t=iw){const e=Pg.get(t);if(!e&&t===iw&&RO())return FO();if(!e)throw Oo.create("no-app",{appName:t});return e}function Wr(t,e,n){var r;let s=(r=Qne[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vi.warn(a.join(" "));return}Ys(new ps(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zne="firebase-heartbeat-database",ere=1,kh="firebase-heartbeat-store";let o_=null;function $O(){return o_||(o_=VO(Zne,ere,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(kh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Oo.create("idb-open",{originalErrorMessage:t.message})})),o_}async function tre(t){try{const n=(await $O()).transaction(kh),r=await n.objectStore(kh).get(zO(t));return await n.done,r}catch(e){if(e instanceof bs)Vi.warn(e.message);else{const n=Oo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Vi.warn(n.message)}}}async function Ek(t,e){try{const r=(await $O()).transaction(kh,"readwrite");await r.objectStore(kh).put(e,zO(t)),await r.done}catch(n){if(n instanceof bs)Vi.warn(n.message);else{const r=Oo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Vi.warn(r.message)}}}function zO(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nre=1024,rre=30*24*60*60*1e3;class sre{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ore(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Ck();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=rre}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Vi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ck(),{heartbeatsToSend:r,unsentEntries:s}=ire(this._heartbeatsCache.heartbeats),i=kg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Vi.warn(n),""}}}function Ck(){return new Date().toISOString().substring(0,10)}function ire(t,e=nre){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Tk(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Tk(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ore{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NO()?OO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await tre(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Ek(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Ek(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Tk(t){return kg(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function are(t){Ys(new ps("platform-logger",e=>new wne(e),"PRIVATE")),Ys(new ps("heartbeat",e=>new sre(e),"PRIVATE")),Wr(sw,xk,t),Wr(sw,xk,"esm2017"),Wr("fire-js","")}are("");var Ik=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fa,BO;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,T){function I(){}I.prototype=T.prototype,C.D=T.prototype,C.prototype=new I,C.prototype.constructor=C,C.C=function(P,N,M){for(var R=Array(arguments.length-2),$=2;$<arguments.length;$++)R[$-2]=arguments[$];return T.prototype[N].apply(P,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,T,I){I||(I=0);var P=Array(16);if(typeof T=="string")for(var N=0;16>N;++N)P[N]=T.charCodeAt(I++)|T.charCodeAt(I++)<<8|T.charCodeAt(I++)<<16|T.charCodeAt(I++)<<24;else for(N=0;16>N;++N)P[N]=T[I++]|T[I++]<<8|T[I++]<<16|T[I++]<<24;T=C.g[0],I=C.g[1],N=C.g[2];var M=C.g[3],R=T+(M^I&(N^M))+P[0]+3614090360&4294967295;T=I+(R<<7&4294967295|R>>>25),R=M+(N^T&(I^N))+P[1]+3905402710&4294967295,M=T+(R<<12&4294967295|R>>>20),R=N+(I^M&(T^I))+P[2]+606105819&4294967295,N=M+(R<<17&4294967295|R>>>15),R=I+(T^N&(M^T))+P[3]+3250441966&4294967295,I=N+(R<<22&4294967295|R>>>10),R=T+(M^I&(N^M))+P[4]+4118548399&4294967295,T=I+(R<<7&4294967295|R>>>25),R=M+(N^T&(I^N))+P[5]+1200080426&4294967295,M=T+(R<<12&4294967295|R>>>20),R=N+(I^M&(T^I))+P[6]+2821735955&4294967295,N=M+(R<<17&4294967295|R>>>15),R=I+(T^N&(M^T))+P[7]+4249261313&4294967295,I=N+(R<<22&4294967295|R>>>10),R=T+(M^I&(N^M))+P[8]+1770035416&4294967295,T=I+(R<<7&4294967295|R>>>25),R=M+(N^T&(I^N))+P[9]+2336552879&4294967295,M=T+(R<<12&4294967295|R>>>20),R=N+(I^M&(T^I))+P[10]+4294925233&4294967295,N=M+(R<<17&4294967295|R>>>15),R=I+(T^N&(M^T))+P[11]+2304563134&4294967295,I=N+(R<<22&4294967295|R>>>10),R=T+(M^I&(N^M))+P[12]+1804603682&4294967295,T=I+(R<<7&4294967295|R>>>25),R=M+(N^T&(I^N))+P[13]+4254626195&4294967295,M=T+(R<<12&4294967295|R>>>20),R=N+(I^M&(T^I))+P[14]+2792965006&4294967295,N=M+(R<<17&4294967295|R>>>15),R=I+(T^N&(M^T))+P[15]+1236535329&4294967295,I=N+(R<<22&4294967295|R>>>10),R=T+(N^M&(I^N))+P[1]+4129170786&4294967295,T=I+(R<<5&4294967295|R>>>27),R=M+(I^N&(T^I))+P[6]+3225465664&4294967295,M=T+(R<<9&4294967295|R>>>23),R=N+(T^I&(M^T))+P[11]+643717713&4294967295,N=M+(R<<14&4294967295|R>>>18),R=I+(M^T&(N^M))+P[0]+3921069994&4294967295,I=N+(R<<20&4294967295|R>>>12),R=T+(N^M&(I^N))+P[5]+3593408605&4294967295,T=I+(R<<5&4294967295|R>>>27),R=M+(I^N&(T^I))+P[10]+38016083&4294967295,M=T+(R<<9&4294967295|R>>>23),R=N+(T^I&(M^T))+P[15]+3634488961&4294967295,N=M+(R<<14&4294967295|R>>>18),R=I+(M^T&(N^M))+P[4]+3889429448&4294967295,I=N+(R<<20&4294967295|R>>>12),R=T+(N^M&(I^N))+P[9]+568446438&4294967295,T=I+(R<<5&4294967295|R>>>27),R=M+(I^N&(T^I))+P[14]+3275163606&4294967295,M=T+(R<<9&4294967295|R>>>23),R=N+(T^I&(M^T))+P[3]+4107603335&4294967295,N=M+(R<<14&4294967295|R>>>18),R=I+(M^T&(N^M))+P[8]+1163531501&4294967295,I=N+(R<<20&4294967295|R>>>12),R=T+(N^M&(I^N))+P[13]+2850285829&4294967295,T=I+(R<<5&4294967295|R>>>27),R=M+(I^N&(T^I))+P[2]+4243563512&4294967295,M=T+(R<<9&4294967295|R>>>23),R=N+(T^I&(M^T))+P[7]+1735328473&4294967295,N=M+(R<<14&4294967295|R>>>18),R=I+(M^T&(N^M))+P[12]+2368359562&4294967295,I=N+(R<<20&4294967295|R>>>12),R=T+(I^N^M)+P[5]+4294588738&4294967295,T=I+(R<<4&4294967295|R>>>28),R=M+(T^I^N)+P[8]+2272392833&4294967295,M=T+(R<<11&4294967295|R>>>21),R=N+(M^T^I)+P[11]+1839030562&4294967295,N=M+(R<<16&4294967295|R>>>16),R=I+(N^M^T)+P[14]+4259657740&4294967295,I=N+(R<<23&4294967295|R>>>9),R=T+(I^N^M)+P[1]+2763975236&4294967295,T=I+(R<<4&4294967295|R>>>28),R=M+(T^I^N)+P[4]+1272893353&4294967295,M=T+(R<<11&4294967295|R>>>21),R=N+(M^T^I)+P[7]+4139469664&4294967295,N=M+(R<<16&4294967295|R>>>16),R=I+(N^M^T)+P[10]+3200236656&4294967295,I=N+(R<<23&4294967295|R>>>9),R=T+(I^N^M)+P[13]+681279174&4294967295,T=I+(R<<4&4294967295|R>>>28),R=M+(T^I^N)+P[0]+3936430074&4294967295,M=T+(R<<11&4294967295|R>>>21),R=N+(M^T^I)+P[3]+3572445317&4294967295,N=M+(R<<16&4294967295|R>>>16),R=I+(N^M^T)+P[6]+76029189&4294967295,I=N+(R<<23&4294967295|R>>>9),R=T+(I^N^M)+P[9]+3654602809&4294967295,T=I+(R<<4&4294967295|R>>>28),R=M+(T^I^N)+P[12]+3873151461&4294967295,M=T+(R<<11&4294967295|R>>>21),R=N+(M^T^I)+P[15]+530742520&4294967295,N=M+(R<<16&4294967295|R>>>16),R=I+(N^M^T)+P[2]+3299628645&4294967295,I=N+(R<<23&4294967295|R>>>9),R=T+(N^(I|~M))+P[0]+4096336452&4294967295,T=I+(R<<6&4294967295|R>>>26),R=M+(I^(T|~N))+P[7]+1126891415&4294967295,M=T+(R<<10&4294967295|R>>>22),R=N+(T^(M|~I))+P[14]+2878612391&4294967295,N=M+(R<<15&4294967295|R>>>17),R=I+(M^(N|~T))+P[5]+4237533241&4294967295,I=N+(R<<21&4294967295|R>>>11),R=T+(N^(I|~M))+P[12]+1700485571&4294967295,T=I+(R<<6&4294967295|R>>>26),R=M+(I^(T|~N))+P[3]+2399980690&4294967295,M=T+(R<<10&4294967295|R>>>22),R=N+(T^(M|~I))+P[10]+4293915773&4294967295,N=M+(R<<15&4294967295|R>>>17),R=I+(M^(N|~T))+P[1]+2240044497&4294967295,I=N+(R<<21&4294967295|R>>>11),R=T+(N^(I|~M))+P[8]+1873313359&4294967295,T=I+(R<<6&4294967295|R>>>26),R=M+(I^(T|~N))+P[15]+4264355552&4294967295,M=T+(R<<10&4294967295|R>>>22),R=N+(T^(M|~I))+P[6]+2734768916&4294967295,N=M+(R<<15&4294967295|R>>>17),R=I+(M^(N|~T))+P[13]+1309151649&4294967295,I=N+(R<<21&4294967295|R>>>11),R=T+(N^(I|~M))+P[4]+4149444226&4294967295,T=I+(R<<6&4294967295|R>>>26),R=M+(I^(T|~N))+P[11]+3174756917&4294967295,M=T+(R<<10&4294967295|R>>>22),R=N+(T^(M|~I))+P[2]+718787259&4294967295,N=M+(R<<15&4294967295|R>>>17),R=I+(M^(N|~T))+P[9]+3951481745&4294967295,C.g[0]=C.g[0]+T&4294967295,C.g[1]=C.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+M&4294967295}r.prototype.u=function(C,T){T===void 0&&(T=C.length);for(var I=T-this.blockSize,P=this.B,N=this.h,M=0;M<T;){if(N==0)for(;M<=I;)s(this,C,M),M+=this.blockSize;if(typeof C=="string"){for(;M<T;)if(P[N++]=C.charCodeAt(M++),N==this.blockSize){s(this,P),N=0;break}}else for(;M<T;)if(P[N++]=C[M++],N==this.blockSize){s(this,P),N=0;break}}this.h=N,this.o+=T},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var T=1;T<C.length-8;++T)C[T]=0;var I=8*this.o;for(T=C.length-8;T<C.length;++T)C[T]=I&255,I/=256;for(this.u(C),C=Array(16),T=I=0;4>T;++T)for(var P=0;32>P;P+=8)C[I++]=this.g[T]>>>P&255;return C};function i(C,T){var I=a;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=T(C)}function o(C,T){this.h=T;for(var I=[],P=!0,N=C.length-1;0<=N;N--){var M=C[N]|0;P&&M==T||(I[N]=M,P=!1)}this.g=I}var a={};function l(C){return-128<=C&&128>C?i(C,function(T){return new o([T|0],0>T?-1:0)}):new o([C|0],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return f;if(0>C)return S(c(-C));for(var T=[],I=1,P=0;C>=I;P++)T[P]=C/I|0,I*=4294967296;return new o(T,0)}function d(C,T){if(C.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(C.charAt(0)=="-")return S(d(C.substring(1),T));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(T,8)),P=f,N=0;N<C.length;N+=8){var M=Math.min(8,C.length-N),R=parseInt(C.substring(N,N+M),T);8>M?(M=c(Math.pow(T,M)),P=P.j(M).add(c(R))):(P=P.j(I),P=P.add(c(R)))}return P}var f=l(0),p=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(y(this))return-S(this).m();for(var C=0,T=1,I=0;I<this.g.length;I++){var P=this.i(I);C+=(0<=P?P:4294967296+P)*T,T*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(_(this))return"0";if(y(this))return"-"+S(this).toString(C);for(var T=c(Math.pow(C,6)),I=this,P="";;){var N=k(I,T).g;I=x(I,N.j(T));var M=((0<I.g.length?I.g[0]:I.h)>>>0).toString(C);if(I=N,_(I))return M+P;for(;6>M.length;)M="0"+M;P=M+P}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function _(C){if(C.h!=0)return!1;for(var T=0;T<C.g.length;T++)if(C.g[T]!=0)return!1;return!0}function y(C){return C.h==-1}t.l=function(C){return C=x(this,C),y(C)?-1:_(C)?0:1};function S(C){for(var T=C.g.length,I=[],P=0;P<T;P++)I[P]=~C.g[P];return new o(I,~C.h).add(p)}t.abs=function(){return y(this)?S(this):this},t.add=function(C){for(var T=Math.max(this.g.length,C.g.length),I=[],P=0,N=0;N<=T;N++){var M=P+(this.i(N)&65535)+(C.i(N)&65535),R=(M>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);P=R>>>16,M&=65535,R&=65535,I[N]=R<<16|M}return new o(I,I[I.length-1]&-2147483648?-1:0)};function x(C,T){return C.add(S(T))}t.j=function(C){if(_(this)||_(C))return f;if(y(this))return y(C)?S(this).j(S(C)):S(S(this).j(C));if(y(C))return S(this.j(S(C)));if(0>this.l(m)&&0>C.l(m))return c(this.m()*C.m());for(var T=this.g.length+C.g.length,I=[],P=0;P<2*T;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(var N=0;N<C.g.length;N++){var M=this.i(P)>>>16,R=this.i(P)&65535,$=C.i(N)>>>16,Q=C.i(N)&65535;I[2*P+2*N]+=R*Q,b(I,2*P+2*N),I[2*P+2*N+1]+=M*Q,b(I,2*P+2*N+1),I[2*P+2*N+1]+=R*$,b(I,2*P+2*N+1),I[2*P+2*N+2]+=M*$,b(I,2*P+2*N+2)}for(P=0;P<T;P++)I[P]=I[2*P+1]<<16|I[2*P];for(P=T;P<2*T;P++)I[P]=0;return new o(I,0)};function b(C,T){for(;(C[T]&65535)!=C[T];)C[T+1]+=C[T]>>>16,C[T]&=65535,T++}function w(C,T){this.g=C,this.h=T}function k(C,T){if(_(T))throw Error("division by zero");if(_(C))return new w(f,f);if(y(C))return T=k(S(C),T),new w(S(T.g),S(T.h));if(y(T))return T=k(C,S(T)),new w(S(T.g),T.h);if(30<C.g.length){if(y(C)||y(T))throw Error("slowDivide_ only works with positive integers.");for(var I=p,P=T;0>=P.l(C);)I=j(I),P=j(P);var N=O(I,1),M=O(P,1);for(P=O(P,2),I=O(I,2);!_(P);){var R=M.add(P);0>=R.l(C)&&(N=N.add(I),M=R),P=O(P,1),I=O(I,1)}return T=x(C,N.j(T)),new w(N,T)}for(N=f;0<=C.l(T);){for(I=Math.max(1,Math.floor(C.m()/T.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),M=c(I),R=M.j(T);y(R)||0<R.l(C);)I-=P,M=c(I),R=M.j(T);_(M)&&(M=p),N=N.add(M),C=x(C,R)}return new w(N,C)}t.A=function(C){return k(this,C).h},t.and=function(C){for(var T=Math.max(this.g.length,C.g.length),I=[],P=0;P<T;P++)I[P]=this.i(P)&C.i(P);return new o(I,this.h&C.h)},t.or=function(C){for(var T=Math.max(this.g.length,C.g.length),I=[],P=0;P<T;P++)I[P]=this.i(P)|C.i(P);return new o(I,this.h|C.h)},t.xor=function(C){for(var T=Math.max(this.g.length,C.g.length),I=[],P=0;P<T;P++)I[P]=this.i(P)^C.i(P);return new o(I,this.h^C.h)};function j(C){for(var T=C.g.length+1,I=[],P=0;P<T;P++)I[P]=C.i(P)<<1|C.i(P-1)>>>31;return new o(I,C.h)}function O(C,T){var I=T>>5;T%=32;for(var P=C.g.length-I,N=[],M=0;M<P;M++)N[M]=0<T?C.i(M+I)>>>T|C.i(M+I+1)<<32-T:C.i(M+I);return new o(N,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,BO=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,Fa=o}).apply(typeof Ik<"u"?Ik:typeof self<"u"?self:typeof window<"u"?window:{});var $p=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var UO,WO,fd,HO,Cm,aw,qO,GO,KO;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,E){return h==Array.prototype||h==Object.prototype||(h[v]=E.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof $p=="object"&&$p];for(var v=0;v<h.length;++v){var E=h[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function s(h,v){if(v)e:{var E=r;h=h.split(".");for(var A=0;A<h.length-1;A++){var F=h[A];if(!(F in E))break e;E=E[F]}h=h[h.length-1],A=E[h],v=v(A),v!=A&&v!=null&&e(E,h,{configurable:!0,writable:!0,value:v})}}function i(h,v){h instanceof String&&(h+="");var E=0,A=!1,F={next:function(){if(!A&&E<h.length){var U=E++;return{value:v(U,h[U]),done:!1}}return A=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}s("Array.prototype.values",function(h){return h||function(){return i(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function c(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function d(h,v,E){return h.call.apply(h.bind,arguments)}function f(h,v,E){if(!h)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,A),h.apply(v,F)}}return function(){return h.apply(v,arguments)}}function p(h,v,E){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,p.apply(null,arguments)}function m(h,v){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function _(h,v){function E(){}E.prototype=v.prototype,h.aa=v.prototype,h.prototype=new E,h.prototype.constructor=h,h.Qb=function(A,F,U){for(var oe=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)oe[ot-2]=arguments[ot];return v.prototype[F].apply(A,oe)}}function y(h){const v=h.length;if(0<v){const E=Array(v);for(let A=0;A<v;A++)E[A]=h[A];return E}return[]}function S(h,v){for(let E=1;E<arguments.length;E++){const A=arguments[E];if(l(A)){const F=h.length||0,U=A.length||0;h.length=F+U;for(let oe=0;oe<U;oe++)h[F+oe]=A[oe]}else h.push(A)}}class x{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function b(h){return/^[\s\xa0]*$/.test(h)}function w(){var h=a.navigator;return h&&(h=h.userAgent)?h:""}function k(h){return k[" "](h),h}k[" "]=function(){};var j=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function O(h,v,E){for(const A in h)v.call(E,h[A],A,h)}function C(h,v){for(const E in h)v.call(void 0,h[E],E,h)}function T(h){const v={};for(const E in h)v[E]=h[E];return v}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(h,v){let E,A;for(let F=1;F<arguments.length;F++){A=arguments[F];for(E in A)h[E]=A[E];for(let U=0;U<I.length;U++)E=I[U],Object.prototype.hasOwnProperty.call(A,E)&&(h[E]=A[E])}}function N(h){var v=1;h=h.split(":");const E=[];for(;0<v&&h.length;)E.push(h.shift()),v--;return h.length&&E.push(h.join(":")),E}function M(h){a.setTimeout(()=>{throw h},0)}function R(){var h=ee;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class ${constructor(){this.h=this.g=null}add(v,E){const A=Q.get();A.set(v,E),this.h?this.h.next=A:this.g=A,this.h=A}}var Q=new x(()=>new ne,h=>h.reset());class ne{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let B,q=!1,ee=new $,he=()=>{const h=a.Promise.resolve(void 0);B=()=>{h.then(ue)}};var ue=()=>{for(var h;h=R();){try{h.h.call(h.g)}catch(E){M(E)}var v=Q;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}q=!1};function ve(){this.s=this.s,this.C=this.C}ve.prototype.s=!1,ve.prototype.ma=function(){this.s||(this.s=!0,this.N())},ve.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var Ee=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};a.addEventListener("test",E,v),a.removeEventListener("test",E,v)}catch{}return h}();function Ie(h,v){if(ie.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var E=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(j){e:{try{k(v.nodeName);var F=!0;break e}catch{}F=!1}F||(v=null)}}else E=="mouseover"?v=h.fromElement:E=="mouseout"&&(v=h.toElement);this.relatedTarget=v,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:je[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ie.aa.h.call(this)}}_(Ie,ie);var je={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var pe="closure_listenable_"+(1e6*Math.random()|0),Y=0;function X(h,v,E,A,F){this.listener=h,this.proxy=null,this.src=v,this.type=E,this.capture=!!A,this.ha=F,this.key=++Y,this.da=this.fa=!1}function re(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function De(h){this.src=h,this.g={},this.h=0}De.prototype.add=function(h,v,E,A,F){var U=h.toString();h=this.g[U],h||(h=this.g[U]=[],this.h++);var oe=ut(h,v,A,F);return-1<oe?(v=h[oe],E||(v.fa=!1)):(v=new X(v,this.src,U,!!A,F),v.fa=E,h.push(v)),v};function Ne(h,v){var E=v.type;if(E in h.g){var A=h.g[E],F=Array.prototype.indexOf.call(A,v,void 0),U;(U=0<=F)&&Array.prototype.splice.call(A,F,1),U&&(re(v),h.g[E].length==0&&(delete h.g[E],h.h--))}}function ut(h,v,E,A){for(var F=0;F<h.length;++F){var U=h[F];if(!U.da&&U.listener==v&&U.capture==!!E&&U.ha==A)return F}return-1}var Ar="closure_lm_"+(1e6*Math.random()|0),Xr={};function ln(h,v,E,A,F){if(A&&A.once)return Qn(h,v,E,A,F);if(Array.isArray(v)){for(var U=0;U<v.length;U++)ln(h,v[U],E,A,F);return null}return E=Gi(E),h&&h[pe]?h.K(v,E,c(A)?!!A.capture:!!A,F):Kn(h,v,E,!1,A,F)}function Kn(h,v,E,A,F,U){if(!v)throw Error("Invalid event type");var oe=c(F)?!!F.capture:!!F,ot=xs(h);if(ot||(h[Ar]=ot=new De(h)),E=ot.add(v,E,A,oe,U),E.proxy)return E;if(A=Rr(),E.proxy=A,A.src=h,A.listener=E,h.addEventListener)Ee||(F=oe),F===void 0&&(F=!1),h.addEventListener(v.toString(),A,F);else if(h.attachEvent)h.attachEvent(ws(v.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Rr(){function h(E){return v.call(h.src,h.listener,E)}const v=Yn;return h}function Qn(h,v,E,A,F){if(Array.isArray(v)){for(var U=0;U<v.length;U++)Qn(h,v[U],E,A,F);return null}return E=Gi(E),h&&h[pe]?h.L(v,E,c(A)?!!A.capture:!!A,F):Kn(h,v,E,!0,A,F)}function tn(h,v,E,A,F){if(Array.isArray(v))for(var U=0;U<v.length;U++)tn(h,v[U],E,A,F);else A=c(A)?!!A.capture:!!A,E=Gi(E),h&&h[pe]?(h=h.i,v=String(v).toString(),v in h.g&&(U=h.g[v],E=ut(U,E,A,F),-1<E&&(re(U[E]),Array.prototype.splice.call(U,E,1),U.length==0&&(delete h.g[v],h.h--)))):h&&(h=xs(h))&&(v=h.g[v.toString()],h=-1,v&&(h=ut(v,E,A,F)),(E=-1<h?v[h]:null)&&jr(E))}function jr(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[pe])Ne(v.i,h);else{var E=h.type,A=h.proxy;v.removeEventListener?v.removeEventListener(E,A,h.capture):v.detachEvent?v.detachEvent(ws(E),A):v.addListener&&v.removeListener&&v.removeListener(A),(E=xs(v))?(Ne(E,h),E.h==0&&(E.src=null,v[Ar]=null)):re(h)}}}function ws(h){return h in Xr?Xr[h]:Xr[h]="on"+h}function Yn(h,v){if(h.da)h=!0;else{v=new Ie(v,this);var E=h.listener,A=h.ha||h.src;h.fa&&jr(h),h=E.call(A,v)}return h}function xs(h){return h=h[Ar],h instanceof De?h:null}var ti="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gi(h){return typeof h=="function"?h:(h[ti]||(h[ti]=function(v){return h.handleEvent(v)}),h[ti])}function Dt(){ve.call(this),this.i=new De(this),this.M=this,this.F=null}_(Dt,ve),Dt.prototype[pe]=!0,Dt.prototype.removeEventListener=function(h,v,E,A){tn(this,h,v,E,A)};function Et(h,v){var E,A=h.F;if(A)for(E=[];A;A=A.F)E.push(A);if(h=h.M,A=v.type||v,typeof v=="string")v=new ie(v,h);else if(v instanceof ie)v.target=v.target||h;else{var F=v;v=new ie(A,h),P(v,F)}if(F=!0,E)for(var U=E.length-1;0<=U;U--){var oe=v.g=E[U];F=ta(oe,A,!0,v)&&F}if(oe=v.g=h,F=ta(oe,A,!0,v)&&F,F=ta(oe,A,!1,v)&&F,E)for(U=0;U<E.length;U++)oe=v.g=E[U],F=ta(oe,A,!1,v)&&F}Dt.prototype.N=function(){if(Dt.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var E=h.g[v],A=0;A<E.length;A++)re(E[A]);delete h.g[v],h.h--}}this.F=null},Dt.prototype.K=function(h,v,E,A){return this.i.add(String(h),v,!1,E,A)},Dt.prototype.L=function(h,v,E,A){return this.i.add(String(h),v,!0,E,A)};function ta(h,v,E,A){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var F=!0,U=0;U<v.length;++U){var oe=v[U];if(oe&&!oe.da&&oe.capture==E){var ot=oe.listener,un=oe.ha||oe.src;oe.fa&&Ne(h.i,oe),F=ot.call(un,A)!==!1&&F}}return F&&!A.defaultPrevented}function Eu(h,v,E){if(typeof h=="function")E&&(h=p(h,E));else if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:a.setTimeout(h,v||0)}function Cu(h){h.g=Eu(()=>{h.g=null,h.i&&(h.i=!1,Cu(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class If extends ve{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Cu(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ki(h){ve.call(this),this.h=h,this.g={}}_(Ki,ve);var kf=[];function Pf(h){O(h.g,function(v,E){this.g.hasOwnProperty(E)&&jr(v)},h),h.g={}}Ki.prototype.N=function(){Ki.aa.N.call(this),Pf(this)},Ki.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Jr=a.JSON.stringify,ml=a.JSON.parse,Cy=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function gl(){}gl.prototype.h=null;function Af(h){return h.h||(h.h=h.i())}function Tu(){}var Zr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Iu(){ie.call(this,"d")}_(Iu,ie);function es(){ie.call(this,"c")}_(es,ie);var ni={},Rf=null;function vl(){return Rf=Rf||new Dt}ni.La="serverreachability";function jf(h){ie.call(this,ni.La,h)}_(jf,ie);function na(h){const v=vl();Et(v,new jf(v))}ni.STAT_EVENT="statevent";function Dr(h,v){ie.call(this,ni.STAT_EVENT,h),this.stat=v}_(Dr,ie);function cn(h){const v=vl();Et(v,new Dr(v,h))}ni.Ma="timingevent";function Df(h,v){ie.call(this,ni.Ma,h),this.size=v}_(Df,ie);function ra(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},v)}function sa(){this.g=!0}sa.prototype.xa=function(){this.g=!1};function Ty(h,v,E,A,F,U){h.info(function(){if(h.g)if(U)for(var oe="",ot=U.split("&"),un=0;un<ot.length;un++){var We=ot[un].split("=");if(1<We.length){var En=We[0];We=We[1];var Cn=En.split("_");oe=2<=Cn.length&&Cn[1]=="type"?oe+(En+"="+We+"&"):oe+(En+"=redacted&")}}else oe=null;else oe=U;return"XMLHTTP REQ ("+A+") [attempt "+F+"]: "+v+`
`+E+`
`+oe})}function Qi(h,v,E,A,F,U,oe){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+F+"]: "+v+`
`+E+`
`+U+" "+oe})}function Yi(h,v,E,A){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+ky(h,E)+(A?" "+A:"")})}function Iy(h,v){h.info(function(){return"TIMEOUT: "+v})}sa.prototype.info=function(){};function ky(h,v){if(!h.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(h=0;h<E.length;h++)if(Array.isArray(E[h])){var A=E[h];if(!(2>A.length)){var F=A[1];if(Array.isArray(F)&&!(1>F.length)){var U=F[0];if(U!="noop"&&U!="stop"&&U!="close")for(var oe=1;oe<F.length;oe++)F[oe]=""}}}}return Jr(E)}catch{return v}}var yl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Nf={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ss;function _l(){}_(_l,gl),_l.prototype.g=function(){return new XMLHttpRequest},_l.prototype.i=function(){return{}},Ss=new _l;function Es(h,v,E,A){this.j=h,this.i=v,this.l=E,this.R=A||1,this.U=new Ki(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Of}function Of(){this.i=null,this.g="",this.h=!1}var Mf={},ku={};function Pu(h,v,E){h.L=1,h.v=El(ns(v)),h.m=E,h.P=!0,bl(h,null)}function bl(h,v){h.F=Date.now(),Xi(h),h.A=ns(h.v);var E=h.A,A=h.R;Array.isArray(A)||(A=[String(A)]),Gf(E.i,"t",A),h.C=0,E=h.j.J,h.h=new Of,h.g=lE(h.j,E?v:null,!h.m),0<h.O&&(h.M=new If(p(h.Y,h,h.g),h.O)),v=h.U,E=h.g,A=h.ca;var F="readystatechange";Array.isArray(F)||(F&&(kf[0]=F.toString()),F=kf);for(var U=0;U<F.length;U++){var oe=ln(E,F[U],A||v.handleEvent,!1,v.h||v);if(!oe)break;v.g[oe.key]=oe}v=h.H?T(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),na(),Ty(h.i,h.u,h.A,h.l,h.R,h.m)}Es.prototype.ca=function(h){h=h.target;const v=this.M;v&&At(h)==3?v.j():this.Y(h)},Es.prototype.Y=function(h){try{if(h==this.g)e:{const Cn=At(this.g);var v=this.g.Ba();const Al=this.g.Z();if(!(3>Cn)&&(Cn!=3||this.g&&(this.h.h||this.g.oa()||Sn(this.g)))){this.J||Cn!=4||v==7||(v==8||0>=Al?na(3):na(2)),Ji(this);var E=this.g.Z();this.X=E;t:if(Lf(this)){var A=Sn(this.g);h="";var F=A.length,U=At(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ri(this),Zi(this);var oe="";break t}this.h.i=new a.TextDecoder}for(v=0;v<F;v++)this.h.h=!0,h+=this.h.i.decode(A[v],{stream:!(U&&v==F-1)});A.length=0,this.h.g+=h,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=E==200,Qi(this.i,this.u,this.A,this.l,this.R,Cn,E),this.o){if(this.T&&!this.K){t:{if(this.g){var ot,un=this.g;if((ot=un.g?un.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(ot)){var We=ot;break t}}We=null}if(E=We)Yi(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Au(this,E);else{this.o=!1,this.s=3,cn(12),ri(this),Zi(this);break e}}if(this.P){E=!0;let rs;for(;!this.J&&this.C<oe.length;)if(rs=wl(this,oe),rs==ku){Cn==4&&(this.s=4,cn(14),E=!1),Yi(this.i,this.l,null,"[Incomplete Response]");break}else if(rs==Mf){this.s=4,cn(15),Yi(this.i,this.l,oe,"[Invalid Chunk]"),E=!1;break}else Yi(this.i,this.l,rs,null),Au(this,rs);if(Lf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Cn!=4||oe.length!=0||this.h.h||(this.s=1,cn(16),E=!1),this.o=this.o&&E,!E)Yi(this.i,this.l,oe,"[Invalid Chunked Response]"),ri(this),Zi(this);else if(0<oe.length&&!this.W){this.W=!0;var En=this.j;En.g==this&&En.ba&&!En.M&&(En.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),Vy(En),En.M=!0,cn(11))}}else Yi(this.i,this.l,oe,null),Au(this,oe);Cn==4&&ri(this),this.o&&!this.J&&(Cn==4?sE(this.j,this):(this.o=!1,Xi(this)))}else ua(this.g),E==400&&0<oe.indexOf("Unknown SID")?(this.s=3,cn(12)):(this.s=0,cn(13)),ri(this),Zi(this)}}}catch{}finally{}};function Lf(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function wl(h,v){var E=h.C,A=v.indexOf(`
`,E);return A==-1?ku:(E=Number(v.substring(E,A)),isNaN(E)?Mf:(A+=1,A+E>v.length?ku:(v=v.slice(A,A+E),h.C=A+E,v)))}Es.prototype.cancel=function(){this.J=!0,ri(this)};function Xi(h){h.S=Date.now()+h.I,Vf(h,h.I)}function Vf(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=ra(p(h.ba,h),v)}function Ji(h){h.B&&(a.clearTimeout(h.B),h.B=null)}Es.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Iy(this.i,this.A),this.L!=2&&(na(),cn(17)),ri(this),this.s=2,Zi(this)):Vf(this,this.S-h)};function Zi(h){h.j.G==0||h.J||sE(h.j,h)}function ri(h){Ji(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,Pf(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function Au(h,v){try{var E=h.j;if(E.G!=0&&(E.g==h||ju(E.h,h))){if(!h.K&&ju(E.h,h)&&E.G==3){try{var A=E.Da.g.parse(v)}catch{A=null}if(Array.isArray(A)&&A.length==3){var F=A;if(F[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<h.F)ep(E),Jf(E);else break e;Ly(E),cn(18)}}else E.za=F[1],0<E.za-E.T&&37500>F[2]&&E.F&&E.v==0&&!E.C&&(E.C=ra(p(E.Za,E),6e3));if(1>=$f(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else da(E,11)}else if((h.K||E.g==h)&&ep(E),!b(v))for(F=E.Da.g.parse(v),v=0;v<F.length;v++){let We=F[v];if(E.T=We[0],We=We[1],E.G==2)if(We[0]=="c"){E.K=We[1],E.ia=We[2];const En=We[3];En!=null&&(E.la=En,E.j.info("VER="+E.la));const Cn=We[4];Cn!=null&&(E.Aa=Cn,E.j.info("SVER="+E.Aa));const Al=We[5];Al!=null&&typeof Al=="number"&&0<Al&&(A=1.5*Al,E.L=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const rs=h.g;if(rs){const np=rs.g?rs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(np){var U=A.h;U.g||np.indexOf("spdy")==-1&&np.indexOf("quic")==-1&&np.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(Du(U,U.h),U.h=null))}if(A.D){const Fy=rs.g?rs.g.getResponseHeader("X-HTTP-Session-Id"):null;Fy&&(A.ya=Fy,rt(A.I,A.D,Fy))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-h.F,E.j.info("Handshake RTT: "+E.R+"ms")),A=E;var oe=h;if(A.qa=aE(A,A.J?A.ia:null,A.W),oe.K){zf(A.h,oe);var ot=oe,un=A.L;un&&(ot.I=un),ot.B&&(Ji(ot),Xi(ot)),A.g=oe}else nE(A);0<E.i.length&&Zf(E)}else We[0]!="stop"&&We[0]!="close"||da(E,7);else E.G==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?da(E,7):kl(E):We[0]!="noop"&&E.l&&E.l.ta(We),E.v=0)}}na(4)}catch{}}var Py=class{constructor(h,v){this.g=h,this.map=v}};function Ru(h){this.l=h||10,a.PerformanceNavigationTiming?(h=a.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ff(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function $f(h){return h.h?1:h.g?h.g.size:0}function ju(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Du(h,v){h.g?h.g.add(v):h.h=v}function zf(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Ru.prototype.cancel=function(){if(this.i=Bf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Bf(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const E of h.g.values())v=v.concat(E.D);return v}return y(h.i)}function Ay(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(l(h)){for(var v=[],E=h.length,A=0;A<E;A++)v.push(h[A]);return v}v=[],E=0;for(A in h)v[E++]=h[A];return v}function Ry(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(l(h)||typeof h=="string"){var v=[];h=h.length;for(var E=0;E<h;E++)v.push(E);return v}v=[],E=0;for(const A in h)v[E++]=A;return v}}}function Uf(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(l(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var E=Ry(h),A=Ay(h),F=A.length,U=0;U<F;U++)v.call(void 0,A[U],E&&E[U],h)}var Wf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xl(h,v){if(h){h=h.split("&");for(var E=0;E<h.length;E++){var A=h[E].indexOf("="),F=null;if(0<=A){var U=h[E].substring(0,A);F=h[E].substring(A+1)}else U=h[E];v(U,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function ts(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof ts){this.h=h.h,Sl(this,h.j),this.o=h.o,this.g=h.g,ia(this,h.s),this.l=h.l;var v=h.i,E=new Cs;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),Hf(this,E),this.m=h.m}else h&&(v=String(h).match(Wf))?(this.h=!1,Sl(this,v[1]||"",!0),this.o=eo(v[2]||""),this.g=eo(v[3]||"",!0),ia(this,v[4]),this.l=eo(v[5]||"",!0),Hf(this,v[6]||"",!0),this.m=eo(v[7]||"")):(this.h=!1,this.i=new Cs(null,this.h))}ts.prototype.toString=function(){var h=[],v=this.j;v&&h.push(oa(v,qf,!0),":");var E=this.g;return(E||v=="file")&&(h.push("//"),(v=this.o)&&h.push(oa(v,qf,!0),"@"),h.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&h.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(oa(E,E.charAt(0)=="/"?Dy:Nu,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",oa(E,Oy)),h.join("")};function ns(h){return new ts(h)}function Sl(h,v,E){h.j=E?eo(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function ia(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function Hf(h,v,E){v instanceof Cs?(h.i=v,Ou(h.i,h.h)):(E||(v=oa(v,Ny)),h.i=new Cs(v,h.h))}function rt(h,v,E){h.i.set(v,E)}function El(h){return rt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function eo(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function oa(h,v,E){return typeof h=="string"?(h=encodeURI(h).replace(v,jy),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function jy(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var qf=/[#\/\?@]/g,Nu=/[#\?:]/g,Dy=/[#\?]/g,Ny=/[#\?@]/g,Oy=/#/g;function Cs(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Nr(h){h.g||(h.g=new Map,h.h=0,h.i&&xl(h.i,function(v,E){h.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}t=Cs.prototype,t.add=function(h,v){Nr(this),this.i=null,h=si(this,h);var E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(v),this.h+=1,this};function Cl(h,v){Nr(h),v=si(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Tl(h,v){return Nr(h),v=si(h,v),h.g.has(v)}t.forEach=function(h,v){Nr(this),this.g.forEach(function(E,A){E.forEach(function(F){h.call(v,F,A,this)},this)},this)},t.na=function(){Nr(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let A=0;A<v.length;A++){const F=h[A];for(let U=0;U<F.length;U++)E.push(v[A])}return E},t.V=function(h){Nr(this);let v=[];if(typeof h=="string")Tl(this,h)&&(v=v.concat(this.g.get(si(this,h))));else{h=Array.from(this.g.values());for(let E=0;E<h.length;E++)v=v.concat(h[E])}return v},t.set=function(h,v){return Nr(this),this.i=null,h=si(this,h),Tl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},t.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function Gf(h,v,E){Cl(h,v),0<E.length&&(h.i=null,h.g.set(si(h,v),y(E)),h.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var A=v[E];const U=encodeURIComponent(String(A)),oe=this.V(A);for(A=0;A<oe.length;A++){var F=U;oe[A]!==""&&(F+="="+encodeURIComponent(String(oe[A]))),h.push(F)}}return this.i=h.join("&")};function si(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Ou(h,v){v&&!h.j&&(Nr(h),h.i=null,h.g.forEach(function(E,A){var F=A.toLowerCase();A!=F&&(Cl(this,A),Gf(this,F,E))},h)),h.j=v}function Kf(h,v){const E=new sa;if(a.Image){const A=new Image;A.onload=m(Xn,E,"TestLoadImage: loaded",!0,v,A),A.onerror=m(Xn,E,"TestLoadImage: error",!1,v,A),A.onabort=m(Xn,E,"TestLoadImage: abort",!1,v,A),A.ontimeout=m(Xn,E,"TestLoadImage: timeout",!1,v,A),a.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else v(!1)}function ii(h,v){const E=new sa,A=new AbortController,F=setTimeout(()=>{A.abort(),Xn(E,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:A.signal}).then(U=>{clearTimeout(F),U.ok?Xn(E,"TestPingServer: ok",!0,v):Xn(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(F),Xn(E,"TestPingServer: error",!1,v)})}function Xn(h,v,E,A,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),A(E)}catch{}}function My(){this.g=new Cy}function Qf(h,v,E){const A=E||"";try{Uf(h,function(F,U){let oe=F;c(F)&&(oe=Jr(F)),v.push(A+U+"="+encodeURIComponent(oe))})}catch(F){throw v.push(A+"type="+encodeURIComponent("_badmap")),F}}function aa(h){this.l=h.Ub||null,this.j=h.eb||!1}_(aa,gl),aa.prototype.g=function(){return new la(this.l,this.j)},aa.prototype.i=function(h){return function(){return h}}({});function la(h,v){Dt.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(la,Dt),t=la.prototype,t.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,to(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||a).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ca(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,to(this)),this.g&&(this.readyState=3,to(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yf(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yf(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?ca(this):to(this),this.readyState==3&&Yf(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,ca(this))},t.Qa=function(h){this.g&&(this.response=h,ca(this))},t.ga=function(){this.g&&ca(this)};function ca(h){h.readyState=4,h.l=null,h.j=null,h.v=null,to(h)}t.setRequestHeader=function(h,v){this.u.append(h,v)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=v.next();return h.join(`\r
`)};function to(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(la.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Xf(h){let v="";return O(h,function(E,A){v+=A,v+=":",v+=E,v+=`\r
`}),v}function D(h,v,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=Xf(E),typeof h=="string"?E!=null&&encodeURIComponent(String(E)):rt(h,v,E))}function L(h){Dt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(L,Dt);var z=/^https?$/i,de=["POST","PUT"];t=L.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,v,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ss.g(),this.v=this.o?Af(this.o):Af(Ss),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(U){Le(this,U);return}if(h=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var F in A)E.set(F,A[F]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const U of A.keys())E.set(U,A.get(U));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(U=>U.toLowerCase()=="content-type"),F=a.FormData&&h instanceof a.FormData,!(0<=Array.prototype.indexOf.call(de,v,void 0))||A||F||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,oe]of E)this.g.setRequestHeader(U,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{it(this),this.u=!0,this.g.send(h),this.u=!1}catch(U){Le(this,U)}};function Le(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,Je(h),Me(h)}function Je(h){h.A||(h.A=!0,Et(h,"complete"),Et(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Et(this,"complete"),Et(this,"abort"),Me(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Me(this,!0)),L.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?st(this):this.bb())},t.bb=function(){st(this)};function st(h){if(h.h&&typeof o<"u"&&(!h.v[1]||At(h)!=4||h.Z()!=2)){if(h.u&&At(h)==4)Eu(h.Ea,0,h);else if(Et(h,"readystatechange"),At(h)==4){h.h=!1;try{const oe=h.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var A;if(A=oe===0){var F=String(h.D).match(Wf)[1]||null;!F&&a.self&&a.self.location&&(F=a.self.location.protocol.slice(0,-1)),A=!z.test(F?F.toLowerCase():"")}E=A}if(E)Et(h,"complete"),Et(h,"success");else{h.m=6;try{var U=2<At(h)?h.g.statusText:""}catch{U=""}h.l=U+" ["+h.Z()+"]",Je(h)}}finally{Me(h)}}}}function Me(h,v){if(h.g){it(h);const E=h.g,A=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||Et(h,"ready");try{E.onreadystatechange=A}catch{}}}function it(h){h.I&&(a.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function At(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<At(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),ml(v)}};function Sn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ua(h){const v={};h=(h.g&&2<=At(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(b(h[A]))continue;var E=N(h[A]);const F=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const U=v[F]||[];v[F]=U,U.push(E)}C(v,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function oi(h,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||v}function Il(h){this.Aa=0,this.i=[],this.j=new sa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=oi("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=oi("baseRetryDelayMs",5e3,h),this.cb=oi("retryDelaySeedMs",1e4,h),this.Wa=oi("forwardChannelMaxRetries",2,h),this.wa=oi("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Ru(h&&h.concurrentRequestLimit),this.Da=new My,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Il.prototype,t.la=8,t.G=1,t.connect=function(h,v,E,A){cn(0),this.W=h,this.H=v||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.I=aE(this,null,this.W),Zf(this)};function kl(h){if(Z1(h),h.G==3){var v=h.U++,E=ns(h.I);if(rt(E,"SID",h.K),rt(E,"RID",v),rt(E,"TYPE","terminate"),Mu(h,E),v=new Es(h,h.j,v),v.L=2,v.v=El(ns(E)),E=!1,a.navigator&&a.navigator.sendBeacon)try{E=a.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&a.Image&&(new Image().src=v.v,E=!0),E||(v.g=lE(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Xi(v)}oE(h)}function Jf(h){h.g&&(Vy(h),h.g.cancel(),h.g=null)}function Z1(h){Jf(h),h.u&&(a.clearTimeout(h.u),h.u=null),ep(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&a.clearTimeout(h.s),h.s=null)}function Zf(h){if(!Ff(h.h)&&!h.s){h.s=!0;var v=h.Ga;B||he(),q||(B(),q=!0),ee.add(v,h),h.B=0}}function MV(h,v){return $f(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=ra(p(h.Ga,h,v),iE(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const F=new Es(this,this.j,h);let U=this.o;if(this.S&&(U?(U=T(U),P(U,this.S)):U=this.S),this.m!==null||this.O||(F.H=U,U=null),this.P)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(v+=A,4096<v){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=tE(this,F,v),E=ns(this.I),rt(E,"RID",h),rt(E,"CVER",22),this.D&&rt(E,"X-HTTP-Session-Id",this.D),Mu(this,E),U&&(this.O?v="headers="+encodeURIComponent(String(Xf(U)))+"&"+v:this.m&&D(E,this.m,U)),Du(this.h,F),this.Ua&&rt(E,"TYPE","init"),this.P?(rt(E,"$req",v),rt(E,"SID","null"),F.T=!0,Pu(F,E,null)):Pu(F,E,v),this.G=2}}else this.G==3&&(h?eE(this,h):this.i.length==0||Ff(this.h)||eE(this))};function eE(h,v){var E;v?E=v.l:E=h.U++;const A=ns(h.I);rt(A,"SID",h.K),rt(A,"RID",E),rt(A,"AID",h.T),Mu(h,A),h.m&&h.o&&D(A,h.m,h.o),E=new Es(h,h.j,E,h.B+1),h.m===null&&(E.H=h.o),v&&(h.i=v.D.concat(h.i)),v=tE(h,E,1e3),E.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Du(h.h,E),Pu(E,A,v)}function Mu(h,v){h.H&&O(h.H,function(E,A){rt(v,A,E)}),h.l&&Uf({},function(E,A){rt(v,A,E)})}function tE(h,v,E){E=Math.min(h.i.length,E);var A=h.l?p(h.l.Na,h.l,h):null;e:{var F=h.i;let U=-1;for(;;){const oe=["count="+E];U==-1?0<E?(U=F[0].g,oe.push("ofs="+U)):U=0:oe.push("ofs="+U);let ot=!0;for(let un=0;un<E;un++){let We=F[un].g;const En=F[un].map;if(We-=U,0>We)U=Math.max(0,F[un].g-100),ot=!1;else try{Qf(En,oe,"req"+We+"_")}catch{A&&A(En)}}if(ot){A=oe.join("&");break e}}}return h=h.i.splice(0,E),v.D=h,A}function nE(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;B||he(),q||(B(),q=!0),ee.add(v,h),h.v=0}}function Ly(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=ra(p(h.Fa,h),iE(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,rE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=ra(p(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,cn(10),Jf(this),rE(this))};function Vy(h){h.A!=null&&(a.clearTimeout(h.A),h.A=null)}function rE(h){h.g=new Es(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=ns(h.qa);rt(v,"RID","rpc"),rt(v,"SID",h.K),rt(v,"AID",h.T),rt(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&rt(v,"TO",h.ja),rt(v,"TYPE","xmlhttp"),Mu(h,v),h.m&&h.o&&D(v,h.m,h.o),h.L&&(h.g.I=h.L);var E=h.g;h=h.ia,E.L=1,E.v=El(ns(v)),E.m=null,E.P=!0,bl(E,h)}t.Za=function(){this.C!=null&&(this.C=null,Jf(this),Ly(this),cn(19))};function ep(h){h.C!=null&&(a.clearTimeout(h.C),h.C=null)}function sE(h,v){var E=null;if(h.g==v){ep(h),Vy(h),h.g=null;var A=2}else if(ju(h.h,v))E=v.D,zf(h.h,v),A=1;else return;if(h.G!=0){if(v.o)if(A==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var F=h.B;A=vl(),Et(A,new Df(A,E)),Zf(h)}else nE(h);else if(F=v.s,F==3||F==0&&0<v.X||!(A==1&&MV(h,v)||A==2&&Ly(h)))switch(E&&0<E.length&&(v=h.h,v.i=v.i.concat(E)),F){case 1:da(h,5);break;case 4:da(h,10);break;case 3:da(h,6);break;default:da(h,2)}}}function iE(h,v){let E=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(E*=2),E*v}function da(h,v){if(h.j.info("Error code "+v),v==2){var E=p(h.fb,h),A=h.Xa;const F=!A;A=new ts(A||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Sl(A,"https"),El(A),F?Kf(A.toString(),E):ii(A.toString(),E)}else cn(2);h.G=0,h.l&&h.l.sa(v),oE(h),Z1(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),cn(2)):(this.j.info("Failed to ping google.com"),cn(1))};function oE(h){if(h.G=0,h.ka=[],h.l){const v=Bf(h.h);(v.length!=0||h.i.length!=0)&&(S(h.ka,v),S(h.ka,h.i),h.h.i.length=0,y(h.i),h.i.length=0),h.l.ra()}}function aE(h,v,E){var A=E instanceof ts?ns(E):new ts(E);if(A.g!="")v&&(A.g=v+"."+A.g),ia(A,A.s);else{var F=a.location;A=F.protocol,v=v?v+"."+F.hostname:F.hostname,F=+F.port;var U=new ts(null);A&&Sl(U,A),v&&(U.g=v),F&&ia(U,F),E&&(U.l=E),A=U}return E=h.D,v=h.ya,E&&v&&rt(A,E,v),rt(A,"VER",h.la),Mu(h,A),A}function lE(h,v,E){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new L(new aa({eb:E})):new L(h.pa),v.Ha(h.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function cE(){}t=cE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function tp(){}tp.prototype.g=function(h,v){return new hr(h,v)};function hr(h,v){Dt.call(this),this.g=new Il(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!b(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!b(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Pl(this)}_(hr,Dt),hr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hr.prototype.close=function(){kl(this.g)},hr.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.u&&(E={},E.__data__=Jr(h),h=E);v.i.push(new Py(v.Ya++,h)),v.G==3&&Zf(v)},hr.prototype.N=function(){this.g.l=null,delete this.j,kl(this.g),delete this.g,hr.aa.N.call(this)};function uE(h){Iu.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const E in v){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}_(uE,Iu);function dE(){es.call(this),this.status=1}_(dE,es);function Pl(h){this.g=h}_(Pl,cE),Pl.prototype.ua=function(){Et(this.g,"a")},Pl.prototype.ta=function(h){Et(this.g,new uE(h))},Pl.prototype.sa=function(h){Et(this.g,new dE)},Pl.prototype.ra=function(){Et(this.g,"b")},tp.prototype.createWebChannel=tp.prototype.g,hr.prototype.send=hr.prototype.o,hr.prototype.open=hr.prototype.m,hr.prototype.close=hr.prototype.close,KO=function(){return new tp},GO=function(){return vl()},qO=ni,aw={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},yl.NO_ERROR=0,yl.TIMEOUT=8,yl.HTTP_ERROR=6,Cm=yl,Nf.COMPLETE="complete",HO=Nf,Tu.EventType=Zr,Zr.OPEN="a",Zr.CLOSE="b",Zr.ERROR="c",Zr.MESSAGE="d",Dt.prototype.listen=Dt.prototype.K,fd=Tu,WO=aa,L.prototype.listenOnce=L.prototype.L,L.prototype.getLastError=L.prototype.Ka,L.prototype.getLastErrorCode=L.prototype.Ba,L.prototype.getStatus=L.prototype.Z,L.prototype.getResponseJson=L.prototype.Oa,L.prototype.getResponseText=L.prototype.oa,L.prototype.send=L.prototype.ea,L.prototype.setWithCredentials=L.prototype.Ha,UO=L}).apply(typeof $p<"u"?$p:typeof self<"u"?self:typeof window<"u"?window:{});const kk="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};jn.UNAUTHENTICATED=new jn(null),jn.GOOGLE_CREDENTIALS=new jn("google-credentials-uid"),jn.FIRST_PARTY=new jn("first-party-uid"),jn.MOCK_USER=new jn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hu="10.13.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa=new Yv("@firebase/firestore");function Zu(){return Qa.logLevel}function me(t,...e){if(Qa.logLevel<=ze.DEBUG){const n=e.map(HS);Qa.debug(`Firestore (${hu}): ${t}`,...n)}}function Fi(t,...e){if(Qa.logLevel<=ze.ERROR){const n=e.map(HS);Qa.error(`Firestore (${hu}): ${t}`,...n)}}function Qc(t,...e){if(Qa.logLevel<=ze.WARN){const n=e.map(HS);Qa.warn(`Firestore (${hu}): ${t}`,...n)}}function HS(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(t="Unexpected state"){const e=`FIRESTORE (${hu}) INTERNAL ASSERTION FAILED: `+t;throw Fi(e),new Error(e)}function Ye(t,e){t||Se()}function Re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends bs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lre{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(jn.UNAUTHENTICATED))}shutdown(){}}class cre{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class ure{constructor(e){this.t=e,this.currentUser=jn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Hs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Hs,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Hs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ye(typeof r.accessToken=="string"),new QO(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string"),new jn(e)}}class dre{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=jn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class hre{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new dre(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(jn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fre{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pre{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,me("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ye(typeof n.token=="string"),this.R=n.token,new fre(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mre(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=mre(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function He(t,e){return t<e?-1:t>e?1:0}function Yc(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ae(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new xt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ke(e)}static min(){return new ke(new xt(0,0))}static max(){return new ke(new xt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n,r){n===void 0?n=0:n>e.length&&Se(),r===void 0?r=e.length-n:r>e.length-n&&Se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ph.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ph?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class at extends Ph{construct(e,n,r){return new at(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ae(G.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new at(n)}static emptyPath(){return new at([])}}const gre=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vn extends Ph{construct(e,n,r){return new vn(e,n,r)}static isValidIdentifier(e){return gre.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new vn(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ae(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new ae(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ae(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new ae(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vn(n)}static emptyPath(){return new vn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(at.fromString(e))}static fromName(e){return new _e(at.fromString(e).popFirst(5))}static empty(){return new _e(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new at(e.slice()))}}function vre(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ke.fromTimestamp(r===1e9?new xt(n+1,0):new xt(n,r));return new zo(s,_e.empty(),e)}function yre(t){return new zo(t.readTime,t.key,-1)}class zo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new zo(ke.min(),_e.empty(),-1)}static max(){return new zo(ke.max(),_e.empty(),-1)}}function _re(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(t.documentKey,e.documentKey),n!==0?n:He(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bre="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wre{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function df(t){if(t.code!==G.FAILED_PRECONDITION||t.message!==bre)throw t;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Z((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.reject(n)}static resolve(e){return new Z((n,r)=>{n(e)})}static reject(e){return new Z((n,r)=>{r(e)})}static waitFor(e){return new Z((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=Z.resolve(!1);for(const r of e)n=n.next(s=>s?Z.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new Z((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new Z((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function xre(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function hf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}qS.oe=-1;function ff(t){return t==null}function Ag(t){return t===0&&1/t==-1/0}function Sre(t){return typeof t=="number"&&Number.isInteger(t)&&!Ag(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function hl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function XO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,n){this.comparator=e,this.root=n||pn.EMPTY}insert(e,n){return new Pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pn.BLACK,null,null))}remove(e){return new Pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zp(this.root,e,this.comparator,!1)}getReverseIterator(){return new zp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zp(this.root,e,this.comparator,!0)}}class zp{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??pn.RED,this.left=s??pn.EMPTY,this.right=i??pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new pn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return pn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return pn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}}pn.EMPTY=null,pn.RED=!0,pn.BLACK=!1;pn.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(e,n,r,s,i){return this}insert(e,n,r){return new pn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.comparator=e,this.data=new Pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ak(this.data.getIterator())}getIteratorFrom(e){return new Ak(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof _n)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new _n(this.comparator);return n.data=e,n}}class Ak{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this.fields=e,e.sort(vn.comparator)}static empty(){return new mr([])}unionWith(e){let n=new _n(vn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new mr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Yc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new JO("Invalid base64 string: "+i):i}}(e);return new xn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new xn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xn.EMPTY_BYTE_STRING=new xn("");const Ere=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bo(t){if(Ye(!!t),typeof t=="string"){let e=0;const n=Ere.exec(t);if(Ye(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ot(t.seconds),nanos:Ot(t.nanos)}}function Ot(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ya(t){return typeof t=="string"?xn.fromBase64String(t):xn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function KS(t){const e=t.mapValue.fields.__previous_value__;return GS(e)?KS(e):e}function Ah(t){const e=Bo(t.mapValue.fields.__local_write_time__.timestampValue);return new xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cre{constructor(e,n,r,s,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Rh{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Rh("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Rh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Xa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?GS(t)?4:Ire(t)?9007199254740991:Tre(t)?10:11:Se()}function Xs(t,e){if(t===e)return!0;const n=Xa(t);if(n!==Xa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ah(t).isEqual(Ah(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Bo(s.timestampValue),a=Bo(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ya(s.bytesValue).isEqual(Ya(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Ot(s.geoPointValue.latitude)===Ot(i.geoPointValue.latitude)&&Ot(s.geoPointValue.longitude)===Ot(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Ot(s.integerValue)===Ot(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Ot(s.doubleValue),a=Ot(i.doubleValue);return o===a?Ag(o)===Ag(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Yc(t.arrayValue.values||[],e.arrayValue.values||[],Xs);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Pk(o)!==Pk(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Xs(o[l],a[l])))return!1;return!0}(t,e);default:return Se()}}function jh(t,e){return(t.values||[]).find(n=>Xs(n,e))!==void 0}function Xc(t,e){if(t===e)return 0;const n=Xa(t),r=Xa(e);if(n!==r)return He(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return He(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Ot(i.integerValue||i.doubleValue),l=Ot(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Rk(t.timestampValue,e.timestampValue);case 4:return Rk(Ah(t),Ah(e));case 5:return He(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Ya(i),l=Ya(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=He(a[c],l[c]);if(d!==0)return d}return He(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=He(Ot(i.latitude),Ot(o.latitude));return a!==0?a:He(Ot(i.longitude),Ot(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return jk(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,c,d;const f=i.fields||{},p=o.fields||{},m=(a=f.value)===null||a===void 0?void 0:a.arrayValue,_=(l=p.value)===null||l===void 0?void 0:l.arrayValue,y=He(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((d=_==null?void 0:_.values)===null||d===void 0?void 0:d.length)||0);return y!==0?y:jk(m,_)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Bp.mapValue&&o===Bp.mapValue)return 0;if(i===Bp.mapValue)return 1;if(o===Bp.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const p=He(l[f],d[f]);if(p!==0)return p;const m=Xc(a[l[f]],c[d[f]]);if(m!==0)return m}return He(l.length,d.length)}(t.mapValue,e.mapValue);default:throw Se()}}function Rk(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return He(t,e);const n=Bo(t),r=Bo(e),s=He(n.seconds,r.seconds);return s!==0?s:He(n.nanos,r.nanos)}function jk(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Xc(n[s],r[s]);if(i)return i}return He(n.length,r.length)}function Jc(t){return lw(t)}function lw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Bo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ya(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return _e.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=lw(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${lw(n.fields[o])}`;return s+"}"}(t.mapValue):Se()}function Dk(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function cw(t){return!!t&&"integerValue"in t}function QS(t){return!!t&&"arrayValue"in t}function Nk(t){return!!t&&"nullValue"in t}function Ok(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Tm(t){return!!t&&"mapValue"in t}function Tre(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ld(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return hl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ld(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ld(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Ire(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.value=e}static empty(){return new zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Tm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ld(n)}setAll(e){let n=vn.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Ld(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Tm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Tm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){hl(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new zn(Ld(this.value))}}function ZO(t){const e=[];return hl(t.fields,(n,r)=>{const s=new vn([n]);if(Tm(r)){const i=ZO(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new mr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new sn(e,0,ke.min(),ke.min(),ke.min(),zn.empty(),0)}static newFoundDocument(e,n,r,s){return new sn(e,1,n,ke.min(),r,s,0)}static newNoDocument(e,n){return new sn(e,2,n,ke.min(),ke.min(),zn.empty(),0)}static newUnknownDocument(e,n){return new sn(e,3,n,ke.min(),ke.min(),zn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e,n){this.position=e,this.inclusive=n}}function Mk(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=_e.comparator(_e.fromName(o.referenceValue),n.key):r=Xc(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Lk(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Xs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,n="asc"){this.field=e,this.dir=n}}function kre(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{}class Wt extends eM{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Are(e,n,r):n==="array-contains"?new Dre(e,r):n==="in"?new Nre(e,r):n==="not-in"?new Ore(e,r):n==="array-contains-any"?new Mre(e,r):new Wt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Rre(e,r):new jre(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Xc(n,this.value)):n!==null&&Xa(this.value)===Xa(n)&&this.matchesComparison(Xc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ms extends eM{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new ms(e,n)}matches(e){return tM(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function tM(t){return t.op==="and"}function nM(t){return Pre(t)&&tM(t)}function Pre(t){for(const e of t.filters)if(e instanceof ms)return!1;return!0}function uw(t){if(t instanceof Wt)return t.field.canonicalString()+t.op.toString()+Jc(t.value);if(nM(t))return t.filters.map(e=>uw(e)).join(",");{const e=t.filters.map(n=>uw(n)).join(",");return`${t.op}(${e})`}}function rM(t,e){return t instanceof Wt?function(r,s){return s instanceof Wt&&r.op===s.op&&r.field.isEqual(s.field)&&Xs(r.value,s.value)}(t,e):t instanceof ms?function(r,s){return s instanceof ms&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&rM(o,s.filters[a]),!0):!1}(t,e):void Se()}function sM(t){return t instanceof Wt?function(n){return`${n.field.canonicalString()} ${n.op} ${Jc(n.value)}`}(t):t instanceof ms?function(n){return n.op.toString()+" {"+n.getFilters().map(sM).join(" ,")+"}"}(t):"Filter"}class Are extends Wt{constructor(e,n,r){super(e,n,r),this.key=_e.fromName(r.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class Rre extends Wt{constructor(e,n){super(e,"in",n),this.keys=iM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class jre extends Wt{constructor(e,n){super(e,"not-in",n),this.keys=iM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function iM(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>_e.fromName(r.referenceValue))}class Dre extends Wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return QS(n)&&jh(n.arrayValue,this.value)}}class Nre extends Wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&jh(this.value.arrayValue,n)}}class Ore extends Wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(jh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!jh(this.value.arrayValue,n)}}class Mre extends Wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!QS(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>jh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lre{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function Vk(t,e=null,n=[],r=[],s=null,i=null,o=null){return new Lre(t,e,n,r,s,i,o)}function YS(t){const e=Re(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>uw(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),ff(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Jc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Jc(r)).join(",")),e.ue=n}return e.ue}function XS(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!kre(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!rM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Lk(t.startAt,e.startAt)&&Lk(t.endAt,e.endAt)}function dw(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Vre(t,e,n,r,s,i,o,a){return new fu(t,e,n,r,s,i,o,a)}function Xv(t){return new fu(t)}function Fk(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function oM(t){return t.collectionGroup!==null}function Vd(t){const e=Re(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new _n(vn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Dh(i,r))}),n.has(vn.keyField().canonicalString())||e.ce.push(new Dh(vn.keyField(),r))}return e.ce}function qs(t){const e=Re(t);return e.le||(e.le=Fre(e,Vd(t))),e.le}function Fre(t,e){if(t.limitType==="F")return Vk(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Dh(s.field,i)});const n=t.endAt?new Rg(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Rg(t.startAt.position,t.startAt.inclusive):null;return Vk(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function hw(t,e){const n=t.filters.concat([e]);return new fu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function jg(t,e,n){return new fu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Jv(t,e){return XS(qs(t),qs(e))&&t.limitType===e.limitType}function aM(t){return`${YS(qs(t))}|lt:${t.limitType}`}function Ll(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>sM(s)).join(", ")}]`),ff(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Jc(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Jc(s)).join(",")),`Target(${r})`}(qs(t))}; limitType=${t.limitType})`}function Zv(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):_e.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Vd(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=Mk(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Vd(r),s)||r.endAt&&!function(o,a,l){const c=Mk(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Vd(r),s))}(t,e)}function $re(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function lM(t){return(e,n)=>{let r=!1;for(const s of Vd(t)){const i=zre(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function zre(t,e,n){const r=t.field.isKeyField()?_e.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?Xc(l,c):Se()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){hl(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return XO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bre=new Pt(_e.comparator);function $i(){return Bre}const cM=new Pt(_e.comparator);function pd(...t){let e=cM;for(const n of t)e=e.insert(n.key,n);return e}function uM(t){let e=cM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ta(){return Fd()}function dM(){return Fd()}function Fd(){return new pu(t=>t.toString(),(t,e)=>t.isEqual(e))}const Ure=new Pt(_e.comparator),Wre=new _n(_e.comparator);function Ve(...t){let e=Wre;for(const n of t)e=e.add(n);return e}const Hre=new _n(He);function qre(){return Hre}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ag(e)?"-0":e}}function hM(t){return{integerValue:""+t}}function Gre(t,e){return Sre(e)?hM(e):JS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(){this._=void 0}}function Kre(t,e,n){return t instanceof Dg?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&GS(i)&&(i=KS(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Nh?pM(t,e):t instanceof Oh?mM(t,e):function(s,i){const o=fM(s,i),a=$k(o)+$k(s.Pe);return cw(o)&&cw(s.Pe)?hM(a):JS(s.serializer,a)}(t,e)}function Qre(t,e,n){return t instanceof Nh?pM(t,e):t instanceof Oh?mM(t,e):n}function fM(t,e){return t instanceof Ng?function(r){return cw(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Dg extends ey{}class Nh extends ey{constructor(e){super(),this.elements=e}}function pM(t,e){const n=gM(e);for(const r of t.elements)n.some(s=>Xs(s,r))||n.push(r);return{arrayValue:{values:n}}}class Oh extends ey{constructor(e){super(),this.elements=e}}function mM(t,e){let n=gM(e);for(const r of t.elements)n=n.filter(s=>!Xs(s,r));return{arrayValue:{values:n}}}class Ng extends ey{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function $k(t){return Ot(t.integerValue||t.doubleValue)}function gM(t){return QS(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Yre(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Nh&&s instanceof Nh||r instanceof Oh&&s instanceof Oh?Yc(r.elements,s.elements,Xs):r instanceof Ng&&s instanceof Ng?Xs(r.Pe,s.Pe):r instanceof Dg&&s instanceof Dg}(t.transform,e.transform)}class Xre{constructor(e,n){this.version=e,this.transformResults=n}}class Ht{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ht}static exists(e){return new Ht(void 0,e)}static updateTime(e){return new Ht(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Im(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ty{}function vM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new mf(t.key,Ht.none()):new pf(t.key,t.data,Ht.none());{const n=t.data,r=zn.empty();let s=new _n(vn.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Jo(t.key,r,new mr(s.toArray()),Ht.none())}}function Jre(t,e,n){t instanceof pf?function(s,i,o){const a=s.value.clone(),l=Bk(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Jo?function(s,i,o){if(!Im(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Bk(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(yM(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function $d(t,e,n,r){return t instanceof pf?function(i,o,a,l){if(!Im(i.precondition,o))return a;const c=i.value.clone(),d=Uk(i.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Jo?function(i,o,a,l){if(!Im(i.precondition,o))return a;const c=Uk(i.fieldTransforms,l,o),d=o.data;return d.setAll(yM(i)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return Im(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Zre(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=fM(r.transform,s||null);i!=null&&(n===null&&(n=zn.empty()),n.set(r.field,i))}return n||null}function zk(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Yc(r,s,(i,o)=>Yre(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class pf extends ty{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Jo extends ty{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function yM(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Bk(t,e,n){const r=new Map;Ye(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,Qre(o,a,n[s]))}return r}function Uk(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,Kre(i,o,e))}return r}class mf extends ty{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _M extends ty{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ese{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&Jre(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=$d(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=$d(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=dM();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=vM(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ke.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ve())}isEqual(e){return this.batchId===e.batchId&&Yc(this.mutations,e.mutations,(n,r)=>zk(n,r))&&Yc(this.baseMutations,e.baseMutations,(n,r)=>zk(n,r))}}class ZS{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ye(e.mutations.length===r.length);let s=function(){return Ure}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new ZS(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tse{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nse{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t,Be;function bM(t){switch(t){default:return Se();case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0}}function wM(t){if(t===void 0)return Fi("GRPC error has no .code"),G.UNKNOWN;switch(t){case $t.OK:return G.OK;case $t.CANCELLED:return G.CANCELLED;case $t.UNKNOWN:return G.UNKNOWN;case $t.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case $t.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case $t.INTERNAL:return G.INTERNAL;case $t.UNAVAILABLE:return G.UNAVAILABLE;case $t.UNAUTHENTICATED:return G.UNAUTHENTICATED;case $t.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case $t.NOT_FOUND:return G.NOT_FOUND;case $t.ALREADY_EXISTS:return G.ALREADY_EXISTS;case $t.PERMISSION_DENIED:return G.PERMISSION_DENIED;case $t.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case $t.ABORTED:return G.ABORTED;case $t.OUT_OF_RANGE:return G.OUT_OF_RANGE;case $t.UNIMPLEMENTED:return G.UNIMPLEMENTED;case $t.DATA_LOSS:return G.DATA_LOSS;default:return Se()}}(Be=$t||($t={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rse(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sse=new Fa([4294967295,4294967295],0);function Wk(t){const e=rse().encode(t),n=new BO;return n.update(e),new Uint8Array(n.digest())}function Hk(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Fa([n,r],0),new Fa([s,i],0)]}class e1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new md(`Invalid padding: ${n}`);if(r<0)throw new md(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new md(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new md(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Fa.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(Fa.fromNumber(r)));return s.compare(sse)===1&&(s=new Fa([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Wk(e),[r,s]=Hk(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new e1(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=Wk(e),[r,s]=Hk(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class md extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,gf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ny(ke.min(),s,new Pt(He),$i(),Ve())}}class gf{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new gf(r,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class xM{constructor(e,n){this.targetId=e,this.me=n}}class SM{constructor(e,n,r=xn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class qk{constructor(){this.fe=0,this.ge=Kk(),this.pe=xn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ve(),n=Ve(),r=Ve();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Se()}}),new gf(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Kk()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ye(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class ise{constructor(e){this.Le=e,this.Be=new Map,this.ke=$i(),this.qe=Gk(),this.Qe=new Pt(He)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(dw(i))if(r===0){const o=new _e(i.path);this.Ue(n,o,sn.newNoDocument(o,ke.min()))}else Ye(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Ya(r).toUint8Array()}catch(l){if(l instanceof JO)return Qc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new e1(o,s,i)}catch(l){return Qc(l instanceof md?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&dw(a.target)){const l=new _e(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,sn.newNoDocument(l,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=Ve();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new ny(e,n,this.Qe,this.ke,r);return this.ke=$i(),this.qe=Gk(),this.Qe=new Pt(He),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new qk,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new _n(He),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new qk),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Gk(){return new Pt(_e.comparator)}function Kk(){return new Pt(_e.comparator)}const ose={asc:"ASCENDING",desc:"DESCENDING"},ase={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lse={and:"AND",or:"OR"};class cse{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function fw(t,e){return t.useProto3Json||ff(e)?e:{value:e}}function Og(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function EM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function use(t,e){return Og(t,e.toTimestamp())}function br(t){return Ye(!!t),ke.fromTimestamp(function(n){const r=Bo(n);return new xt(r.seconds,r.nanos)}(t))}function t1(t,e){return pw(t,e).canonicalString()}function pw(t,e){const n=function(s){return new at(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function CM(t){const e=at.fromString(t);return Ye(RM(e)),e}function Mg(t,e){return t1(t.databaseId,e.path)}function zd(t,e){const n=CM(e);if(n.get(1)!==t.databaseId.projectId)throw new ae(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ae(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e(IM(n))}function TM(t,e){return t1(t.databaseId,e)}function dse(t){const e=CM(t);return e.length===4?at.emptyPath():IM(e)}function mw(t){return new at(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function IM(t){return Ye(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Qk(t,e,n){return{name:Mg(t,e),fields:n.value.mapValue.fields}}function hse(t,e){return"found"in e?function(r,s){Ye(!!s.found),s.found.name,s.found.updateTime;const i=zd(r,s.found.name),o=br(s.found.updateTime),a=s.found.createTime?br(s.found.createTime):ke.min(),l=new zn({mapValue:{fields:s.found.fields}});return sn.newFoundDocument(i,o,a,l)}(t,e):"missing"in e?function(r,s){Ye(!!s.missing),Ye(!!s.readTime);const i=zd(r,s.missing),o=br(s.readTime);return sn.newNoDocument(i,o)}(t,e):Se()}function fse(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Se()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,d){return c.useProto3Json?(Ye(d===void 0||typeof d=="string"),xn.fromBase64String(d||"")):(Ye(d===void 0||d instanceof Buffer||d instanceof Uint8Array),xn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?G.UNKNOWN:wM(c.code);return new ae(d,c.message||"")}(o);n=new SM(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=zd(t,r.document.name),i=br(r.document.updateTime),o=r.document.createTime?br(r.document.createTime):ke.min(),a=new zn({mapValue:{fields:r.document.fields}}),l=sn.newFoundDocument(s,i,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new km(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=zd(t,r.document),i=r.readTime?br(r.readTime):ke.min(),o=sn.newNoDocument(s,i),a=r.removedTargetIds||[];n=new km([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=zd(t,r.document),i=r.removedTargetIds||[];n=new km([],i,s,null)}else{if(!("filter"in e))return Se();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new nse(s,i),a=r.targetId;n=new xM(a,o)}}return n}function kM(t,e){let n;if(e instanceof pf)n={update:Qk(t,e.key,e.value)};else if(e instanceof mf)n={delete:Mg(t,e.key)};else if(e instanceof Jo)n={update:Qk(t,e.key,e.data),updateMask:xse(e.fieldMask)};else{if(!(e instanceof _M))return Se();n={verify:Mg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Dg)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Nh)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Oh)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ng)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Se()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:use(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Se()}(t,e.precondition)),n}function pse(t,e){return t&&t.length>0?(Ye(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?br(s.updateTime):br(i);return o.isEqual(ke.min())&&(o=br(i)),new Xre(o,s.transformResults||[])}(n,e))):[]}function mse(t,e){return{documents:[TM(t,e.path)]}}function gse(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=TM(t,s);const i=function(c){if(c.length!==0)return AM(ms.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:Vl(p.field),direction:_se(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=fw(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:s}}function vse(t){let e=dse(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ye(r===1);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(f){const p=PM(f);return p instanceof ms&&nM(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(_){return new Dh(Fl(_.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,ff(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,m=f.values||[];return new Rg(m,p)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const p=!f.before,m=f.values||[];return new Rg(m,p)}(n.endAt)),Vre(e,s,o,i,a,"F",l,c)}function yse(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function PM(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Fl(n.unaryFilter.field);return Wt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Fl(n.unaryFilter.field);return Wt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Fl(n.unaryFilter.field);return Wt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Fl(n.unaryFilter.field);return Wt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Se()}}(t):t.fieldFilter!==void 0?function(n){return Wt.create(Fl(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ms.create(n.compositeFilter.filters.map(r=>PM(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Se()}}(n.compositeFilter.op))}(t):Se()}function _se(t){return ose[t]}function bse(t){return ase[t]}function wse(t){return lse[t]}function Vl(t){return{fieldPath:t.canonicalString()}}function Fl(t){return vn.fromServerFormat(t.fieldPath)}function AM(t){return t instanceof Wt?function(n){if(n.op==="=="){if(Ok(n.value))return{unaryFilter:{field:Vl(n.field),op:"IS_NAN"}};if(Nk(n.value))return{unaryFilter:{field:Vl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Ok(n.value))return{unaryFilter:{field:Vl(n.field),op:"IS_NOT_NAN"}};if(Nk(n.value))return{unaryFilter:{field:Vl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vl(n.field),op:bse(n.op),value:n.value}}}(t):t instanceof ms?function(n){const r=n.getFilters().map(s=>AM(s));return r.length===1?r[0]:{compositeFilter:{op:wse(n.op),filters:r}}}(t):Se()}function xse(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function RM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,n,r,s,i=ke.min(),o=ke.min(),a=xn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new So(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new So(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new So(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new So(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sse{constructor(e){this.ct=e}}function Ese(t){const e=vse({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?jg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cse{constructor(){this.un=new Tse}addToCollectionParentIndex(e,n){return this.un.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(zo.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(zo.min())}updateCollectionGroup(e,n,r){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}}class Tse{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new _n(at.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new _n(at.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Zc(0)}static kn(){return new Zc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ise{constructor(){this.changes=new pu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kse{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pse{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&$d(r.mutation,s,mr.empty(),xt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ve()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ve()){const s=Ta();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=pd();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ta();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ve()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=$i();const o=Fd(),a=function(){return Fd()}();return n.forEach((l,c)=>{const d=r.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof Jo)?i=i.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),$d(d.mutation,c,d.mutation.getFieldMask(),xt.now())):o.set(c.key,mr.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var f;return a.set(c,new kse(d,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Fd();let s=new Pt((o,a)=>o-a),i=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||mr.empty();d=a.applyToLocalView(c,d),r.set(l,d);const f=(s.get(a.batchId)||Ve()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,f=dM();d.forEach(p=>{if(!i.has(p)){const m=vM(n.get(p),r.get(p));m!==null&&f.set(p,m),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return Z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return _e.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):oM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):Z.resolve(Ta());let a=-1,l=i;return o.next(c=>Z.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(d)?Z.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,Ve())).next(d=>({batchId:a,changes:uM(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(r=>{let s=pd();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=pd();return this.indexManager.getCollectionParents(e,i).next(a=>Z.forEach(a,l=>{const c=function(f,p){return new fu(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(d=>{d.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,sn.newInvalidDocument(d)))});let a=pd();return o.forEach((l,c)=>{const d=i.get(l);d!==void 0&&$d(d.mutation,c,mr.empty(),xt.now()),Zv(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ase{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Z.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:br(s.createTime)}}(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:Ese(s.bundledQuery),readTime:br(s.readTime)}}(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rse{constructor(){this.overlays=new Pt(_e.comparator),this.Ir=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ta();return Z.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),Z.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),Z.resolve()}getOverlaysForCollection(e,n,r){const s=Ta(),i=n.length+1,o=new _e(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return Z.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Pt((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=i.get(c.largestBatchId);d===null&&(d=Ta(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Ta(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=s)););return Z.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new tse(n,r));let i=this.Ir.get(n);i===void 0&&(i=Ve(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jse{constructor(){this.sessionToken=xn.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(){this.Tr=new _n(nn.Er),this.dr=new _n(nn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new nn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new nn(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new _e(new at([])),r=new nn(n,e),s=new nn(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new _e(new at([])),r=new nn(n,e),s=new nn(n,e+1);let i=Ve();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new nn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class nn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return _e.comparator(e.key,n.key)||He(e.wr,n.wr)}static Ar(e,n){return He(e.wr,n.wr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dse{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new _n(nn.Er)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new ese(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new nn(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Z.resolve(o)}lookupMutationBatch(e,n){return Z.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return Z.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new nn(n,0),s=new nn(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const a=this.Dr(o.wr);i.push(a)}),Z.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new _n(He);return n.forEach(s=>{const i=new nn(s,0),o=new nn(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{r=r.add(a.wr)})}),Z.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;_e.isDocumentKey(i)||(i=i.child(""));const o=new nn(new _e(i),0);let a=new _n(He);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.wr)),!0)},o),Z.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ye(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Z.forEach(n.mutations,s=>{const i=new nn(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new nn(n,0),s=this.br.firstAfterOrEqual(r);return Z.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nse{constructor(e){this.Mr=e,this.docs=function(){return new Pt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Z.resolve(r?r.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(e,n){let r=$i();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():sn.newInvalidDocument(s))}),Z.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=$i();const o=n.path,a=new _e(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||_re(yre(d),r)<=0||(s.has(d.key)||Zv(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return Z.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Se()}Or(e,n){return Z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Ose(this)}getSize(e){return Z.resolve(this.size)}}class Ose extends Ise{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),Z.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mse{constructor(e){this.persistence=e,this.Nr=new pu(n=>YS(n),XS),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.Lr=0,this.Br=new n1,this.targetCount=0,this.kr=Zc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Z.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Zc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.Kn(n),Z.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),Z.waitFor(i).next(()=>s)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Z.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Z.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),Z.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Z.resolve(r)}containsKey(e,n){return Z.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lse{constructor(e,n){this.qr={},this.overlays={},this.Qr=new qS(0),this.Kr=!1,this.Kr=!0,this.$r=new jse,this.referenceDelegate=e(this),this.Ur=new Mse(this),this.indexManager=new Cse,this.remoteDocumentCache=function(s){return new Nse(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Sse(n),this.Gr=new Ase(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Rse,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Dse(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){me("MemoryPersistence","Starting transaction:",e);const s=new Vse(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return Z.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class Vse extends wre{constructor(e){super(),this.currentSequenceNumber=e}}class r1{constructor(e){this.persistence=e,this.Jr=new n1,this.Yr=null}static Zr(e){return new r1(e)}get Xr(){if(this.Yr)return this.Yr;throw Se()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Z.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Z.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.Xr,r=>{const s=_e.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,ke.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Z.or([()=>Z.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=Ve(),s=Ve();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new s1(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fse{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $se{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Wte()?8:xre(Vn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new Fse;return this.Xi(e,n,o).next(a=>{if(i.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(Zu()<=ze.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Ll(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Z.resolve()):(Zu()<=ze.DEBUG&&me("QueryEngine","Query:",Ll(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(Zu()<=ze.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Ll(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qs(n))):Z.resolve())}Yi(e,n){if(Fk(n))return Z.resolve(null);let r=qs(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=jg(n,null,"F"),r=qs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ve(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,o,l.readTime)?this.Yi(e,jg(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,s){return Fk(n)||s.isEqual(ke.min())?Z.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?Z.resolve(null):(Zu()<=ze.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ll(n)),this.rs(e,o,n,vre(s,-1)).next(a=>a))})}ts(e,n){let r=new _n(lM(e));return n.forEach((s,i)=>{Zv(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return Zu()<=ze.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Ll(n)),this.Ji.getDocumentsMatchingQuery(e,n,zo.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zse{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new Pt(He),this._s=new pu(i=>YS(i),XS),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Pse(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function Bse(t,e,n,r){return new zse(t,e,n,r)}async function jM(t,e){const n=Re(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Ve();for(const c of s){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of i){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function Use(t,e){const n=Re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const f=c.batch,p=f.keys();let m=Z.resolve();return p.forEach(_=>{m=m.next(()=>d.getEntry(l,_)).next(y=>{const S=c.docVersions.get(_);Ye(S!==null),y.version.compareTo(S)<0&&(f.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),d.addEntry(y)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ve();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function DM(t){const e=Re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Wse(t,e){const n=Re(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((d,f)=>{const p=s.get(f);if(!p)return;a.push(n.Ur.removeMatchingKeys(i,d.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(i,d.addedDocuments,f)));let m=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(xn.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),s=s.insert(f,m),function(y,S,x){return y.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(p,m,d)&&a.push(n.Ur.updateTargetData(i,m))});let l=$i(),c=Ve();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(Hse(i,o,e.documentUpdates).next(d=>{l=d.Ps,c=d.Is})),!r.isEqual(ke.min())){const d=n.Ur.getLastRemoteSnapshotVersion(i).next(f=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return Z.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.os=s,i))}function Hse(t,e,n){let r=Ve(),s=Ve();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=$i();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ke.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):me("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:s}})}function qse(t,e){const n=Re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Gse(t,e){const n=Re(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,Z.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new So(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function gw(t,e,n){const r=Re(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!hf(o))throw o;me("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function Yk(t,e,n){const r=Re(t);let s=ke.min(),i=Ve();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const f=Re(l),p=f._s.get(d);return p!==void 0?Z.resolve(f.os.get(p)):f.Ur.getTargetData(c,d)}(r,o,qs(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:ke.min(),n?i:Ve())).next(a=>(Kse(r,$re(e),a),{documents:a,Ts:i})))}function Kse(t,e,n){let r=t.us.get(e)||ke.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class Xk{constructor(){this.activeTargetIds=qre()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Qse{constructor(){this.so=new Xk,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Xk,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yse{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){me("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){me("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Up=null;function a_(){return Up===null?Up=function(){return 268435456+Math.round(2147483648*Math.random())}():Up++,"0x"+Up.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xse={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jse{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kn="WebChannelConnection";class Zse extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const a=a_(),l=this.xo(n,r.toUriEncodedString());me("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,i,o),this.No(n,l,c,s).then(d=>(me("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Qc("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",s),d})}Lo(n,r,s,i,o,a){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+hu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=Xse[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=a_();return new Promise((o,a)=>{const l=new UO;l.setWithCredentials(!0),l.listenOnce(HO.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Cm.NO_ERROR:const d=l.getResponseJson();me(kn,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),o(d);break;case Cm.TIMEOUT:me(kn,`RPC '${e}' ${i} timed out`),a(new ae(G.DEADLINE_EXCEEDED,"Request time out"));break;case Cm.HTTP_ERROR:const f=l.getStatus();if(me(kn,`RPC '${e}' ${i} failed with status:`,f,"response text:",l.getResponseText()),f>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const _=function(S){const x=S.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(x)>=0?x:G.UNKNOWN}(m.status);a(new ae(_,m.message))}else a(new ae(G.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ae(G.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{me(kn,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);me(kn,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const s=a_(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=KO(),a=GO(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new WO({})),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");me(kn,`Creating RPC '${e}' stream ${s}: ${d}`,l);const f=o.createWebChannel(d,l);let p=!1,m=!1;const _=new Jse({Io:S=>{m?me(kn,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(p||(me(kn,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),me(kn,`RPC '${e}' stream ${s} sending:`,S),f.send(S))},To:()=>f.close()}),y=(S,x,b)=>{S.listen(x,w=>{try{b(w)}catch(k){setTimeout(()=>{throw k},0)}})};return y(f,fd.EventType.OPEN,()=>{m||(me(kn,`RPC '${e}' stream ${s} transport opened.`),_.yo())}),y(f,fd.EventType.CLOSE,()=>{m||(m=!0,me(kn,`RPC '${e}' stream ${s} transport closed`),_.So())}),y(f,fd.EventType.ERROR,S=>{m||(m=!0,Qc(kn,`RPC '${e}' stream ${s} transport errored:`,S),_.So(new ae(G.UNAVAILABLE,"The operation could not be completed")))}),y(f,fd.EventType.MESSAGE,S=>{var x;if(!m){const b=S.data[0];Ye(!!b);const w=b,k=w.error||((x=w[0])===null||x===void 0?void 0:x.error);if(k){me(kn,`RPC '${e}' stream ${s} received error:`,k);const j=k.status;let O=function(I){const P=$t[I];if(P!==void 0)return wM(P)}(j),C=k.message;O===void 0&&(O=G.INTERNAL,C="Unknown error status: "+j+" with message "+k.message),m=!0,_.So(new ae(O,C)),f.close()}else me(kn,`RPC '${e}' stream ${s} received:`,b),_.bo(b)}}),y(a,qO.STAT_EVENT,S=>{S.stat===aw.PROXY?me(kn,`RPC '${e}' stream ${s} detected buffering proxy`):S.stat===aw.NOPROXY&&me(kn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{_.wo()},0),_}}function l_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(t){return new cse(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&me("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e,n,r,s,i,o,a,l){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new i1(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===G.RESOURCE_EXHAUSTED?(Fi(n.toString()),Fi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new ae(G.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return me("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(me("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eie extends NM{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=fse(this.serializer,e),r=function(i){if(!("targetChange"in i))return ke.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ke.min():o.readTime?br(o.readTime):ke.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=mw(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=dw(l)?{documents:mse(i,l)}:{query:gse(i,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=EM(i,o.resumeToken);const c=fw(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ke.min())>0){a.readTime=Og(i,o.snapshotVersion.toTimestamp());const c=fw(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=yse(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=mw(this.serializer),n.removeTarget=e,this.a_(n)}}class tie extends NM{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=pse(e.writeResults,e.commitTime),r=br(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=mw(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>kM(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nie extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new ae(G.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,pw(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ae(G.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,pw(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ae(G.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class rie{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Fi(n),this.D_=!1):me("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sie{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{fl(this)&&(me("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Re(l);c.L_.add(4),await vf(c),c.q_.set("Unknown"),c.L_.delete(4),await sy(c)}(this))})}),this.q_=new rie(r,s)}}async function sy(t){if(fl(t))for(const e of t.B_)await e(!0)}async function vf(t){for(const e of t.B_)await e(!1)}function OM(t,e){const n=Re(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),c1(n)?l1(n):mu(n).r_()&&a1(n,e))}function o1(t,e){const n=Re(t),r=mu(n);n.N_.delete(e),r.r_()&&MM(n,e),n.N_.size===0&&(r.r_()?r.o_():fl(n)&&n.q_.set("Unknown"))}function a1(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}mu(t).A_(e)}function MM(t,e){t.Q_.xe(e),mu(t).R_(e)}function l1(t){t.Q_=new ise({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),mu(t).start(),t.q_.v_()}function c1(t){return fl(t)&&!mu(t).n_()&&t.N_.size>0}function fl(t){return Re(t).L_.size===0}function LM(t){t.Q_=void 0}async function iie(t){t.q_.set("Online")}async function oie(t){t.N_.forEach((e,n)=>{a1(t,e)})}async function aie(t,e){LM(t),c1(t)?(t.q_.M_(e),l1(t)):t.q_.set("Unknown")}async function lie(t,e,n){if(t.q_.set("Online"),e instanceof SM&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){me("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Lg(t,r)}else if(e instanceof km?t.Q_.Ke(e):e instanceof xM?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ke.min()))try{const r=await DM(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.N_.get(c);d&&i.N_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=i.N_.get(l);if(!d)return;i.N_.set(l,d.withResumeToken(xn.EMPTY_BYTE_STRING,d.snapshotVersion)),MM(i,l);const f=new So(d.target,l,c,d.sequenceNumber);a1(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){me("RemoteStore","Failed to raise snapshot:",r),await Lg(t,r)}}async function Lg(t,e,n){if(!hf(e))throw e;t.L_.add(1),await vf(t),t.q_.set("Offline"),n||(n=()=>DM(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{me("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await sy(t)})}function VM(t,e){return e().catch(n=>Lg(t,n,e))}async function iy(t){const e=Re(t),n=Uo(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;cie(e);)try{const s=await qse(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,uie(e,s)}catch(s){await Lg(e,s)}FM(e)&&$M(e)}function cie(t){return fl(t)&&t.O_.length<10}function uie(t,e){t.O_.push(e);const n=Uo(t);n.r_()&&n.V_&&n.m_(e.mutations)}function FM(t){return fl(t)&&!Uo(t).n_()&&t.O_.length>0}function $M(t){Uo(t).start()}async function die(t){Uo(t).p_()}async function hie(t){const e=Uo(t);for(const n of t.O_)e.m_(n.mutations)}async function fie(t,e,n){const r=t.O_.shift(),s=ZS.from(r,e,n);await VM(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await iy(t)}async function pie(t,e){e&&Uo(t).V_&&await async function(r,s){if(function(o){return bM(o)&&o!==G.ABORTED}(s.code)){const i=r.O_.shift();Uo(r).s_(),await VM(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await iy(r)}}(t,e),FM(t)&&$M(t)}async function Zk(t,e){const n=Re(t);n.asyncQueue.verifyOperationInProgress(),me("RemoteStore","RemoteStore received new credentials");const r=fl(n);n.L_.add(3),await vf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await sy(n)}async function mie(t,e){const n=Re(t);e?(n.L_.delete(2),await sy(n)):e||(n.L_.add(2),await vf(n),n.q_.set("Unknown"))}function mu(t){return t.K_||(t.K_=function(n,r,s){const i=Re(n);return i.w_(),new eie(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:iie.bind(null,t),Ro:oie.bind(null,t),mo:aie.bind(null,t),d_:lie.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),c1(t)?l1(t):t.q_.set("Unknown")):(await t.K_.stop(),LM(t))})),t.K_}function Uo(t){return t.U_||(t.U_=function(n,r,s){const i=Re(n);return i.w_(),new tie(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:die.bind(null,t),mo:pie.bind(null,t),f_:hie.bind(null,t),g_:fie.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await iy(t)):(await t.U_.stop(),t.O_.length>0&&(me("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Hs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new u1(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function d1(t,e){if(Fi("AsyncQueue",`${e}: ${t}`),hf(t))return new ae(G.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e){this.comparator=e?(n,r)=>e(n,r)||_e.comparator(n.key,r.key):(n,r)=>_e.comparator(n.key,r.key),this.keyedMap=pd(),this.sortedSet=new Pt(this.comparator)}static emptySet(e){return new Cc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Cc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Cc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(){this.W_=new Pt(_e.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Se():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class eu{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new eu(e,n,Cc.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gie{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class vie{constructor(){this.queries=tP(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=Re(n),i=s.queries;s.queries=tP(),i.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new ae(G.ABORTED,"Firestore shutting down"))}}function tP(){return new pu(t=>aM(t),Jv)}async function h1(t,e){const n=Re(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new gie,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=d1(o,`Initialization of query '${Ll(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&p1(n)}async function f1(t,e){const n=Re(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function yie(t,e){const n=Re(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(r=!0);o.z_=s}}r&&p1(n)}function _ie(t,e,n){const r=Re(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function p1(t){t.Y_.forEach(e=>{e.next()})}var vw,nP;(nP=vw||(vw={})).ea="default",nP.Cache="cache";class m1{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new eu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=eu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==vw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e){this.key=e}}class BM{constructor(e){this.key=e}}class bie{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ve(),this.mutatedKeys=Ve(),this.Aa=lM(e),this.Ra=new Cc(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new eP,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,f)=>{const p=s.get(d),m=Zv(this.query,f)?f:null,_=!!p&&this.mutatedKeys.has(p.key),y=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let S=!1;p&&m?p.data.isEqual(m.data)?_!==y&&(r.track({type:3,doc:m}),S=!0):this.ga(p,m)||(r.track({type:2,doc:m}),S=!0,(l&&this.Aa(m,l)>0||c&&this.Aa(m,c)<0)&&(a=!0)):!p&&m?(r.track({type:0,doc:m}),S=!0):p&&!m&&(r.track({type:1,doc:p}),S=!0,(l||c)&&(a=!0)),S&&(m?(o=o.add(m),i=y?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,f)=>function(m,_){const y=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return y(m)-y(_)}(d.type,f.type)||this.Aa(d.doc,f.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new eu(this.query,e.Ra,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new eP,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ve(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new BM(r))}),this.da.forEach(r=>{e.has(r)||n.push(new zM(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ve();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return eu.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class wie{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class xie{constructor(e){this.key=e,this.va=!1}}class Sie{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new pu(a=>aM(a),Jv),this.Ma=new Map,this.xa=new Set,this.Oa=new Pt(_e.comparator),this.Na=new Map,this.La=new n1,this.Ba={},this.ka=new Map,this.qa=Zc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Eie(t,e,n=!0){const r=KM(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await UM(r,e,n,!0),s}async function Cie(t,e){const n=KM(t);await UM(n,e,!0,!1)}async function UM(t,e,n,r){const s=await Gse(t.localStore,qs(e)),i=s.targetId,o=n?t.sharedClientState.addLocalQueryTarget(i):"not-current";let a;return r&&(a=await Tie(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&OM(t.remoteStore,s),a}async function Tie(t,e,n,r,s){t.Ka=(f,p,m)=>async function(y,S,x,b){let w=S.view.ma(x);w.ns&&(w=await Yk(y.localStore,S.query,!1).then(({documents:C})=>S.view.ma(C,w)));const k=b&&b.targetChanges.get(S.targetId),j=b&&b.targetMismatches.get(S.targetId)!=null,O=S.view.applyChanges(w,y.isPrimaryClient,k,j);return sP(y,S.targetId,O.wa),O.snapshot}(t,f,p,m);const i=await Yk(t.localStore,e,!0),o=new bie(e,i.Ts),a=o.ma(i.documents),l=gf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);sP(t,n,c.wa);const d=new wie(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function Iie(t,e,n){const r=Re(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!Jv(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await gw(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&o1(r.remoteStore,s.targetId),yw(r,s.targetId)}).catch(df)):(yw(r,s.targetId),await gw(r.localStore,s.targetId,!0))}async function kie(t,e){const n=Re(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),o1(n.remoteStore,r.targetId))}async function Pie(t,e,n){const r=Mie(t);try{const s=await function(o,a){const l=Re(o),c=xt.now(),d=a.reduce((m,_)=>m.add(_.key),Ve());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let _=$i(),y=Ve();return l.cs.getEntries(m,d).next(S=>{_=S,_.forEach((x,b)=>{b.isValidDocument()||(y=y.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,_)).next(S=>{f=S;const x=[];for(const b of a){const w=Zre(b,f.get(b.key).overlayedDocument);w!=null&&x.push(new Jo(b.key,w,ZO(w.value.mapValue),Ht.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,x,a)}).next(S=>{p=S;const x=S.applyToLocalDocumentSet(f,y);return l.documentOverlayCache.saveOverlays(m,S.batchId,x)})}).then(()=>({batchId:p.batchId,changes:uM(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new Pt(He)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,s.batchId,n),await yf(r,s.changes),await iy(r.remoteStore)}catch(s){const i=d1(s,"Failed to persist write");n.reject(i)}}async function WM(t,e){const n=Re(t);try{const r=await Wse(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(Ye(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?Ye(o.va):s.removedDocuments.size>0&&(Ye(o.va),o.va=!1))}),await yf(n,r,e)}catch(r){await df(r)}}function rP(t,e,n){const r=Re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=Re(o);l.onlineState=a;let c=!1;l.queries.forEach((d,f)=>{for(const p of f.j_)p.Z_(a)&&(c=!0)}),c&&p1(l)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Aie(t,e,n){const r=Re(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new Pt(_e.comparator);o=o.insert(i,sn.newNoDocument(i,ke.min()));const a=Ve().add(i),l=new ny(ke.min(),new Map,new Pt(He),o,a);await WM(r,l),r.Oa=r.Oa.remove(i),r.Na.delete(e),g1(r)}else await gw(r.localStore,e,!1).then(()=>yw(r,e,n)).catch(df)}async function Rie(t,e){const n=Re(t),r=e.batch.batchId;try{const s=await Use(n.localStore,e);qM(n,r,null),HM(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await yf(n,s)}catch(s){await df(s)}}async function jie(t,e,n){const r=Re(t);try{const s=await function(o,a){const l=Re(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(Ye(f!==null),d=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);qM(r,e,n),HM(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await yf(r,s)}catch(s){await df(s)}}function HM(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function qM(t,e,n){const r=Re(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function yw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||GM(t,r)})}function GM(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(o1(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),g1(t))}function sP(t,e,n){for(const r of n)r instanceof zM?(t.La.addReference(r.key,e),Die(t,r)):r instanceof BM?(me("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||GM(t,r.key)):Se()}function Die(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(me("SyncEngine","New document in limbo: "+n),t.xa.add(r),g1(t))}function g1(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new _e(at.fromString(e)),r=t.qa.next();t.Na.set(r,new xie(n)),t.Oa=t.Oa.insert(n,r),OM(t.remoteStore,new So(qs(Xv(n.path)),r,"TargetPurposeLimboResolution",qS.oe))}}async function yf(t,e,n){const r=Re(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){s.push(c);const f=s1.Wi(l.targetId,c);i.push(f)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(l,c){const d=Re(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Z.forEach(c,p=>Z.forEach(p.$i,m=>d.persistence.referenceDelegate.addReference(f,p.targetId,m)).next(()=>Z.forEach(p.Ui,m=>d.persistence.referenceDelegate.removeReference(f,p.targetId,m)))))}catch(f){if(!hf(f))throw f;me("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const m=d.os.get(p),_=m.snapshotVersion,y=m.withLastLimboFreeSnapshotVersion(_);d.os=d.os.insert(p,y)}}}(r.localStore,i))}async function Nie(t,e){const n=Re(t);if(!n.currentUser.isEqual(e)){me("SyncEngine","User change. New user:",e.toKey());const r=await jM(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(l=>{l.reject(new ae(G.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await yf(n,r.hs)}}function Oie(t,e){const n=Re(t),r=n.Na.get(e);if(r&&r.va)return Ve().add(r.key);{let s=Ve();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const a=n.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function KM(t){const e=Re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=WM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Oie.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Aie.bind(null,e),e.Ca.d_=yie.bind(null,e.eventManager),e.Ca.$a=_ie.bind(null,e.eventManager),e}function Mie(t){const e=Re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Rie.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jie.bind(null,e),e}class iP{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=ry(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Bse(this.persistence,new $se,e.initialUser,this.serializer)}createPersistence(e){return new Lse(r1.Zr,this.serializer)}createSharedClientState(e){return new Qse}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Lie{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>rP(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Nie.bind(null,this.syncEngine),await mie(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new vie}()}createDatastore(e){const n=ry(e.databaseInfo.databaseId),r=function(i){return new Zse(i)}(e.databaseInfo);return function(i,o,a,l){return new nie(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new sie(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>rP(this.syncEngine,n,0),function(){return Jk.D()?new Jk:new Yse}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,d){const f=new Sie(s,i,o,a,l,c);return d&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Re(s);me("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await vf(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Fi("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vie{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ae(G.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(s,i){const o=Re(s),a={documents:i.map(f=>Mg(o.serializer,f))},l=await o.Lo("BatchGetDocuments",o.serializer.databaseId,at.emptyPath(),a,i.length),c=new Map;l.forEach(f=>{const p=hse(o.serializer,f);c.set(p.key.toString(),p)});const d=[];return i.forEach(f=>{const p=c.get(f.toString());Ye(!!p),d.push(p)}),d}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new mf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const s=_e.fromPath(r);this.mutations.push(new _M(s,this.precondition(s)))}),await async function(r,s){const i=Re(r),o={writes:s.map(a=>kM(i.serializer,a))};await i.Mo("Commit",i.serializer.databaseId,at.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Se();n=ke.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new ae(G.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ke.min())?Ht.exists(!1):Ht.updateTime(n):Ht.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ke.min()))throw new ae(G.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ht.updateTime(n)}return Ht.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fie{constructor(e,n,r,s,i){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=s,this.deferred=i,this.nu=r.maxAttempts,this.t_=new i1(this.asyncQueue,"transaction_retry")}ru(){this.nu-=1,this.iu()}iu(){this.t_.Go(async()=>{const e=new Vie(this.datastore),n=this.su(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(s=>{this.ou(s)}))}).catch(r=>{this.ou(r)})})}su(e){try{const n=this.updateFunction(e);return!ff(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ou(e){this.nu>0&&this._u(e)?(this.nu-=1,this.asyncQueue.enqueueAndForget(()=>(this.iu(),Promise.resolve()))):this.deferred.reject(e)}_u(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!bM(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ie{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=jn.UNAUTHENTICATED,this.clientId=YO.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{me("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(me("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ae(G.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=d1(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function c_(t,e){t.asyncQueue.verifyOperationInProgress(),me("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await jM(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function oP(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Bie(t);me("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Zk(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Zk(e.remoteStore,s)),t._onlineComponents=e}function zie(t){return t.name==="FirebaseError"?t.code===G.FAILED_PRECONDITION||t.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function Bie(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me("FirestoreClient","Using user provided OfflineComponentProvider");try{await c_(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!zie(n))throw n;Qc("Error using user provided cache. Falling back to memory cache: "+n),await c_(t,new iP)}}else me("FirestoreClient","Using default OfflineComponentProvider"),await c_(t,new iP);return t._offlineComponents}async function y1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me("FirestoreClient","Using user provided OnlineComponentProvider"),await oP(t,t._uninitializedComponentsProvider._online)):(me("FirestoreClient","Using default OnlineComponentProvider"),await oP(t,new Lie))),t._onlineComponents}function Uie(t){return y1(t).then(e=>e.syncEngine)}function Wie(t){return y1(t).then(e=>e.datastore)}async function Vg(t){const e=await y1(t),n=e.eventManager;return n.onListen=Eie.bind(null,e.syncEngine),n.onUnlisten=Iie.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Cie.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=kie.bind(null,e.syncEngine),n}function Hie(t,e,n={}){const r=new Hs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const d=new v1({next:p=>{o.enqueueAndForget(()=>f1(i,f));const m=p.docs.has(a);!m&&p.fromCache?c.reject(new ae(G.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&l&&l.source==="server"?c.reject(new ae(G.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new m1(Xv(a.path),d,{includeMetadataChanges:!0,_a:!0});return h1(i,f)}(await Vg(t),t.asyncQueue,e,n,r)),r.promise}function qie(t,e,n={}){const r=new Hs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const d=new v1({next:p=>{o.enqueueAndForget(()=>f1(i,f)),p.fromCache&&l.source==="server"?c.reject(new ae(G.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new m1(a,d,{includeMetadataChanges:!0,_a:!0});return h1(i,f)}(await Vg(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QM(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YM(t,e,n){if(!n)throw new ae(G.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Gie(t,e,n,r){if(e===!0&&r===!0)throw new ae(G.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function lP(t){if(!_e.isDocumentKey(t))throw new ae(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function cP(t){if(_e.isDocumentKey(t))throw new ae(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function oy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Se()}function Nn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ae(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=oy(t);throw new ae(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Kie(t,e){if(e<=0)throw new ae(G.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ae(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ae(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Gie("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ae(G.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ae(G.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ae(G.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ay{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uP({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ae(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ae(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uP(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new lre;switch(r.type){case"firstParty":return new hre(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=aP.get(n);r&&(me("ComponentProvider","Removing Datastore"),aP.delete(n),r.terminate())}(this),Promise.resolve()}}function Qie(t,e,n,r={}){var s;const i=(t=Nn(t,ay))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Qc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=jn.MOCK_USER;else{a=Fte(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ae(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new jn(c)}t._authCredentials=new cre(new QO(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Wi(this.firestore,e,this._query)}}class bn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bn(this.firestore,e,this._key)}}class Mo extends Wi{constructor(e,n,r){super(e,n,Xv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bn(this.firestore,null,new _e(e))}withConverter(e){return new Mo(this.firestore,e,this._path)}}function le(t,e,...n){if(t=pt(t),YM("collection","path",e),t instanceof ay){const r=at.fromString(e,...n);return cP(r),new Mo(t,null,r)}{if(!(t instanceof bn||t instanceof Mo))throw new ae(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(at.fromString(e,...n));return cP(r),new Mo(t.firestore,null,r)}}function J(t,e,...n){if(t=pt(t),arguments.length===1&&(e=YO.newId()),YM("doc","path",e),t instanceof ay){const r=at.fromString(e,...n);return lP(r),new bn(t,null,new _e(r))}{if(!(t instanceof bn||t instanceof Mo))throw new ae(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(at.fromString(e,...n));return lP(r),new bn(t.firestore,t instanceof Mo?t.converter:null,new _e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yie{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new i1(this,"async_queue_retry"),this.Eu=()=>{const n=l_();n&&me("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=l_();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=l_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new Hs;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!hf(e))throw e;me("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Fi("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const s=u1.createAndSchedule(this,e,n,r,i=>this.Vu(i));return this.lu.push(s),s}du(){this.hu&&Se()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}function dP(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class gs extends ay{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new Yie}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||XM(this),this._firestoreClient.terminate()}}function Xie(t,e){const n=typeof t=="object"?t:WS(),r=typeof t=="string"?t:e||"(default)",s=dl(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=Lte("firestore");i&&Qie(s,...i)}return s}function gu(t){return t._firestoreClient||XM(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function XM(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,d){return new Cre(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,QM(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new $ie(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ja(xn.fromBase64String(e))}catch(n){throw new ae(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ja(xn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ae(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jie=/^__.*__$/;class Zie{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Jo(e,this.data,this.fieldMask,n,this.fieldTransforms):new pf(e,this.data,n,this.fieldTransforms)}}class JM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Jo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ZM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class x1{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.yu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new x1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Su({path:r,Du:!1});return s.vu(e),s}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Su({path:r,Du:!1});return s.yu(),s}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Fg(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(ZM(this.wu)&&Jie.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class eoe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ry(e)}Nu(e,n,r,s=!1){return new x1({wu:e,methodName:n,Ou:r,path:vn.emptyPath(),Du:!1,xu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yu(t){const e=t._freezeSettings(),n=ry(t._databaseId);return new eoe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ly(t,e,n,r,s,i={}){const o=t.Nu(i.merge||i.mergeFields?2:0,e,n,s);C1("Data must be an object, but it was:",o,r);const a=eL(r,o);let l,c;if(i.merge)l=new mr(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const f of i.mergeFields){const p=_w(e,f,n);if(!o.contains(p))throw new ae(G.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);nL(d,p)||d.push(p)}l=new mr(d),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new Zie(new zn(a),l,c)}class cy extends _1{_toFieldTransform(e){if(e.wu!==2)throw e.wu===1?e.Mu(`${this._methodName}() can only appear at the top level of your update data`):e.Mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof cy}}function S1(t,e,n,r){const s=t.Nu(1,e,n);C1("Data must be an object, but it was:",s,r);const i=[],o=zn.empty();hl(r,(l,c)=>{const d=T1(e,l,n);c=pt(c);const f=s.Cu(d);if(c instanceof cy)i.push(d);else{const p=_f(c,f);p!=null&&(i.push(d),o.set(d,p))}});const a=new mr(i);return new JM(o,a,s.fieldTransforms)}function E1(t,e,n,r,s,i){const o=t.Nu(1,e,n),a=[_w(e,r,n)],l=[s];if(i.length%2!=0)throw new ae(G.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(_w(e,i[p])),l.push(i[p+1]);const c=[],d=zn.empty();for(let p=a.length-1;p>=0;--p)if(!nL(c,a[p])){const m=a[p];let _=l[p];_=pt(_);const y=o.Cu(m);if(_ instanceof cy)c.push(m);else{const S=_f(_,y);S!=null&&(c.push(m),d.set(m,S))}}const f=new mr(c);return new JM(d,f,o.fieldTransforms)}function toe(t,e,n,r=!1){return _f(n,t.Nu(r?4:3,e))}function _f(t,e){if(tL(t=pt(t)))return C1("Unsupported field value:",e,t),eL(t,e);if(t instanceof _1)return function(r,s){if(!ZM(s.wu))throw s.Mu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Mu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=_f(a,s.Fu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=pt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Gre(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=xt.fromDate(r);return{timestampValue:Og(s.serializer,i)}}if(r instanceof xt){const i=new xt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Og(s.serializer,i)}}if(r instanceof b1)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ja)return{bytesValue:EM(s.serializer,r._byteString)};if(r instanceof bn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:t1(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof w1)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Mu("VectorValues must only contain numeric values.");return JS(a.serializer,l)})}}}}}}(r,s);throw s.Mu(`Unsupported field value: ${oy(r)}`)}(t,e)}function eL(t,e){const n={};return XO(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hl(t,(r,s)=>{const i=_f(s,e.bu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function tL(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof xt||t instanceof b1||t instanceof Ja||t instanceof bn||t instanceof _1||t instanceof w1)}function C1(t,e,n){if(!tL(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=oy(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function _w(t,e,n){if((e=pt(e))instanceof vu)return e._internalPath;if(typeof e=="string")return T1(t,e);throw Fg("Field path arguments must be of type string or ",t,!1,void 0,n)}const noe=new RegExp("[~\\*/\\[\\]]");function T1(t,e,n){if(e.search(noe)>=0)throw Fg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new vu(...e.split("."))._internalPath}catch{throw Fg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Fg(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new ae(G.INVALID_ARGUMENT,a+t+l)}function nL(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new bn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new roe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(uy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class roe extends $g{data(){return super.data()}}function uy(t,e){return typeof e=="string"?T1(t,e):e instanceof vu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ae(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class I1{}class k1 extends I1{}function On(t,e,...n){let r=[];e instanceof I1&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof P1).length,a=i.filter(l=>l instanceof dy).length;if(o>1||o>0&&a>0)throw new ae(G.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class dy extends k1{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new dy(e,n,r)}_apply(e){const n=this._parse(e);return sL(e._query,n),new Wi(e.firestore,e.converter,hw(e._query,n))}_parse(e){const n=yu(e.firestore);return function(i,o,a,l,c,d,f){let p;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ae(G.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){fP(f,d);const m=[];for(const _ of f)m.push(hP(l,i,_));p={arrayValue:{values:m}}}else p=hP(l,i,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||fP(f,d),p=toe(a,o,f,d==="in"||d==="not-in");return Wt.create(c,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Hr(t,e,n){const r=e,s=uy("where",t);return dy._create(s,r,n)}class P1 extends I1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new P1(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ms.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)sL(o,l),o=hw(o,l)}(e._query,n),new Wi(e.firestore,e.converter,hw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class A1 extends k1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new A1(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new ae(G.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ae(G.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Dh(i,o)}(e._query,this._field,this._direction);return new Wi(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new fu(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function soe(t,e="asc"){const n=e,r=uy("orderBy",t);return A1._create(r,n)}class R1 extends k1{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new R1(e,n,r)}_apply(e){return new Wi(e.firestore,e.converter,jg(e._query,this._limit,this._limitType))}}function ioe(t){return Kie("limit",t),R1._create("limit",t,"F")}function hP(t,e,n){if(typeof(n=pt(n))=="string"){if(n==="")throw new ae(G.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oM(e)&&n.indexOf("/")!==-1)throw new ae(G.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(at.fromString(n));if(!_e.isDocumentKey(r))throw new ae(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Dk(t,new _e(r))}if(n instanceof bn)return Dk(t,n._key);throw new ae(G.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${oy(n)}.`)}function fP(t,e){if(!Array.isArray(t)||t.length===0)throw new ae(G.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function sL(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ae(G.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(G.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class iL{convertValue(e,n="none"){switch(Xa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ya(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return hl(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Ot(o.doubleValue));return new w1(i)}convertGeoPoint(e){return new b1(Ot(e.latitude),Ot(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=KS(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ah(e));default:return null}}convertTimestamp(e){const n=Bo(e);return new xt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=at.fromString(e);Ye(RM(r));const s=new Rh(r.get(1),r.get(3)),i=new _e(r.popFirst(5));return s.isEqual(n)||Fi(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class ooe extends iL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ja(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new bn(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class j1 extends $g{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Pm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(uy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Pm extends j1{data(e={}){return super.data(e)}}class oL{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new uc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Pm(this._firestore,this._userDataWriter,r.key,r,new uc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ae(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Pm(s._firestore,s._userDataWriter,a.doc.key,a.doc,new uc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Pm(s._firestore,s._userDataWriter,a.doc.key,a.doc,new uc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:aoe(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function aoe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nt(t){t=Nn(t,bn);const e=Nn(t.firestore,gs);return Hie(gu(e),t._key).then(n=>aL(e,t,n))}class fy extends iL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ja(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new bn(this.firestore,null,n)}}function qt(t){t=Nn(t,Wi);const e=Nn(t.firestore,gs),n=gu(e),r=new fy(e);return rL(t._query),qie(n,t._query).then(s=>new oL(e,r,t,s))}function bw(t,e,n){t=Nn(t,bn);const r=Nn(t.firestore,gs),s=hy(t.converter,e,n);return wf(r,[ly(yu(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Ht.none())])}function bf(t,e,n,...r){t=Nn(t,bn);const s=Nn(t.firestore,gs),i=yu(s);let o;return o=typeof(e=pt(e))=="string"||e instanceof vu?E1(i,"updateDoc",t._key,e,n,r):S1(i,"updateDoc",t._key,e),wf(s,[o.toMutation(t._key,Ht.exists(!0))])}function py(t){return wf(Nn(t.firestore,gs),[new mf(t._key,Ht.none())])}function D1(t,e){const n=Nn(t.firestore,gs),r=J(t),s=hy(t.converter,e);return wf(n,[ly(yu(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Ht.exists(!1))]).then(()=>r)}function N1(t,...e){var n,r,s;t=pt(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||dP(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(dP(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(s=f.complete)===null||s===void 0?void 0:s.bind(f)}let l,c,d;if(t instanceof bn)c=Nn(t.firestore,gs),d=Xv(t._key.path),l={next:f=>{e[o]&&e[o](aL(c,t,f))},error:e[o+1],complete:e[o+2]};else{const f=Nn(t,Wi);c=Nn(f.firestore,gs),d=f._query;const p=new fy(c);l={next:m=>{e[o]&&e[o](new oL(c,p,f,m))},error:e[o+1],complete:e[o+2]},rL(t._query)}return function(p,m,_,y){const S=new v1(y),x=new m1(m,S,_);return p.asyncQueue.enqueueAndForget(async()=>h1(await Vg(p),x)),()=>{S.za(),p.asyncQueue.enqueueAndForget(async()=>f1(await Vg(p),x))}}(gu(c),d,a,l)}function wf(t,e){return function(r,s){const i=new Hs;return r.asyncQueue.enqueueAndForget(async()=>Pie(await Uie(r),s,i)),i.promise}(gu(t),e)}function aL(t,e,n){const r=n.docs.get(e._key),s=new fy(t);return new j1(t,s,e._key,r,new uc(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const loe={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class coe{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=yu(e)}set(e,n,r){this._verifyNotCommitted();const s=mo(e,this._firestore),i=hy(s.converter,n,r),o=ly(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,r);return this._mutations.push(o.toMutation(s._key,Ht.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const i=mo(e,this._firestore);let o;return o=typeof(n=pt(n))=="string"||n instanceof vu?E1(this._dataReader,"WriteBatch.update",i._key,n,r,s):S1(this._dataReader,"WriteBatch.update",i._key,n),this._mutations.push(o.toMutation(i._key,Ht.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=mo(e,this._firestore);return this._mutations=this._mutations.concat(new mf(n._key,Ht.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ae(G.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function mo(t,e){if((t=pt(t)).firestore!==e)throw new ae(G.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uoe extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=yu(n)}get(n){const r=mo(n,this._firestore),s=new ooe(this._firestore);return this._transaction.lookup([r._key]).then(i=>{if(!i||i.length!==1)return Se();const o=i[0];if(o.isFoundDocument())return new $g(this._firestore,s,o.key,o,r.converter);if(o.isNoDocument())return new $g(this._firestore,s,r._key,null,r.converter);throw Se()})}set(n,r,s){const i=mo(n,this._firestore),o=hy(i.converter,r,s),a=ly(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,s);return this._transaction.set(i._key,a),this}update(n,r,s,...i){const o=mo(n,this._firestore);let a;return a=typeof(r=pt(r))=="string"||r instanceof vu?E1(this._dataReader,"Transaction.update",o._key,r,s,i):S1(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=mo(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=mo(e,this._firestore),r=new fy(this._firestore);return super.get(e).then(s=>new j1(this._firestore,r,n._key,s._document,new uc(!1,!1),n.converter))}}function Mn(t,e,n){t=Nn(t,gs);const r=Object.assign(Object.assign({},loe),n);return function(i){if(i.maxAttempts<1)throw new ae(G.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,o,a){const l=new Hs;return i.asyncQueue.enqueueAndForget(async()=>{const c=await Wie(i);new Fie(i.asyncQueue,c,a,o,l).ru()}),l.promise}(gu(t),s=>e(new uoe(t,s)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(t){return gu(t=Nn(t,gs)),new coe(t,e=>wf(t,e))}(function(e,n=!0){(function(s){hu=s})(du),Ys(new ps("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new gs(new ure(r.getProvider("auth-internal")),new pre(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ae(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rh(c.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Wr(kk,"4.7.1",e),Wr(kk,"4.7.1","esm2017")})();const lL="#F2F5F5",cL="#DCE5E5",Ze="#565360",Ci="#908E9B",doe="#E1DFE9",hoe="8px",Lt="12px",my="16px",uL="20px",Za="24px",gy="32px",Mh="48px",pP=t=>{const{index:e,initiatorID:n,recipientID:r,notifTitle:s,notifDesc:i,notifTimestamp:o,notifReadStatus:a}=t.data,l={backgroundColor:a?lL:"teal.100",padding:Lt,borderRadius:my,cursor:"pointer",w:"100%",transition:"transform 0.3s",_hover:{transform:"scale(1.05)",backgroundColor:cL}},c={flex:1,textAlign:"left"},d={color:Ci,fontWeight:"bold"},f={color:Ze},p={fontSize:Lt,color:"gray",fontWeight:"bold"},m=()=>{t.onOpenReadModal(e)};return u.jsx(W,{onClick:m,children:u.jsxs(ye,{sx:l,align:"center",children:[u.jsx(Pr,{name:s,size:"sm",mr:"10px"}),u.jsxs(W,{sx:c,isTruncated:!0,children:[u.jsx(H,{sx:d,children:s}),u.jsx(H,{sx:f,children:u.jsx("pre",{children:i.split(`
`)[0]})})," "]}),u.jsxs(H,{sx:p,children:[new Date(o.seconds*1e3).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})," ",u.jsx("br",{})," ",new Date(o.seconds*1e3).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})]}),u.jsx(se,{colorScheme:"teal",rightIcon:u.jsx(Kc,{}),children:"View"})]})})};function dL(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const foe=dL,hL=new ul("auth","Firebase",dL());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg=new Yv("@firebase/auth");function poe(t,...e){zg.logLevel<=ze.WARN&&zg.warn(`Auth (${du}): ${t}`,...e)}function Am(t,...e){zg.logLevel<=ze.ERROR&&zg.error(`Auth (${du}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(t,...e){throw O1(t,...e)}function Gs(t,...e){return O1(t,...e)}function fL(t,e,n){const r=Object.assign(Object.assign({},foe()),{[e]:n});return new ul("auth","Firebase",r).create(e,{appName:t.name})}function Ti(t){return fL(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function O1(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return hL.create(t,...e)}function Pe(t,e,...n){if(!t)throw O1(e,...n)}function vi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Am(e),new Error(e)}function zi(t,e){t||vi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function pL(){return mP()==="http:"||mP()==="https:"}function mP(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function moe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pL()||DO()||"connection"in navigator)?navigator.onLine:!0}function goe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,n){this.shortDelay=e,this.longDelay=n,zi(n>e,"Short delay should be less than long delay!"),this.isMobile=$te()||Bte()}get(){return moe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(t,e){zi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const voe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yoe=new xf(3e4,6e4);function Hi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function qi(t,e,n,r,s={}){return gL(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=uf(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),mL.fetch()(vL(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},i))})}async function gL(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},voe),e);try{const s=new boe(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Wp(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wp(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Wp(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Wp(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw fL(t,d,c);vs(t,d)}}catch(s){if(s instanceof bs)throw s;vs(t,"network-request-failed",{message:String(s)})}}async function Sf(t,e,n,r,s={}){const i=await qi(t,e,n,r,s);return"mfaPendingCredential"in i&&vs(t,"multi-factor-auth-required",{_serverResponse:i}),i}function vL(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?M1(t.config,s):`${t.config.apiScheme}://${s}`}function _oe(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class boe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Gs(this.auth,"network-request-failed")),yoe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Wp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Gs(t,e,r);return s.customData._tokenResponse=n,s}function gP(t){return t!==void 0&&t.enterprise!==void 0}class woe{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return _oe(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function xoe(t,e){return qi(t,"GET","/v2/recaptchaConfig",Hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Soe(t,e){return qi(t,"POST","/v1/accounts:delete",e)}async function yL(t,e){return qi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Eoe(t,e=!1){const n=pt(t),r=await n.getIdToken(e),s=L1(r);Pe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Bd(u_(s.auth_time)),issuedAtTime:Bd(u_(s.iat)),expirationTime:Bd(u_(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function u_(t){return Number(t)*1e3}function L1(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Am("JWT malformed, contained fewer than 3 sections"),null;try{const s=PO(n);return s?JSON.parse(s):(Am("Failed to decode base64 JWT payload"),null)}catch(s){return Am("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function vP(t){const e=L1(t);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof bs&&Coe(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Coe({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Toe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bd(this.lastLoginAt),this.creationTime=Bd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ug(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Lh(t,yL(n,{idToken:r}));Pe(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?_L(i.providerUserInfo):[],a=koe(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new ww(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function Ioe(t){const e=pt(t);await Ug(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function koe(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function _L(t){return t.map(e=>{var{providerId:n}=e,r=nf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Poe(t,e){const n=await gL(t,{},async()=>{const r=uf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=vL(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",mL.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Aoe(t,e){return qi(t,"POST","/v2/accounts:revokeToken",Hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const n=vP(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await Poe(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Tc;return r&&(Pe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Pe(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Pe(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Tc,this.toJSON())}_performRefresh(){return vi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oo(t,e){Pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class yi{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=nf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Toe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ww(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Lh(this,this.stsTokenManager.getToken(this.auth,e));return Pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Eoe(this,e)}reload(){return Ioe(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new yi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ug(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vs(this.auth.app))return Promise.reject(Ti(this.auth));const e=await this.getIdToken();return await Lh(this,Soe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,m=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,x=(c=n.createdAt)!==null&&c!==void 0?c:void 0,b=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:w,emailVerified:k,isAnonymous:j,providerData:O,stsTokenManager:C}=n;Pe(w&&C,e,"internal-error");const T=Tc.fromJSON(this.name,C);Pe(typeof w=="string",e,"internal-error"),oo(f,e.name),oo(p,e.name),Pe(typeof k=="boolean",e,"internal-error"),Pe(typeof j=="boolean",e,"internal-error"),oo(m,e.name),oo(_,e.name),oo(y,e.name),oo(S,e.name),oo(x,e.name),oo(b,e.name);const I=new yi({uid:w,auth:e,email:p,emailVerified:k,displayName:f,isAnonymous:j,photoURL:_,phoneNumber:m,tenantId:y,stsTokenManager:T,createdAt:x,lastLoginAt:b});return O&&Array.isArray(O)&&(I.providerData=O.map(P=>Object.assign({},P))),S&&(I._redirectEventId=S),I}static async _fromIdTokenResponse(e,n,r=!1){const s=new Tc;s.updateFromServerResponse(n);const i=new yi({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Ug(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Pe(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?_L(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Tc;a.updateFromIdToken(r);const l=new yi({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new ww(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP=new Map;function _i(t){zi(t instanceof Function,"Expected a class definition");let e=yP.get(t);return e?(zi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,yP.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}bL.type="NONE";const _P=bL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(t,e,n){return`firebase:${t}:${e}:${n}`}class Ic{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Rm(this.userKey,s.apiKey,i),this.fullPersistenceKey=Rm("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?yi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ic(_i(_P),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||_i(_P);const o=Rm(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const f=yi._fromJSON(e,d);c!==i&&(a=f),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Ic(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Ic(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(EL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TL(e))return"Blackberry";if(IL(e))return"Webos";if(xL(e))return"Safari";if((e.includes("chrome/")||SL(e))&&!e.includes("edge/"))return"Chrome";if(CL(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function wL(t=Vn()){return/firefox\//i.test(t)}function xL(t=Vn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function SL(t=Vn()){return/crios\//i.test(t)}function EL(t=Vn()){return/iemobile/i.test(t)}function CL(t=Vn()){return/android/i.test(t)}function TL(t=Vn()){return/blackberry/i.test(t)}function IL(t=Vn()){return/webos/i.test(t)}function V1(t=Vn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Roe(t=Vn()){var e;return V1(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function joe(){return Ute()&&document.documentMode===10}function kL(t=Vn()){return V1(t)||CL(t)||IL(t)||TL(t)||/windows phone/i.test(t)||EL(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(t,e=[]){let n;switch(t){case"Browser":n=bP(Vn());break;case"Worker":n=`${bP(Vn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${du}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Doe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Noe(t,e={}){return qi(t,"GET","/v2/passwordPolicy",Hi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ooe=6;class Moe{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Ooe,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Loe{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wP(this),this.idTokenSubscription=new wP(this),this.beforeStateQueue=new Doe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hL,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_i(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Ic.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await yL(this,{idToken:e}),r=await yi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Vs(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ug(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=goe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vs(this.app))return Promise.reject(Ti(this));const n=e?pt(e):null;return n&&Pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vs(this.app)?Promise.reject(Ti(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vs(this.app)?Promise.reject(Ti(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_i(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Noe(this),n=new Moe(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ul("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Aoe(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_i(e)||this._popupRedirectResolver;Pe(n,this,"argument-error"),this.redirectPersistenceManager=await Ic.create(this,[_i(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=PL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&poe(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function pl(t){return pt(t)}class wP{constructor(e){this.auth=e,this.observer=null,this.addObserver=Yte(n=>this.observer=n)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Voe(t){vy=t}function AL(t){return vy.loadJS(t)}function Foe(){return vy.recaptchaEnterpriseScript}function $oe(){return vy.gapiScript}function zoe(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Boe="recaptcha-enterprise",Uoe="NO_RECAPTCHA";class Woe{constructor(e){this.type=Boe,this.auth=pl(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{xoe(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new woe(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;gP(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(Uoe)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&gP(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Foe();l.length!==0&&(l+=a),AL(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function xP(t,e,n,r=!1){const s=new Woe(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function xw(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await xP(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await xP(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hoe(t,e){const n=dl(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Ih(i,e??{}))return s;vs(s,"already-initialized")}return n.initialize({options:e})}function qoe(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(_i);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Goe(t,e,n){const r=pl(t);Pe(r._canInitEmulator,r,"emulator-config-failed"),Pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=RL(e),{host:o,port:a}=Koe(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||Qoe()}function RL(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Koe(t){const e=RL(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:SP(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:SP(o)}}}function SP(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Qoe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vi("not implemented")}_getIdTokenResponse(e){return vi("not implemented")}_linkToIdToken(e,n){return vi("not implemented")}_getReauthenticationResolver(e){return vi("not implemented")}}async function Yoe(t,e){return qi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xoe(t,e){return Sf(t,"POST","/v1/accounts:signInWithPassword",Hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Joe(t,e){return Sf(t,"POST","/v1/accounts:signInWithEmailLink",Hi(t,e))}async function Zoe(t,e){return Sf(t,"POST","/v1/accounts:signInWithEmailLink",Hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh extends F1{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Vh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Vh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xw(e,n,"signInWithPassword",Xoe);case"emailLink":return Joe(e,{email:this._email,oobCode:this._password});default:vs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xw(e,r,"signUpPassword",Yoe);case"emailLink":return Zoe(e,{idToken:n,email:this._email,oobCode:this._password});default:vs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kc(t,e){return Sf(t,"POST","/v1/accounts:signInWithIdp",Hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eae="http://localhost";class el extends F1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new el(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):vs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=nf(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new el(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return kc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,kc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,kc(e,n)}buildRequest(){const e={requestUri:eae,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=uf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tae(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function nae(t){const e=dd(hd(t)).link,n=e?dd(hd(e)).deep_link_id:null,r=dd(hd(t)).deep_link_id;return(r?dd(hd(r)).link:null)||r||n||e||t}class $1{constructor(e){var n,r,s,i,o,a;const l=dd(hd(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,f=tae((s=l.mode)!==null&&s!==void 0?s:null);Pe(c&&d&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=d,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=nae(e);try{return new $1(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(){this.providerId=_u.PROVIDER_ID}static credential(e,n){return Vh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=$1.parseLink(n);return Pe(r,"argument-error"),Vh._fromEmailAndCode(e,r.code,r.tenantId)}}_u.PROVIDER_ID="password";_u.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_u.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef extends jL{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go extends Ef{constructor(){super("facebook.com")}static credential(e){return el._fromParams({providerId:go.PROVIDER_ID,signInMethod:go.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return go.credentialFromTaggedObject(e)}static credentialFromError(e){return go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return go.credential(e.oauthAccessToken)}catch{return null}}}go.FACEBOOK_SIGN_IN_METHOD="facebook.com";go.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo extends Ef{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return el._fromParams({providerId:vo.PROVIDER_ID,signInMethod:vo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return vo.credentialFromTaggedObject(e)}static credentialFromError(e){return vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return vo.credential(n,r)}catch{return null}}}vo.GOOGLE_SIGN_IN_METHOD="google.com";vo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo extends Ef{constructor(){super("github.com")}static credential(e){return el._fromParams({providerId:yo.PROVIDER_ID,signInMethod:yo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yo.credentialFromTaggedObject(e)}static credentialFromError(e){return yo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yo.credential(e.oauthAccessToken)}catch{return null}}}yo.GITHUB_SIGN_IN_METHOD="github.com";yo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o extends Ef{constructor(){super("twitter.com")}static credential(e,n){return el._fromParams({providerId:_o.PROVIDER_ID,signInMethod:_o.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return _o.credentialFromTaggedObject(e)}static credentialFromError(e){return _o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return _o.credential(n,r)}catch{return null}}}_o.TWITTER_SIGN_IN_METHOD="twitter.com";_o.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rae(t,e){return Sf(t,"POST","/v1/accounts:signUp",Hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await yi._fromIdTokenResponse(e,r,s),o=EP(r);return new tl({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=EP(r);return new tl({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function EP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg extends bs{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Wg.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Wg(e,n,r,s)}}function DL(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Wg._fromErrorAndOperation(t,i,e,r):i})}async function sae(t,e,n=!1){const r=await Lh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return tl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iae(t,e,n=!1){const{auth:r}=t;if(Vs(r.app))return Promise.reject(Ti(r));const s="reauthenticate";try{const i=await Lh(t,DL(r,s,e,t),n);Pe(i.idToken,r,"internal-error");const o=L1(i.idToken);Pe(o,r,"internal-error");const{sub:a}=o;return Pe(t.uid===a,r,"user-mismatch"),tl._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&vs(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NL(t,e,n=!1){if(Vs(t.app))return Promise.reject(Ti(t));const r="signIn",s=await DL(t,r,e),i=await tl._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function oae(t,e){return NL(pl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OL(t){const e=pl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Fh(t,e,n){if(Vs(t.app))return Promise.reject(Ti(t));const r=pl(t),o=await xw(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",rae).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&OL(t),l}),a=await tl._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function aae(t,e,n){return Vs(t.app)?Promise.reject(Ti(t)):oae(pt(t),_u.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&OL(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lae(t,e){return qi(t,"POST","/v1/accounts:createAuthUri",Hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cae(t,e){const n=pL()?Bg():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:s}=await lae(pt(t),r);return s||[]}function uae(t,e,n,r){return pt(t).onIdTokenChanged(e,n,r)}function dae(t,e,n){return pt(t).beforeAuthStateChanged(e,n)}function ML(t,e,n,r){return pt(t).onAuthStateChanged(e,n,r)}function hae(t){return pt(t).signOut()}const Hg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hg,"1"),this.storage.removeItem(Hg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fae=1e3,pae=10;class VL extends LL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kL(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);joe()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,pae):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},fae)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}VL.type="LOCAL";const mae=VL;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL extends LL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}FL.type="SESSION";const $L=FL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gae(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new yy(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await gae(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yy.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vae{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=z1("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ks(){return window}function yae(t){Ks().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zL(){return typeof Ks().WorkerGlobalScope<"u"&&typeof Ks().importScripts=="function"}async function _ae(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bae(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function wae(){return zL()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL="firebaseLocalStorageDb",xae=1,qg="firebaseLocalStorage",UL="fbase_key";class Cf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function _y(t,e){return t.transaction([qg],e?"readwrite":"readonly").objectStore(qg)}function Sae(){const t=indexedDB.deleteDatabase(BL);return new Cf(t).toPromise()}function Sw(){const t=indexedDB.open(BL,xae);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(qg,{keyPath:UL})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(qg)?e(r):(r.close(),await Sae(),e(await Sw()))})})}async function CP(t,e,n){const r=_y(t,!0).put({[UL]:e,value:n});return new Cf(r).toPromise()}async function Eae(t,e){const n=_y(t,!1).get(e),r=await new Cf(n).toPromise();return r===void 0?null:r.value}function TP(t,e){const n=_y(t,!0).delete(e);return new Cf(n).toPromise()}const Cae=800,Tae=3;class WL{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Tae)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zL()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yy._getInstance(wae()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await _ae(),!this.activeServiceWorker)return;this.sender=new vae(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bae()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sw();return await CP(e,Hg,"1"),await TP(e,Hg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>CP(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Eae(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>TP(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=_y(s,!1).getAll();return new Cf(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Cae)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}WL.type="LOCAL";const Iae=WL;new xf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kae(t,e){return e?_i(e):(Pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1 extends F1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return kc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return kc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return kc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Pae(t){return NL(t.auth,new B1(t),t.bypassAuthState)}function Aae(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),iae(n,new B1(t),t.bypassAuthState)}async function Rae(t){const{auth:e,user:n}=t;return Pe(n,e,"internal-error"),sae(n,new B1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Pae;case"linkViaPopup":case"linkViaRedirect":return Rae;case"reauthViaPopup":case"reauthViaRedirect":return Aae;default:vs(this.auth,"internal-error")}}resolve(e){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jae=new xf(2e3,1e4);class dc extends HL{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,dc.currentPopupAction&&dc.currentPopupAction.cancel(),dc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){zi(this.filter.length===1,"Popup operations only handle one event");const e=z1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Gs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Gs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,dc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jae.get())};e()}}dc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dae="pendingRedirect",jm=new Map;class Nae extends HL{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=jm.get(this.auth._key());if(!e){try{const r=await Oae(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}jm.set(this.auth._key(),e)}return this.bypassAuthState||jm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Oae(t,e){const n=Vae(e),r=Lae(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function Mae(t,e){jm.set(t._key(),e)}function Lae(t){return _i(t._redirectPersistence)}function Vae(t){return Rm(Dae,t.config.apiKey,t.name)}async function Fae(t,e,n=!1){if(Vs(t.app))return Promise.reject(Ti(t));const r=pl(t),s=kae(r,e),o=await new Nae(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ae=10*60*1e3;class zae{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Bae(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!qL(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Gs(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$ae&&this.cachedEventUids.clear(),this.cachedEventUids.has(IP(e))}saveEventToCache(e){this.cachedEventUids.add(IP(e)),this.lastProcessedEventTime=Date.now()}}function IP(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function qL({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Bae(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qL(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uae(t,e={}){return qi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wae=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hae=/^https?/;async function qae(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Uae(t);for(const n of e)try{if(Gae(n))return}catch{}vs(t,"unauthorized-domain")}function Gae(t){const e=Bg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Hae.test(n))return!1;if(Wae.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kae=new xf(3e4,6e4);function kP(){const t=Ks().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Qae(t){return new Promise((e,n)=>{var r,s,i;function o(){kP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kP(),n(Gs(t,"network-request-failed"))},timeout:Kae.get()})}if(!((s=(r=Ks().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Ks().gapi)===null||i===void 0)&&i.load)o();else{const a=zoe("iframefcb");return Ks()[a]=()=>{gapi.load?o():n(Gs(t,"network-request-failed"))},AL(`${$oe()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Dm=null,e})}let Dm=null;function Yae(t){return Dm=Dm||Qae(t),Dm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xae=new xf(5e3,15e3),Jae="__/auth/iframe",Zae="emulator/auth/iframe",ele={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tle=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nle(t){const e=t.config;Pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?M1(e,Zae):`https://${t.config.authDomain}/${Jae}`,r={apiKey:e.apiKey,appName:t.name,v:du},s=tle.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${uf(r).slice(1)}`}async function rle(t){const e=await Yae(t),n=Ks().gapi;return Pe(n,t,"internal-error"),e.open({where:document.body,url:nle(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ele,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Gs(t,"network-request-failed"),a=Ks().setTimeout(()=>{i(o)},Xae.get());function l(){Ks().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sle={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ile=500,ole=600,ale="_blank",lle="http://localhost";class PP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cle(t,e,n,r=ile,s=ole){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},sle),{width:r.toString(),height:s.toString(),top:i,left:o}),c=Vn().toLowerCase();n&&(a=SL(c)?ale:n),wL(c)&&(e=e||lle,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[m,_])=>`${p}${m}=${_},`,"");if(Roe(c)&&a!=="_self")return ule(e||"",a),new PP(null);const f=window.open(e||"",a,d);Pe(f,t,"popup-blocked");try{f.focus()}catch{}return new PP(f)}function ule(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dle="__/auth/handler",hle="emulator/auth/handler",fle=encodeURIComponent("fac");async function AP(t,e,n,r,s,i){Pe(t.config.authDomain,t,"auth-domain-config-required"),Pe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:du,eventId:s};if(e instanceof jL){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Qte(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries(i||{}))o[d]=f}if(e instanceof Ef){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${fle}=${encodeURIComponent(l)}`:"";return`${ple(t)}?${uf(a).slice(1)}${c}`}function ple({config:t}){return t.emulator?M1(t,hle):`https://${t.authDomain}/${dle}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_="webStorageSupport";class mle{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$L,this._completeRedirectFn=Fae,this._overrideRedirectResult=Mae}async _openPopup(e,n,r,s){var i;zi((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await AP(e,n,r,Bg(),s);return cle(e,o,z1())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await AP(e,n,r,Bg(),s);return yae(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(zi(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await rle(e),r=new zae(e);return n.register("authEvent",s=>(Pe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(d_,{type:d_},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[d_];o!==void 0&&n(!!o),vs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qae(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return kL()||xL()||V1()}}const gle=mle;var RP="@firebase/auth",jP="1.7.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vle{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yle(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _le(t){Ys(new ps("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Pe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:PL(t)},c=new Loe(r,s,i,l);return qoe(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ys(new ps("auth-internal",e=>{const n=pl(e.getProvider("auth").getImmediate());return(r=>new vle(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wr(RP,jP,yle(t)),Wr(RP,jP,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ble=5*60,wle=jO("authIdTokenMaxAge")||ble;let DP=null;const xle=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>wle)return;const s=n==null?void 0:n.token;DP!==s&&(DP=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function bu(t=WS()){const e=dl(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Hoe(t,{popupRedirectResolver:gle,persistence:[Iae,mae,$L]}),r=jO("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=xle(i.toString());dae(n,o,()=>o(n.currentUser)),uae(n,a=>o(a))}}const s=AO("auth");return s&&Goe(n,`http://${s}`),n}function Sle(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Voe({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Gs("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",Sle().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_le("Browser");var Ele="firebase",Cle="10.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wr(Ele,Cle,"app");const GL="@firebase/installations",U1="0.6.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL=1e4,QL=`w:${U1}`,YL="FIS_v2",Tle="https://firebaseinstallations.googleapis.com/v1",Ile=60*60*1e3,kle="installations",Ple="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ale={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},nl=new ul(kle,Ple,Ale);function XL(t){return t instanceof bs&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JL({projectId:t}){return`${Tle}/projects/${t}/installations`}function ZL(t){return{token:t.token,requestStatus:2,expiresIn:jle(t.expiresIn),creationTime:Date.now()}}async function eV(t,e){const r=(await e.json()).error;return nl.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function tV({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Rle(t,{refreshToken:e}){const n=tV(t);return n.append("Authorization",Dle(e)),n}async function nV(t){const e=await t();return e.status>=500&&e.status<600?t():e}function jle(t){return Number(t.replace("s","000"))}function Dle(t){return`${YL} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nle({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=JL(t),s=tV(t),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={fid:n,authVersion:YL,appId:t.appId,sdkVersion:QL},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await nV(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:ZL(c.authToken)}}else throw await eV("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rV(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ole(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mle=/^[cdef][\w-]{21}$/,Ew="";function Lle(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=Vle(t);return Mle.test(n)?n:Ew}catch{return Ew}}function Vle(t){return Ole(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function by(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV=new Map;function iV(t,e){const n=by(t);oV(n,e),Fle(n,e)}function oV(t,e){const n=sV.get(t);if(n)for(const r of n)r(e)}function Fle(t,e){const n=$le();n&&n.postMessage({key:t,fid:e}),zle()}let Ia=null;function $le(){return!Ia&&"BroadcastChannel"in self&&(Ia=new BroadcastChannel("[Firebase] FID Change"),Ia.onmessage=t=>{oV(t.data.key,t.data.fid)}),Ia}function zle(){sV.size===0&&Ia&&(Ia.close(),Ia=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ble="firebase-installations-database",Ule=1,rl="firebase-installations-store";let h_=null;function W1(){return h_||(h_=VO(Ble,Ule,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(rl)}}})),h_}async function Gg(t,e){const n=by(t),s=(await W1()).transaction(rl,"readwrite"),i=s.objectStore(rl),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&iV(t,e.fid),e}async function aV(t){const e=by(t),r=(await W1()).transaction(rl,"readwrite");await r.objectStore(rl).delete(e),await r.done}async function wy(t,e){const n=by(t),s=(await W1()).transaction(rl,"readwrite"),i=s.objectStore(rl),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&iV(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H1(t){let e;const n=await wy(t.appConfig,r=>{const s=Wle(r),i=Hle(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===Ew?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Wle(t){const e=t||{fid:Lle(),registrationStatus:0};return lV(e)}function Hle(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(nl.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=qle(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Gle(t)}:{installationEntry:e}}async function qle(t,e){try{const n=await Nle(t,e);return Gg(t.appConfig,n)}catch(n){throw XL(n)&&n.customData.serverCode===409?await aV(t.appConfig):await Gg(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Gle(t){let e=await NP(t.appConfig);for(;e.registrationStatus===1;)await rV(100),e=await NP(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await H1(t);return r||n}return e}function NP(t){return wy(t,e=>{if(!e)throw nl.create("installation-not-found");return lV(e)})}function lV(t){return Kle(t)?{fid:t.fid,registrationStatus:0}:t}function Kle(t){return t.registrationStatus===1&&t.registrationTime+KL<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qle({appConfig:t,heartbeatServiceProvider:e},n){const r=Yle(t,n),s=Rle(t,n),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={installation:{sdkVersion:QL,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await nV(()=>fetch(r,a));if(l.ok){const c=await l.json();return ZL(c)}else throw await eV("Generate Auth Token",l)}function Yle(t,{fid:e}){return`${JL(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q1(t,e=!1){let n;const r=await wy(t.appConfig,i=>{if(!cV(i))throw nl.create("not-registered");const o=i.authToken;if(!e&&Zle(o))return i;if(o.requestStatus===1)return n=Xle(t,e),i;{if(!navigator.onLine)throw nl.create("app-offline");const a=tce(i);return n=Jle(t,a),a}});return n?await n:r.authToken}async function Xle(t,e){let n=await OP(t.appConfig);for(;n.authToken.requestStatus===1;)await rV(100),n=await OP(t.appConfig);const r=n.authToken;return r.requestStatus===0?q1(t,e):r}function OP(t){return wy(t,e=>{if(!cV(e))throw nl.create("not-registered");const n=e.authToken;return nce(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Jle(t,e){try{const n=await Qle(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Gg(t.appConfig,r),n}catch(n){if(XL(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await aV(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Gg(t.appConfig,r)}throw n}}function cV(t){return t!==void 0&&t.registrationStatus===2}function Zle(t){return t.requestStatus===2&&!ece(t)}function ece(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Ile}function tce(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function nce(t){return t.requestStatus===1&&t.requestTime+KL<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rce(t){const e=t,{installationEntry:n,registrationPromise:r}=await H1(e);return r?r.catch(console.error):q1(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sce(t,e=!1){const n=t;return await ice(n),(await q1(n,e)).token}async function ice(t){const{registrationPromise:e}=await H1(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oce(t){if(!t||!t.options)throw f_("App Configuration");if(!t.name)throw f_("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw f_(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function f_(t){return nl.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV="installations",ace="installations-internal",lce=t=>{const e=t.getProvider("app").getImmediate(),n=oce(e),r=dl(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},cce=t=>{const e=t.getProvider("app").getImmediate(),n=dl(e,uV).getImmediate();return{getId:()=>rce(n),getToken:s=>sce(n,s)}};function uce(){Ys(new ps(uV,lce,"PUBLIC")),Ys(new ps(ace,cce,"PRIVATE"))}uce();Wr(GL,U1);Wr(GL,U1,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kg="analytics",dce="firebase_id",hce="origin",fce=60*1e3,pce="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",G1="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr=new Yv("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mce={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},wr=new ul("analytics","Analytics",mce);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gce(t){if(!t.startsWith(G1)){const e=wr.create("invalid-gtag-resource",{gtagURL:t});return lr.warn(e.message),""}return t}function dV(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function vce(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function yce(t,e){const n=vce("firebase-js-sdk-policy",{createScriptURL:gce}),r=document.createElement("script"),s=`${G1}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function _ce(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function bce(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const l=(await dV(n)).find(c=>c.measurementId===s);l&&await e[l.appId]}}catch(a){lr.error(a)}t("config",s,i)}async function wce(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await dV(n);for(const l of o){const c=a.find(f=>f.measurementId===l),d=c&&e[c.appId];if(d)i.push(d);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){lr.error(i)}}function xce(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await wce(t,e,n,a,l)}else if(i==="config"){const[a,l]=o;await bce(t,e,n,r,a,l)}else if(i==="consent"){const[a,l]=o;t("consent",a,l)}else if(i==="get"){const[a,l,c]=o;t("get",a,l,c)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){lr.error(a)}}return s}function Sce(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=xce(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function Ece(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(G1)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cce=30,Tce=1e3;class Ice{constructor(e={},n=Tce){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const hV=new Ice;function kce(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Pce(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:kce(r)},i=pce.replace("{app-id}",n),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw wr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function Ace(t,e=hV,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw wr.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw wr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Dce;return setTimeout(async()=>{a.abort()},n!==void 0?n:fce),fV({appId:r,apiKey:s,measurementId:i},o,a,e)}async function fV(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=hV){var i;const{appId:o,measurementId:a}=t;try{await Rce(r,e)}catch(l){if(a)return lr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await Pce(t);return s.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!jce(c)){if(s.deleteThrottleMetadata(o),a)return lr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw l}const d=Number((i=c==null?void 0:c.customData)===null||i===void 0?void 0:i.httpStatus)===503?yk(n,s.intervalMillis,Cce):yk(n,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return s.setThrottleMetadata(o,f),lr.debug(`Calling attemptFetch again in ${d} millis`),fV(t,f,r,s)}}function Rce(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(wr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function jce(t){if(!(t instanceof bs)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Dce{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Nce(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o=Object.assign(Object.assign({},r),{send_to:i});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oce(){if(NO())try{await OO()}catch(t){return lr.warn(wr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return lr.warn(wr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Mce(t,e,n,r,s,i,o){var a;const l=Ace(t);l.then(m=>{n[m.measurementId]=m.appId,t.options.measurementId&&m.measurementId!==t.options.measurementId&&lr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>lr.error(m)),e.push(l);const c=Oce().then(m=>{if(m)return r.getId()}),[d,f]=await Promise.all([l,c]);Ece(i)||yce(i,d.measurementId),s("js",new Date);const p=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return p[hce]="firebase",p.update=!0,f!=null&&(p[dce]=f),s("config",d.measurementId,p),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lce{constructor(e){this.app=e}_delete(){return delete Ud[this.app.options.appId],Promise.resolve()}}let Ud={},MP=[];const LP={};let p_="dataLayer",Vce="gtag",VP,pV,FP=!1;function Fce(){const t=[];if(DO()&&t.push("This is a browser extension environment."),Hte()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=wr.create("invalid-analytics-context",{errorInfo:e});lr.warn(n.message)}}function $ce(t,e,n){Fce();const r=t.options.appId;if(!r)throw wr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)lr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw wr.create("no-api-key");if(Ud[r]!=null)throw wr.create("already-exists",{id:r});if(!FP){_ce(p_);const{wrappedGtag:i,gtagCore:o}=Sce(Ud,MP,LP,p_,Vce);pV=i,VP=o,FP=!0}return Ud[r]=Mce(t,MP,LP,e,VP,p_,n),new Lce(t)}function zce(t=WS()){t=pt(t);const e=dl(t,Kg);return e.isInitialized()?e.getImmediate():Bce(t)}function Bce(t,e={}){const n=dl(t,Kg);if(n.isInitialized()){const s=n.getImmediate();if(Ih(e,n.getOptions()))return s;throw wr.create("already-initialized")}return n.initialize({options:e})}function Uce(t,e,n,r){t=pt(t),Nce(pV,Ud[t.app.options.appId],e,n,r).catch(s=>lr.error(s))}const $P="@firebase/analytics",zP="0.10.7";function Wce(){Ys(new ps(Kg,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return $ce(r,s,n)},"PUBLIC")),Ys(new ps("analytics-internal",t,"PRIVATE")),Wr($P,zP),Wr($P,zP,"esm2017");function t(e){try{const n=e.getProvider(Kg).getImmediate();return{logEvent:(r,s,i)=>Uce(n,r,s,i)}}catch(n){throw wr.create("interop-component-reg-failed",{reason:n})}}}Wce();var Hce={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const qce={apiKey:Hce.VITE_FIREBASE_API_KEY,authDomain:"student-incentive-demo.firebaseapp.com",projectId:"student-incentive-demo",storageBucket:"student-incentive-demo.appspot.com",messagingSenderId:"635037364757",appId:"1:635037364757:web:45e3dedeb2c459799f541c",measurementId:"G-Y9LB8JZH58"},mV=FO(qce),K=Xie(mV),Pc=bu();zce(mV);class ys{constructor(e=null,n=null,r=null,s=null,i=null,o=null,a=null){this.uid=null,this.id=e,this.first_name=n,this.last_name=r,this.email=s,this.desc=i,this.img_url=o,this.role=a}async email_available(){try{return(await cae(Pc,this.email)).length===0}catch(e){return console.error("error checking email availability: ",e),!1}}async id_available(){try{return await ys.get_by_id(this.id)===null}catch(e){return console.error("error checking if id available: ",e),!1}}async create(){try{const e=le(K,"users");return batch.set(e,{...this}),!0}catch{return!1}}async create_signin(e){try{const n=await Fh(Pc,this.email,e);this.uid=n.user.uid}catch(n){console.error("error creating signin: ",n)}}static async GET_user_role(e){try{const n=J(K,"users",e);return(await nt(n)).data().role}catch{return null}}static async get_by_uid(e){try{const n=le(K,"users"),r=On(n,Hr("uid","==",e),ioe(1)),s=await qt(r);return s.empty?(console.log("No user found with the specified UID."),null):s.docs[0].data()}catch(n){return console.error("error searching for user by uid: ",n),null}}static async get_by_id(e){try{const n=J(K,"users",e),r=await nt(n);return r.exists()&&!r.empty?r.data():null}catch(n){return console.error(" error retrieving user by id: ",n),null}}static async UPDATE_user(e,n){if(!e)return console.error("User ID not provided"),{status:400,body:"User ID is required."};const r=J(K,"users",e);try{return await Mn(K,async s=>{if(!(await s.get(r)).exists())throw new Error(`User with ID ${e} not found.`);s.update(r,n)}),{status:200,body:`User with ID ${e} successfully updated.`}}catch(s){return console.error("Error updating user:",s),{status:500,body:`Failed to update user: ${s.message}`}}}static async DELETE_user(e){try{const n=J(K,"users",e);return(await nt(n)).exists()?(await py(n),{status:200,body:`User with ID ${e} successfully updated.`}):(console.error("user doc does not exist",error),{status:404,body:`User with ID ${e} not found.`})}catch(n){return console.error("error deleting student doc",n),{status:200,body:`Server error deleting user with ID ${e}.`}}}static async GET_user_courses(e){try{let n={status:200,body:[]};const r=J(K,"users",e),s=le(r,"courses");let i=[];const o=await qt(s);for(const a of o.docs)if(a.exists&&!a.empty){const l=a.data();l&&l.course_id!==void 0&&i.push(l.course_id)}for(const a of i){const l=J(K,"courses",a),c=await nt(l);if(c.exists()&&!c.empty){let d=c.data();d&&d!==void 0&&n.body.push(d)}}return n}catch(n){return console.error("error retrieving user courses: ",n),{status:500,body:"Server unable to retrieve user courses"}}}static async GET_user_notifications(e){try{const n=le(K,"users",e,"notifications"),r=await qt(n);let s=[];return r.forEach(i=>{const o=i.data();s.push(o)}),s}catch(n){return console.error("Error retrieving user notifications:",n),null}}static async GET_user_allotlogs(e){try{let n={status:200,body:[]};const r=le(K,"allotpointlogs");let s=null;const i=await ys.GET_user_role(e);i==="staff"&&(s=On(r,Hr("staff_id","==",e))),i==="admin"&&(s=On(r,Hr("admin_id","==",e)));const o=await qt(s);for(const a of o.docs)a.exists&&!a.empty&&n.body.push(a.data());return n}catch(n){return console.error("Error retrieving pointlogs:",n),{status:500,body:"Server unable to retrieve pointlogs"}}}static async signup_new_user(e,n,r){try{const s=J(K,"users",r),i=await nt(s);if(!i.exists())return!1;const o=i.data();if(e!==o.email||r!==o.id)return!1;const l=(await Fh(Pc,e,n)).user.uid;return l?(await bf(s,{uid:l}),!0):(console.error("Server unable to authenticate UID to user"),!1)}catch(s){return console.error(s),!1}}}const Gce=async(t,e)=>{if(!t)return console.error("User ID not provided"),{status:400,body:"User ID is required."};const n=J(K,"users",t);try{return await bf(n,e),{status:200,body:`User with ID ${t} successfully updated.`}}catch(r){return console.error("Error updating user:",r),{status:500,body:`Failed to update user: ${r.message}`}}},Kce=async(t,e)=>{try{const s=await(await aae(Pc,t,e)).user.getIdToken();return localStorage.setItem("authToken",s),!0}catch(n){throw console.error("Error logging in:",n),n}},Qce=async()=>{try{await hae(Pc),localStorage.removeItem("authToken")}catch(t){console.error("logout failed",t)}},gV=async t=>{try{return await ys.get_by_uid(t)}catch(e){throw console.error("Error getting user by UID in controller:",e),e}},Cw=async t=>{try{return await ys.get_by_id(t)}catch(e){throw console.error("Error getting user by UID in controller:",e),e}},Yr=async()=>{const t=bu();return new Promise((e,n)=>{const r=ML(t,async s=>{if(s)try{const i=await gV(s.uid);e(i)}catch(i){console.error("Error fetching user:",i),n(i)}else e(null);r()})})};class xy{constructor(e=null,n=null,r=null,s=null,i=null,o=xt.now(),a=!1){this.uid=null,this.initiatorID=n,this.recipientID=r,this.notifTitle=s,this.notifDesc=i,this.notifTimestamp=xt.now(),this.notifReadStatus=!1}async create(){try{const e=le(K,"users",this.userID,"notifications"),n=J(e);return await Mn(K,async s=>(s.set(n,{...this,uid:n.id}),!0))}catch(e){return console.error("error creating notification: ",e),!1}}async read(e,n){try{const r=le(K,"users",e,"notifications"),s=J(r,n);return console.log(s),await Mn(K,async o=>(o.update(s,{notifReadStatus:!0}),!0))}catch(r){return console.error("error creating notification: ",r),!1}}static async GET_notification_by_id(e,n){try{const r=J(K,"users",e,"notifications",n),s=await getDoc(r);return s.exists()?s.data():(console.error("Notification document does not exist"),null)}catch(r){return console.error("Error retrieving notification:",r),null}}}const vV=async(t,e)=>{try{const n=le(K,"users",t,"notifications");return(await qt(n)).empty?(e(null),null):N1(n,i=>{let o=[];i.forEach(a=>{const l=a.data();o.push(l)}),e(o)})}catch(n){return console.error("Error retrieving user notifications:",n),null}},Yce=async(t,e)=>await new xy(e).read(t,e),Xce=async()=>{try{const t=await Yr();let e=[];return await new Promise((n,r)=>{vV(t.id,s=>{e=s.filter(o=>o.notifTitle),n()})}),e.length>0?e.some(r=>!r.notifReadStatus):!1}catch(t){return console.error("Error checking for unread notifications:",t),!1}},Jce=(t,e)=>{const n=le(K,"users",t,"notifications");return N1(n,r=>{let s=!1;r.empty?e(!1):(r.docs.forEach(i=>{i.data().notifReadStatus||(s=!0)}),e(s))},r=>{console.error("Error listening for notifications:",r),e(!1)})},yV=g.createContext(),_V=()=>g.useContext(yV),Zce=({children:t})=>{const[e,n]=g.useState(!1);return u.jsx(yV.Provider,{value:{hasUnreadNotifications:e,setHasUnreadNotifications:n},children:t})},eue=({userType:t})=>{const[e,n]=g.useState(""),[r,s]=g.useState([]),[i,o]=g.useState(!1),[a,l]=g.useState(null),[c,d]=g.useState(null),{setHasUnreadNotifications:f}=_V(),[p,m]=g.useState(0),_=async()=>{try{const w=await Yr();n(w)}catch(w){console.error("Error fetching current user:",w)}},y=async()=>{try{if(e&&e.id){const w=vV(e.id,k=>{const O=k.filter(C=>C.notifTitle).sort((C,T)=>T.notifTimestamp-C.notifTimestamp);s(O.map(C=>({...C,read:C.notifReadStatus})))});return()=>{w()}}}catch(w){console.error("Error fetching notifications:",w)}};g.useEffect(()=>{_()},[]),g.useEffect(()=>{y()},[e]);const S=async w=>{m(w),l(r[w]);const k=await Cw(r[w].initiatorID);k?(d(k),o(!0)):console.error("Failed to fetch sender information")},x=()=>{o(!1),l(null),d(null)},b=async w=>{try{if(await Yce(e.id,r[w].uid)===!0){const j=await Cw(r[w].initiatorID);j?(d(j),l(r[w]),S(w)):console.error("Failed to fetch sender information"),r.filter((C,T)=>!C.read&&T!==w).length===0&&f(!1)}else console.error("Failed to mark notification as read")}catch(k){console.error("Error marking notification as read:",k)}};return u.jsxs(W,{p:5,px:"5%",minHeight:{base:"calc(100vh - 136px)",md:"calc(100vh - 166px)"},width:{base:"100%",md:"90%"},marginX:"auto",background:"white",children:[u.jsx("div",{className:"page-title",style:{marginBottom:"16px",fontWeight:"bold",textAlign:"center",color:"#319795"},children:"My Notifications"}),u.jsxs(jS,{spacing:4,mt:5,children:[r.filter(w=>!w.read).length>0&&u.jsxs(u.Fragment,{children:[u.jsxs(H,{fontWeight:"bold",color:"red",textAlign:"right",children:["New Notifications (",r.filter(w=>!w.read).length,")"]}),u.jsx(Xt,{borderColor:"red"}),r.map((w,k)=>{if(!w.read)return u.jsx(pP,{data:{...w,index:k},onOpenReadModal:()=>b(k)},k)})]}),r.filter(w=>w.read).length>0&&u.jsxs(u.Fragment,{children:[u.jsx(Xt,{borderColor:"teal"}),r.filter(w=>w.read).map((w,k)=>u.jsx(pP,{data:{...w,index:k},onOpenReadModal:()=>S(k)},k))]}),r.length===0&&u.jsx(H,{mt:4,children:"No notifications yet."})]}),u.jsxs(mt,{size:"lg",isOpen:i,onClose:x,children:[u.jsx(yt,{}),a&&c&&u.jsxs(gt,{align:"center",children:[u.jsx(vt,{backgroundColor:"#4FD1C5",color:"white",children:a.notifTitle}),u.jsx(St,{}),u.jsxs(_t,{align:"left",children:[u.jsx(H,{w:"100%",fontSize:"lg",mb:4,whiteSpace:"pre-wrap",children:a.notifDesc}),t!=="admin"||t==="adminDemo"&&u.jsxs(H,{children:["Current Points: ",e.current_pts]}),u.jsx(Xt,{}),u.jsxs(H,{mt:1,textAlign:"right",fontWeight:"bold",children:["Sender: ",c.first_name," ",c.last_name]})]}),u.jsx(Ft,{py:0,backgroundColor:"#4FD1C5",children:u.jsx(se,{size:"md",colorScheme:"teal",onClick:x,children:"Close"})})]})]})]})};var tue=cl({d:"M23.384,21.619,16.855,15.09a9.284,9.284,0,1,0-1.768,1.768l6.529,6.529a1.266,1.266,0,0,0,1.768,0A1.251,1.251,0,0,0,23.384,21.619ZM2.75,9.5a6.75,6.75,0,1,1,6.75,6.75A6.758,6.758,0,0,1,2.75,9.5Z",displayName:"SearchIcon"}),bV=cl({displayName:"MinusIcon",path:u.jsx("g",{fill:"currentColor",children:u.jsx("rect",{height:"4",width:"20",x:"2",y:"10"})})}),m_=cl({displayName:"EditIcon",path:u.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2",children:[u.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),u.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),g_=cl({displayName:"DeleteIcon",path:u.jsx("g",{fill:"currentColor",children:u.jsx("path",{d:"M19.452 7.5H4.547a.5.5 0 00-.5.545l1.287 14.136A2 2 0 007.326 24h9.347a2 2 0 001.992-1.819L19.95 8.045a.5.5 0 00-.129-.382.5.5 0 00-.369-.163zm-9.2 13a.75.75 0 01-1.5 0v-9a.75.75 0 011.5 0zm5 0a.75.75 0 01-1.5 0v-9a.75.75 0 011.5 0zM22 4h-4.75a.25.25 0 01-.25-.25V2.5A2.5 2.5 0 0014.5 0h-5A2.5 2.5 0 007 2.5v1.25a.25.25 0 01-.25.25H2a1 1 0 000 2h20a1 1 0 000-2zM9 3.75V2.5a.5.5 0 01.5-.5h5a.5.5 0 01.5.5v1.25a.25.25 0 01-.25.25h-5.5A.25.25 0 019 3.75z"})})}),nue=cl({displayName:"BellIcon",d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"}),wV=cl({displayName:"ChevronDownIcon",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}),xV=cl({d:"M0,12a1.5,1.5,0,0,0,1.5,1.5h8.75a.25.25,0,0,1,.25.25V22.5a1.5,1.5,0,0,0,3,0V13.75a.25.25,0,0,1,.25-.25H22.5a1.5,1.5,0,0,0,0-3H13.75a.25.25,0,0,1-.25-.25V1.5a1.5,1.5,0,0,0-3,0v8.75a.25.25,0,0,1-.25.25H1.5A1.5,1.5,0,0,0,0,12Z",displayName:"AddIcon"});const SV=({url:t,title:e,text:n,avatar:r})=>{const s={boxRadius:Za,backgroundColor:lL,padding:Lt,w:"100%",transition:"transform 0.3s",_hover:{backgroundColor:cL,"& .actionicon":{color:Ze},"& .title":{color:Ze}}},i={width:Mh,borderRadius:Lt,marginRight:Lt},o={flex:1,textAlign:"left"},a={color:Ci,fontWeight:"bold"},l={color:Ze};return u.jsxs(ye,{sx:s,align:"center",children:[u.jsx(W,{children:r||u.jsx(Vv,{sx:i,src:imageUrl,alt:"placeholder"})}),u.jsxs(W,{sx:o,children:[u.jsx(H,{className:"title",sx:a,children:e}),u.jsx(H,{className:"text",sx:l,children:n})]})]})};SV.propTypes={avatar:Np.element,url:Np.string.isRequired,title:Np.string.isRequired,text:Np.string.isRequired};class wu{constructor(e){this.id=e,this.rank=Number.MAX_SAFE_INTEGER}async create(){try{const e=J(K,"leaderboard",this.id);return await bw(e,{...this}),!0}catch(e){return console.error("error creating leaderboard entry:",e),!1}}static async POST_leaderboard(e){try{return await new wu(e).create()?!0:(console.error("error creating leaderboard entry"),!1)}catch(n){return console.error("error creating leaderboard entry",n),!1}}static async UPDATE_leaderboard(){try{const e=le(K,"users"),n=On(e,soe("accumulated_pts","desc")),r=await qt(n);if(r.empty)return console.error("error updating leaderboard"),!1;let s=1;const i=[];for(const o of r.docs){const a=o.id;i.push(this.UPDATE_rank(a,s)),s++}return await Promise.all(i),!0}catch(e){return console.error("error updating leaderboard",e),!1}}static async GET_rank(e){try{const n=J(K,"leaderboard",e),r=await nt(n);return!r.exists()||r.empty?null:r.data().rank}catch(n){return console.error("error retrieving user doc:",n),null}}static async UPDATE_rank(e,n){try{const r=J(le(K,"leaderboard"),e);return(await nt(r)).exists()?(await bf(r,{rank:n}),!0):(console.error("doc does not exist"),!1)}catch(r){return console.error("Error updating ranks:",r),!1}}static async GET_leaderboard(){}}class Js{constructor(e=null,n=null,r=null,s=null,i=null,o=null,a=null){this.id=`${e}-${n}`,this.period=`${i}-${o}`,this.code=e,this.name=r,this.desc=s,this.year=i,this.semester=o,this.img_url=a}static async POST_course(e,n,r,s,i,o,a){try{const l=new Js(e,n,r,s,i,o,a),c=gi(K),d=J(K,"courses",l.id);c.set(d,{...l});const f=le(d,"students"),p=J(f);c.set(p,{});const m=le(d,"staff"),_=J(m);return c.set(_,{}),await c.commit(),{status:200,body:"Course successfully created"}}catch{return{status:500,body:"Server unable to create course"}}}static async GET_course(e){try{let n={status:200,body:null};const r=J(K,"courses",e),s=await nt(r);if(s.exists())n.body=s.data();else return console.error("course doc does not exist or is empty for course"),{status:404,body:"Course not found"};return n}catch(n){return console.log(n),{status:500,body:"Server unable to find course"}}}static async GET_courses(){try{const e=le(K,"courses"),n=On(e),r=await qt(n);let s={status:200,body:[]};return r.empty?(s.status=404,s.body="No courses found",s):(r.forEach(i=>{s.body.push({...i.data(),id:i.id})}),s)}catch(e){return console.error("Error retrieving all courses:",e),{status:500,body:"Server unable to retrieve courses"}}}static async UPDATE_course(e=null,n=null,r=null,s=null,i=null,o=null,a=null,l=null){try{if(!e)return console.error("course with id not found "),{status:404,body:`Course with ID ${e} not found.`};const c=J(K,"courses",e);return await Mn(K,async d=>{if((await d.get(c)).empty)return{status:404,body:`Course with ID ${e} not found.`};let p={};n&&(p.code=n),r&&(p.period=`${o}-${a}`),s&&(p.name=s),i&&(p.desc=i),o&&(p.year=o),a&&(p.semester=a),l&&(p.img_url=l),d.update(c,p)}),{status:200,body:`Course with ID ${e} successfully updated.`}}catch(c){return console.error("error updating course",c),{status:200,body:`Server error updating user with ID ${e}.`}}}static async DELETE_course(e){try{const n=J(K,"courses",e);return(await nt(n)).exists()?(await py(n),{status:200,body:`Course with ID ${e} successfully deleted.`}):(console.error("course doc does not exist"),{status:404,body:`Course with ID ${e} not found.`})}catch(n){return console.error("error deleting student doc",n),{status:200,body:`Server error deleting course with ID ${e}.`}}}static async POST_course_register(e,n){try{return{status:200,body:await Mn(K,async s=>{const i=J(K,"users",e),o=await s.get(i);if(!o.exists())throw new Error("User not found");const a=J(K,"courses",n);if(!(await s.get(a)).exists())throw new Error("Course not found");const c=o.data();if(c.role!=="student"&&c.role!=="staff")throw new Error("User not authorized");return s.set(J(le(i,"courses"),n),{course_id:n}),s.set(J(le(a,c.role+"s"),e),{user_id:e}),"Enrollment successful"})}}catch(r){return console.error("Error enrolling user:",r),{status:500,body:r.message}}}static async DELETE_course_deregister(e,n){try{return await Mn(K,async s=>{const i=J(K,"users",e),o=le(i,"courses"),a=J(o,n);if(!(await nt(a)).exists())return{status:404,body:"Course not found in student"};s.delete(a);const d=(await nt(i)).data(),f=J(K,"courses",n);if(d.role==="student"){const p=le(f,"students"),m=J(p,e);if(!(await nt(m)).exists())return{status:404,body:"Student not found in course"};s.delete(m)}if(d.role==="staff"){const p=le(f,"staff"),m=J(p,e);if(!(await nt(m)).exists())return{status:404,body:"Staff not found in course"};s.delete(m)}return{status:200,body:"Successfully deleted user"}})}catch(r){return console.error("error enrolling user: ",r),{status:500,body:"Server unable to deregister user"}}}static async GET_course_students(e){try{let n={status:200,body:[]};const r=J(K,"courses",e),s=le(r,"students");let i=[];const o=await qt(s);for(const a of o.docs)if(a&&a.exists&&!a.empty){let l=a.data();l&&l.id!==void 0&&i.push(l.id)}for(const a of i){const l=J(K,"users",a),c=await nt(l);if(c.exists()&&!c.empty){let d=c.data();d&&d!==void 0&&n.body.push(d)}}return n}catch(n){return console.error("error retrieving course students: ",n),{status:500,body:"Server unable to retrieve course students"}}}static async GET_course_staff(e){try{let n={status:200,body:[]};const r=J(K,"courses",e),s=le(r,"staff");let i=[];const o=await qt(s);for(const a of o.docs)if(a&&a.exists&&!a.empty){let l=a.data();l&&l.id!==void 0&&i.push(l.id)}for(const a of i){const l=J(K,"users",a),c=await nt(l);if(c.exists()&&!c.empty){let d=c.data();d&&d!==void 0&&n.body.push(d)}}return n}catch(n){return console.error("error retrieving course students: ",n),{status:500,body:"Server unable to retrieve course students"}}}static async GET_course_leaderboard(e){try{return{status:200,body:(await this.GET_course_students(e)).sort((s,i)=>i.accumulated_pts-s.accumulated_pts)}}catch(n){return console.error("error retrieving course leaderboard: ",n),{status:500,body:"Error retieving course leaderbaord"}}}}class Tf extends ys{constructor(e=null,n=null,r=null,s=null,i=null,o=null){super(e,n,r,s,i,o,"student"),this.current_pts=0,this.spent_pts=0,this.accumulated_pts=0}async create(){try{const e=gi(K),n=J(K,"users",this.id);e.set(n,{...this,current_pts:this.current_pts||0,spent_pts:this.spent_pts||0,accumulated_pts:this.accumulated_pts||0});const r=le(n,"notifications"),s=le(n,"pointlogs"),i=le(n,"redeemlogs"),o=le(n,"courses");return e.set(J(r),{}),e.set(J(s),{}),e.set(J(i),{}),e.set(J(o),{}),await e.commit(),!0}catch(e){return console.error("error adding student to users: ",e),!1}}static async is_student(e){try{const n=J(K,"users",e),r=await nt(n);return r.exists()?r.data().role==="student":(console.error(`user doc does not exist for student ID: ${e}`,error),!1)}catch(n){return console.error("error checking if user is a student: ",n),!1}}static async POST_student(e,n,r,s,i,o,a){try{return await Mn(K,async l=>{const c=new Tf(e,n,r,s,o,a),d=await c.email_available(),f=await c.id_available();if(!d||!f)return console.error("id or email unavailable"),{status:500,body:"ID or email unavailable"};if(await c.create_signin(i),c.uid===null)return console.error("server unable to auth uid to user"),{status:403,body:"Server unable to authenticate signin to a profile"};if(!await c.create())return console.error("error creating student entry in firebase"),{status:403,body:"Server unable to auth creation of user"};if(!await wu.POST_leaderboard(e))return console.error("error creatine leaderboard entry "),{status:403,body:"Server unable to auth creation of leaderboard entry"}}),{status:200,body:"Student successfully created"}}catch(l){return console.error("POST user error: ",l),{status:500,body:"Server unable to create student"}}}static async GET_student(e){try{let n={status:200,body:null};const r=J(K,"users",e),s=await nt(r);return!s.exists()||s.empty?(console.error("user doc does not exist or is empty for student"),{status:404,body:"Student not found"}):(n.body=s.data(),await this.is_student(n.body.id)?n:{status:404,body:"Student not found"})}catch{return{status:500,body:"Server unable to find student"}}}static async GET_students(){try{let e={status:200,body:[]};const n=le(K,"users"),r=On(n,Hr("role","==","student")),s=await qt(r);return s.empty?{status:404,body:"Students not found"}:(s.forEach(i=>{const o=i.data(),a=`${o.first_name} ${o.last_name} (${i.id})`;e.body.push({...o,name:a,id:i.id})}),e)}catch(e){return console.error("error retrieving all students:",e),{status:500,body:"Server unable to retrieve students"}}}static async GET_student_pointlogs(e){try{let n={status:200,body:[]};const r=le(K,"pointlogs"),s=On(r,Hr("student_id","==",e)),i=await qt(s);for(const o of i.docs)o.exists&&!o.empty&&n.body.push(o.data());return n}catch(n){return console.error("Error retrieving pointlogs:",n),{status:500,body:"Server unable to retrieve pointlogs"}}}}class Sy{constructor(e="",n=""){this.id="",this.user_id=e,this.prize_id=n,this.timestamp=xt.now()}async create(){try{const e=le(K,"redeemlog"),n=await D1(e,{...this}),r=n.id;return this.id=r,await bf(n,{id:r}),!0}catch(e){return console.error("error creating redeem log: ",e),!1}}static async POST_redeemlog(e,n){try{return await Mn(K,async r=>{if(!new Sy(e,n).create())return!1}),!0}catch(r){return console.error("error creating redeem log ",r),!0}}static async GET_redeemlog(e){try{let n=null;return await Mn(K,async r=>{const s=J(K,"redeemlog",e);n=(await nt(s)).data()}),n}catch(n){return console.error(" error retrieving redeemlog by id: ",n),null}}static async GET_redeemlog_ALL(){try{let e=[];return await Mn(K,async n=>{const r=le(K,"redeemlog"),s=On(r),i=qt(s);if(i.empty)return e;(await i).forEach(o=>{e.push(o.data())})}),e}catch(e){return console.error("error retrieving all prizes: ",e),null}}static async GET_student_redeemlogs(e){try{let n={status:200,body:[]};const r=le(K,"redeemlog"),s=On(r,Hr("user_id","==",e));return(await qt(s)).forEach(o=>{o.exists()?n.body.push(o.data()):console.log("No redeem log document found for ID:",e)}),n}catch(n){return console.error("Error retrieving redeemlogs:",n),{status:500,body:"Server unable to retrieve redeemlogs"}}}}const rue=async t=>{if(!t.email||!t.password||!t.id)throw new Error("Email, password, and student ID are required.");try{const e=await Fh(Pc,t.email,t.password);t.uid=e.user.uid,t.role="student";const n=gi(K),r=J(K,"users",t.id);n.set(r,{...t,accumulated_pts:0,current_pts:0});const s=J(K,"leaderboard",t.id);return n.set(s,{studentId:t.id,rank:null}),n.set(J(le(r,"notifications"),"initial"),{}),n.set(J(le(r,"pointlogs"),"initial"),{}),n.set(J(le(r,"redeemlogs"),"initial"),{}),n.set(J(le(r,"courses"),"initial"),{}),await n.commit(),console.log("Student added successfully with UID:",t.uid),!0}catch(e){throw console.error("Error in student registration:",e),new Error("Failed to register student: "+e.message)}},xu=async t=>{try{const e=await Tf.GET_student(t);return e?e.body:(console.log("No matching document found."),null)}catch(e){throw console.error("Error getting documents:",e),e}},sue=async t=>await xu(t)!==null,K1=async()=>{try{return await Tf.GET_students()}catch(t){throw console.error("Error in getting students :",t),t}},EV=async t=>{try{return await wu.GET_rank(t)}catch(e){throw console.error("Error in getting student rank :",e),e}},CV=async t=>{try{return await Tf.GET_student_pointlogs(t)}catch(e){throw console.error("Error in getting student logs :",e),e}},iue=async t=>{try{return await Sy.GET_student_redeemlogs(t)}catch(e){throw console.error("Error in getting student redeem logs :",e),e}},oue=async t=>{try{const e=await CV(t);if(e.status===200){const n=e.body;if(n&&Array.isArray(n)&&n.length>0){let r={goodConduct:0,courseParticipation:0,volunteering:0,extracurricular:0};return n.forEach(s=>{s.reason==="good conduct"?r.goodConduct+=s.points:s.reason==="course participation"?r.courseParticipation+=s.points:s.reason==="volunteering"?r.volunteering+=s.points:s.reason==="extracurricular"&&(r.extracurricular+=s.points)}),r}}else console.log("No Logs found.")}catch(e){console.error("Error fetching awarded points breakdown:",e)}},aue=async(t,e)=>{const r={goodConduct:"good conduct",courseParticipation:"course participation",volunteering:"volunteering",extracurricular:"extracurricular"}[e];try{const s=await CV(t);if(s.status===200){const i=s.body;if(i&&Array.isArray(i)&&i.length>0)return i.filter(a=>a.reason===r)}else return console.log("No Logs found."),[]}catch(s){console.error("Error fetching lecturer point logs:",s)}};class lue{constructor(e=null,n=null,r=null,s=null,i=null){this.id=null,this.points=r,this.reason=s,this.comments=i,this.staff_id=e,this.student_id=n,this.timestamp=xt.now()}}function cue(t){const e=new Set(t.map(n=>JSON.stringify(n)));return Array.from(e).map(n=>JSON.parse(n))}const uue=async t=>{try{const{code:e,name:n,desc:r,year:s,semester:i,img_url:o}=t;if(!e||!n||!r||!s||!i)throw new Error("Missing required course fields");const a=`${s}-${i}`,l=await Js.POST_course(e,a,n,r,s,i,o);if(l.status!==200)throw new Error(l.body);return console.log(l.body),l}catch(e){throw console.error("Error creating course:",e.message),e}},due=async t=>Js.GET_course(t),TV=async()=>{try{return await Js.GET_courses()}catch(t){throw console.error("Error fetching courses:",t),t}},hue=async t=>(await TV()).body.filter(s=>s.id.toLowerCase().startsWith(t.toLowerCase())||s.name.toLowerCase().startsWith(t.toLowerCase())),IV=async(t,e)=>{const n=J(K,"users",t),r=J(K,"courses",e);try{const[s,i]=await Promise.all([nt(n),nt(r)]);if(!s.exists())throw new Error("User not found");if(!i.exists())throw new Error("Course not found");const o=s.data();if(!o.role||o.role!=="student"&&o.role!=="staff")throw new Error("User is not a student or staff");const a=le(n,"courses");if((await nt(J(a,e))).exists())throw new Error("User already enrolled in this course");await bw(J(a,e),{course_id:e});const c=o.role==="student"?"students":"staff";return await bw(J(le(r,c),t),{id:t}),console.log(`${o.role} enrolled successfully in course ${e}`),{success:!0,message:`${o.role} enrolled successfully in course ${e}`}}catch(s){throw console.error("Error enrolling:",s),new Error(s.message)}},Ey=async t=>{try{return await Js.GET_course_students(t)}catch(e){throw console.error("Error fetching user courses:",e),e}},fue=async t=>{try{const e=await Ey(t);return e.body.sort((n,r)=>{const s=parseFloat(n.accumulatedPts);return parseFloat(r.accumulatedPts)-s}),e.body[0]}catch(e){return console.error("Error fetching top earner:",e),null}},$h=async t=>{try{return await ys.GET_user_courses(t)}catch(e){throw console.error("Error fetching user courses:",e),e}},Q1=async t=>{try{const e=await Js.GET_course_staff(t);if(e)return e}catch(e){throw console.error("Error fetching user courses:",e),e}},pue=async(t,e)=>{try{const{code:n,name:r,desc:s,year:i,semester:o,img_url:a}=e,l=`${i}-${o}`,c=await Js.UPDATE_course(t,n,l,r,s,i,o,a);if(c.status!==200)throw new Error(c.body);return console.log(c.body),c}catch(n){throw console.error("Error updating course:",n.message),n}},mue=async t=>{const e=J(K,"courses",t);try{return await py(e),console.log("Course deleted successfully."),!0}catch(n){throw console.error("Error deleting course:",n),n}},gue=async t=>{try{for(const e of t){console.log("user id ",e.user_id),console.log("course id ",e.course_id);let n=await IV(e.user_id,e.course_id)}return!0}catch{throw new Error("Error creating courses via csv")}};class Zo extends ys{constructor(e,n,r,s,i,o){super(e,n,r,s,i,o,"staff"),this.id=e,this.first_name=n,this.last_name=r,this.email=s,this.desc=i,this.img_url=o,this.role="staff"}async create(){try{const e=gi(K),n=J(K,"users",this.id);return e.set(n,{...this,current_pts:300}),e.set(J(le(n,"notifications"),"initial"),{}),e.set(J(le(n,"pointlogs"),"initial"),{}),e.set(J(le(n,"allotpointlogs"),"initial"),{}),e.set(J(le(n,"courses"),"initial"),{}),await e.commit(),!0}catch(e){return console.error("Error adding staff to users:",e),!1}}static async is_staff(e){try{const n=J(K,"users",e),r=await nt(n);return r.exists()?r.data().role==="staff":(console.error(`user doc does not exist for staff ID: ${e}`,error),!1)}catch(n){return console.error("error checking if user is a staff: ",n),!1}}static async POST_staff({id:e,first_name:n,last_name:r,email:s,password:i,desc:o,img_url:a}){const l=bu();try{const d=(await Fh(l,s,i)).user.uid,f=new Zo(e,n,r,s,o,a),p=gi(K),m=J(K,"users",e);return p.set(m,{...f,current_pts:300,uid:d}),p.set(J(le(m,"notifications"),"initial"),{}),p.set(J(le(m,"pointlogs"),"initial"),{}),p.set(J(le(m,"allotpointlogs"),"initial"),{}),p.set(J(le(m,"courses"),"initial"),{}),await p.commit(),{success:!0,message:"Staff successfully created",id:e}}catch(c){return console.error("Error in creating staff:",c),{success:!1,message:c.message}}}static async GET_staff(e){try{const n=J(K,"users",e),r=await nt(n);if(!r.exists())return console.error("User document does not exist for ID:",e),{status:404,body:"Staff not found"};const s=r.data();return s.role!=="staff"?{status:401,body:"Unauthorized access: User is not staff"}:{status:200,body:s}}catch(n){return console.error("Error retrieving staff:",n),{status:500,body:"Server unable to find staff"}}}static async GET_staff_ALL(){try{const e=le(K,"users"),n=On(e,Hr("role","==","staff")),r=await qt(n);if(r.empty)return{status:404,body:"No staff found"};let s=[];return r.forEach(i=>{const o=i.data(),a=`${o.first_name} ${o.last_name} (${i.id})`;s.push({...o,name:a,id:i.id})}),{status:200,body:s}}catch(e){return console.error("Error retrieving all staff:",e),{status:500,body:"Server unable to retrieve staff"}}}static async GET_staff_top_earners(e){try{let n={status:200,body:[]};const r=J(K,"users",e),s=le(r,"courses");let i=[],o=[];const a=await qt(s);for(const l of a.docs)if(l&&l.exists&&!l.empty){let c=l.data();c&&c.course_id!==void 0&&i.push(c.course_id)}for(const l of i)try{let c=await due(l),d=await fue(l),f=await EV(d.id);d.course_code=c.body.code,d.course_name=c.body.name,d.course_id=l,d.rank=f,o.push(d)}catch(c){console.error(`Error fetching top earner for course ${l} :`,c)}return n.body=cue(o),n}catch(n){return console.error("error retrieving all top earners: ",n),{status:500,body:"Server unable to retrieve top earners"}}}static async POST_staff_award_points(e,n,r,s,i){try{return await Mn(K,async a=>{const l=J(K,"users",e),c=await a.get(l);if(!c.exists()||c.empty)return{status:400,body:"Staff not found"};const d=c.data();if(Number(d.current_pts)<Number(r)||d.role!=="staff")return{status:400,body:"Not Enough Points to Award"};const f=J(K,"users",n),p=await a.get(f);if(!p.exists()||p.empty)return{status:400,body:"Student not found"};const m=p.data(),_=le(K,"pointlogs"),y=J(_),S=new lue(e,n,r,s,i);let x=`You have been awarded ${r} points for ${s}.`;i&&(x+=`
Comments: ${i}`);const b=le(K,"users",n,"notifications"),w=J(b),k=new xy(null,e,n,"Points Awarded",x);return a.set(y,{...S}),a.set(w,{...k,uid:w.id}),a.update(l,{current_pts:Number(d.current_pts)-Number(r)}),a.update(f,{current_pts:Number(m.current_pts||0)+Number(r),accumulated_pts:Number(m.accumulated_pts||0)+Number(r)}),{status:200,body:"Points awarded successfully"}})}catch(o){return console.error("Error awarding points:",o),{status:500,body:"Server unable to award points"}}}static async GET_staff_pointlogs(e){try{let n={status:200,body:[]};const r=le(K,"pointlogs"),s=On(r,Hr("staff_id","==",e)),i=await qt(s);for(const o of i.docs)o.exists&&!o.empty&&n.body.push(o.data());return n}catch(n){return console.error("Error retrieving pointlogs:",n),{status:500,body:"Server unable to retrieve pointlogs"}}}}const vue=async t=>{try{const e=await Zo.POST_staff(t);if(!e.success)throw new Error(e.message);return e}catch(e){return console.error("Failed to create staff:",e),{success:!1,message:e.message}}},Y1=async t=>{try{return Zo.GET_staff(t)}catch(e){throw console.error("Error getting documents:",e),e}},yue=async t=>(await Y1(t)).status===200,X1=async()=>{try{return await Zo.GET_staff_ALL()}catch(t){throw console.error("Error in getting staff :",t),t}},_ue=async(t,e,n,r,s)=>{try{const i=await Zo.POST_staff_award_points(t,e,n,r,s);if(i.status===200){const o=await wu.UPDATE_leaderboard();console.log(o)}return i}catch(i){return console.error("Error awarding points to student:",i),{status:500,body:"Server unable to award points"}}},J1=async t=>{try{return await Zo.GET_staff_pointlogs(t)}catch(e){throw console.error("Error in getting staff logs:",e),e}},kV=async t=>{try{const e=await J1(t);if(e.status===200){const n=e.body;if(n&&Array.isArray(n)&&n.length>0){let r={goodConduct:0,courseParticipation:0,volunteering:0,extracurricular:0};return n.forEach(s=>{s.reason==="good conduct"?r.goodConduct+=s.points:s.reason==="course participation"?r.courseParticipation+=s.points:s.reason==="volunteering"?r.volunteering+=s.points:s.reason==="extracurricular"&&(r.extracurricular+=s.points)}),r}}else console.log("No Logs found.")}catch(e){console.error("Error fetching lecturer point logs:",e)}},bue=async(t,e)=>{const r={goodConduct:"good conduct",courseParticipation:"course participation",volunteering:"volunteering",extracurricular:"extracurricular"}[e];try{const s=await J1(t);if(s.status===200){const i=s.body;if(i&&Array.isArray(i)&&i.length>0)return i.filter(a=>a.reason===r)}else return console.log("No Logs found."),[]}catch(s){console.error("Error fetching lecturer point logs:",s)}},wue=async t=>{try{return await Zo.GET_staff_top_earners(t)}catch{console.log("Error fetching top earners")}};class ea{constructor(e="",n=0,r="",s="",i="",o=""){this.id="",this.name=e,this.cost=n,this.type=r,this.desc=s,this.img_url=i,this.demo=o,this.timestamp=xt.now(),this.available=!0}async create(e,n,r,s,i,o){try{const a=le(K,"prizes"),l=await D1(a,{...this}),c=l.id;return this.id=c,await bf(l,{id:c}),!0}catch(a){return console.error("error creating prize: ",a),!1}}static async is_available(e){try{const n=await this.GET_prize(e);return n!==null&&n.available===!0}catch(n){return console.error("error checking if prize is available: ",n),!1}}static async can_be_redeemed(e,n){}static async POST_prize(e,n,r,s,i,o){try{return await Mn(K,async a=>{if(!await new ea(e,n,r,s,i,o).create())return console.error("error creating prize entry"),!1}),!0}catch(a){return console.error("error positng prize",a),!1}}static async UPDATE_prize(e=null,n=null,r=null,s=null,i=null,o=null,a=null){try{return await Mn(K,async l=>{const c=J(K,"prizes",e),d=await nt(c);if(!e)return console.log("id not provided"),!1;if(!d.exists()||d.empty)return console.log("document does not exist"),!1;let f={};n&&(f.name=n),r&&(f.cost=r),s&&(f.type=s),i&&(f.desc=i),o&&(f.img_url=o),a&&(f.demo=a),l.update(c,f)}),!0}catch(l){return console.error("error positng prize",l),!1}}static async DELETE_prize(e){try{const n=J(K,"prizes",e);return(await nt(n)).exists()?(await py(n),!0):(console.error("prize doc does not exist",error),!1)}catch(n){return console.error("error deleting student doc",n),!0}}static async GET_prize(e){try{let n=[];const r=J(K,"prizes",e),s=await nt(r);return s.exists()||console.error("prize doc does not exist"),n=s.data(),n}catch(n){return console.error("error positng prize",n),data}}static async GET_prizes(){try{let e=[];const n=le(K,"prizes"),r=On(n),s=qt(r);return s.empty?null:((await s).forEach(i=>{e.push(i.data())}),e)}catch(e){return console.error("error retrieving all prizes: ",e),null}}static async GET_prizes_available(){try{const e=[],n=le(K,"prizes"),r=On(n,Hr("available","==",!0)),s=await qt(r);return s.empty||s.forEach(i=>{e.push({id:i.id,...i.data()})}),e}catch(e){return console.error("Error fetching available prizes:",e),[]}}static async POST_prize_redeeem(e,n){try{return await Mn(K,async s=>{const i=J(K,"prizes",n),o=await s.get(i);if(!o.exists()||o.empty)return console.error("Prize document does not exist"),!1;const a=o.data();if(!a.available)return console.error("Prize document is not available for redemption"),!1;const l=J(K,"users",e),c=await s.get(l);if(!c.exists()||c.empty)return console.error("User document does not exist"),!1;const d=c.data();if(Number(d.current_pts)<Number(a.cost))return console.error("User cannot afford"),!1;const f=new Sy(e,n),p=le(K,"redeemlog"),m=J(p);s.set(m,{...f},{merge:!0});let _=`Student ${d.first_name} ${d.last_name} (Student ID: ${d.id}) redeemed ${a.name} for ${a.cost} points.`;return(await qt(On(le(K,"users"),Hr("role","==","admin")))).forEach(S=>{const x=S.id,b=le(K,"users",x,"notifications"),w=J(b),k=new xy(null,e,x,"Prize Redeemed",_);s.set(w,{...k,uid:w.id},{merge:!0})}),s.update(l,{current_pts:Number(d.current_pts)-Number(a.cost),spent_pts:Number(d.spent_pts)+Number(a.cost)}),s.update(i,{available:!1}),!0})}catch(r){return console.error("Error redeeming prize:",r),!1}}}const BP=async(t,e,n,r,s,i)=>{try{return await ea.POST_prize(t,e,n,r,s,i)}catch(o){throw console.error("Error creating prize:",o),o}},PV=async t=>{try{return await ea.GET_prize(t)}catch(e){throw console.error("Error retrieving prize by ID:",e),e}},xue=async()=>{try{return await ea.GET_prizes()}catch(t){throw console.error("Error retrieving all prizes:",t),t}},AV=async()=>(await xue()).filter(n=>n.available===!0),Sue=async(t,e,n,r,s,i,o)=>{try{return await ea.UPDATE_prize(t,e,n,r,s,i,o)}catch(a){throw console.error("Error retrieving all prizes:",a),a}},Eue=async t=>{try{return await ea.DELETE_prize(t)}catch(e){throw console.error("Error deleting",e),e}},Cue=async(t,e)=>{try{const n=await PV(e);if(!n)throw new Error("Prize not found");const r=await xu(t);if(!r)throw new Error("User not found");return!!(n.cost<=r.current_pts&&n.available)}catch(n){throw console.error("Error:",n),new Error("Error checking if student can redeem")}},Tue=async(t,e)=>{try{const n=await Cue(t,e);if(console.log(n),n){const r=await ea.POST_prize_redeeem(t,e);if(r)return r;console.log("error")}else return!1}catch{}},Wo=({searchType:t,onSelectItem:e,onSearch:n,courseID:r,userID:s,userType:i})=>{const[o,a]=g.useState(""),[l,c]=g.useState([]),d=Ir(),[f,p]=g.useState([]),[m,_]=g.useState([]),[y,S]=g.useState([]),[x,b]=g.useState([]),[w,k]=g.useState(!1),j=g.useRef(null);g.useEffect(()=>(document.addEventListener("click",O),()=>{document.removeEventListener("click",O)}),[]);const O=$=>{j.current&&!j.current.contains($.target)&&k(!1)},C=async()=>{try{let $;r?$=await Ey(r):$=await K1(),$?p($.body):console.error("Error:",$.body)}catch($){console.error("Error fetching students:",$)}},T=async()=>{try{const $=await X1();if($)_($.body);else return console.error("Error:",$.body),[]}catch($){return console.error("Error fetching staff:",$),[]}},I=async $=>{try{let Q;if(s&&i!=="admin"&&i!=="adminDemo")if(Q=await $h(s),Q.status===200)S(Q.body);else return console.error("Error:",Q),[];else if(Q=await hue($),Q)S(Q);else return console.error("Error:",Q),[]}catch(Q){return console.error("Error fetching courses:",Q),[]}},P=async()=>{try{const $=await AV();if($)b($);else return console.error("Error:",$.body),[]}catch($){return console.error("Error fetching courses:",$),[]}},N=async $=>{const Q=$.target.value;a(Q),k(Q.trim()!=="");let ne=[];if(t==="student")try{await C(),ne=f.filter(B=>`${B.first_name} ${B.last_name}`.toLowerCase().includes(Q.toLowerCase())||B.id.toLowerCase().startsWith(Q.toLowerCase())),c(ne)}catch(B){console.log(B)}else if(t==="course")s&&i!=="admin"&&i!=="adminDemo"?(await I(Q),ne=y.filter(B=>B.name.toLowerCase().includes(Q.toLowerCase())||B.code.toLowerCase().startsWith(Q.toLowerCase())),c(ne)):(await I(Q),ne=y,c(ne));else if(t==="staff")try{await T(),ne=m.filter(B=>`${B.first_name} ${B.last_name}`.toLowerCase().includes(Q.toLowerCase())||B.id.toLowerCase().startsWith(Q.toLowerCase())),c(ne)}catch(B){console.log(B)}else if(t==="prize")try{await P();const B=x.filter(q=>q.name.toLowerCase().includes(Q.toLowerCase()));c(B)}catch(B){console.log(B)}},M=$=>{$.key==="Enter"&&(n(o),c([]))},R=$=>{k(!1),t==="student"&&location.pathname==="/assign-points"?e($):t==="course"&&$?d(`/course-students/${$.id}`,{state:{data:$}}):t==="student"&&location.pathname.startsWith("/course-students")||$?e($):n(),c([])};return u.jsxs(W,{style:{margin:"auto",marginTop:"10px"},position:"relative",ref:j,children:[u.jsxs(zv,{children:[u.jsx(RS,{pointerEvents:"none",children:u.jsx(tue,{color:"teal.200"})}),u.jsx(Oe,{backgroundColor:"white",type:"text",placeholder:"Search...",value:o,onChange:N,onKeyDown:M,onClick:()=>k(o.trim()!=="")})]}),w&&l.length>0&&u.jsx(W,{position:"absolute",width:"calc(100% - 2px)",bg:"white",borderRadius:"md",boxShadow:"md",mt:"0",left:"0",zIndex:"2",children:u.jsx(Uv,{border:"1px solid #A0AEC0",children:l.map(($,Q)=>u.jsx(UN,{bg:"white",border:"1px solid #A0AEC0",cursor:"pointer",_hover:{bg:"teal.50"},onClick:()=>R($),textAlign:"left",display:"flex",children:u.jsx(SV,{url:$.img_url,title:t==="student"||t==="staff"?`${$.first_name} ${$.last_name}`:$.name,text:`${t==="student"?`Student ID: ${$.id}`:t==="course"?`Course Code: ${$.code}`:t==="staff"?`Staff ID: ${$.id}`:`Prize Cost: ${$.cost} MP`}`,avatar:u.jsx(Pr,{src:$.img_url,name:t==="student"||t==="staff"?`${$.first_name} ${$.last_name}`:$.name,size:"sm",mr:"10px"})})},Q))})})]})},Qg=({isOpen:t,onClose:e,name:n,mode:r})=>{const[s,i]=g.useState(""),[o,a]=g.useState("");return g.useEffect(()=>{r==="add-prize"&&(i("Prize Added Successfully"),a(`Successfully added Item ${n} to the Merit Shop.`)),r==="edit-prize"&&(i("Prize Edited Successfully"),a(`Successfully edited ${n} details.`)),r==="delete-prize"&&(i("Prize Deleted Successfully"),a(`Successfully removed Item ${n} from the Merit Shop.`)),r==="redeem-prize"&&(i("Prize Redeemed Successfully"),a(`Successfully redeemed ${n} from the Merit Shop.`))},[r,n]),u.jsxs(mt,{isOpen:t,onClose:e,children:[u.jsx(yt,{}),u.jsxs(gt,{align:"center",width:"xl",children:[u.jsx(vt,{backgroundColor:"#4FD1C5",color:"white",borderRadius:"md",children:s}),u.jsx(St,{}),u.jsx(_t,{align:"center",children:o}),u.jsx(Ft,{alignItems:"center",borderRadius:"md",children:u.jsx(se,{colorScheme:"teal",onClick:e,children:"Close"})})]})]})},Tw=({isOpen:t,onClose:e,prizeData:n,mode:r,onAddPrize:s,userType:i})=>{const[o,a]=g.useState("Add New Prize"),[l,c]=g.useState(""),[d,f]=g.useState(""),[p,m]=g.useState(null),[_,y]=g.useState(0),[S,x]=g.useState(!1),b=Di({base:"95%",md:"75%",lg:"75%"}),[w,k]=g.useState(!1);g.useEffect(()=>{n?(c(n.name||""),y(parseInt(n.cost)||0),f(n.desc||""),m(n.img_url||"./img.svg"),a("Edit Prize")):(c(l),m(p),f(d),y(_))},[t,n]);const j=async $=>{$.preventDefault();try{if(r==="edit-prize")P();else if(r==="add-prize"){let Q;i==="adminDemo"?Q=BP(l,_,"tangible",d,p,!0):Q=BP(l,_,"tangible",d,p,!1),Q?(console.log("Prize created successfully"),s(),e(),c(""),m(""),f(""),y(0),x(!0)):console.error("Error creating prize")}}catch(Q){console.error("Error occurred during form submission:",Q)}},O=$=>{const Q=$.target.files[0];if(Q){const ne=new FileReader;ne.onloadend=()=>{m(ne.result)},ne.readAsDataURL(Q)}},C=$=>{y(Q=>Q+$)},T=$=>{f($.target.value)},I=$=>{c($.target.value)},P=()=>{k(!0)},N=()=>{try{c(l),n.name=l,n.desc=d,n.imgUrl=p,n.point_cost=_,k(!0),Sue(n.id,l,_,"Tangible",d,p)?(console.log("Prize Edited successfully"),k(!1),x(!0)):console.error("Error editing prize"),e()}catch($){console.error("Error occurred during form submission:",$)}e()},M=()=>{k(!1)},R=()=>{y(0),m(null),c(""),f(""),x(!1)};return u.jsxs(u.Fragment,{children:[u.jsxs(mt,{isOpen:t,onClose:e,size:"xl",isCentered:!0,borderRadius:"md",scrollBehavior:"inside",children:[u.jsx(yt,{}),u.jsx(gt,{width:b,p:"0px",overflowY:"scroll",children:u.jsxs("form",{onSubmit:j,children:[u.jsx(vt,{borderRadius:"md",textAlign:"center",backgroundColor:"#4FD1C5",color:"white",children:o}),u.jsx(St,{}),u.jsxs(_t,{p:"1",children:[u.jsx(ye,{mb:"4",justifyContent:"center",children:u.jsxs(ZD,{w:"100%",m:"5px",p:"10px",textAlign:"center",border:"1px solid #CBD5E0",alignItems:"center",children:[p?u.jsx("div",{style:{transform:"translate(0, 0)"},children:u.jsx("img",{src:p,alt:"Preview",style:{maxHeight:"250px",objectFit:"contain"}})}):u.jsx("span",{children:"Upload Image to Preview"}),u.jsx("span",{style:{margin:"10px",textAlign:"center",fontSize:"0.8em"},children:u.jsx("input",{type:"file",accept:"image/*",onChange:O})})]})}),u.jsxs(W,{m:"5",children:[u.jsx(ye,{children:u.jsxs(xe,{isRequired:!0,mb:"4",display:"inline-flex",flexDirection:{base:"column",md:"row"},alignItems:"center",children:[u.jsx(Te,{align:"left",width:{base:"100%",md:"140px"},mr:2,mb:{base:"2",md:"2"},children:"Prize Name:"}),u.jsx(Oe,{type:"text",value:l,onChange:I})]})}),u.jsx(ye,{className:"points-input-field",align:"center",children:u.jsxs(xe,{isRequired:!0,display:"inline-flex",flexDirection:{base:"column",md:"row"},alignItems:"center",children:[u.jsx(Te,{align:"left",mr:2,mb:{base:2,md:0},width:{base:"100%",md:"140px"},children:"Points Cost:"}),u.jsxs("div",{style:{display:"inline-flex"},children:[u.jsx(wh,{"aria-label":"Decrease points",icon:u.jsx(bV,{}),onClick:()=>C(-1),size:"sm",mr:1,isDisabled:_===0}),u.jsx(zv,{size:"sm",w:"120px",children:u.jsx(Oe,{type:"number",value:_===0?"":_,placeholder:"0",onChange:$=>y(isNaN(parseInt($.target.value))?0:Math.max(parseInt($.target.value),0)),required:!0})}),u.jsx(wh,{"aria-label":"Increase points",icon:u.jsx(xV,{}),onClick:()=>C(1),size:"sm"})]})]})}),u.jsx(ye,{className:"comment-area",align:"center",mt:5,children:u.jsxs(xe,{isRequired:!0,display:"inline-flex",flexDirection:{base:"column",md:"row"},alignItems:"center",children:[u.jsxs(Te,{align:"left",width:{base:"100%",md:"160px"},mb:{base:2,md:2},mr:2,children:["Enter Prize Description ",u.jsx("span",{style:{color:"#999"}})," :"]}),u.jsx(Kv,{value:d,onChange:T,placeholder:"Enter description here...",size:"md",resize:"both",style:{width:"100%"}})]})})]})]}),u.jsxs(Ft,{backgroundColor:"#4FD1C5",borderRadius:"md",children:[u.jsx(se,{type:"submit",colorScheme:"teal",mr:3,children:"Save"}),u.jsx(se,{onClick:e,children:"Cancel"})]})]})})]}),u.jsx(Iue,{isOpen:w,onClose:M,onConfirm:N,prizeName:l,isSuccessModalOpen:S,handleCloseSuccessModal:R,mode:"edit-prize"}),r==="add-prize"&&u.jsx(Qg,{isOpen:S,onClose:R,name:l,mode:r})]})},Iue=({isOpen:t,onClose:e,prizeName:n,onConfirm:r,isSuccessModalOpen:s,handleCloseSuccessModal:i,mode:o})=>u.jsxs(u.Fragment,{children:[u.jsxs(mt,{isOpen:t,onClose:e,children:[u.jsx(yt,{}),u.jsxs(gt,{align:"center",width:"xl",children:[u.jsx(vt,{children:"Confirm Edit"}),u.jsx(St,{}),u.jsx(_t,{align:"center",children:"Are you sure you want to save changes?"}),u.jsxs(Ft,{alignItems:"center",children:[u.jsx(se,{colorScheme:"teal",onClick:r,children:"Confirm"}),u.jsx(se,{onClick:e,children:"Cancel"})]})]})]}),u.jsx(Qg,{isOpen:s,onClose:i,name:n,mode:o})]}),kue=t=>{const{img_url:e,name:n,desc:r,cost:s,type:i,demo:o,userType:a}=t.data,[l,c]=g.useState(0);g.useState(!1),Di({base:!1,md:!0,lg:!0});const d={boxRadius:Za,boxShadow:"0 2px 8px 2px #cfcfcf",padding:Lt,backgroundColor:"white",borderRadius:my,cursor:"pointer",width:"280px",height:"fit-content",transition:"transform 0.3s",_hover:{transform:"scale(1.05)",boxShadow:"0 0 4px 5px #f7d086","& .rank":{color:Ze},"& .title":{color:Ze},"& .count":{color:Ze},"& .actionicon":{color:Ze}}},f={color:"black",fontWeight:"bold"},p={fontWeight:"bold",color:"black",fontSize:"1.2em",pading:0,borderRadius:"10px",textAlign:"right"},m=()=>{t.handleOpenItemDetailModal(l)},_=x=>{x.stopPropagation(),t.handleEditPrizeClick(l)},y=x=>{x.stopPropagation(),t.handleDeletePrizeClick(l)},S=x=>{x.stopPropagation(),t.handleRedeemPrizeClick(l)};return u.jsx(W,{sx:d,onClick:m,mb:3,children:u.jsxs(ye,{align:"center",flexDirection:"column",width:"100%",height:"100%",children:[u.jsx(W,{className:"item-img",w:"100%",backgroundPosition:"center",backgroundSize:"cover",children:u.jsx(Vv,{w:"100%",h:"200px",src:e||"./img.svg",alt:"placeholder"})}),u.jsxs(W,{className:"item-desc",w:"100%",h:"30%",children:[u.jsx(H,{className:"title",sx:f,children:n}),u.jsxs(W,{justifyContent:"center",children:[" ",u.jsx(H,{w:"80%",isTruncated:!0,children:r})]})]}),u.jsx(W,{className:"item-points",w:"100%",pl:1,py:2,children:u.jsx(W,{align:"right",children:u.jsxs(H,{className:"count",bgColor:"teal.100",width:"fit-content",px:2,sx:p,children:[" Price: ",s," ",u.jsx("span",{children:"MP"})]})})}),u.jsxs(W,{w:"100%",textAlign:"center",height:"30%",bottom:"10px",children:[t.userType==="student"&&u.jsxs(u.Fragment,{children:[u.jsx(Xt,{borderColor:"teal.500",marginTop:"2px"}),u.jsx(W,{className:"actionicon",textAlign:"center",py:{base:0,md:1},children:u.jsxs(se,{colorScheme:"teal",onClick:S,children:["Redeem ",u.jsx(Kc,{})]})})]}),t.userType==="admin"&&u.jsxs(u.Fragment,{children:[u.jsx(Xt,{borderColor:"teal.500",marginTop:"10px"}),u.jsxs(W,{className:"actionicon",textAlign:"center",py:{base:0,md:1},children:[u.jsxs(se,{colorScheme:"teal",onClick:_,children:[u.jsx(m_,{marginRight:"5px"})," Edit "]}),u.jsxs(se,{colorScheme:"red",onClick:y,children:[u.jsx(g_,{marginRight:"5px"})," Delete "]})]})]}),t.userType==="adminDemo"&&o===!0&&u.jsxs(u.Fragment,{children:[u.jsx(Xt,{borderColor:"teal.500",marginTop:"10px"}),u.jsxs(W,{className:"actionicon",textAlign:"center",py:{base:0,md:1},children:[u.jsxs(se,{colorScheme:"teal",onClick:_,children:[u.jsx(m_,{marginRight:"5px"})," Edit "]}),u.jsxs(se,{colorScheme:"red",onClick:y,children:[u.jsx(g_,{marginRight:"5px"})," Delete "]})]})]}),t.userType==="adminDemo"&&o===!1&&u.jsxs(u.Fragment,{children:[u.jsx(Xt,{borderColor:"teal.500",marginTop:"10px"}),u.jsxs(W,{className:"actionicon",textAlign:"center",py:{base:0,md:1},children:[u.jsxs(se,{colorScheme:"teal",isDisabled:!0,children:[u.jsx(m_,{marginRight:"5px"})," Edit "]}),u.jsxs(se,{colorScheme:"red",isDisabled:!0,children:[u.jsx(g_,{marginRight:"5px"})," Delete "]})]})]})]})]})})};function Pue({userType:t}){Ui();const[e,n]=g.useState(0),[r,s]=g.useState([]),[i,o]=g.useState([]),[a,l]=g.useState([]),[c,d]=g.useState(""),f=Gn(),p={flex:1};g.useEffect(()=>{m()},[]);const m=async()=>{try{const X=await AV();X?(s(X),l(X)):console.log("No prizes found.")}catch(X){console.error("Error fetching prizes:",X)}},[_,y]=g.useState(Array(r.length).fill(!1)),[S,x]=g.useState(Array(r.length).fill(!1)),[b,w]=g.useState(!1),[k,j]=g.useState(Array(r.length).fill(!1)),[O,C]=g.useState(Array(r.length).fill(!1)),[T,I]=g.useState(Array(r.length).fill(!1)),[P,N]=g.useState(Array(r.length).fill(!1)),M=X=>{X.preventDefault()},R=()=>{w(!0)},$=X=>{n(X),y(re=>{const De=[...re];return De[X]=!0,De})},Q=X=>{n(X),x(re=>{const De=[...re];return De[X]=!0,De})},ne=X=>{n(X),N(re=>{const De=[...re];return De[X]=!0,De})},B=X=>{const re=[..._];re[X]=!1,y(re)},q=X=>{const re=[...k];re[X]=!1,x(re)},ee=X=>{const re=[...P];re[X]=!1,N(re)},he=X=>{const re=[...k];re[X]=!1,j(re)},ue=X=>{const re=[...O];re[X]=!1,C(re),m()},ve=async X=>{try{n(X),await Eue(r[X].id)?(console.log("Prize Deleted successfully"),j(De=>{const Ne=[...De];return Ne[X]=!0,Ne}),x(De=>{const Ne=[...De];return Ne[X]=!1,Ne}),await m()):console.error("Error deleting prize")}catch(re){console.error("Error occurred during form submission:",re)}},ie=async X=>{try{n(X);const re=await Yr(),De=await Tue(re.id,r[X].id);De&&(console.log("Prize Redeemed successfully"),C(Ne=>{const ut=[...Ne];return ut[X]=!0,ut})),N(Ne=>{const ut=[...Ne];return ut[X]=!1,ut}),De||f({title:"Redemption Error",description:"Not enough points",status:"error",duration:3e3,position:"top-right",isClosable:!0})}catch(re){console.error("Error occurred during form submission:",re)}},Ee=X=>{n(X),I(re=>{const De=[...re];return De[X]=!0,De})},Ie=X=>{const re=[...T];re[X]=!1,I(re)},je=X=>{d(X.toLowerCase());const re=r.filter(De=>De.name.toLowerCase().startsWith(X.trim().toLowerCase()));l(re)},pe=X=>{o(X),l([X])},Y=u.jsx(u.Fragment,{children:u.jsx(W,{margin:"auto",w:"90%",h:"fit-content",backgroundColor:"white",align:"center",minHeight:{base:"calc(100vh - 136px)",md:"calc(100vh - 166px)"},children:u.jsxs(W,{align:"center",children:[u.jsx("div",{className:"page-title",children:"Available Prizes"}),u.jsx("div",{style:{marginBottom:"10px",width:"80%",mx:"auto"},children:u.jsx(Wo,{searchType:"prize",onSelectItem:pe,onSearch:je})}),t==="admin"||t==="adminDemo"&&u.jsx("div",{style:{textAlign:"right",marginBottom:"10px",marginRight:"20px"},children:u.jsx(se,{colorScheme:"teal",onClick:R,padding:"7px",pt:"0px",pb:"0px",children:"Add Item"})}),u.jsx(ye,{flexDirection:"row",justifyContent:"space-around",flexWrap:"wrap",w:"100%",px:5,children:a.map((X,re)=>u.jsxs(W,{mx:2,children:[u.jsx(kue,{data:X,userType:t,handleOpenItemDetailModal:()=>Ee(re),handleEditPrizeClick:()=>$(re),handleDeletePrizeClick:()=>Q(re),handleRedeemPrizeClick:()=>ne(re)}),u.jsx(Os,{height:2}),u.jsx(jue,{isOpen:T[re],onClose:()=>Ie(re),prizeData:X,userType:t,handleDelete:()=>Q(re),handleEdit:()=>$(re),handleRedeem:()=>ne(re)}),u.jsx(Tw,{isOpen:_[re],prizeData:X,onClose:()=>B(re),mode:"edit-prize",userType:t}),u.jsx(Aue,{isOpen:S[re],prizeName:X.name,onClose:()=>q(re),onConfirm:()=>ve(re)}),u.jsx(Rue,{isOpen:P[re],prizeName:X.name,cost:X.cost,onClose:()=>ee(re),onConfirm:()=>ie(re)}),u.jsx(Qg,{isOpen:k[re],onClose:()=>he(re),name:X.name,mode:"delete-prize"}),u.jsx(Qg,{isOpen:O[re],onClose:()=>ue(re),name:X.name,mode:"redeem-prize"})]},re))}),u.jsx(Tw,{isOpen:b,prizeData:null,onClose:()=>w(!1),mode:"add-prize",onAddPrize:m,userType:t})]})})});return u.jsxs(W,{className:"merit-container",align:"center",width:"100%",mx:"auto",h:"fit-content",backgroundImage:"linear-gradient(180deg, #b8fcf6, #4adfe2 70%, #2fccbc 90%)",children:[t==="staff"&&u.jsxs(af,{isFitted:!0,style:p,defaultIndex:1,backgroundColor:"white",w:"90%",align:"center",children:[u.jsxs(lf,{children:[u.jsx($n,{to:"/leaderboard",style:{width:"50%"},children:u.jsx(Li,{onclick:M,children:"Leaderboard"})}),u.jsx($n,{to:"/merit-shop",style:{width:"50%"},children:u.jsx(Li,{children:"Merit Shop"})})]}),u.jsxs(cf,{children:[u.jsx(Mi,{}),u.jsx(Mi,{width:"100%",children:u.jsx(u.Fragment,{children:Y})})]})]}),t!=="staff"&&u.jsx(W,{w:"100%",children:Y})]})}const Aue=({isOpen:t,onClose:e,prizeName:n,onConfirm:r})=>u.jsxs(mt,{isOpen:t,onClose:e,children:[u.jsx(yt,{}),u.jsxs(gt,{align:"center",width:"xl",children:[u.jsx(vt,{color:"white",backgroundColor:"#E53E3E",borderRadius:"md",children:"Confirm Deletion"}),u.jsx(St,{color:"white"}),u.jsxs(_t,{align:"center",children:["Are you sure you want to remove ",n," from the shop? This action is ",u.jsx("span",{style:{fontWeight:"bold"},children:"irreversible"}),"."]}),u.jsxs(Ft,{alignItems:"center",borderRadius:"md",children:[u.jsx(se,{colorScheme:"gray",onClick:e,children:"Cancel"}),u.jsx(se,{colorScheme:"red",onClick:r,children:"Confirm Delete"})]})]})]}),Rue=({isOpen:t,onClose:e,prizeName:n,cost:r,onConfirm:s})=>u.jsxs(mt,{isOpen:t,onClose:e,children:[u.jsx(yt,{}),u.jsxs(gt,{align:"center",width:"xl",children:[u.jsx(vt,{color:"white",backgroundColor:"#4FD1C5",borderRadius:"md",children:"Confirm Redemption"}),u.jsx(St,{color:"white"}),u.jsxs(_t,{align:"center",children:["Are you sure you want to redeem ",n," for ",r," points?"]}),u.jsxs(Ft,{alignItems:"center",borderRadius:"md",children:[u.jsx(se,{colorScheme:"gray",onClick:e,children:"Cancel"}),u.jsx(se,{colorScheme:"teal",onClick:s,children:"Redeem"})]})]})]}),jue=({isOpen:t,onClose:e,prizeData:n,userType:r,handleEdit:s,handleDelete:i,handleRedeem:o})=>{const[a,l]=g.useState(!1),c=()=>{l(!a)};return u.jsxs(mt,{isOpen:t,onClose:e,size:"3xl",w:"90%",children:[u.jsx(yt,{}),u.jsxs(gt,{children:[u.jsx(vt,{borderRadius:"md",color:"white",backgroundColor:"#4FD1C5",textAlign:"center",fontSize:"2rem",marginBottom:"1px black solid",px:{base:4,md:4},py:{base:2,md:4},children:n.name}),u.jsx(St,{}),u.jsx(_t,{px:{base:2,md:4},py:{base:1,md:2},children:u.jsxs(ye,{direction:{base:"column",md:"row"},children:[u.jsx(W,{w:{base:"70%",md:"50%"},mx:"auto",my:"auto",children:u.jsx(Vv,{src:n.img_url||"./img.svg",alt:n.name,onClick:c,cursor:"pointer"})}),u.jsxs(ZD,{mt:{base:1,md:3},w:{base:"100%",md:"50%"},p:0,children:[u.jsxs(aY,{m:"auto",py:{base:1,md:3},fontSize:"lg",fontWeight:"bold",children:[n.name," Details"]}),u.jsxs(oY,{px:{base:6,md:4},py:{base:2,md:4},children:[u.jsxs(H,{fontWeight:"bold",children:["Cost: ",u.jsxs(W,{as:"span",ml:7,children:[n.cost," points"]})]}),u.jsxs(H,{fontWeight:"bold",mt:3,children:["Description: ",u.jsx("br",{})," ",u.jsx(W,{ml:5,p:"3",children:n.desc})]}),u.jsxs(H,{textAlign:"right",mt:3,children:[n.type," item"]})]})]})]})}),u.jsx(Ft,{borderRadius:"md",backgroundColor:"#4FD1C5",w:{base:"100%"},textAlign:"center",px:{base:2,md:4},py:1,children:u.jsxs(W,{textAlign:"center",children:[r==="student"&&u.jsx(se,{colorScheme:"teal",onClick:o,children:"Redeem Prize"}),r==="staff"&&u.jsx(se,{colorScheme:"teal",onClick:e,children:"Close"}),r==="admin"||r==="adminDemo"&&n.demo&&u.jsxs(u.Fragment,{children:[u.jsx(se,{colorScheme:"teal",onClick:s,children:"Edit"}),u.jsx(se,{colorScheme:"red",onClick:i,children:"Delete"})]})," ",r==="adminDemo"&&!n.demo&&u.jsxs(u.Fragment,{children:[u.jsx(se,{colorScheme:"teal",onClick:s,isDisabled:r==="adminDemo",children:"Edit"}),u.jsx(se,{colorScheme:"red",onClick:i,isDisabled:r==="adminDemo",children:"Delete"})]})]})})]})]})},UP=()=>{const[t,e]=g.useState(null),[n,r]=g.useState(0),[s,i]=g.useState(""),[o,a]=g.useState(""),l=Gn(),[c,d]=g.useState(!1),f=Di({base:"95%",md:"75%",lg:"60%"}),{studentId:p}=Gh();g.useEffect(()=>{(async()=>{if(p)try{const k=await xu(p);e(k)}catch(k){console.error("Error fetching student details:",k)}})()},[p]);const m=w=>{e(w)},_=async w=>{if(w.preventDefault(),t&&n>0){const k=await Yr(),j=await _ue(k.id,t.id,n,s,o);j.status===200?d(!0):l({title:"Error",description:`${j.body} `,status:"error",duration:3e3,position:"top-right",isClosable:!0})}else t||l({title:"Error",description:"Please select a student.",status:"error",duration:3e3,position:"top-right",isClosable:!0}),n<=0&&l({title:"Error",description:"Enter Points greater than 0",status:"error",position:"top-right",duration:3e3,isClosable:!0})},y=w=>{r(k=>k+w)},S=w=>{a(w.target.value)},x=async()=>{e(null),r(0),i(""),a(""),d(!1);const w=await Yr();l({title:"Award Points Success",description:`Available Points Decreased To: ${w.current_pts}`,status:"info",duration:8e3,position:"top-right",isClosable:!0})},b=()=>{};return u.jsx(W,{mt:3,margin:"auto",width:"90%",backgroundColor:"white",mx:"auto",minHeight:{base:"calc(100vh - 136px)",md:"calc(100vh - 166px)"},children:u.jsxs(W,{maxWidth:"1000px",mx:"auto",children:[u.jsx("div",{className:"page-title",children:"Assign Points To Student"}),u.jsx(H,{fontSize:"0.9em",children:"Search a student's name or ID to get started "}),u.jsx(Wo,{searchType:"student",onSelectItem:m,onSearch:b}),u.jsxs(W,{mt:4,border:"1px solid gray.300",margin:"10px",width:"100%",children:[u.jsx("h2",{style:{textAlign:"center"},children:"Selected Student:"}),u.jsx(W,{border:"1px solid",borderColor:"gray.300",p:3,mb:1,bg:"gray.100",borderRadius:"md",textAlign:"center",children:t?u.jsxs(ye,{align:"center",children:[u.jsx(W,{mr:4,ml:2,children:u.jsx(Pr,{src:t.img_url,name:t.first_name+" "+t.last_name,size:"sm"})}),u.jsxs("div",{children:[u.jsx(H,{fontSize:"md",fontWeight:"bold",children:t.first_name+" "+t.last_name}),u.jsxs(H,{fontSize:"sm",children:["Student ID: ",t.id]})]})]}):u.jsx(H,{fontSize:"sm",fontStyle:"italic",children:"No student selected"})})]}),u.jsxs("form",{onSubmit:_,children:[u.jsxs(W,{margin:"10px",mt:10,children:[u.jsx(ye,{className:"points-input-field",align:"center",children:u.jsxs(xe,{isRequired:!0,display:"inline-flex",flexDirection:{base:"column",md:"row"},alignItems:"center",children:[u.jsx(Te,{align:"left",mr:2,mb:{base:2,md:0},width:{base:"100%",md:"140px"},children:"Enter Points:"}),u.jsxs("div",{style:{display:"inline-flex"},children:[u.jsx(wh,{"aria-label":"Decrease points",icon:u.jsx(bV,{}),onClick:()=>y(-1),size:"sm",mr:1,isDisabled:n===0}),u.jsx(zv,{size:"sm",w:"120px",children:u.jsx(Oe,{type:"number",value:n===0?"":n,placeholder:"0",onChange:w=>r(isNaN(parseInt(w.target.value))?0:Math.max(parseInt(w.target.value),0)),required:!0})}),u.jsx(wh,{"aria-label":"Increase points",icon:u.jsx(xV,{}),onClick:()=>y(1),size:"sm"})]})]})}),u.jsx(ye,{className:"reason-dropdown",align:"center",mt:5,children:u.jsxs(xe,{isRequired:!0,display:"inline-flex",flexDirection:{base:"column",md:"row"},alignItems:"center",children:[u.jsx(Te,{align:"left",width:{base:"100%",md:"140px"},mr:2,mb:{base:"2",md:"2"},children:"Enter Reason:"}),u.jsxs(Oi,{placeholder:"Select an option",value:s,onChange:w=>i(w.target.value),w:"fit-content",mb:{base:2,md:0},required:!0,children:[u.jsx("option",{value:"course participation",children:"Course Participation"}),u.jsx("option",{value:"extracurricular",children:"Extracurricular"}),u.jsx("option",{value:"good conduct",children:"Good Conduct"}),u.jsx("option",{value:"volunteering",children:"Volunteering"})]})]})}),u.jsx(ye,{className:"comment-area",align:"center",mt:5,children:u.jsxs(xe,{display:"inline-flex",flexDirection:{base:"column",md:"row"},alignItems:"center",children:[u.jsxs(Te,{align:"left",width:{base:"100%",md:"160px"},mb:{base:2,md:2},mr:2,children:["Enter Comments ",u.jsx("span",{style:{color:"#999"},children:"(optional)"})," :"]}),u.jsx(Kv,{value:o,onChange:S,placeholder:"Enter your comments here...",size:"md",resize:"both",style:{width:"100%"}})]})})]}),u.jsx(se,{type:"submit",colorScheme:"teal",mt:10,margin:"auto",display:"block",children:"Finish"})]}),u.jsxs(mt,{isOpen:c,onClose:x,children:[u.jsx(yt,{}),u.jsxs(gt,{align:"center",width:f,children:[u.jsx(vt,{backgroundColor:"#4FD1C5",color:"white",children:"Points Awarded Successfully"}),u.jsx(St,{}),u.jsxs(_t,{align:"center",children:["Successfully awarded ",n," points to ",(t==null?void 0:t.first_name)+" "+(t==null?void 0:t.last_name)," for ",s,"."]}),u.jsx(Ft,{alignItems:"center",children:u.jsx(se,{colorScheme:"teal",onClick:x,children:"Close"})})]})]})]})})},Due=t=>{const{rank:e,img_url:n,first_name:r,last_name:s,id:i,accumulated_pts:o}=t.data,a=e%2===0?"#FFF7E9":"white",l={boxRadius:Za,backgroundColor:`${a}`,padding:Lt,borderRadius:"50px",boxShadow:"0 1px 2px 3px #f7d086",w:"100%",transition:"transform 0.3s",_hover:{transform:"scale(1.03)",boxShadow:"0 0 4px 2px #f7d086","& .rank":{color:Ze},"& .title":{color:Ze},"& .count":{color:Ze},"& .actionicon":{color:Ze}}},c={fontSize:gy,marginRight:Lt,marginLeft:Lt,color:Ze,fontWeight:"bold"},d={width:Mh,borderRadius:Lt,marginRight:Lt},f={flex:1,textAlign:"left"},p={color:Ze,fontWeight:"bold"},m={color:Ze},_={},y={fontWeight:"bold",color:Ci,fontSize:uL,pading:0},S={fontSize:Lt},x={fontSize:Mh,color:Ze},b=w=>{switch(w){case 1:return"gold";case 2:return"silver";case 3:return"brown"}};return u.jsxs(ye,{sx:l,align:"center",children:[(e===1||e===2||e===3)&&u.jsx(W,{ml:3,children:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:b(e),className:"bi bi-award-fill",viewBox:"0 0 16 16",children:[u.jsx("path",{d:"m8 0 1.669.864 1.858.282.842 1.68 1.337 1.32L13.4 6l.306 1.854-1.337 1.32-.842 1.68-1.858.282L8 12l-1.669-.864-1.858-.282-.842-1.68-1.337-1.32L2.6 6l-.306-1.854 1.337-1.32.842-1.68L6.331.864z"}),u.jsx("path",{d:"M4 11.794V16l4-1 4 1v-4.206l-2.018.306L8 13.126 6.018 12.1z"})]})}),u.jsx(H,{className:"rank",sx:c,children:e}),u.jsx(W,{children:u.jsx(Pr,{sx:d,name:r+" "+s,src:n,alt:"placeholder"})}),u.jsxs(W,{sx:f,children:[u.jsx(H,{className:"title",sx:p,children:r+" "+s}),u.jsx(H,{sx:m,children:i})]}),u.jsxs(W,{sx:_,children:[u.jsx(H,{className:"count",sx:y,children:o}),u.jsx(H,{className:"type",sx:S,children:"MP"})]}),u.jsx(W,{className:"actionicon",sx:x,children:u.jsx(Kc,{})})]})},Nue=t=>{const{rank:e,img_url:n,first_name:r,last_name:s,id:i,accumulated_pts:o,course_code:a}=t.data,l=Di({base:!1,md:!0,lg:!0}),c=Ir(),d=(k,j)=>{j.stopPropagation(),c(`/assign-points/${k}`,{state:{data:t.data}})},f={boxRadius:Za,backgroundColor:"#FFF7E9",paddingX:"10px",borderRadius:"30px",boxShadow:"0 1px 2px 3px #f7d086",w:"100%",transition:"transform 0.3s",_hover:{transform:"scale(1.03)",boxShadow:"0 0 4px 2px #f7d086","& .rank":{color:Ze},"& .title":{color:Ze},"& .count":{color:Ze},"& .actionicon":{color:Ze}}},p={fontSize:gy,marginRight:Lt,marginLeft:Lt,color:Ze,fontWeight:"bold"},m={width:Mh,borderRadius:Lt,marginRight:Lt},_={flex:1,textAlign:"left"},y={color:Ze,fontWeight:"bold"},S={color:Ze},x={fontWeight:"bold",color:Ze,fontSize:my,pading:0},b={color:"black",fontSize:"1rem",fontWeight:"bold",fontStyle:"italic"},w=()=>u.jsx(W,{className:"actionicon",textAlign:"right",children:u.jsx(Ls,{label:"Assign points",placement:"right",children:u.jsx(se,{paddingX:"1",colorScheme:"teal",onClick:k=>d(i,k),children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",className:"bi bi-patch-plus-fill",viewBox:"0 0 16 16",children:u.jsx("path",{d:"M10.067,.87a2.89,2.89,0,0,0-4.134,0l-.622.638-.89-.011a2.89,2.89,0,0,0-2.924,2.924l.01.89-.636.622a2.89,2.89,0,0,0,0,4.134l.637.622-.011.89a2.89,2.89,0,0,0,2.924,2.924l.89-.01.622.636a2.89,2.89,0,0,0,4.134,0l.622-.637.89.011a2.89,2.89,0,0,0,2.924-2.924l-.01-.89.636-.622a2.89,2.89,0,0,0,0-4.134l-.637-.622.011-.89a2.89,2.89,0,0,0-2.924-2.924l-.89.01ZM8.5,6v1.5H10a.5.5,0,0,1,0,1H8.5V10a.5.5,0,0,1-1,0V8.5H6a.5.5,0,0,1,0-1h1.5V6a.5.5,0,0,1,1,0"})})})})});return u.jsxs(W,{sx:f,children:[u.jsxs(ye,{align:"center",children:[u.jsx(H,{className:"rank",sx:p,children:e}),u.jsx(W,{children:u.jsx(Pr,{sx:m,src:n,name:r+" "+s,alt:"placeholder"})}),u.jsxs(W,{sx:_,children:[u.jsx(H,{className:"title",sx:y,children:r+" "+s}),u.jsx(H,{sx:S,children:i})]}),u.jsxs(W,{my:"1",mr:"5",textAlign:"right",children:[u.jsxs(H,{className:"count",sx:x,mb:"3",children:[o," MP"]}),u.jsx(H,{className:"type",sx:b,children:a})]}),u.jsx(W,{children:l&&u.jsx(u.Fragment,{children:w()})})]}),!l&&u.jsxs(u.Fragment,{children:[u.jsx(Xt,{borderColor:"teal.500",marginY:"3px"}),u.jsx(W,{marginLeft:"14",children:w()})]})]})},WP=t=>{try{const e=le(K,"users");return N1(On(e,Hr("role","==","student")),async r=>{try{let s=r.docs.map(o=>o.data()),i=await Promise.all(s.map(async o=>{const a=await wu.GET_rank(o.id);return{...o,rank:a}}));i.sort((o,a)=>o.rank-a.rank),typeof t=="function"?t(i):console.error("Callback is not a function")}catch(s){console.error("Error processing ranked students:",s)}})}catch(e){return console.error("Error subscribing to ranked students:",e),()=>{}}};function Oue({userType:t}){const[e,n]=g.useState([]);g.useEffect(()=>{(async()=>{try{const l=WP(c=>{const f=[...c.filter(p=>p.rank!==null)].sort((p,m)=>p.rank-m.rank);n(f)});WP(c=>{const f=[...c.filter(p=>p.rank!==null)].sort((p,m)=>p.rank-m.rank);n(f)})}catch(l){console.error("Error fetching initial students:",l)}})()},[]);const r={height:"fit-content"},s={flex:1},i=a=>{a.preventDefault()},o=u.jsx(u.Fragment,{children:u.jsxs(W,{width:"90%",align:"center",backgroundColor:"white",pb:"3",minHeight:{base:"calc(100vh - 136px)",md:"calc(100vh - 166px)"},children:[u.jsx("div",{className:"page-title",children:"LeaderBoard"}),u.jsxs(W,{backgroundColor:"orange.100",width:"95%",borderRadius:"lg",children:[u.jsx(W,{backgroundColor:"teal.500",borderRadius:"lg",children:u.jsxs(ye,{justify:"space-between",className:"labels",width:"98%",backgroundColor:"teal.500",borderRadius:"lg",textColor:"white",mb:2,py:2,children:[u.jsx(W,{flex:"1",ml:4,textAlign:"left",fontWeight:"bold",fontSize:"lg",children:"Rank"}),u.jsx(W,{flex:"2",textAlign:"center",fontWeight:"bold",fontSize:"lg",children:"Student"}),u.jsx(W,{flex:"1",mr:12,textAlign:"right",fontWeight:"bold",fontSize:"lg",children:"Points"})]})}),u.jsx(W,{className:"student-list",width:"98%",children:e.map((a,l)=>u.jsxs(nr.Fragment,{children:[u.jsx(Due,{data:a}),u.jsx(Os,{height:2})]},l))})]})]})});return u.jsxs(W,{sx:r,className:"merit-container",backgroundImage:"linear-gradient(to bottom, #ffc561, #2fccbc)",w:"100%",align:"center",children:[t==="staff"&&u.jsxs(af,{isFitted:!0,style:s,defaultIndex:0,backgroundColor:"white",w:"90%",children:[u.jsxs(lf,{children:[u.jsx($n,{to:"/leaderboard",style:{width:"50%",margin:"auto"},children:u.jsx(Li,{children:"Leaderboard"})}),u.jsx($n,{to:"/merit-shop",style:{width:"50%"},children:u.jsx(Li,{onclick:i,children:"Merit Shop"})})]}),u.jsxs(cf,{children:[u.jsx(Mi,{width:"100%",children:u.jsxs(u.Fragment,{children:[console.log("Component rerendered with updated data"),o]})}),u.jsx(Mi,{})]})]}),t!=="staff"&&u.jsx(u.Fragment,{children:o})]})}const Mue=({isOpen:t,onClose:e,name:n,mode:r})=>{const[s,i]=g.useState(""),[o,a]=g.useState("");return g.useEffect(()=>{switch(r){case"add-course":i("Course Added Successfully"),a(`Successfully added the course "${n}".`);break;case"edit-course":i("Course Edited Successfully"),a(`Successfully updated the course "${n}".`);break;case"delete-course":i("Course Deleted Successfully"),a(`Successfully deleted the course "${n}".`);break;default:i(""),a("")}},[r,n]),u.jsxs(mt,{isOpen:t,onClose:e,isCentered:!0,children:[u.jsx(yt,{}),u.jsxs(gt,{children:[u.jsx(vt,{children:s}),u.jsx(St,{}),u.jsx(_t,{children:o}),u.jsx(Ft,{children:u.jsx(se,{onClick:e,children:"Close"})})]})]})},RV=({isOpen:t,onClose:e,courseData:n,onCourseUpdated:r,userType:s})=>{const[i,o]=g.useState(""),[a,l]=g.useState(""),[c,d]=g.useState(""),[f,p]=g.useState(""),[m,_]=g.useState(""),[y,S]=g.useState(""),x=Di({base:"95%",md:"75%",lg:"75%"}),b=Gn();g.useEffect(()=>{n?(o(n.code||""),l(n.name||""),d(n.desc||""),p(n.year||""),_(n.semester||""),S(n.img_url||"")):w()},[n,t]);const w=()=>{o(""),l(""),d(""),p(""),_(""),S("")},k=()=>{const I=new Date().getFullYear(),P=new Date().getMonth()+1,N=I+1;return P>=1&&P<=6?`${I-1}-${I}`:`${I}-${N}`},j=I=>{const[P,N]=I.split("-").map(Number);return`${N}-${N+1}`},O=[k()];for(let I=0;I<2;I++)O.push(j(O[I]));const C=I=>{const P=I.target.files[0];if(P){const N=new FileReader;N.onloadend=()=>{S(N.result)},N.readAsDataURL(P)}},T=async I=>{I.preventDefault();try{let P;s==="adminDemo"?P={code:i,name:a,desc:c,year:f,semester:m,img_url:y,demo:!0}:P={code:i,name:a,desc:c,year:f,semester:m,img_url:y,demo:!1},n&&n.id?await pue(n.id,P):await uue(P),b({title:"Success",description:`Course ${n?"updated":"created"} successfully.`,status:"success",duration:5e3,isClosable:!0}),w(),e(),r()}catch(P){b({title:"Error",description:`Failed to ${n?"update":"create"} course: ${P.message}`,status:"error",duration:5e3,isClosable:!0})}};return u.jsxs(mt,{isOpen:t,onClose:e,size:"xl",isCentered:!0,children:[u.jsx(yt,{}),u.jsxs(gt,{width:x,children:[u.jsx(vt,{backgroundColor:"#4FD1C5",color:"white",children:n?"Edit Course":"Add New Course"}),u.jsx(St,{color:"white"}),u.jsxs("form",{onSubmit:T,children:[u.jsx(_t,{pb:6,children:u.jsxs(ye,{direction:"column",gap:4,children:[u.jsxs(xe,{isRequired:!0,children:[u.jsx(Te,{children:"Course Code"}),u.jsx(Oe,{value:i,onChange:I=>o(I.target.value),placeholder:"Course Code"})]}),u.jsxs(ye,{w:"100%",children:[u.jsxs(xe,{w:"50%",mx:1,isRequired:!0,children:[u.jsx(Te,{children:"Academic Year"}),u.jsx(Oi,{value:f,onChange:I=>p(I.target.value),placeholder:"Select Academic Year",children:O.map(I=>u.jsx("option",{value:I,children:I},I))})]}),u.jsxs(xe,{mx:1,w:"50%",isRequired:!0,children:[u.jsx(Te,{children:"Semester"}),u.jsxs(Oi,{value:m,onChange:I=>_(I.target.value),placeholder:"Select Semester",children:[u.jsx("option",{value:"S1",children:"Semester 1"}),u.jsx("option",{value:"S2",children:"Semester 2"}),u.jsx("option",{value:"S3",children:"Semester 3"})]})]})]}),u.jsxs(xe,{isRequired:!0,children:[u.jsx(Te,{children:"Course Name"}),u.jsx(Oe,{value:a,onChange:I=>l(I.target.value),placeholder:"Course Name"})]}),u.jsxs(xe,{isRequired:!0,children:[u.jsx(Te,{children:"Description"}),u.jsx(Kv,{value:c,onChange:I=>d(I.target.value),placeholder:"Description"})]}),u.jsxs(xe,{children:[u.jsx(Te,{children:"Image URL (optional)"}),u.jsx(Oe,{value:y,onChange:I=>S(I.target.value),placeholder:"Image URL"}),u.jsx("input",{type:"file",accept:"image/*",onChange:C,style:{marginTop:"10px"}})]})]})}),u.jsxs(Ft,{backgroundColor:"#4FD1C5",children:[u.jsx(se,{type:"submit",colorScheme:"teal",mr:3,children:"Save"}),u.jsx(se,{onClick:e,children:"Cancel"})]})]})]})]})},Lue=({isOpen:t,onClose:e,courseName:n,onConfirm:r})=>u.jsxs(mt,{isOpen:t,onClose:e,children:[u.jsx(yt,{}),u.jsxs(gt,{children:[u.jsx(vt,{children:"Delete Course"}),u.jsx(St,{}),u.jsxs(_t,{children:['Are you sure you want to delete the course "',n,'"? This action is irreversible.']}),u.jsxs(Ft,{children:[u.jsx(se,{colorScheme:"gray",mr:3,onClick:e,children:"Cancel"}),u.jsx(se,{colorScheme:"red",onClick:()=>{r(),e()},children:"Confirm Delete"})]})]})]}),jV=({isOpen:t,onClose:e,selectedCourse:n})=>{const r=Gn(),[s,i]=g.useState(""),[o,a]=g.useState(""),[l,c]=g.useState([]),[d,f]=g.useState([]),p=async()=>{const y=await K1();c(y.body||[])},m=async()=>{const y=await X1();f(y.body||[])};g.useEffect(()=>{p(),m()},[]);const _=async()=>{const y=s||o,S=s?"student":"staff";if(!y){r({title:"Selection required",description:`Please select a ${S} to enroll.`,status:"warning",duration:5e3,isClosable:!0});return}try{if(await IV(y,n==null?void 0:n.id)){r({title:"Enrollment Successful",description:`${S.charAt(0).toUpperCase()+S.slice(1)} has been enrolled in ${n==null?void 0:n.name}.`,status:"success",duration:5e3,isClosable:!0}),e(),await p(),await m(),await Q1(n.id);let b=await Ey(n.id)}}catch(x){r({title:"Enrollment Failed",description:x.message||"An error occurred during enrollment.",status:"error",duration:5e3,isClosable:!0})}};return u.jsxs(mt,{isOpen:t,onClose:e,children:[u.jsx(yt,{}),u.jsxs(gt,{maxW:{base:"90%",md:"500px"},children:[u.jsxs(vt,{bg:"teal.300",color:"white",roundedTop:"md",children:["Enroll Person to ",n==null?void 0:n.name]}),u.jsx(St,{}),u.jsx(_t,{children:u.jsxs(qN,{spacing:4,children:[u.jsx(Wo,{searchType:"student",onSelectItem:y=>i(y.id)}),u.jsx(Oi,{placeholder:"Select student to enroll",onChange:y=>i(y.target.value),children:l.map(y=>u.jsx("option",{value:y.id,children:y.name},y.id))}),u.jsx(Wo,{searchType:"staff",onSelectItem:y=>a(y.id)}),u.jsx(Oi,{placeholder:"Select staff to enroll",onChange:y=>a(y.target.value),children:d.map(y=>u.jsx("option",{value:y.id,children:y.name},y.id))})]})}),u.jsxs(Ft,{bg:"teal.300",roundedBottom:"md",children:[u.jsx(se,{colorScheme:"teal",mr:3,onClick:_,children:"Enroll Selected Person"}),u.jsx(se,{variant:"ghost",onClick:e,children:"Close"})]})]})]})},Vue=({userType:t})=>{const[e,n]=g.useState(""),[r,s]=g.useState([]),{isOpen:i,onOpen:o,onClose:a}=bm(),{isOpen:l,onOpen:c,onClose:d}=bm(),{isOpen:f,onOpen:p,onClose:m}=bm(),[_,y]=g.useState(null);g.useState("");const[S,x]=g.useState(!1),[b,w]=g.useState(null),[k,j]=g.useState([]),[O,C]=g.useState([]),[T,I]=g.useState("all"),[P,N]=g.useState([]),[M,R]=g.useState(null),$=()=>`#${Math.floor(Math.random()*16777215).toString(16)}`,Q=Ir();g.useEffect(()=>{ne(),ee(),he()},[]),g.useEffect(()=>{if(Array.isArray(r)){const Y=r.map(re=>re.period).filter(Boolean),X=[...new Set(Y)];N(X)}else console.error("Expected 'courses' to be an array but got:",typeof r)},[r]),g.useEffect(()=>{const Y=T==="all"?r:r.filter(X=>X.period===T);q(Y)},[r,T]);const ne=async()=>{try{if(t==="admin"||t==="adminDemo"){const Y=await TV();Y.status===200&&Array.isArray(Y.body)?s(Y.body):(console.error("Error fetching courses:",Y),s([]),toast({title:"Failed to fetch courses",description:Y.body||"Unknown error occurred",status:"error",duration:5e3,isClosable:!0}))}else{const Y=await Yr();if(Y){const X=await $h(Y.id);X.status===200&&Array.isArray(X.body)?s(X.body):(console.error("Error fetching user courses:",X),s([]),toast({title:"Failed to fetch user courses",description:X.body||"Unknown error occurred",status:"error",duration:5e3,isClosable:!0}))}}}catch(Y){console.error("Error fetching courses:",Y),s([]),toast({title:"Network error",description:"Failed to fetch courses due to a network error",status:"error",duration:5e3,isClosable:!0})}},[B,q]=g.useState([]),ee=async()=>{try{const Y=await K1();Y.status===200&&Y.body?j(Y.body):(console.error("No students found or error fetching students"),j([]))}catch(Y){console.error("Error fetching students:",Y),console.log(k)}};g.useEffect(()=>{ee()},[]);const he=async()=>{try{const Y=await X1();Y.status===200&&Y.body?(console.log("Staff Data:",Y.body),C(Y.body)):(console.error("No staff found or error fetching staff"),C([]))}catch(Y){console.error("Error fetching staff:",Y),C([])}},ue=Y=>{t==="student"||t==="staff"?Q(`/course-students/${Y.id}`,{state:{data:Y}}):(t==="admin"||t==="adminDemo")&&Q(`/admin/course/${Y.id}`,{state:{data:Y}})},ve=Y=>{y(Y),o()},ie=Y=>{w(Y),x(!0)},Ee=async(Y,X)=>{try{const re=await enroll(Y,X);if(re.success)toast({title:"Enrollment successful",description:`The student has been successfully enrolled in ${_==null?void 0:_.name}.`,status:"success",duration:5e3,isClosable:!0}),ne();else throw new Error(re.message)}catch(re){toast({title:"Enrollment failed",description:`Error: ${re.message}`,status:"error",duration:5e3,isClosable:!0})}},Ie=Y=>{y(Y),c()},je=async()=>{if(_)try{await mue(_.id),toast({title:"Course deleted",description:`The course "${_.name}" was successfully deleted.`,status:"success",duration:5e3,isClosable:!0}),await ne(),y(null),d()}catch(Y){console.error("Error deleting course:",Y),toast({title:"Error",description:`Failed to delete the course: ${Y.message}`,status:"error",duration:5e3,isClosable:!0})}},pe=Y=>{n(Y.toLowerCase());const X=r.filter(re=>re.name.toLowerCase().startsWith(Y.trim().toLowerCase())||re.code.toLowerCase().startsWith(Y.trim().toLowerCase()));q(X)};return u.jsxs(W,{mt:3,margin:"auto",width:{base:"100%",md:"90%"},minHeight:{base:"calc(100vh - 136px)",md:"calc(100vh - 166px)"},backgroundColor:"white",children:[u.jsxs(W,{width:"90%",mx:"auto",maxWidth:"1000px",children:[u.jsx(H,{mb:2,className:"page-title",children:t==="admin"||t==="adminDemo"?"All Courses":"My Courses"}),u.jsx(Wo,{searchType:"course",onSearch:pe,userID:M?M.id:null,userType:t}),u.jsx(ye,{justifyContent:"end",mt:2,children:t==="admin"||t==="adminDemo"&&u.jsx(se,{onClick:()=>y(null)||o(),colorScheme:"teal",mb:4,children:"Add New Course"})}),u.jsxs(ye,{justifyContent:"space-between",m:"auto",mt:"1",children:[u.jsx(xe,{alignItems:"center",children:u.jsxs(ye,{alignItems:"center",children:[u.jsx(Te,{mr:"2",ml:"3",align:"left",children:"Period:"}),u.jsxs(Oi,{value:T,onChange:Y=>I(Y.target.value),width:"fit-content",marginBottom:"20px",children:[u.jsx("option",{value:"all",children:"All Periods"}),P.map((Y,X)=>u.jsx("option",{value:Y,children:Y},X))]})]})}),u.jsxs(ye,{alignItems:"center",children:[u.jsx("p",{children:B.length}),u.jsx("p",{children:"courses"})," "]})]})]}),u.jsx(ye,{direction:"row",justifyContent:"center",flexWrap:"wrap",width:"100%",maxWidth:"1000px",mx:"auto",mt:1,children:Array.isArray(B)&&B.length===0?u.jsx(H,{children:"No courses found."}):Array.isArray(B)&&B.map(Y=>u.jsx(W,{shadow:"0 0px 0px 1px #cfcfcf",borderWidth:"1px",borderRadius:"10px",transition:"transform 0.3s",p:1,_hover:{boxShadow:"0 0 4px 2px #f7d086",transform:"scale(1.02)",cursor:"pointer"},bgGradient:"white",width:t==="admin"||t==="adminDemo"?"280px":"250px",height:t==="admin"||t==="adminDemo"?"fit-content":"180px",mb:3,mx:2,pt:2,display:"flex",flexDirection:"column",justifyContent:"start",gap:3,alignItems:"start",onClick:()=>ue(Y),children:u.jsxs(ye,{flexDirection:"column",width:"95%",height:"100%",mx:"auto",children:[Y.img_url?u.jsx(W,{height:t==="admin"||t==="adminDemo"?"60px":"60%",width:"100%",borderRadius:"10px",bgImage:Y.img_url,backgroundPosition:"center",backgroundSize:"cover"}):u.jsx(W,{height:t==="admin"||t==="adminDemo"?"60px":"50%",width:"100%",bgColor:$(),borderRadius:"10px",pointerEvents:"none"}),u.jsxs(W,{flexGrow:1,ml:2,py:3,cursor:"pointer",height:t==="admin"||t==="adminDemo"?"30%":"40%",m:"auto",alignItems:"center",children:[u.jsx(H,{fontSize:"md",fontWeight:"bold",noOfLines:2,children:Y.name}),u.jsxs(H,{fontSize:"sm",noOfLines:1,children:[Y.code," (",Y.period,")"]})]}),t==="admin"||t==="adminDemo"&&Y.demo&&u.jsxs(ye,{flexDirection:"row",width:"100%",height:"30%",bottom:"0",children:[u.jsx(se,{colorScheme:"teal",onClick:X=>{X.stopPropagation(),ve(Y)},children:"Edit"}),u.jsx(se,{colorScheme:"teal",onClick:X=>{X.stopPropagation(),ie(Y)},children:"Enroll"}),u.jsx(se,{colorScheme:"red",onClick:X=>{X.stopPropagation(),Ie(Y)},children:"Delete"})]}),t==="adminDemo"&&!Y.demo&&u.jsxs(ye,{flexDirection:"row",width:"100%",height:"30%",bottom:"0",children:[u.jsx(se,{colorScheme:"teal",onClick:X=>{X.stopPropagation(),ve(Y)},isDisabled:!0,children:"Edit"}),u.jsx(se,{colorScheme:"teal",onClick:X=>{X.stopPropagation(),ie(Y)},children:"Enroll"}),u.jsx(se,{colorScheme:"red",onClick:X=>{X.stopPropagation(),Ie(Y)},isDisabled:!0,children:"Delete"})]})]})},Y.id))}),u.jsx(Lue,{isOpen:l,onClose:d,courseName:_==null?void 0:_.name,onConfirm:je}),u.jsx(RV,{isOpen:i,onClose:a,courseData:_,onCourseUpdated:ne,userType:t}),u.jsx(Mue,{isOpen:f,onClose:m,name:_==null?void 0:_.name,mode:"delete-course"})," ",u.jsx(jV,{isOpen:S,onClose:()=>x(!1),selectedCourse:b,allStudents:k,handleEnrollStudentToCourse:Ee})]})},HP=({userType:t})=>{const[e,n]=g.useState({id:"",first_name:"",last_name:"",email:"",desc:"",img_url:"",courses:[]}),[r,s]=g.useState(!1),[i,o]=g.useState(!1),{userId:a}=Gh(),l=Gn();g.useEffect(()=>{async function f(){let p=null;if(a||(p=await Yr()),p){n({id:p.id,first_name:p.first_name,last_name:p.last_name,email:p.email,desc:p.desc,img_url:p.img_url,courses:[]});const m=await $h(p.id);m.status===200&&n(_=>({..._,courses:m.body}))}else if(a){const m=await Cw(a);if(m){n({id:m.id,first_name:m.first_name,last_name:m.last_name,email:m.email,desc:m.desc,img_url:m.img_url,courses:[]});const _=await $h(m.id);_.status===200&&n(y=>({...y,courses:_.body}))}}}f()},[a]);const c=async()=>{o(!0);const f={first_name:e.first_name,last_name:e.last_name,email:e.email,desc:e.desc,img_url:e.img_url};try{const p=await Gce(e.id,f);if(p.status===200)l({title:"Profile Updated",description:"Your profile has been successfully updated.",status:"success",duration:5e3,isClosable:!0}),s(!1);else throw new Error(p.body)}catch(p){l({title:"Update Failed",description:p.toString(),status:"error",duration:5e3,isClosable:!0})}finally{o(!1)}},d=f=>{const p=f.target.files[0],m=new FileReader;m.onloadend=()=>{n({...e,img_url:m.result})},m.readAsDataURL(p)};return u.jsxs(W,{align:"center",pt:5,minHeight:"calc(100vh - 166px)",backgroundColor:"white",width:"90%",marginX:"auto",children:[u.jsx(H,{mb:"2",className:"page-title",children:"User Profile"}),(a===void 0||e.id===a)&&u.jsx(W,{p:"5",shadow:"md",borderWidth:"1px",borderRadius:"lg",maxWidth:"500px",children:u.jsxs(ye,{direction:"column",align:"center",mb:"4",children:[u.jsx(Pr,{name:`${e.first_name} ${e.last_name}`,src:e.img_url,size:"xl",mb:"4"}),u.jsxs(GN,{as:"h3",size:"lg",mb:"2",children:[e.first_name," ",e.last_name," "]}),r?u.jsxs(u.Fragment,{children:[u.jsxs(xe,{id:"first_name",mb:"4",children:[u.jsx(Te,{children:"First Name"}),u.jsx(Oe,{value:e.first_name,onChange:f=>n({...e,first_name:f.target.value})})]}),u.jsxs(xe,{id:"last_name",mb:"4",children:[u.jsx(Te,{children:"Last Name"}),u.jsx(Oe,{value:e.last_name,onChange:f=>n({...e,last_name:f.target.value})})]}),u.jsxs(xe,{id:"desc",mb:"4",children:[u.jsx(Te,{children:"Description"}),u.jsx(Oe,{type:"text",value:e.desc,onChange:f=>n({...e,desc:f.target.value})})]}),u.jsxs(xe,{id:"img_url",mb:"4",children:[u.jsx(Te,{children:"Profile Picture"}),u.jsx(Oe,{type:"file",accept:"image/*",onChange:d})]}),u.jsxs(ye,{direction:"row",flexWrap:"wrap",children:[u.jsx(se,{colorScheme:"teal",mr:"4",onClick:c,isLoading:i,children:"Save Changes"}),u.jsx(se,{colorScheme:"red",onClick:()=>s(!1),children:"Cancel"})]})]}):u.jsxs(u.Fragment,{children:[u.jsxs(H,{fontWeight:"bold",children:["Email: ",e.email]}),u.jsxs(H,{children:["Description: ",e.desc]}),a===void 0?u.jsx(se,{colorScheme:"teal",onClick:()=>s(!0),children:"Edit Profile"}):null]})]})})]})},DV="/login-image.jpg";function qP(){const[t,e]=g.useState(!1),[n,r]=g.useState(""),[s,i]=g.useState(""),o=Ir(),a=Gn(),l=d=>{const{name:f,value:p}=d.target;f==="email"&&r(p),f==="password"&&i(p)};g.useEffect(()=>{const d=()=>{e(window.innerWidth>window.innerHeight+200)};return d(),window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]);const c=async d=>{d.preventDefault();try{const f=await Kce(n,s);console.log(f),f?(o("/my-dashboard"),a({title:"Login Success",description:"Successfully logged in.",status:"success",position:"top",duration:3e3,isClosable:!0})):a({title:"Login Error",description:"Invalid credentials. Please try again.",status:"error",position:"top",duration:3e3,isClosable:!0})}catch(f){console.log(f),a({title:"Login Error",description:"Invalid credentials. Please try again.",status:"error",position:"top",duration:3e3,isClosable:!0})}};return u.jsxs(ye,{flexDirection:t?"row":"column",w:"100%",backgroundColor:"white",mx:"auto",height:"100%",minHeight:{base:"calc(100vh - 136px)",md:"calc(100vh - 166px)"},children:[u.jsx(W,{className:"img-container",order:{base:"1",md:"1"},flex:"1",h:"100%",children:u.jsx("img",{src:DV,alt:"Login page image",style:{objectFit:"cover",width:"100%",height:t?"86vh":"auto",overflow:t?"hidden":"auto"}})}),u.jsxs(W,{className:"form-container",order:{base:"2",md:"2"},flex:"1",h:"fit-content",textAlign:"center",w:{base:"100%",md:"80%"},children:[u.jsx(H,{children:"Welcome Back! Please login."}),u.jsxs("form",{onSubmit:c,children:[u.jsxs(xe,{isRequired:!0,children:[u.jsx(Te,{htmlFor:"email",children:"Email: "}),u.jsx(Oe,{type:"email",id:"email",placeholder:"Enter your email",name:"email",onChange:l})]}),u.jsxs(xe,{mt:4,isRequired:!0,children:[u.jsx(Te,{htmlFor:"password",children:"Password: "}),u.jsx(Oe,{type:"password",id:"password",placeholder:"Enter your password",name:"password",onChange:l})]}),u.jsx(W,{w:"fit-content",ml:5,mt:4,children:u.jsx($n,{to:"/signup-page",children:u.jsx(H,{align:"left",children:"Yet to claim your account? Click here"})})}),u.jsx(se,{colorScheme:"teal",mt:6,type:"submit",children:"Login"})]})]})]})}function Fue(){const[t,e]=g.useState(!1),[n,r]=g.useState(""),[s,i]=g.useState(""),[o,a]=g.useState(""),l=Ir(),c=Gn(),d=p=>{const{name:m,value:_}=p.target;m==="email"&&r(_),m==="password"&&i(_),m==="idnumber"&&a(_)};g.useEffect(()=>{const p=()=>{e(window.innerWidth>window.innerHeight+200)};return p(),window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[]);const f=async p=>{p.preventDefault();try{const m=await ys.signup_new_user(n,s,o);console.log(m),m?(l("/my-dashboard"),c({title:"Signup Success",description:"Successfully signed up.",status:"success",position:"top",duration:3e3,isClosable:!0})):c({title:"Login Error",description:"Invalid Information. Please try again.",status:"error",position:"top",duration:3e3,isClosable:!0})}catch(m){console.log(m),c({title:"Login Error",description:"Invalid Information. Please try again.",status:"error",position:"top",duration:3e3,isClosable:!0})}};return u.jsxs(ye,{flexDirection:t?"row":"column",w:"100%",backgroundColor:"white",mx:"auto",height:"100%",minHeight:{base:"calc(100vh - 136px)",md:"calc(100vh - 166px)"},children:[u.jsx(W,{className:"img-container",order:{base:"1",md:"1"},flex:"1",h:"100%",children:u.jsx("img",{src:DV,alt:"Login page image",style:{objectFit:"cover",width:"100%",height:t?"86vh":"auto",overflow:t?"hidden":"auto"}})}),u.jsxs(W,{className:"form-container",order:{base:"2",md:"2"},flex:"1",h:"fit-content",textAlign:"center",w:{base:"100%",md:"80%"},children:[u.jsx(H,{children:"Welcome! Please claim your account by entering your provided email and ID and a password of your choice."}),u.jsxs("form",{onSubmit:f,children:[u.jsxs(xe,{isRequired:!0,children:[u.jsx(Te,{htmlFor:"email",children:"Email: "}),u.jsx(Oe,{type:"email",id:"email",placeholder:"Enter your email",name:"email",onChange:d})]}),u.jsxs(xe,{mt:4,isRequired:!0,children:[u.jsx(Te,{htmlFor:"idnumber",children:"ID Number: "}),u.jsx(Oe,{type:"text",id:"idnumber",placeholder:"Enter your ID Number",name:"idnumber",onChange:d})]}),u.jsxs(xe,{mt:4,isRequired:!0,children:[u.jsx(Te,{htmlFor:"password",children:"Password: "}),u.jsx(Oe,{type:"password",id:"password",placeholder:"Enter your password",name:"password",onChange:d})]}),u.jsx($n,{to:"/login-page",children:u.jsx(H,{align:"left",px:"10px",py:"5px",children:"Already have an account? Login"})}),u.jsx(se,{colorScheme:"teal",mt:6,type:"submit",children:"Sign Up"})]})]})]})}const NV=({isOpen:t,onClose:e,type:n,userID:r,points:s})=>{const[i,o]=g.useState([]);g.useState(""),g.useState("");const a=d=>{switch(d){case"goodConduct":return"Good Conduct";case"courseParticipation":return"Course Participation";case"volunteering":return"Volunteering";case"extracurricular":return"Extracurricular";default:return"Point Details"}},l=async()=>{try{let d;await yue(r)?d=await bue(r,n):await sue(r)&&(d=await aue(r,n));const f=d;if(f&&Array.isArray(f))if(f.length>0){const p=await Promise.all(f.map(async m=>{const _=await Y1(m.staff_id),y=await xu(m.student_id),S=`${_.body.first_name} ${_.body.last_name}`,x=`${y.first_name} ${y.last_name}`;return{...m,staffName:S,studentName:x}}));p.sort((m,_)=>_.timestamp-m.timestamp),o(p)}else o([]);else console.log("No Logs found.",d)}catch(d){console.error("Error fetching logs:",d)}};g.useEffect(()=>{t&&r&&l()},[r,t,n]);const c=d=>{const f={};return d.forEach(p=>{const m=new Date(p.timestamp.seconds*1e3).toLocaleDateString("default",{year:"numeric",month:"short",day:"numeric"});f[m]||(f[m]=[]),f[m].push(p)}),f};return u.jsxs(mt,{isOpen:t,onClose:e,size:"5xl",width:"90%",scrollBehavior:"inside",children:[u.jsx(yt,{}),u.jsxs(gt,{minWidth:"fit-content",children:[u.jsxs(vt,{backgroundColor:"#4FD1C5",color:"white",borderRadius:"md",textAlign:"center",children:[a(n)," Award Logs - ",s," points"]}),u.jsx(St,{}),u.jsx(_t,{overflowX:"auto",children:i.length===0?u.jsx(H,{textAlign:"center",color:"gray.500",children:"No logs available."}):Object.entries(c(i)).map(([d,f])=>u.jsxs(W,{my:5,children:[u.jsx(H,{fontSize:"lg",fontWeight:"bold",mb:2,textAlign:"center",children:d}),f.map((p,m)=>u.jsxs(ye,{mb:1,justify:"start",width:"100%",alignItems:"center",children:[u.jsx(H,{flex:"0 0 10%",mr:4,fontWeight:"bold",children:new Date(p.timestamp.seconds*1e3).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})}),u.jsxs(W,{flex:"1",py:1,px:4,border:"1px solid gray",borderRadius:"15px",children:[u.jsxs(H,{children:[u.jsxs("strong",{children:[p.points," points"]})," awarded to ",u.jsx("strong",{children:p.studentName})," (Student ID: ",p.student_id,") for ",u.jsx("strong",{children:p.reason}),"."]}),u.jsxs(H,{textAlign:"right",children:[u.jsx("strong",{children:"Awarded By:"})," ",p.staffName]})]})]},m))]},d))})]})]})},GP=({userType:t})=>{const[e,n]=g.useState({goodConduct:0,courseParticipation:0,volunteering:0,extracurricular:0}),[r,s]=g.useState([]),[i,o]=g.useState(null),[a,l]=g.useState(!1);g.useEffect(()=>{(async()=>{try{const k=await Yr();k&&t==="staff"?(s(k),(async()=>{try{const O=await kV(k.id);n(O)}catch(O){console.error("Error fetching points breakdown:",O)}})()):k&&t==="student"&&(s(k),(async()=>{try{const O=await oue(k.id);n(O)}catch(O){console.error("Error fetchin1g points breakdown:",O)}})())}catch(k){console.error("Error fetching current user:",k)}})()},[]);const c=w=>{o(w),l(!0)},d=()=>{o(null),l(!1)},f=w=>{switch(w){case"goodConduct":return"See award logs for good conduct";case"courseParticipation":return"See award logs for participation in the course";case"volunteering":return"See award logs for volunteering activities";case"extracurricular":return"See award logs for extracurricular activities";default:return""}},p={w:"80%",transition:"transform 0.3s",color:"teal",display:"flex",paddingX:"70px",borderRadius:"5px",cursor:"pointer",_hover:{transform:"scale(1.03)",backgroundColor:"#38B2AC",color:"white",textDecoration:"underline"}},m={boxRadius:Za,backgroundColor:"#FFF",padding:"0",transition:"transform 0.3s",flexDirection:"column",borderRadius:Za,boxShadow:"0px 2px 4px 1px rgba(0, 0, 0, 0.3)"},_={color:"white",backgroundColor:"teal",padding:"10px",fontSize:"1.5rem",fontWeight:"bold",borderTopLeftRadius:"20px",borderTopRightRadius:"20px",width:"100%",justifyContent:"center"},y={fontSize:gy,display:"flex",flexDirection:"row"},S={color:Ze,fontWeight:"bold",paddingRight:hoe},x={color:Ci},b={color:Ci,fontSize:"0.9rem",fontWeight:"bold"};return u.jsxs(u.Fragment,{children:[u.jsx(W,{w:"fit-content",children:u.jsxs(ye,{sx:m,align:"center",w:"fit-content",children:[u.jsx(W,{sx:_,children:u.jsx(H,{children:"Points Balance"})}),u.jsxs(W,{sx:y,children:[u.jsx(H,{sx:S,children:r.current_pts}),u.jsx(H,{sx:x,children:t==="staff"?"/300":`/ ${r.accumulated_pts}`})]}),u.jsx(Xt,{my:1,w:"80%",borderColor:"teal.500"}),u.jsx(W,{children:u.jsxs(H,{sx:b,my:"2",children:["Points Awarded ",u.jsx(H,{as:"span",fontSize:"xs",children:"(Select for Details)"})]})}),u.jsxs(W,{pb:5,align:"center",children:[u.jsx(Ls,{label:f("goodConduct"),placement:"top",children:u.jsxs(H,{minWidth:"fit-content",justifyContent:"center",sx:p,onClick:()=>c("goodConduct"),children:[u.jsx(H,{fontWeight:"bold",display:"inline",children:"Good Conduct:	"}),u.jsx(H,{fontWeight:"bold",display:"inline",pl:5,children:(e==null?void 0:e.goodConduct)||0})]})}),u.jsx(Ls,{label:f("volunteering"),placement:"top",children:u.jsxs(H,{minWidth:"fit-content",justifyContent:"center",sx:p,onClick:()=>c("volunteering"),children:[u.jsx(H,{fontWeight:"bold",display:"inline",children:"Volunteer:	"}),u.jsx(H,{fontWeight:"bold",display:"inline",pl:5,children:(e==null?void 0:e.volunteering)||0})]})}),u.jsx(Ls,{label:f("extracurricular"),placement:"top",children:u.jsxs(H,{minWidth:"fit-content",justifyContent:"center",sx:p,onClick:()=>c("extracurricular"),children:[u.jsx(H,{fontWeight:"bold",display:"inline",children:"Extracurricular:	"}),u.jsx(H,{fontWeight:"bold",display:"inline",pl:5,children:(e==null?void 0:e.extracurricular)||0})]})}),u.jsx(Ls,{label:f("courseParticipation"),placement:"top",children:u.jsxs(H,{minWidth:"fit-content",justifyContent:"center",sx:p,onClick:()=>c("courseParticipation"),children:[u.jsx(H,{fontWeight:"bold",display:"inline",children:"Course Participation:	"}),u.jsx(H,{fontWeight:"bold",display:"inline",pl:5,children:(e==null?void 0:e.courseParticipation)||0})]})})]})]})}),i&&e[i]!==void 0&&u.jsx(NV,{isOpen:a,onClose:d,type:i,userID:r?r.id:null,points:e[i]||0})]})},$ue=({isOpen:t,onClose:e})=>{const[n,r]=g.useState(""),[s,i]=g.useState(""),[o,a]=g.useState(""),[l,c]=g.useState(""),[d,f]=g.useState(""),[p,m]=g.useState(""),[_,y]=g.useState(""),S=Gn(),x=async()=>{if(!n||!s||!o||!l||!d){S({title:"Required fields missing",description:"Please ensure all fields are filled out.",status:"error",duration:5e3,isClosable:!0});return}const b={email:n,password:s,id:o,first_name:l,last_name:d,desc:p,img_url:_};try{await rue(b),S({title:"Student added successfully",description:"The new student has been successfully added.",status:"success",duration:5e3,isClosable:!0}),e()}catch(w){S({title:"Error adding student",description:w.message,status:"error",duration:5e3,isClosable:!0})}};return u.jsxs(mt,{isOpen:t,onClose:e,children:[u.jsx(yt,{}),u.jsxs(gt,{children:[u.jsx(vt,{bg:"teal.300",color:"white",roundedTop:"md",children:"Add New Student"}),u.jsx(St,{}),u.jsxs(_t,{pb:6,children:[u.jsxs(xe,{children:[u.jsx(Te,{children:"Email"}),u.jsx(Oe,{placeholder:"Email",value:n,onChange:b=>r(b.target.value)})]}),u.jsxs(xe,{mt:4,children:[u.jsx(Te,{children:"Password"}),u.jsx(Oe,{placeholder:"Password",type:"password",value:s,onChange:b=>i(b.target.value)})]}),u.jsxs(xe,{mt:4,children:[u.jsx(Te,{children:"Student ID"}),u.jsx(Oe,{placeholder:"Student ID",value:o,onChange:b=>a(b.target.value)})]}),u.jsxs(xe,{mt:4,children:[u.jsx(Te,{children:"First Name"}),u.jsx(Oe,{placeholder:"First Name",value:l,onChange:b=>c(b.target.value)})]}),u.jsxs(xe,{mt:4,children:[u.jsx(Te,{children:"Last Name"}),u.jsx(Oe,{placeholder:"Last Name",value:d,onChange:b=>f(b.target.value)})]}),u.jsxs(xe,{mt:4,children:[u.jsx(Te,{children:"Description"}),u.jsx(Oe,{placeholder:"Short description about the student",value:p,onChange:b=>m(b.target.value)})]}),u.jsxs(xe,{mt:4,children:[u.jsx(Te,{children:"Image URL"}),u.jsx(Oe,{placeholder:"URL of the student's image",value:_,onChange:b=>y(b.target.value)})]})]}),u.jsxs(Ft,{bg:"teal.300",color:"white",roundedTop:"md",children:[u.jsx(se,{colorScheme:"teal",mr:3,onClick:x,children:"Add"}),u.jsx(se,{onClick:e,children:"Cancel"})]})]})]})};class zue{constructor(e=null,n=null,r=null){this.id=null,this.points=e,this.staff_id=n,this.admin_id=r}}class Su extends ys{constructor(e=null,n=null,r=null,s=null,i=null,o=null){super(e,n,r,s,i,o,"admin")}async create(){const e=gi(K),n=J(K,"users",this.id);e.set(n,{...this,role:"admin"});const r=J(K,"users",this.id,"notifications","default");return e.set(r,{}),await e.commit(),!0}static async is_admin(e){try{const n=J(K,"users",e),r=await nt(n);return r.exists()?r.data().role==="admin":(console.error(`user doc does not exist for admin ID: ${e}`,error),!1)}catch(n){return console.error("error checking if user is a admin: ",n),!1}}static async POST_admin(e,n,r,s,i,o,a){try{return await Mn(K,async l=>{const c=new Su(e,n,r,s,o,a),d=J(K,"users",e);if((await l.get(d)).exists())throw new Error("Admin already exists");l.set(d,{...c,password:i})}),{status:200,message:"Admin successfully created"}}catch(l){return console.error("Error creating admin:",l),{status:500,message:l.message||"Failed to create admin"}}}static async GET_admin(e){try{let n={status:200,body:null};const r=J(K,"users",e),s=await nt(r);return!s.exists()||s.empty?(console.error("user doc does not exist or is empty for staff"),{status:404,body:"Student not found"}):(n.body=s.data(),await this.is_admin(n.body.id)?n:{status:404,body:"Student not found"})}catch{return{status:500,body:"Server unable to find staff"}}}static async GET_admin_ALL(){try{let e={status:200,body:[]};const n=le(K,"users"),r=On(n,Hr("role","==","admin")),s=await qt(r);return s.empty?{status:404,body:"Staff not found"}:(s.forEach(i=>{e.body.push(i.data())}),e)}catch(e){return console.error("error retrieving all admin: ",e),{status:500,body:"Server unable to retrieve admin"}}}static async POST_admin_allot_points(e,n,r){try{return await Mn(K,async i=>{const o=J(K,"users",n);if((await i.get(o)).data().role!=="admin")return{status:401,body:"Unauthorized"};const c=J(K,"users",e),f=(await i.get(c)).data();if(f.role!=="staff")return{status:401,body:"Unauthorized target"};const p=le(K,"users",e,"notifications"),m=J(p),_=new xy(null,n,e,"Points Allotted",`You have been allotted an additional ${r} points`);i.set(m,{..._,uid:m.id});const y=new zue(r,e,n),S=le(K,"allotpointlogs"),x=await D1(S,{...y});return i.update(x,{id:x.id}),i.update(c,{current_pts:Number(f.current_pts)+Number(r)}),{status:200,body:"Points allotted successfully"}})||{status:500,body:"Server unable to retrieve allotment"}}catch(s){return console.error("error retrieving allotment: ",s),{status:500,body:"Server unable to retrieve allotment"}}}static async add_user_to_sys(e,n,r,s,i,o,a){try{const l=new ys(e,n,r,s,i,o,a),c=await l.email_available(),d=await l.id_available();if(!c||!d)return console.error("id or email unavailable"),{status:500,body:"ID or email unavailable"};const f=await l.create();return{status:200,body:"Account created successfully"}}catch{return{status:500,body:"Server unable to create user"}}}static async csv_users(e){try{const n=le(K,"users");for(const r of e){if(r.role==="student"){const s=J(K,"users",r.id),i=gi(K);i.set(s,{id:r.id,first_name:r.first_name,last_name:r.last_name,img_url:r.img_url,uid:null,email:r.email,role:r.role,desc:r.desc,current_pts:0,spent_pts:0,accumulated_pts:0});const o=le(s,"notifications"),a=le(s,"pointlogs"),l=le(s,"redeemlogs"),c=le(s,"courses");i.set(J(o),{}),i.set(J(a),{}),i.set(J(l),{}),i.set(J(c),{});const d=J(K,"leaderboard",r.id);i.set(d,{id:r.id,rank:Number.MAX_SAFE_INTEGER}),await i.commit()}if(r.role==="staff"){const s=J(K,"users",r.id),i=gi(K);return i.set(s,{id:r.id,first_name:r.first_name,last_name:r.last_name,img_url:r.img_url,uid:null,email:r.email,role:r.role,desc:r.desc,current_pts:300,spent_pts:0}),i.set(J(le(s,"notifications"),"initial"),{}),i.set(J(le(s,"pointlogs"),"initial"),{}),i.set(J(le(s,"allotpointlogs"),"initial"),{}),i.set(J(le(s,"courses"),"initial"),{}),await i.commit(),!0}if(r.role==="admin"){const s=J(K,"users",r.id),i=gi(K);return i.set(s,{id:r.id,first_name:r.first_name,last_name:r.last_name,img_url:r.img_url,uid:null,email:r.email,role:r.role,desc:r.desc}),i.set(J(le(s,"notifications"),"initial"),{}),i.set(J(le(s,"pointlogs"),"initial"),{}),i.set(J(le(s,"allotpointlogs"),"initial"),{}),await i.commit(),!0}}return!0}catch(n){console.error("Error handling array of objects:",n)}}static async csv_course(e){try{for(const n of e){let r=await Js.POST_course(n.code,n.period,n.name,n.desc,n.year,n.semester,n.img_url)}return!0}catch{throw new Error("Error creating courses via csv")}}static async csv_enroll(e){try{for(const n of e){console.log("user id ",n.user_id),console.log("course id ",n.course_id);let r=await Js.POST_course_register(n.user_id,n.course_id)}return!0}catch{throw new Error("Error creating courses via csv")}}}const Bue=async(t,e,n)=>{try{return await Su.POST_admin_allot_points(t,e,n)}catch(r){throw console.error("Error in getting student redeem logs :",r),r}},Uue=async t=>{if(!t.email||!t.password||!t.first_name||!t.last_name||!t.id)throw new Error("All required fields must be filled.");const e=bu();try{const r=(await Fh(e,t.email,t.password)).user.uid,s=await Su.POST_admin(r,t.first_name,t.last_name,t.email,t.desc,t.img_url);return s.status===200?(console.log("Admin created successfully:",s.body),{success:!0,message:"Admin created successfully"}):(console.error("Failed to create admin:",s.body),{success:!1,message:s.body})}catch(n){return console.error("Error creating admin:",n),{success:!1,message:n.message||"An unexpected error occurred while adding the admin"}}},Wue=({isOpen:t,onClose:e})=>{const[n,r]=g.useState(""),[s,i]=g.useState(""),[o,a]=g.useState(""),[l,c]=g.useState(""),[d,f]=g.useState(""),[p,m]=g.useState(""),[_,y]=g.useState(""),[S,x]=g.useState(!1),b=Gn(),w=async()=>{if(!n||!s||!o||!l||!d){b({title:"Required fields missing",description:"Please ensure all required fields are filled out.",status:"error",duration:5e3,isClosable:!0});return}x(!0);const j={email:n,password:s,id:o,first_name:l,last_name:d,desc:p,img_url:_};try{const O=await vue(j);if(O.success)b({title:"Staff added successfully",description:"The new staff member has been successfully added.",status:"success",duration:5e3,isClosable:!0}),k(),e();else throw new Error(O.message)}catch(O){b({title:"Error adding staff",description:O.message||"Failed to add staff.",status:"error",duration:5e3,isClosable:!0})}finally{x(!1)}},k=()=>{r(""),i(""),c(""),f(""),a(""),y(""),m("")};return u.jsxs(mt,{isOpen:t,onClose:()=>{k(),e()},children:[u.jsx(yt,{}),u.jsxs(gt,{children:[u.jsx(vt,{bg:"teal.300",color:"white",roundedTop:"md",children:"Add New Staff Member"}),u.jsx(St,{}),u.jsxs(_t,{pb:6,children:[u.jsxs(xe,{children:[u.jsx(Te,{children:"Email"}),u.jsx(Oe,{placeholder:"Email",value:n,onChange:j=>r(j.target.value)})]}),u.jsxs(xe,{mt:4,children:[u.jsx(Te,{children:"Password"}),u.jsx(Oe,{type:"password",placeholder:"Password",value:s,onChange:j=>i(j.target.value)})]}),u.jsxs(xe,{mt:4,children:[u.jsx(Te,{children:"Staff ID"}),u.jsx(Oe,{placeholder:"Staff ID",value:o,onChange:j=>a(j.target.value)})]}),u.jsxs(xe,{mt:4,children:[u.jsx(Te,{children:"First Name"}),u.jsx(Oe,{placeholder:"First Name",value:l,onChange:j=>c(j.target.value)})]}),u.jsxs(xe,{mt:4,children:[u.jsx(Te,{children:"Last Name"}),u.jsx(Oe,{placeholder:"Last Name",value:d,onChange:j=>f(j.target.value)})]}),u.jsxs(xe,{mt:4,children:[u.jsx(Te,{children:"Description"}),u.jsx(Oe,{placeholder:"Description",value:p,onChange:j=>m(j.target.value)})]}),u.jsxs(xe,{mt:4,children:[u.jsx(Te,{children:"Image URL"}),u.jsx(Oe,{placeholder:"Image URL",value:_,onChange:j=>y(j.target.value)})]})]}),u.jsxs(Ft,{bg:"teal.300",color:"white",roundedTop:"md",children:[u.jsx(se,{colorScheme:"teal",mr:3,onClick:w,isLoading:S,children:"Add"}),u.jsx(se,{onClick:()=>{k(),e()},children:"Cancel"})]})]})]})},Hue=({isOpen:t,onClose:e})=>{const[n,r]=g.useState(""),[s,i]=g.useState(""),[o,a]=g.useState(""),[l,c]=g.useState(""),[d,f]=g.useState(""),[p,m]=g.useState(""),[_,y]=g.useState(""),S=Gn(),x=async()=>{if(!n.trim()||!s.trim()||!o.trim()||!l.trim()||!d.trim()){S({title:"Required fields missing",description:"Please ensure all required fields are filled out.",status:"error",duration:5e3,isClosable:!0});return}const b={id:o,first_name:l,last_name:d,email:n,password:s,desc:_,img_url:p};try{const w=await Uue(b);if(w.success)S({title:"Admin Added",description:"The new admin has been successfully added.",status:"success",duration:5e3,isClosable:!0}),r(""),i(""),a(""),c(""),f(""),m(""),y(""),e();else throw new Error(w.message)}catch(w){S({title:"Error Adding Admin",description:w.message,status:"error",duration:5e3,isClosable:!0})}};return u.jsxs(mt,{isOpen:t,onClose:e,children:[u.jsx(yt,{}),u.jsxs(gt,{maxW:{base:"90%",sm:"70%",md:"500px",lg:"600px"},children:[u.jsx(vt,{bg:"teal.300",color:"white",roundedTop:"md",children:"Add New Admin"}),u.jsx(St,{}),u.jsxs(_t,{pb:6,children:[u.jsxs(xe,{isRequired:!0,children:[u.jsx(Te,{children:"Email"}),u.jsx(Oe,{placeholder:"Email",value:n,onChange:b=>r(b.target.value)})]}),u.jsxs(xe,{isRequired:!0,mt:4,children:[u.jsx(Te,{children:"Password"}),u.jsx(Oe,{placeholder:"Password",type:"password",value:s,onChange:b=>i(b.target.value)})]}),u.jsxs(xe,{isRequired:!0,mt:4,children:[u.jsx(Te,{children:"Admin ID"}),u.jsx(Oe,{placeholder:"Admin ID",value:o,onChange:b=>a(b.target.value)})]}),u.jsxs(xe,{isRequired:!0,mt:4,children:[u.jsx(Te,{children:"First Name"}),u.jsx(Oe,{placeholder:"First Name",value:l,onChange:b=>c(b.target.value)})]}),u.jsxs(xe,{isRequired:!0,mt:4,children:[u.jsx(Te,{children:"Last Name"}),u.jsx(Oe,{placeholder:"Last Name",value:d,onChange:b=>f(b.target.value)})]}),u.jsxs(xe,{mt:4,children:[u.jsx(Te,{children:"Image URL (optional)"}),u.jsx(Oe,{placeholder:"Image URL",value:p,onChange:b=>m(b.target.value)})]}),u.jsxs(xe,{mt:4,children:[u.jsx(Te,{children:"Description (optional)"}),u.jsx(Oe,{placeholder:"Description",value:_,onChange:b=>y(b.target.value)})]})]}),u.jsxs(Ft,{bg:"teal.300",roundedTop:"md",children:[u.jsx(se,{colorScheme:"teal",mr:3,onClick:x,children:"Add"}),u.jsx(se,{variant:"ghost",onClick:e,children:"Close"})]})]})]})},que=({isOpen:t,onClose:e})=>{const[n,r]=g.useState(""),s=Gn(),i=async a=>{try{const l=a.target.files[0],c=new FileReader;c.onload=async function(d){const m=d.target.result.split(`
`).filter(_=>_.trim()!=="").map(_=>{const y=_.split(",");return{uid:null,id:y[0],first_name:y[1],last_name:y[2],email:y[3],img_url:null,desc:y[4],role:y[5]}});r(m)},c.readAsText(l)}catch(l){console.error("Error handling CSV file:",l)}},o=async()=>{try{if(await Su.csv_users(n))s({title:"Users added successfully",description:"The new users have been successfully added.",status:"success",duration:5e3,isClosable:!0}),e();else throw new Error("Error adding Users")}catch(a){console.error("Error submitting CSV:",a)}};return u.jsxs(mt,{isOpen:t,onClose:e,children:[u.jsx(yt,{}),u.jsxs(gt,{children:[u.jsx(vt,{bg:"teal.300",color:"white",roundedTop:"md",children:"Add New Users"}),u.jsx(St,{}),u.jsx(_t,{pb:6,children:u.jsxs(xe,{children:[u.jsx(Te,{children:"Upload User CSV"}),u.jsx(Oe,{type:"file",placeholder:"User CSV file",onChange:i})]})}),u.jsxs(Ft,{bg:"teal.300",color:"white",roundedTop:"md",children:[u.jsx(se,{colorScheme:"teal",mr:3,onClick:o,children:"Add"}),u.jsx(se,{onClick:e,children:"Cancel"})]})]})]})},Gue=({isOpen:t,onClose:e})=>{const[n,r]=g.useState(""),s=Gn(),i=async a=>{try{const l=a.target.files[0],c=new FileReader;c.onload=async function(d){const m=d.target.result.split(`
`).filter(_=>_.trim()!=="").map(_=>{const y=_.split(",");return{code:y[0],period:y[1],name:y[2],desc:y[3],year:y[4],semester:y[5],img:null}});r(m)},c.readAsText(l)}catch(l){console.error("Error handling CSV file:",l)}},o=async()=>{try{if(await Su.csv_course(n))s({title:"Courses added successfully",description:"The new courses have been successfully added.",status:"success",duration:5e3,isClosable:!0}),e();else throw new Error("Error adding Users")}catch(a){console.error("Error submitting CSV:",a)}};return u.jsxs(mt,{isOpen:t,onClose:e,children:[u.jsx(yt,{}),u.jsxs(gt,{children:[u.jsx(vt,{bg:"teal.300",color:"white",roundedTop:"md",children:"Add New Courses"}),u.jsx(St,{}),u.jsx(_t,{pb:6,children:u.jsxs(xe,{children:[u.jsx(Te,{children:"Upload Course CSV"}),u.jsx(Oe,{type:"file",placeholder:"User CSV file",onChange:i})]})}),u.jsxs(Ft,{bg:"teal.300",color:"white",roundedTop:"md",children:[u.jsx(se,{colorScheme:"teal",mr:3,onClick:o,children:"Add"}),u.jsx(se,{onClick:e,children:"Cancel"})]})]})]})},Kue=({isOpen:t,onClose:e})=>{const[n,r]=g.useState(""),s=Gn(),i=async a=>{try{const l=a.target.files[0],c=new FileReader;c.onload=async function(d){const m=d.target.result.split(`
`).filter(_=>_.trim()!=="").map(_=>{const y=_.split(",");return{user_id:y[0],course_id:y[1]}});r(m)},c.readAsText(l)}catch(l){console.error("Error handling CSV file:",l)}},o=async()=>{try{if(console.log(n),await gue(n))s({title:"Users enrolled successfully",description:"Users have been successfully enrolled to courses.",status:"success",duration:5e3,isClosable:!0}),e();else throw new Error("Error adding Users")}catch(a){console.error("Error submitting CSV:",a)}};return u.jsxs(mt,{isOpen:t,onClose:e,children:[u.jsx(yt,{}),u.jsxs(gt,{children:[u.jsx(vt,{bg:"teal.300",color:"white",roundedTop:"md",children:"Enroll Users"}),u.jsx(St,{}),u.jsx(_t,{pb:6,children:u.jsxs(xe,{children:[u.jsx(Te,{children:"Upload Enrollment CSV"}),u.jsx(Oe,{type:"file",placeholder:"Enrollment CSV file",onChange:i})]})}),u.jsxs(Ft,{bg:"teal.300",color:"white",roundedTop:"md",children:[u.jsx(se,{colorScheme:"teal",mr:3,onClick:o,children:"Add"}),u.jsx(se,{onClick:e,children:"Cancel"})]})]})]})};function Que({userType:t}){const e=Ir(),[n,r]=g.useState("");g.useState("");const[s,i]=g.useState(!1),[o,a]=g.useState(!1),[l,c]=g.useState([]),[d,f]=g.useState([]),[p,m]=g.useState(!1);g.useState(!1);const[_,y]=g.useState(!1),[S,x]=g.useState(!1),[b,w]=g.useState(!1),[k,j]=g.useState(!1),[O,C]=g.useState(!1),T={display:"flex",justifyContent:"center",alignItems:"center"},I={display:"flex",justifyContent:"center",fontSize:"1.5rem",fontWeight:"bold",color:Ci,marginTop:"20px"},P={display:"flex",flexDirection:"column",width:"80%",alignItems:"center",justifyContent:"center",margin:"auto"},N=pe=>{pe.stopPropagation(),e("/course-page")},M=pe=>{pe.stopPropagation(),e("/merit-shop")},R=pe=>{r(pe.target.value)},$=()=>{i(!0)},Q=()=>{a(!0)},ne=()=>{m(!0)},B=()=>{y(!0)},q=()=>{x(!0)},ee=()=>{w(!0)},he=()=>{j(!0)},ue=()=>{C(!0)},ve=async()=>{let pe=[];if(t==="student"||t==="staff"){const Y=await Yr();pe=await $h(Y.id)}c(pe.body||[])},ie=async()=>{let pe=[];if(t==="staff"){const Y=await Yr();pe=await wue(Y.id),console.log(pe)}f(pe.body)},Ee=pe=>{t==="student"&&e(`/course-students/${pe.id}`,{state:{data:pe}})};g.useEffect(()=>{t==="student"&&ve(),t==="staff"&&ie()},[t]);const Ie=pe=>{n==="staff"||n==="student"?e(`/profile-page/${pe.id}`,{state:{data:pe}}):e(`/course-page/${pe.id}`,{state:{data:pe}})},je=t==="admin";if(t==="admin"||t==="adminDemo")return u.jsxs(W,{width:{base:"100%",md:"90%"},backgroundColor:"white",mx:"auto",height:"100%",minHeight:{base:"calc(100vh - 136px)",md:"calc(100vh - 166px)"},children:[u.jsx(H,{className:"page-title",textAlign:"center",children:"Admin Tools"}),u.jsxs(ye,{my:"2",width:"90%",mx:"auto",justifyContent:"center",children:[u.jsx(W,{width:"60%",textAlign:"right",justifyContent:"right",children:u.jsx(Wo,{searchType:n,onSelectItem:Ie})}),u.jsx(xe,{width:"fit-content",ml:"10px",mt:"3",justifyContent:"left",children:u.jsxs(Oi,{value:n,onChange:R,width:"fit-content",marginBottom:"20px",children:[u.jsx("option",{value:"",disabled:!0,hidden:!0,children:"Search by"}),u.jsx("option",{value:"course",children:"Course"}),u.jsx("option",{value:"staff",children:"Lecturers"}),u.jsx("option",{value:"student",children:"Student"})]})})]}),u.jsx(H,{fontWeight:"bold",fontSize:"lg",mt:"20px",textAlign:"center",children:"Manage Courses"}),u.jsx(W,{py:"20px",marginTop:"20px",textAlign:"center",border:"2px solid teal",borderRadius:"15px",maxWidth:"90%",width:{base:"90%",md:"50%"},m:"auto",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",bg:"teal.50",children:u.jsxs(ye,{direction:"row",mx:"auto",justifyContent:"center",align:"center",mt:"5",children:[u.jsxs(se,{colorScheme:"teal",onClick:N,children:["Go to Courses ",u.jsx(Kc,{})]}),u.jsx(se,{colorScheme:"teal",onClick:Q,children:"Add Course"})," ",u.jsx(RV,{isOpen:o,courseData:null,onClose:()=>a(!1),mode:"add-course"}),u.jsx(se,{colorScheme:"teal",onClick:he,isDisabled:!je,children:"Add via CSV"})," ",u.jsx(Gue,{isOpen:k,onClose:()=>j(!1)}),u.jsx(se,{colorScheme:"teal",onClick:ue,isDisabled:!je,children:"Enroll via CSV"})," ",u.jsx(Kue,{isOpen:O,onClose:()=>C(!1)})]})}),u.jsx(H,{fontWeight:"bold",fontSize:"lg",mt:"20px",textAlign:"center",children:"Manage Merit Shop"}),u.jsxs(W,{marginTop:"20px",textAlign:"center",border:"2px solid teal",py:"20px",borderRadius:"15px",maxWidth:"90%",width:{base:"90%",md:"50%"},m:"auto",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",bg:"teal.50",children:[u.jsxs(se,{colorScheme:"teal",onClick:M,children:["Go to Merit Shop ",u.jsx(Kc,{})]}),u.jsx(se,{colorScheme:"teal",onClick:$,children:"Add Prize"}),u.jsx(Tw,{isOpen:s,prizeData:null,onClose:()=>i(!1),mode:"add-prize"})]}),u.jsx(H,{fontWeight:"bold",fontSize:"lg",mt:"20px",textAlign:"center",children:"A New User"}),u.jsx(W,{marginTop:"20px",textAlign:"center",border:"2px solid teal",py:"20px",borderRadius:"15px",maxWidth:"90%",width:{base:"90%",md:"50%"},m:"auto",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",bg:"teal.50",children:u.jsxs(ye,{direction:"row",justifyContent:"center",mx:"auto",align:"center",mt:"5",children:[u.jsx(se,{colorScheme:"teal",mb:"4",onClick:ne,isDisabled:!je,children:"Add Student"}),u.jsx($ue,{isOpen:p,onClose:()=>m(!1)}),u.jsx(se,{colorScheme:"teal",mb:"4",onClick:B,isDisabled:!je,children:"Add Staff"}),u.jsx(Wue,{isOpen:_,onClose:()=>y(!1)}),u.jsx(se,{colorScheme:"teal",mb:"4",onClick:q,isDisabled:!je,children:"Add Admin"}),u.jsx(Hue,{isOpen:S,onClose:()=>x(!1)}),u.jsx(se,{colorScheme:"teal",mb:"4",onClick:ee,isDisabled:!je,children:"Add via CSV"}),u.jsx(que,{isOpen:b,onClose:()=>w(!1)})]})})]});if(t==="staff")return u.jsxs(W,{width:{base:"100%",md:"90%"},backgroundColor:"white",mx:"auto",minHeight:{base:"calc(100vh - 136px)",md:"calc(100vh - 166px)"},children:[u.jsx(Os,{height:"10px"}),u.jsx("div",{className:"page-title",children:"My Dashboard"}),u.jsxs(ye,{flexDirection:{base:"column",md:"row"},flexWrap:"wrap",mx:"auto",w:"90%",justifyContent:"space-around",children:[u.jsxs(W,{sx:T,w:{base:"90%",md:"40%"},mx:"auto",flexDirection:"column",children:[u.jsx(H,{sx:I,children:"My Stats"}),u.jsx(GP,{userType:t})]}),u.jsxs(W,{w:{base:"90%",md:"60%"},mx:"auto",flexDirection:"column",children:[u.jsx(H,{sx:I,children:"Top Earners"}),u.jsx(H,{children:"See the top earner from each of your courses."}),u.jsx(Os,{height:4}),u.jsx(W,{sx:P,children:Array.isArray(d)&&d.length>0?d.map((pe,Y)=>u.jsx(W,{py:"5px",width:"100%",children:u.jsx(Nue,{data:pe})},Y)):u.jsx(H,{children:"No top earners"})})]})]})]});if(t==="student")return u.jsxs(W,{width:{base:"100%",md:"90%"},backgroundColor:"white",mx:"auto",height:"100%",minHeight:{base:"calc(100vh - 136px)",md:"calc(100vh - 166px)"},children:[u.jsx(Os,{height:"10px"}),u.jsx("div",{className:"page-title",children:"My Dashboard"}),u.jsx(Xt,{borderColor:"teal.200",w:"80%",mx:"auto"}),u.jsxs(ye,{flexDirection:{base:"column",md:"row"},flexWrap:"wrap",mx:"auto",w:"100%",justifyContent:"space-around",children:[u.jsxs(W,{sx:T,w:{base:"90%",md:"40%"},mx:"auto",flexDirection:"column",children:[u.jsx(H,{sx:I,children:"My Stats"}),u.jsx(Os,{height:4}),u.jsx(W,{sx:P,children:u.jsx(GP,{userType:t})})]}),u.jsxs(W,{w:{base:"90%",md:"60%"},mx:"auto",children:[u.jsx(H,{sx:I,children:"My Courses"}),u.jsx(Os,{height:4}),u.jsx(W,{sx:P,children:u.jsx(ye,{direction:"row",flexWrap:"wrap",children:l&&l.length>0?l.map(pe=>u.jsx(W,{py:3,px:2,shadow:"md",borderWidth:"1px",borderRadius:"lg",_hover:{boxShadow:"xl",cursor:"pointer"},onClick:()=>Ee(pe),children:u.jsxs(ye,{alignItems:"center",gap:2,children:[u.jsx(W,{flexShrink:0,ml:"1",children:u.jsx(Pr,{name:pe.name,borderRadius:"full",boxSize:"60px",src:pe.img_url,alt:pe.name})}),u.jsxs(W,{children:[u.jsx(W,{textAlign:"right",fontSize:"12px",children:pe.period}),u.jsxs(W,{flex:"1",textAlign:"center",children:[u.jsx(H,{fontSize:"md",fontWeight:"bold",children:pe.name}),u.jsx(H,{fontSize:"small",mt:1,children:pe.code})]})]})]})},pe.id)):u.jsx(H,{children:"No courses"})})})]})]})]})}const Yue=t=>{const{rank:e,img_url:n,first_name:r,last_name:s,id:i,current_pts:o,accumulated_pts:a,i:l}=t.data,[c,d]=g.useState(0),f=l%2===0?"teal.100":"teal.50",p=Di({base:!1,md:!0,lg:!0}),m=Ir(),_=(P,N)=>{N.stopPropagation(),m(`/assign-points/${P}`,{state:{data:t.data}})},y=()=>{t.handleOpenStudentModal(c)},S={boxRadius:Za,backgroundColor:f,padding:Lt,borderRadius:my,border:"1px solid #d3d3d3",w:"100%",transition:"transform 0.3s",_hover:{transform:"scale(1.05)",backgroundColor:"teal.200",boxShadow:"0 0 4px 2px #f7d086","& .rank":{color:Ze},"& .title":{color:Ze},"& .count":{color:Ze},"& .actionicon":{color:Ze}}},x={fontSize:gy,marginRight:Lt,marginLeft:Lt,color:Ci,fontWeight:"bold"},b={flex:1,textAlign:"left"},w={color:Ci,fontWeight:"bold"},k={color:Ze},j={},O={fontWeight:"bold",color:Ci,fontSize:uL,pading:0},C={fontSize:Lt},T={fontSize:Mh,color:doe,paddingLeft:Lt},I=()=>{if(t.userType==="staff"||t.userType==="admin")return u.jsx(u.Fragment,{children:u.jsx(W,{className:"actionicon",textAlign:"right",children:u.jsxs(se,{colorScheme:"teal",marginRight:"5px",onClick:P=>_(i,P),children:["Assign Points",u.jsx(Kc,{sx:T})]})})})};return u.jsxs(W,{sx:S,onClick:y,style:{cursor:"pointer"},children:[u.jsxs(ye,{align:"center",children:[u.jsx(H,{className:"rank",sx:x,children:e}),u.jsx(W,{children:u.jsx(Pr,{src:n,name:r+" "+s,size:"sm",mr:"10px"})}),u.jsxs(W,{sx:b,children:[u.jsx(H,{className:"title",sx:w,children:r+" "+s}),u.jsx(H,{sx:k,children:i})]}),u.jsxs(W,{sx:j,children:[u.jsx(H,{className:"count",sx:O,children:a}),u.jsx(H,{className:"type",sx:C,children:"MP"})]}),p&&u.jsx(u.Fragment,{children:I()})]}),!p&&(t.userType!=="student"&&u.jsxs(u.Fragment,{children:[u.jsx(Xt,{borderColor:"teal.500",marginTop:"10px"}),I()]})||t.userType==="student"&&u.jsx(u.Fragment,{children:I()}))]})},OV=({isOpen:t,onClose:e,staffID:n,studentID:r})=>{const[s,i]=g.useState([]);g.useState(""),g.useState("");const o=async()=>{try{let l;l=await J1(n);const c=l.body;if(c&&Array.isArray(c))if(c.length>0){let d;r?d=c.filter(p=>p.student_id===r):d=c;const f=await Promise.all(d.map(async p=>{const m=await Y1(p.staff_id),_=await xu(p.student_id),y=`${m.body.first_name} ${m.body.last_name}`,S=`${_.first_name} ${_.last_name}`;return{...p,staffName:y,studentName:S}}));f.sort((p,m)=>m.timestamp-p.timestamp),i(f)}else i([]);else console.log("No Logs found.",l)}catch(l){console.error("Error fetching logs:",l)}};g.useEffect(()=>{t&&n&&o()},[n,t]);const a=l=>{const c={};return l.forEach(d=>{const f=new Date(d.timestamp.seconds*1e3).toLocaleDateString("default",{year:"numeric",month:"short",day:"numeric"});c[f]||(c[f]=[]),c[f].push(d)}),c};return u.jsxs(mt,{isOpen:t,onClose:e,size:"5xl",width:"90%",scrollBehavior:"inside",children:[u.jsx(yt,{}),u.jsxs(gt,{minWidth:"fit-content",children:[u.jsx(vt,{backgroundColor:"#4FD1C5",color:"white",borderRadius:"md",textAlign:"center",children:"Point Award Logs"}),u.jsx(St,{}),u.jsx(_t,{overflowX:"auto",children:s.length===0?u.jsx(H,{textAlign:"center",color:"gray.500",children:"No logs available."}):Object.entries(a(s)).map(([l,c])=>u.jsxs(W,{my:5,children:[u.jsx(H,{fontSize:"lg",fontWeight:"bold",mb:2,textAlign:"center",children:l}),c.map((d,f)=>u.jsxs(ye,{mb:1,justify:"start",width:"100%",alignItems:"center",children:[u.jsx(H,{flex:"0 0 10%",mr:4,fontWeight:"bold",children:new Date(d.timestamp.seconds*1e3).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})}),u.jsxs(W,{flex:"1",py:1,px:4,border:"1px solid gray",borderRadius:"15px",children:[u.jsxs(H,{children:[u.jsxs("strong",{children:[d.points," points"]})," awarded to ",u.jsx("strong",{children:d.studentName})," (Student ID: ",d.student_id,") for ",u.jsx("strong",{children:d.reason}),"."]}),u.jsxs(H,{textAlign:"right",children:[u.jsx("strong",{children:"Awarded By:"})," ",d.staffName]})]})]},f))]},l))})]})]})},Xue=({isOpen:t,onClose:e,studentID:n})=>{const[r,s]=g.useState([]);g.useState(""),g.useState([]);const i=async()=>{try{let a;a=await iue(n);const l=a.body;if(l&&Array.isArray(l))if(l.length>0){const c=await Promise.all(l.map(async d=>{const f=await PV(d.prize_id),p=await xu(d.user_id),m=f.name,_=f.cost,y=`${p.first_name} ${p.last_name}`;return{...d,prizeName:m,prizeCost:_,studentName:y}}));c.sort((d,f)=>d.timestamp-f.timestamp),s(c)}else s([]);else console.log("No Logs found.",a)}catch(a){console.error("Error fetching logs:",a)}};g.useEffect(()=>{t&&n&&i()},[n,t]);const o=a=>{const l={};return a.forEach(c=>{const d=new Date(c.timestamp.seconds*1e3).toLocaleDateString("default",{year:"numeric",month:"short",day:"numeric"});l[d]||(l[d]=[]),l[d].push(c)}),l};return u.jsxs(mt,{isOpen:t,onClose:e,size:"5xl",width:"90%",scrollBehavior:"inside",children:[u.jsx(yt,{}),u.jsxs(gt,{minWidth:"fit-content",children:[u.jsx(vt,{backgroundColor:"#4FD1C5",color:"white",borderRadius:"md",textAlign:"center",children:"Prize Redemption Logs"}),u.jsx(St,{}),u.jsx(_t,{overflowX:"auto",children:r.length===0?u.jsx(H,{textAlign:"center",color:"gray.500",children:"No logs available."}):Object.entries(o(r)).map(([a,l])=>u.jsxs(W,{my:5,children:[u.jsx(H,{fontSize:"lg",fontWeight:"bold",mb:2,textAlign:"center",children:a}),l.map((c,d)=>u.jsxs(ye,{mb:1,justify:"start",width:"100%",alignItems:"center",children:[u.jsx(H,{flex:"0 0 10%",mr:4,fontWeight:"bold",children:new Date(c.timestamp.seconds*1e3).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})}),u.jsx(W,{flex:"1",py:1,px:4,border:"1px solid gray",borderRadius:"15px",children:u.jsxs(H,{children:[u.jsxs("strong",{children:[c.studentName," "]}),"(Student ID: ",c.user_id,') redeemed item "',u.jsx("strong",{children:c.prizeName}),'"  for ',u.jsx("strong",{children:c.prizeCost})," points."]})})]},d))]},a))})]})]})},Jue=({userType:t})=>{const[e,n]=g.useState(null),[r,s]=g.useState([]),[i,o]=g.useState("accumulatedPoints"),[a,l]=g.useState(""),c=Ui(),[d,f]=g.useState(0),p=c.state&&c.state.data,[m,_]=g.useState([]),{courseId:y}=Gh(),S=Ir();g.useState(0);const x=async()=>{try{const R=await Ey(y);if(R){const $=[];for(const Q of R.body){const ne=await EV(Q.id);$.push({...Q,rank:ne})}_($)}else console.log("No students found.")}catch(R){console.error("Error fetching courses:",R)}};g.useEffect(()=>{(async()=>{await x()})()},[]),g.useEffect(()=>{const R=m.filter(Q=>`${Q.first_name} ${Q.last_name}`.toLowerCase().startsWith(a.toLowerCase())||Q.id.toLowerCase().startsWith(a.toLowerCase())),$=I(R,i);s($)},[m,i,a]);const b=R=>{if(l(R.toLowerCase()),R.trim()===""){const $=I(m,i);s($),n(null)}else{const $=m.filter(Q=>`${Q.first_name} ${Q.last_name}`.toLowerCase().startsWith(R.trim().toLowerCase())||Q.id.toLowerCase().startsWith(R.trim().toLowerCase()));s($),n(null)}},w=R=>{n(R),s([R])},[k,j]=g.useState(Array(m.length).fill(!1)),O=R=>{f(R),j($=>{const Q=[...$];return Q[R]=!0,Q})},C=R=>{const $=[...k];$[R]=!1,j($)},T=(R,$)=>{o(R.target.value);const Q=I($,R.target.value);s(Q)},I=(R,$)=>{const Q=[...R];switch($){case"name":Q.sort((ne,B)=>ne.first_name.localeCompare(B.first_name));break;case"id":Q.sort((ne,B)=>ne.id.localeCompare(B.id));break;case"accumulatedPoints":Q.sort((ne,B)=>parseInt(B.accumulated_pts)-parseInt(ne.accumulated_pts));break}return Q},P=u.jsx(u.Fragment,{children:u.jsxs(W,{width:"100%",mx:"auto",children:[u.jsx("h2",{className:"page-title",children:p.name}),u.jsx("h2",{children:p.description}),u.jsx(Xt,{my:1,w:"80%",mx:"auto",borderColor:"gray.300"}),u.jsx(W,{width:"70%",mx:"auto",children:u.jsx(Wo,{searchType:"student",onSelectItem:w,onSearch:b,courseID:p.id})}),u.jsx(Os,{height:2}),u.jsxs(ye,{w:"80%",justifyContent:"space-between",m:"auto",mt:"3",children:[u.jsx(xe,{alignItems:"center",children:u.jsxs(ye,{alignItems:"center",children:[u.jsx(Te,{mr:"2",ml:"3",align:"left",children:"Sort by:"}),u.jsxs(Oi,{value:i,onChange:R=>T(R,r),width:"fit-content",marginBottom:"20px",children:[u.jsx("option",{value:"accumulatedPoints",children:"Accumulated Points"}),u.jsx("option",{value:"id",children:"Student ID"}),u.jsx("option",{value:"name",children:"Student Name"})]})]})}),u.jsxs(ye,{alignItems:"center",children:[u.jsx("p",{children:r.length}),u.jsx("p",{children:"students"})," "]})]}),u.jsx(ye,{alignItems:"center",justifyContent:"center",children:u.jsx(W,{style:{width:"80%",display:"flex",flexDirection:"column",justifyContent:"center"},children:Array.isArray(r)&&r.length>0?r.map((R,$)=>u.jsxs("div",{children:[u.jsxs(W,{children:[u.jsx(Yue,{data:{...R,i:$},userType:t,handleOpenStudentModal:()=>O($)},$),u.jsx(Os,{height:1})]}),u.jsx(Zue,{isOpen:k[$],onClose:()=>C($),userType:t,studentData:R})]},R.id)):u.jsx(H,{children:"No students found for this course."})})})]})}),N=()=>{event.preventDefault(),S(`/course-students/${y}`,{state:{data:p}})},M=()=>{event.preventDefault(),S(`/admin/course/${y}`,{state:{data:p}})};return u.jsxs(W,{display:"flex",flexDirection:"column",height:"100%",width:{base:"100%",md:"90%"},marginX:"auto",backgroundColor:"white",minHeight:{base:"calc(100vh - 136px)",md:"calc(100vh - 166px)"},children:[t!=="admin"||t!=="adminDemo"&&u.jsx(u.Fragment,{children:P}),t==="admin"||t==="adminDemo"&&u.jsxs(af,{isFitted:!0,variant:"enclosed",defaultIndex:1,backgroundColor:"white",children:[u.jsxs(lf,{children:[u.jsx(Li,{onClick:M,children:"Lecturer"}),u.jsx(Li,{onClick:N,children:"Students"})]}),u.jsxs(cf,{children:[u.jsx(Mi,{}),u.jsx(Mi,{width:"100%",children:u.jsx(u.Fragment,{children:P})})]})]})]})},Zue=({isOpen:t,onClose:e,userType:n,studentData:r})=>{const s=Di({base:!1,md:!0,lg:!0}),i=Ir(),[o,a]=g.useState(!1),[l,c]=g.useState(!1),[d,f]=g.useState(null),{courseId:p}=Gh(),m=async()=>{try{const O=await Q1(p);if(O.status===200){const C=O.body;C&&Array.isArray(C)&&C.length>0&&f(C[0])}else console.log("No Lecturer found.")}catch(O){console.error("Error fetching lecturer:",O)}};g.useEffect(()=>{(async()=>{await m()})()},[]);const _=()=>{a(!0)},y=()=>{a(!1)},S=()=>{c(!0)},x=()=>{c(!1)},b={cursor:"pointer",color:"teal",_hover:{color:"blue"}},w=()=>{if(n==="staff"||n==="admin"||n==="adminDemo")return u.jsx(W,{className:"actionicon",textAlign:"right",children:u.jsx(se,{colorScheme:"teal",marginRight:"5px",onClick:O=>k(r.studentid,O),children:"Assign Points"})})},k=(O,C)=>{C.stopPropagation(),i(`/assign-points/${O}`,{state:{data:r}})},j=(O,C)=>{i(`/profile-page/${O}`,{state:{data:r}})};return u.jsxs(u.Fragment,{children:[u.jsxs(mt,{isOpen:t,onClose:e,size:"lg",children:[u.jsx(yt,{}),u.jsxs(gt,{children:[u.jsx(vt,{borderRadius:"md",color:"white",backgroundColor:"#4FD1C5",textAlign:"center",fontSize:"1.5rem",marginBottom:"1px black solid",px:{base:4,md:4},py:{base:2,md:4},children:u.jsx("p",{children:"Student Details"})}),u.jsx(St,{}),u.jsxs(_t,{children:[u.jsxs(ye,{justifyContent:"space-between",children:[u.jsxs(ye,{alignItems:"center",children:[u.jsx(Pr,{onClick:O=>j(r.id),style:{cursor:"pointer"},src:r==null?void 0:r.img_url,name:(r==null?void 0:r.first_name)+" "+(r==null?void 0:r.last_name),size:"md",mr:"4"}),u.jsxs(W,{children:[u.jsx(H,{sx:b,fontWeight:"bold",onClick:O=>j(r.id),children:r.first_name+" "+r.last_name}),u.jsxs(H,{children:["Student ID: ",r.id]})]})]}),s&&u.jsx(W,{textAlign:"right",children:w()})]}),!s&&u.jsx(u.Fragment,{children:w()}),u.jsx(Xt,{mb:"4",mt:"2"}),u.jsx(W,{ml:{base:"2",md:"4"},mt:"2",children:u.jsxs(ye,{textAlign:"left",children:[u.jsxs(W,{minWidth:"100px",children:[u.jsx(H,{fontWeight:"bold",children:"Current Ranking:"}),u.jsx(H,{fontWeight:"bold",children:"Accumulated Points:"}),u.jsx(H,{fontWeight:"bold",children:"Current Points:"})]}),u.jsxs(W,{ml:{base:"10%",md:"20%"},children:[u.jsx(H,{children:r.rank}),u.jsx(H,{children:r.accumulated_pts}),u.jsx(H,{children:r.current_pts})]})]})}),u.jsx(Xt,{my:"4"}),n==="staff"&&u.jsxs(W,{children:[u.jsx(H,{fontWeight:"bold",textAlign:"center",children:"Recent Activity"}),u.jsx(H,{textAlign:"center",mt:"3",children:u.jsx(se,{colorScheme:"teal",onClick:_,children:"See Points Awarded by Me"})})]}),n==="admin"||n==="adminDemo"&&u.jsxs(W,{children:[u.jsx(H,{fontWeight:"bold",textAlign:"center",children:"Recent Activity"}),u.jsx(H,{textAlign:"center",mt:"3",children:u.jsxs(XD,{children:[u.jsx(se,{colorScheme:"teal",onClick:_,children:"See Points Awarded by Staff"}),u.jsx(se,{colorScheme:"teal",onClick:S,children:"See Redemption Logs"})]})})]})]}),u.jsx(Ft,{borderRadius:"md",backgroundColor:"#4FD1C5",w:{base:"100%"},textAlign:"center",px:{base:2,md:4},py:1,children:u.jsx(se,{colorScheme:"teal",onClick:e,children:"Close"})})]})]}),u.jsx(OV,{isOpen:o,onClose:y,staffID:d?d.id:null,studentID:r.id}),u.jsx(Xue,{isOpen:l,onClose:x,studentID:r.id})]})},ede=({userType:t})=>{const[e,n]=g.useState(""),[r,s]=g.useState("My Courses"),[i,o]=g.useState(null),{isOpen:a,onOpen:l,onClose:c}=bm(),d=[{name:"Comp 1600",id:"co222",description:"Introduction to Computing",image:"course1.jpg"},{name:"Comp 2600",id:"co435",description:"Data Structures",image:"course2.jpg"},{name:"Info 101",id:"co324",description:"Information Systems",image:"course3.jpg"}];Ir(),g.useEffect(()=>{s(t==="admin"||t==="adminDemo"?"All Courses":"My Courses")},[t]);const f=S=>{n(S.toLowerCase())},p=d.filter(S=>S.name.toLowerCase().startsWith(e)),m=(S,x)=>{x.stopPropagation(),console.log("Edit Course:",S)},_=(S,x)=>{x.stopPropagation(),o(S),l()},y=()=>{console.log("Delete Course:",i.id),c()};return u.jsxs(W,{mt:3,margin:"auto",maxWidth:"1000px",width:"80%",children:[u.jsx(H,{mb:4,className:"page-title",children:r}),u.jsx(Wo,{searchType:"course",onSearch:f}),u.jsx(ye,{direction:"column",gap:4,mt:4,children:p.map(S=>u.jsx(W,{p:3,shadow:"md",borderWidth:"1px",borderRadius:"lg",_hover:{boxShadow:"xl",cursor:"pointer"},children:u.jsxs(ye,{alignItems:"center",gap:4,children:[u.jsx(W,{flexShrink:0,ml:"5",children:u.jsx(Pr,{name:S.description,borderRadius:"full",boxSize:"75px",src:S.image,alt:S.name})}),u.jsxs(W,{flex:"1",textAlign:"center",children:[u.jsx(H,{fontSize:"xl",fontWeight:"bold",children:S.name}),u.jsx(H,{mt:1,children:S.description})]}),t==="admin"||t==="adminDemo"&&u.jsxs(u.Fragment,{children:[u.jsx(se,{colorScheme:"blue",onClick:x=>m(S.id,x),children:"Edit"}),u.jsx(se,{colorScheme:"red",onClick:x=>_(S,x),children:"Delete"})]})]})},S.id))}),u.jsx(Qee,{isOpen:a,onClose:c,children:u.jsx(yt,{children:u.jsxs(Yee,{children:[u.jsx(vt,{fontSize:"lg",fontWeight:"bold",children:"Delete Course"}),u.jsxs(_t,{children:["Are you sure you want to delete ",i==null?void 0:i.name,"? This action cannot be undone."]}),u.jsxs(Ft,{children:[u.jsx(se,{onClick:c,children:"Cancel"}),u.jsx(se,{colorScheme:"red",onClick:y,ml:3,children:"Delete"})]})]})})})]})},tde=({userType:t})=>{const e=Ui(),{courseId:n}=Gh(),[r,s]=g.useState(null),i=e.state&&e.state.data,[o,a]=g.useState({goodConduct:0,courseParticipation:0,volunteering:0,extracurricular:0}),[l,c]=g.useState(null),[d,f]=g.useState(!1),[p,m]=g.useState(!1),[_,y]=g.useState(!1),S=Ir(),[x,b]=g.useState(!1),[w,k]=g.useState("student"),j={w:"100%",transition:"transform 0.3s",color:"teal",textDecoration:"underline",cursor:"pointer",padding:"5px",borderRadius:"5px",_hover:{transform:"scale(1.03)",backgroundColor:"teal",color:"white",textDecoration:"underline"}},O=q=>{switch(q){case"goodConduct":return"See award logs for good conduct";case"courseParticipation":return"See award logs for participation in the course";case"volunteering":return"See award logs for volunteering activities";case"extracurricular":return"See award logs for extracurricular activities";default:return""}},C=q=>{c(q),f(!0)},T=()=>{c(null),f(!1)},I=q=>{k(q),b(!0)},P=async()=>{b(!1),w==="staff"&&await N()},N=async()=>{try{const q=await Q1(n);if(q.status===200){const ee=q.body;ee&&Array.isArray(ee)&&ee.length>0&&s(ee[0])}else console.log("No Lecturer found.")}catch(q){console.error("Error fetching lecturer:",q)}};g.useEffect(()=>{r&&(async()=>{try{const ee=await kV(r.id);ee&&a(ee)}catch(ee){console.error("Error fetching points breakdown:",ee)}})()},[r]),g.useEffect(()=>{(async()=>{await N()})()},[]);const M=()=>{event.preventDefault(),S(`/course-students/${n}`,{state:{data:i}})},R=()=>{event.preventDefault(),S(`/admin/course/${n}`,{state:{data:i}})},$=()=>{m(!0)},Q=()=>{m(!1)},ne=()=>{y(!0)},B=()=>{y(!1)};return u.jsxs(W,{display:"flex",flexDirection:"column",height:"100%",width:"90%",marginX:"auto",backgroundColor:"white",minHeight:{base:"calc(100vh - 136px)",md:"calc(100vh - 166px)"},children:[t==="admin"||t==="adminDemo"&&u.jsxs(u.Fragment,{children:[u.jsxs(af,{isFitted:!0,variant:"enclosed",defaultIndex:0,children:[u.jsxs(lf,{children:[u.jsx(Li,{onClick:R,children:"Lecturer"}),u.jsx(Li,{onClick:M,children:"Students"})]}),u.jsxs(cf,{children:[u.jsxs(Mi,{children:[u.jsx("h2",{className:"page-title",my:1,children:i.name}),u.jsx("h2",{children:i.desc}),u.jsx(Xt,{my:1,w:"80%",mx:"auto",borderColor:"gray.300"}),u.jsx(H,{fontSize:"xl",fontWeight:"bold",children:"Lecturer Information"}),u.jsx(ye,{justifyContent:"right",mb:"20px",width:"95%",children:u.jsxs($S,{children:[u.jsx(BS,{p:1,bg:"blue.100",_hover:{bg:"blue.200"},_focus:{bg:"blue.200",outline:"none"},children:u.jsxs(H,{children:["More Tools ",u.jsx(wV,{})]})}),u.jsx(zS,{color:"teal.500",minWidth:"fit-content",children:u.jsx(cc,{onClick:()=>I("student"),fontWeight:"bold",_hover:{bg:"teal.400",color:"white"},children:"Enroll Particpants "})})]})}),r!=null?u.jsx(u.Fragment,{children:u.jsxs(ye,{width:"100%",flexDirection:{base:"column",md:"row"},flexWrap:"wrap",h:"fit-content",justifyContent:"space-around",children:[u.jsxs(W,{borderWidth:"1px",h:"100%",borderRadius:"lg",p:"5",backgroundColor:"white",width:{base:"100%",md:"50%",lg:"40%"},children:[u.jsx(H,{fontSize:"xl",fontWeight:"bold",children:"Personal Information"}),u.jsx(Xt,{borderColor:"teal.200"}),u.jsxs(ye,{h:"100%",p:"20px",children:[u.jsx(Pr,{w:"50%",borderRadius:"none",h:"150px",src:r.img_url||"./img.svg",name:r.first_name,alt:"placeholder"}),u.jsxs(W,{w:"50%",textAlign:"left",p:"10px",my:"auto",children:[u.jsxs(H,{children:[u.jsx(H,{fontWeight:"bold",display:"inline",children:"Name:"})," ",r.first_name," "]}),u.jsxs(H,{children:[u.jsx(H,{fontWeight:"bold",display:"inline",children:"StaffID:"})," ",r.id]}),u.jsxs(H,{children:[u.jsx(H,{fontWeight:"bold",display:"inline",children:"Email:"})," ",r.email]})]})]})]}),u.jsxs(W,{borderWidth:"1px",borderRadius:"lg",p:"5",backgroundColor:"white",width:{base:"100%",md:"50%",lg:"40%"},children:[u.jsx(H,{fontSize:"xl",fontWeight:"bold",children:"Lecturer Statistics"}),u.jsx(Xt,{borderColor:"teal.200"}),u.jsxs(W,{textAlign:"left",p:"20px",my:"auto",mx:"auto",children:[u.jsxs(ye,{m:"auto",justifyContent:"space-between",flexDirection:"column",children:[u.jsxs(H,{backgroundColor:"teal.100",p:"10px",textAlign:"center",fontSize:"lg",fontWeight:"bold",my:"auto",children:["Current Points Balance: ",r&&r.current_pts,"/300"]}),u.jsxs(ye,{justifyContent:"right",children:[u.jsx(se,{colorScheme:"teal",onClick:ne,children:"Allocate Points"}),u.jsx(se,{w:"fit-content",colorScheme:"teal",onClick:$,children:"All Activity"})]})]}),u.jsx(Xt,{borderColor:"teal.300",mb:"10px"}),u.jsxs(W,{mx:4,children:[u.jsx(H,{fontWeight:"bold",children:"Points Awarded Breakdown: "}),u.jsx(W,{w:"100%",textAlign:"left",pl:"10px",children:o&&u.jsxs(W,{w:"100%",textAlign:"left",px:"10px",my:"auto",children:[u.jsx(Ls,{label:O("goodConduct"),placement:"top",children:u.jsxs(H,{sx:j,onClick:()=>C("goodConduct"),children:[u.jsx(H,{fontWeight:"bold",display:"inline",children:"Good Conduct:"})," ",o.goodConduct," points"]})}),u.jsx(Ls,{label:O("courseParticipation"),placement:"top",children:u.jsxs(H,{sx:j,onClick:()=>C("courseParticipation"),children:[u.jsx(H,{fontWeight:"bold",display:"inline",children:"Course Participation:"})," ",o.courseParticipation," points"]})}),u.jsx(Ls,{label:O("volunteering"),placement:"top",children:u.jsxs(H,{sx:j,onClick:()=>C("volunteering"),children:[u.jsx(H,{fontWeight:"bold",display:"inline",children:"Volunteer:"})," ",o.volunteering," points"]})}),u.jsx(Ls,{label:O("extracurricular"),placement:"top",children:u.jsxs(H,{sx:j,onClick:()=>C("extracurricular"),children:[u.jsx(H,{fontWeight:"bold",display:"inline",children:"Extracurricular:"})," ",o.extracurricular," points"]})})]})})]})]})]})]})}):u.jsx(H,{children:"No staff member has been assigned as a lecturer of this course."})]}),u.jsx(Mi,{})]})]}),u.jsx(NV,{isOpen:d,onClose:T,type:l,userID:r?r.id:null,points:l&&o[l]||0})]}),u.jsx(OV,{isOpen:p,onClose:Q,staffID:r?r.id:null}),u.jsx(nde,{isOpen:_,onClose:B,staff:r,fetchLecturer:N}),u.jsx(jV,{isOpen:x,onClose:P,selectedCourse:i,personType:w})]})},nde=({isOpen:t,onClose:e,staff:n,fetchLecturer:r})=>{const[s,i]=g.useState(0),o=Gn(),a=300-(n&&n.current_pts),l=f=>{const{value:p}=f.target;i(p),p>a&&i(a)},c=async f=>{if(f.preventDefault(),s>0)try{const p=await Yr();if(p){const m=await Bue(n.id,p.id,s);console.log(m),m.status===200?(o({title:"Success",description:`${s} points allotted to ${n.first_name} ${n.last_name} `,status:"success",duration:3e3,position:"top-right",isClosable:!0}),r()):o({title:"Error",description:`${m.body} `,status:"error",duration:3e3,position:"top-right",isClosable:!0})}}catch(p){console.error("Error fetching current user:",p)}else console.log("Points must be greater than 0."),o({title:"Error",description:"Points must be greater than 0.",status:"error",duration:3e3,position:"top-right",isClosable:!0});i(0),e()},d=()=>{i(a)};return u.jsxs(mt,{isOpen:t,onClose:e,children:[u.jsx(yt,{}),u.jsxs(gt,{children:[u.jsx(vt,{backgroundColor:"teal.300",color:"white",textAlign:"center",children:"Allocate Points"}),u.jsx(St,{}),u.jsxs(_t,{textAlign:"center",children:["Points Entered will be added to the staff's total. ",u.jsx("strong",{children:"Maximum Balance is 300."})," ",u.jsx("br",{}),u.jsx("strong",{children:"Staff's Current Balance:"})," ",n&&n.current_pts," points",u.jsxs("form",{onSubmit:c,children:[u.jsxs(xe,{p:"20px",children:[u.jsx(Te,{children:"Enter Points"}),u.jsx(Oe,{type:"number",onChange:l,value:s===0?"":s,placeholder:"0",required:!0})]}),u.jsx(se,{mt:4,colorScheme:"teal",onClick:d,children:"Allot Max Points"}),u.jsx(se,{mt:4,colorScheme:"teal",type:"submit",children:"Allocate Points"})]})]})]})]})},rde=({userType:t})=>{const e=Ui(),n=e.pathname==="/login-page",r=e.pathname==="/";return u.jsx(u.Fragment,{children:u.jsx("div",{width:"100%",className:`main-content ${n||r?"login-page":""}`,children:u.jsx(W,{minHeight:"calc(100vh - 166px)",children:u.jsxs(Y4,{children:[u.jsx(Pn,{path:"/merit-shop",element:u.jsx(Pue,{userType:t})}),u.jsx(Pn,{path:"/assign-points",element:u.jsx(UP,{})}),u.jsx(Pn,{path:"/assign-points/:studentId",element:u.jsx(UP,{})}),u.jsx(Pn,{path:"/leaderboard",element:u.jsx(Oue,{userType:t})}),u.jsx(Pn,{path:"/course-page",element:u.jsx(Vue,{userType:t})}),u.jsx(Pn,{path:"/course-students/:courseId",element:u.jsx(Jue,{userType:t})}),u.jsx(Pn,{path:"/profile-page",element:u.jsx(HP,{})}),u.jsx(Pn,{path:"/profile-page/:userId",element:u.jsx(HP,{userType:t})}),u.jsx(Pn,{path:"/login-page",element:u.jsx(qP,{})}),u.jsx(Pn,{path:"/signup-page",element:u.jsx(Fue,{})}),u.jsx(Pn,{path:"/my-dashboard",element:u.jsx(Que,{userType:t})}),u.jsx(Pn,{path:"/admin-courses",element:u.jsx(ede,{userType:t})}),u.jsx(Pn,{path:"/admin/course/:courseId",element:u.jsx(tde,{userType:t})}),u.jsx(Pn,{path:"/",element:u.jsx(qP,{})}),u.jsx(Pn,{path:"/notifications",element:u.jsx(eue,{userType:t})})]})})})})};function sde(){const t=bu(),[e,n]=g.useState(!1),[r,s]=g.useState(null),{hasUnreadNotifications:i,setHasUnreadNotifications:o}=_V(),a=Ir(),l=Gn(),[c,d]=g.useState(null);g.useEffect(()=>{const x=async w=>{if(n(!!w),w){const k=await Yr();d(k),s(w.email),o(await Xce())}},b=t.onAuthStateChanged(x);return()=>b()},[t,o]),g.useEffect(()=>{if(c){const x=Jce(c.id,b=>{o(b)});return()=>x()}},[c,o]);const f={"/":"Student Incentive System","/notifications":"Notifications","/merit-shop":"Merit Shop","/leaderboard":"Leaderboard Rankings","/awards":"Awards page","/course-page":"Courses","/profile-page":"Profile","/login-page":"Login","/signup-page":"Signup","/my-dashboard":"My Dashboard"},m=(x=>f[x]?f[x]:x.startsWith("/course-student")?"Course Students":x.startsWith("/assign-points")?"Assign Points":"Student Incentive System")(window.location.pathname),_=Di({base:"1.5em",md:"2em"}),y=Di({base:"1.5em",md:"2em"}),S=async()=>{try{await Qce(),a("/login-page"),l({title:"Logout Success",description:"Successfully logged out.",status:"success",position:"top",duration:3e3,isClosable:!0})}catch(x){console.log(x)}};return u.jsxs("nav",{className:"topNav",children:[u.jsxs("div",{className:"navTitle",children:[u.jsx($n,{to:"/",children:u.jsx("img",{src:"/logo.png",alt:"Logo",className:"logo"})}),u.jsx("div",{children:e?u.jsxs(u.Fragment,{children:[u.jsx($n,{to:"/my-dashboard",children:u.jsx("h1",{children:"MotivizERS"})}),u.jsx("h2",{children:m})]}):u.jsx("h1",{children:"MotivizERS"})})]}),e&&u.jsxs("div",{className:"navActions",children:[u.jsx($n,{to:"/notifications",children:u.jsxs(W,{position:"relative",children:[u.jsx(nue,{boxSize:_,className:"bell-icon"}),i&&u.jsx(W,{position:"absolute",top:"12px",right:"15px",h:"8px",w:"8px",bg:"red.500",borderRadius:"full"})]})}),u.jsxs($S,{className:"profile-menu",children:[u.jsxs(BS,{className:"menu-button",_hover:{bg:"teal.200",border:"1px #fee6bc solid"},_focus:{bg:"teal.200",outline:"none"},display:"flex",_expanded:{bg:"teal.200"},children:[u.jsx(Pr,{boxSize:y,src:""}),u.jsx(wV,{ml:1,mt:3})]}),u.jsxs(zS,{color:"teal.500",minWidth:"fit-content",fontSize:13,padding:"none",mt:-1,height:"fit-content",children:[u.jsx(cc,{as:"Box",style:{fontWeight:"bold"},children:r}),u.jsx(Jb,{}),u.jsx($n,{to:"/profile-page",children:u.jsx(cc,{border:"none",width:"95%",_hover:{bg:"teal.400",color:"white",boxShadow:"none"},children:"My Profile"})}),u.jsx($n,{to:"/my-dashboard",children:u.jsx(cc,{border:"none",width:"95%",_hover:{bg:"teal.400",color:"white",border:"none"},children:"My Dashboard"})}),u.jsx(Jb,{}),u.jsx(cc,{border:"none",width:"95%",_hover:{bg:"teal.400",color:"white",border:"none"},onClick:S,children:"Log Out"})]})]})]})]})}const ide=({userType:t})=>{const e=Ui(),n=()=>{if(t==="student"||t==="admin"||t==="adminDemo")return u.jsx($n,{to:"/merit-shop",children:u.jsxs("div",{className:"middleNavItem",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",className:"bi bi-shop",viewBox:"0 0 16 16",children:u.jsx("path",{d:"M2.97 1.35A1 1 0 0 1 3.73 1h8.54a1 1 0 0 1 .76.35l2.609 3.044A1.5 1.5 0 0 1 16 5.37v.255a2.375 2.375 0 0 1-4.25 1.458A2.37 2.37 0 0 1 9.875 8 2.37 2.37 0 0 1 8 7.083 2.37 2.37 0 0 1 6.125 8a2.37 2.37 0 0 1-1.875-.917A2.375 2.375 0 0 1 0 5.625V5.37a1.5 1.5 0 0 1 .361-.976zm1.78 4.275a1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0 1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0 1.375 1.375 0 1 0 2.75 0V5.37a.5.5 0 0 0-.12-.325L12.27 2H3.73L1.12 5.045A.5.5 0 0 0 1 5.37v.255a1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0M1.5 8.5A.5.5 0 0 1 2 9v6h1v-5a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1v5h6V9a.5.5 0 0 1 1 0v6h.5a.5.5 0 0 1 0 1H.5a.5.5 0 0 1 0-1H1V9a.5.5 0 0 1 .5-.5M4 15h3v-5H4zm5-5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1zm3 0h-2v3h2z"})}),u.jsx("span",{children:"Merit Shop"})]})});if(t==="staff")return u.jsx($n,{to:"/assign-points",children:u.jsxs("div",{className:"middleNavItem",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",className:"bi bi-patch-plus-fill",viewBox:"0 0 16 16",children:u.jsx("path",{d:"M10.067,.87a2.89,2.89,0,0,0-4.134,0l-.622.638-.89-.011a2.89,2.89,0,0,0-2.924,2.924l.01.89-.636.622a2.89,2.89,0,0,0,0,4.134l.637.622-.011.89a2.89,2.89,0,0,0,2.924,2.924l.89-.01.622.636a2.89,2.89,0,0,0,4.134,0l.622-.637.89.011a2.89,2.89,0,0,0,2.924-2.924l-.01-.89.636-.622a2.89,2.89,0,0,0,0-4.134l-.637-.622.011-.89a2.89,2.89,0,0,0-2.924-2.924l-.89.01ZM8.5,6v1.5H10a.5.5,0,0,1,0,1H8.5V10a.5.5,0,0,1-1,0V8.5H6a.5.5,0,0,1,0-1h1.5V6a.5.5,0,0,1,1,0"})}),u.jsx("span",{children:"Assign Points"})]})})},r=()=>e.pathname==="/"||e.pathname==="/login-page"||e.pathname==="/signup-page"?null:u.jsxs(u.Fragment,{children:[u.jsx($n,{to:"/leaderboard",children:u.jsxs("div",{className:"leftNavItem",children:[u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",className:"bi bi-award-fill",viewBox:"0 0 16 16",children:[u.jsx("path",{d:"m8 0 1.669.864 1.858.282.842 1.68 1.337 1.32L13.4 6l.306 1.854-1.337 1.32-.842 1.68-1.858.282L8 12l-1.669-.864-1.858-.282-.842-1.68-1.337-1.32L2.6 6l-.306-1.854 1.337-1.32.842-1.68L6.331.864z"}),u.jsx("path",{d:"M4 11.794V16l4-1 4 1v-4.206l-2.018.306L8 13.126 6.018 12.1z"})]}),u.jsx("span",{children:"Merit"})]})}),n(),u.jsx($n,{to:"/course-page",children:u.jsxs("div",{className:"rightNavItem",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",className:"bi bi-book-half",viewBox:"0 0 16 16",children:u.jsx("path",{d:"M8.5 2.687c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783"})}),u.jsx("span",{children:"Courses"})]})})]});return u.jsx("nav",{className:"bottomNav",children:r()})},ode=()=>{const[t,e]=g.useState(""),n=bu();return g.useEffect(()=>{const r=ML(n,async s=>{if(s){const i=await gV(s.uid);e(i.role||"guest")}else e("guest")});return()=>r()},[]),u.jsx(RQ,{children:u.jsx(r$,{children:u.jsxs(Zce,{children:[u.jsx(sde,{}),u.jsx(rde,{userType:t}),u.jsx(ide,{userType:t})]})})})};y_.createRoot(document.getElementById("root")).render(u.jsx(ode,{}));
