function LV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var rp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var XP={exports:{}},Jg={},JP={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zh=Symbol.for("react.element"),VV=Symbol.for("react.portal"),FV=Symbol.for("react.fragment"),$V=Symbol.for("react.strict_mode"),zV=Symbol.for("react.profiler"),BV=Symbol.for("react.provider"),UV=Symbol.for("react.context"),WV=Symbol.for("react.forward_ref"),HV=Symbol.for("react.suspense"),qV=Symbol.for("react.memo"),GV=Symbol.for("react.lazy"),mE=Symbol.iterator;function KV(t){return t===null||typeof t!="object"?null:(t=mE&&t[mE]||t["@@iterator"],typeof t=="function"?t:null)}var ZP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},eA=Object.assign,tA={};function nu(t,e,n){this.props=t,this.context=e,this.refs=tA,this.updater=n||ZP}nu.prototype.isReactComponent={};nu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};nu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function nA(){}nA.prototype=nu.prototype;function kw(t,e,n){this.props=t,this.context=e,this.refs=tA,this.updater=n||ZP}var Pw=kw.prototype=new nA;Pw.constructor=kw;eA(Pw,nu.prototype);Pw.isPureReactComponent=!0;var gE=Array.isArray,rA=Object.prototype.hasOwnProperty,Aw={current:null},sA={key:!0,ref:!0,__self:!0,__source:!0};function iA(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)rA.call(e,r)&&!sA.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:zh,type:t,key:i,ref:o,props:s,_owner:Aw.current}}function QV(t,e){return{$$typeof:zh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Rw(t){return typeof t=="object"&&t!==null&&t.$$typeof===zh}function YV(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var vE=/\/+/g;function zy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?YV(""+t.key):e.toString(36)}function Hp(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case zh:case VV:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+zy(o,0):r,gE(s)?(n="",t!=null&&(n=t.replace(vE,"$&/")+"/"),Hp(s,e,n,"",function(c){return c})):s!=null&&(Rw(s)&&(s=QV(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(vE,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",gE(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+zy(i,a);o+=Hp(i,e,n,l,s)}else if(l=KV(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+zy(i,a++),o+=Hp(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function sp(t,e,n){if(t==null)return t;var r=[],s=0;return Hp(t,r,"","",function(i){return e.call(n,i,s++)}),r}function XV(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var qn={current:null},qp={transition:null},JV={ReactCurrentDispatcher:qn,ReactCurrentBatchConfig:qp,ReactCurrentOwner:Aw};Fe.Children={map:sp,forEach:function(t,e,n){sp(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return sp(t,function(){e++}),e},toArray:function(t){return sp(t,function(e){return e})||[]},only:function(t){if(!Rw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Fe.Component=nu;Fe.Fragment=FV;Fe.Profiler=zV;Fe.PureComponent=kw;Fe.StrictMode=$V;Fe.Suspense=HV;Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JV;Fe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=eA({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Aw.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)rA.call(e,l)&&!sA.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:zh,type:t.type,key:s,ref:i,props:r,_owner:o}};Fe.createContext=function(t){return t={$$typeof:UV,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:BV,_context:t},t.Consumer=t};Fe.createElement=iA;Fe.createFactory=function(t){var e=iA.bind(null,t);return e.type=t,e};Fe.createRef=function(){return{current:null}};Fe.forwardRef=function(t){return{$$typeof:WV,render:t}};Fe.isValidElement=Rw;Fe.lazy=function(t){return{$$typeof:GV,_payload:{_status:-1,_result:t},_init:XV}};Fe.memo=function(t,e){return{$$typeof:qV,type:t,compare:e===void 0?null:e}};Fe.startTransition=function(t){var e=qp.transition;qp.transition={};try{t()}finally{qp.transition=e}};Fe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Fe.useCallback=function(t,e){return qn.current.useCallback(t,e)};Fe.useContext=function(t){return qn.current.useContext(t)};Fe.useDebugValue=function(){};Fe.useDeferredValue=function(t){return qn.current.useDeferredValue(t)};Fe.useEffect=function(t,e){return qn.current.useEffect(t,e)};Fe.useId=function(){return qn.current.useId()};Fe.useImperativeHandle=function(t,e,n){return qn.current.useImperativeHandle(t,e,n)};Fe.useInsertionEffect=function(t,e){return qn.current.useInsertionEffect(t,e)};Fe.useLayoutEffect=function(t,e){return qn.current.useLayoutEffect(t,e)};Fe.useMemo=function(t,e){return qn.current.useMemo(t,e)};Fe.useReducer=function(t,e,n){return qn.current.useReducer(t,e,n)};Fe.useRef=function(t){return qn.current.useRef(t)};Fe.useState=function(t){return qn.current.useState(t)};Fe.useSyncExternalStore=function(t,e,n){return qn.current.useSyncExternalStore(t,e,n)};Fe.useTransition=function(){return qn.current.useTransition()};Fe.version="18.2.0";JP.exports=Fe;var g=JP.exports;const nr=Xg(g),y_=LV({__proto__:null,default:nr},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZV=g,e5=Symbol.for("react.element"),t5=Symbol.for("react.fragment"),n5=Object.prototype.hasOwnProperty,r5=ZV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s5={key:!0,ref:!0,__self:!0,__source:!0};function oA(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)n5.call(e,r)&&!s5.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:e5,type:t,key:i,ref:o,props:s,_owner:r5.current}}Jg.Fragment=t5;Jg.jsx=oA;Jg.jsxs=oA;XP.exports=Jg;var u=XP.exports,__={},aA={exports:{}},Ir={},lA={exports:{}},cA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(G,ee){var he=G.length;G.push(ee);e:for(;0<he;){var ue=he-1>>>1,ve=G[ue];if(0<s(ve,ee))G[ue]=ee,G[he]=ve,he=ue;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var ee=G[0],he=G.pop();if(he!==ee){G[0]=he;e:for(var ue=0,ve=G.length,ie=ve>>>1;ue<ie;){var Se=2*(ue+1)-1,Te=G[Se],Ne=Se+1,Me=G[Ne];if(0>s(Te,he))Ne<ve&&0>s(Me,Te)?(G[ue]=Me,G[Ne]=he,ue=Ne):(G[ue]=Te,G[Se]=he,ue=Se);else if(Ne<ve&&0>s(Me,he))G[ue]=Me,G[Ne]=he,ue=Ne;else break e}}return ee}function s(G,ee){var he=G.sortIndex-ee.sortIndex;return he!==0?he:G.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,p=3,m=!1,_=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(G){for(var ee=n(c);ee!==null;){if(ee.callback===null)r(c);else if(ee.startTime<=G)r(c),ee.sortIndex=ee.expirationTime,e(l,ee);else break;ee=n(c)}}function k(G){if(v=!1,w(G),!_)if(n(l)!==null)_=!0,ne(j);else{var ee=n(c);ee!==null&&B(k,ee.startTime-G)}}function j(G,ee){_=!1,v&&(v=!1,x(T),T=-1),m=!0;var he=p;try{for(w(ee),f=n(l);f!==null&&(!(f.expirationTime>ee)||G&&!N());){var ue=f.callback;if(typeof ue=="function"){f.callback=null,p=f.priorityLevel;var ve=ue(f.expirationTime<=ee);ee=t.unstable_now(),typeof ve=="function"?f.callback=ve:f===n(l)&&r(l),w(ee)}else r(l);f=n(l)}if(f!==null)var ie=!0;else{var Se=n(c);Se!==null&&B(k,Se.startTime-ee),ie=!1}return ie}finally{f=null,p=he,m=!1}}var O=!1,C=null,T=-1,I=5,P=-1;function N(){return!(t.unstable_now()-P<I)}function M(){if(C!==null){var G=t.unstable_now();P=G;var ee=!0;try{ee=C(!0,G)}finally{ee?R():(O=!1,C=null)}}else O=!1}var R;if(typeof b=="function")R=function(){b(M)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,X=$.port2;$.port1.onmessage=M,R=function(){X.postMessage(null)}}else R=function(){S(M,0)};function ne(G){C=G,O||(O=!0,R())}function B(G,ee){T=S(function(){G(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){_||m||(_=!0,ne(j))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(G){switch(p){case 1:case 2:case 3:var ee=3;break;default:ee=p}var he=p;p=ee;try{return G()}finally{p=he}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,ee){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var he=p;p=G;try{return ee()}finally{p=he}},t.unstable_scheduleCallback=function(G,ee,he){var ue=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?ue+he:ue):he=ue,G){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=he+ve,G={id:d++,callback:ee,priorityLevel:G,startTime:he,expirationTime:ve,sortIndex:-1},he>ue?(G.sortIndex=he,e(c,G),n(l)===null&&G===n(c)&&(v?(x(T),T=-1):v=!0,B(k,he-ue))):(G.sortIndex=ve,e(l,G),_||m||(_=!0,ne(j))),G},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(G){var ee=p;return function(){var he=p;p=ee;try{return G.apply(this,arguments)}finally{p=he}}}})(cA);lA.exports=cA;var i5=lA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uA=g,Er=i5;function te(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dA=new Set,Wd={};function il(t,e){Rc(t,e),Rc(t+"Capture",e)}function Rc(t,e){for(Wd[t]=e,t=0;t<e.length;t++)dA.add(e[t])}var Ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),b_=Object.prototype.hasOwnProperty,o5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yE={},_E={};function a5(t){return b_.call(_E,t)?!0:b_.call(yE,t)?!1:o5.test(t)?_E[t]=!0:(yE[t]=!0,!1)}function l5(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function c5(t,e,n,r){if(e===null||typeof e>"u"||l5(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Gn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var wn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){wn[t]=new Gn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];wn[e]=new Gn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){wn[t]=new Gn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){wn[t]=new Gn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){wn[t]=new Gn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){wn[t]=new Gn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){wn[t]=new Gn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){wn[t]=new Gn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){wn[t]=new Gn(t,5,!1,t.toLowerCase(),null,!1,!1)});var jw=/[\-:]([a-z])/g;function Dw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(jw,Dw);wn[e]=new Gn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(jw,Dw);wn[e]=new Gn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(jw,Dw);wn[e]=new Gn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){wn[t]=new Gn(t,1,!1,t.toLowerCase(),null,!1,!1)});wn.xlinkHref=new Gn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){wn[t]=new Gn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Nw(t,e,n,r){var s=wn.hasOwnProperty(e)?wn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(c5(e,n,s,r)&&(n=null),r||s===null?a5(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Bi=uA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ip=Symbol.for("react.element"),zl=Symbol.for("react.portal"),Bl=Symbol.for("react.fragment"),Ow=Symbol.for("react.strict_mode"),w_=Symbol.for("react.profiler"),hA=Symbol.for("react.provider"),fA=Symbol.for("react.context"),Mw=Symbol.for("react.forward_ref"),x_=Symbol.for("react.suspense"),S_=Symbol.for("react.suspense_list"),Lw=Symbol.for("react.memo"),lo=Symbol.for("react.lazy"),pA=Symbol.for("react.offscreen"),bE=Symbol.iterator;function Lu(t){return t===null||typeof t!="object"?null:(t=bE&&t[bE]||t["@@iterator"],typeof t=="function"?t:null)}var kt=Object.assign,By;function ed(t){if(By===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);By=e&&e[1]||""}return`
`+By+t}var Uy=!1;function Wy(t,e){if(!t||Uy)return"";Uy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Uy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ed(t):""}function u5(t){switch(t.tag){case 5:return ed(t.type);case 16:return ed("Lazy");case 13:return ed("Suspense");case 19:return ed("SuspenseList");case 0:case 2:case 15:return t=Wy(t.type,!1),t;case 11:return t=Wy(t.type.render,!1),t;case 1:return t=Wy(t.type,!0),t;default:return""}}function E_(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Bl:return"Fragment";case zl:return"Portal";case w_:return"Profiler";case Ow:return"StrictMode";case x_:return"Suspense";case S_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case fA:return(t.displayName||"Context")+".Consumer";case hA:return(t._context.displayName||"Context")+".Provider";case Mw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Lw:return e=t.displayName||null,e!==null?e:E_(t.type)||"Memo";case lo:e=t._payload,t=t._init;try{return E_(t(e))}catch{}}return null}function d5(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return E_(e);case 8:return e===Ow?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Lo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function mA(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function h5(t){var e=mA(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function op(t){t._valueTracker||(t._valueTracker=h5(t))}function gA(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=mA(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Nm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function C_(t,e){var n=e.checked;return kt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function wE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Lo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function vA(t,e){e=e.checked,e!=null&&Nw(t,"checked",e,!1)}function T_(t,e){vA(t,e);var n=Lo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?I_(t,e.type,n):e.hasOwnProperty("defaultValue")&&I_(t,e.type,Lo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function xE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function I_(t,e,n){(e!=="number"||Nm(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var td=Array.isArray;function fc(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Lo(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function k_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(te(91));return kt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function SE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(te(92));if(td(n)){if(1<n.length)throw Error(te(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Lo(n)}}function yA(t,e){var n=Lo(e.value),r=Lo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function EE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function _A(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function P_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?_A(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ap,bA=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ap=ap||document.createElement("div"),ap.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ap.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Hd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var gd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},f5=["Webkit","ms","Moz","O"];Object.keys(gd).forEach(function(t){f5.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),gd[e]=gd[t]})});function wA(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||gd.hasOwnProperty(t)&&gd[t]?(""+e).trim():e+"px"}function xA(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=wA(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var p5=kt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function A_(t,e){if(e){if(p5[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(te(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(te(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(te(61))}if(e.style!=null&&typeof e.style!="object")throw Error(te(62))}}function R_(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var j_=null;function Vw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var D_=null,pc=null,mc=null;function CE(t){if(t=Wh(t)){if(typeof D_!="function")throw Error(te(280));var e=t.stateNode;e&&(e=rv(e),D_(t.stateNode,t.type,e))}}function SA(t){pc?mc?mc.push(t):mc=[t]:pc=t}function EA(){if(pc){var t=pc,e=mc;if(mc=pc=null,CE(t),e)for(t=0;t<e.length;t++)CE(e[t])}}function CA(t,e){return t(e)}function TA(){}var Hy=!1;function IA(t,e,n){if(Hy)return t(e,n);Hy=!0;try{return CA(t,e,n)}finally{Hy=!1,(pc!==null||mc!==null)&&(TA(),EA())}}function qd(t,e){var n=t.stateNode;if(n===null)return null;var r=rv(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(te(231,e,typeof n));return n}var N_=!1;if(Ii)try{var Vu={};Object.defineProperty(Vu,"passive",{get:function(){N_=!0}}),window.addEventListener("test",Vu,Vu),window.removeEventListener("test",Vu,Vu)}catch{N_=!1}function m5(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var vd=!1,Om=null,Mm=!1,O_=null,g5={onError:function(t){vd=!0,Om=t}};function v5(t,e,n,r,s,i,o,a,l){vd=!1,Om=null,m5.apply(g5,arguments)}function y5(t,e,n,r,s,i,o,a,l){if(v5.apply(this,arguments),vd){if(vd){var c=Om;vd=!1,Om=null}else throw Error(te(198));Mm||(Mm=!0,O_=c)}}function ol(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function kA(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function TE(t){if(ol(t)!==t)throw Error(te(188))}function _5(t){var e=t.alternate;if(!e){if(e=ol(t),e===null)throw Error(te(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return TE(s),t;if(i===r)return TE(s),e;i=i.sibling}throw Error(te(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(te(189))}}if(n.alternate!==r)throw Error(te(190))}if(n.tag!==3)throw Error(te(188));return n.stateNode.current===n?t:e}function PA(t){return t=_5(t),t!==null?AA(t):null}function AA(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=AA(t);if(e!==null)return e;t=t.sibling}return null}var RA=Er.unstable_scheduleCallback,IE=Er.unstable_cancelCallback,b5=Er.unstable_shouldYield,w5=Er.unstable_requestPaint,Mt=Er.unstable_now,x5=Er.unstable_getCurrentPriorityLevel,Fw=Er.unstable_ImmediatePriority,jA=Er.unstable_UserBlockingPriority,Lm=Er.unstable_NormalPriority,S5=Er.unstable_LowPriority,DA=Er.unstable_IdlePriority,Zg=null,Fs=null;function E5(t){if(Fs&&typeof Fs.onCommitFiberRoot=="function")try{Fs.onCommitFiberRoot(Zg,t,void 0,(t.current.flags&128)===128)}catch{}}var ds=Math.clz32?Math.clz32:I5,C5=Math.log,T5=Math.LN2;function I5(t){return t>>>=0,t===0?32:31-(C5(t)/T5|0)|0}var lp=64,cp=4194304;function nd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Vm(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=nd(a):(i&=o,i!==0&&(r=nd(i)))}else o=n&~s,o!==0?r=nd(o):i!==0&&(r=nd(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ds(e),s=1<<n,r|=t[n],e&=~s;return r}function k5(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function P5(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-ds(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=k5(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function M_(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function NA(){var t=lp;return lp<<=1,!(lp&4194240)&&(lp=64),t}function qy(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Bh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ds(e),t[e]=n}function A5(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-ds(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function $w(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ds(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var et=0;function OA(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var MA,zw,LA,VA,FA,L_=!1,up=[],Eo=null,Co=null,To=null,Gd=new Map,Kd=new Map,ho=[],R5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kE(t,e){switch(t){case"focusin":case"focusout":Eo=null;break;case"dragenter":case"dragleave":Co=null;break;case"mouseover":case"mouseout":To=null;break;case"pointerover":case"pointerout":Gd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kd.delete(e.pointerId)}}function Fu(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Wh(e),e!==null&&zw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function j5(t,e,n,r,s){switch(e){case"focusin":return Eo=Fu(Eo,t,e,n,r,s),!0;case"dragenter":return Co=Fu(Co,t,e,n,r,s),!0;case"mouseover":return To=Fu(To,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Gd.set(i,Fu(Gd.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Kd.set(i,Fu(Kd.get(i)||null,t,e,n,r,s)),!0}return!1}function $A(t){var e=xa(t.target);if(e!==null){var n=ol(e);if(n!==null){if(e=n.tag,e===13){if(e=kA(n),e!==null){t.blockedOn=e,FA(t.priority,function(){LA(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=V_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);j_=r,n.target.dispatchEvent(r),j_=null}else return e=Wh(n),e!==null&&zw(e),t.blockedOn=n,!1;e.shift()}return!0}function PE(t,e,n){Gp(t)&&n.delete(e)}function D5(){L_=!1,Eo!==null&&Gp(Eo)&&(Eo=null),Co!==null&&Gp(Co)&&(Co=null),To!==null&&Gp(To)&&(To=null),Gd.forEach(PE),Kd.forEach(PE)}function $u(t,e){t.blockedOn===e&&(t.blockedOn=null,L_||(L_=!0,Er.unstable_scheduleCallback(Er.unstable_NormalPriority,D5)))}function Qd(t){function e(s){return $u(s,t)}if(0<up.length){$u(up[0],t);for(var n=1;n<up.length;n++){var r=up[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Eo!==null&&$u(Eo,t),Co!==null&&$u(Co,t),To!==null&&$u(To,t),Gd.forEach(e),Kd.forEach(e),n=0;n<ho.length;n++)r=ho[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ho.length&&(n=ho[0],n.blockedOn===null);)$A(n),n.blockedOn===null&&ho.shift()}var gc=Bi.ReactCurrentBatchConfig,Fm=!0;function N5(t,e,n,r){var s=et,i=gc.transition;gc.transition=null;try{et=1,Bw(t,e,n,r)}finally{et=s,gc.transition=i}}function O5(t,e,n,r){var s=et,i=gc.transition;gc.transition=null;try{et=4,Bw(t,e,n,r)}finally{et=s,gc.transition=i}}function Bw(t,e,n,r){if(Fm){var s=V_(t,e,n,r);if(s===null)n0(t,e,r,$m,n),kE(t,r);else if(j5(s,t,e,n,r))r.stopPropagation();else if(kE(t,r),e&4&&-1<R5.indexOf(t)){for(;s!==null;){var i=Wh(s);if(i!==null&&MA(i),i=V_(t,e,n,r),i===null&&n0(t,e,r,$m,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else n0(t,e,r,null,n)}}var $m=null;function V_(t,e,n,r){if($m=null,t=Vw(r),t=xa(t),t!==null)if(e=ol(t),e===null)t=null;else if(n=e.tag,n===13){if(t=kA(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return $m=t,null}function zA(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(x5()){case Fw:return 1;case jA:return 4;case Lm:case S5:return 16;case DA:return 536870912;default:return 16}default:return 16}}var bo=null,Uw=null,Kp=null;function BA(){if(Kp)return Kp;var t,e=Uw,n=e.length,r,s="value"in bo?bo.value:bo.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Kp=s.slice(t,1<r?1-r:void 0)}function Qp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function dp(){return!0}function AE(){return!1}function kr(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?dp:AE,this.isPropagationStopped=AE,this}return kt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=dp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=dp)},persist:function(){},isPersistent:dp}),e}var ru={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ww=kr(ru),Uh=kt({},ru,{view:0,detail:0}),M5=kr(Uh),Gy,Ky,zu,ev=kt({},Uh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zu&&(zu&&t.type==="mousemove"?(Gy=t.screenX-zu.screenX,Ky=t.screenY-zu.screenY):Ky=Gy=0,zu=t),Gy)},movementY:function(t){return"movementY"in t?t.movementY:Ky}}),RE=kr(ev),L5=kt({},ev,{dataTransfer:0}),V5=kr(L5),F5=kt({},Uh,{relatedTarget:0}),Qy=kr(F5),$5=kt({},ru,{animationName:0,elapsedTime:0,pseudoElement:0}),z5=kr($5),B5=kt({},ru,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),U5=kr(B5),W5=kt({},ru,{data:0}),jE=kr(W5),H5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},q5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},G5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function K5(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=G5[t])?!!e[t]:!1}function Hw(){return K5}var Q5=kt({},Uh,{key:function(t){if(t.key){var e=H5[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Qp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?q5[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hw,charCode:function(t){return t.type==="keypress"?Qp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Y5=kr(Q5),X5=kt({},ev,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),DE=kr(X5),J5=kt({},Uh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hw}),Z5=kr(J5),eF=kt({},ru,{propertyName:0,elapsedTime:0,pseudoElement:0}),tF=kr(eF),nF=kt({},ev,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),rF=kr(nF),sF=[9,13,27,32],qw=Ii&&"CompositionEvent"in window,yd=null;Ii&&"documentMode"in document&&(yd=document.documentMode);var iF=Ii&&"TextEvent"in window&&!yd,UA=Ii&&(!qw||yd&&8<yd&&11>=yd),NE=" ",OE=!1;function WA(t,e){switch(t){case"keyup":return sF.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function HA(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ul=!1;function oF(t,e){switch(t){case"compositionend":return HA(e);case"keypress":return e.which!==32?null:(OE=!0,NE);case"textInput":return t=e.data,t===NE&&OE?null:t;default:return null}}function aF(t,e){if(Ul)return t==="compositionend"||!qw&&WA(t,e)?(t=BA(),Kp=Uw=bo=null,Ul=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return UA&&e.locale!=="ko"?null:e.data;default:return null}}var lF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ME(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!lF[t.type]:e==="textarea"}function qA(t,e,n,r){SA(r),e=zm(e,"onChange"),0<e.length&&(n=new Ww("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var _d=null,Yd=null;function cF(t){rR(t,0)}function tv(t){var e=ql(t);if(gA(e))return t}function uF(t,e){if(t==="change")return e}var GA=!1;if(Ii){var Yy;if(Ii){var Xy="oninput"in document;if(!Xy){var LE=document.createElement("div");LE.setAttribute("oninput","return;"),Xy=typeof LE.oninput=="function"}Yy=Xy}else Yy=!1;GA=Yy&&(!document.documentMode||9<document.documentMode)}function VE(){_d&&(_d.detachEvent("onpropertychange",KA),Yd=_d=null)}function KA(t){if(t.propertyName==="value"&&tv(Yd)){var e=[];qA(e,Yd,t,Vw(t)),IA(cF,e)}}function dF(t,e,n){t==="focusin"?(VE(),_d=e,Yd=n,_d.attachEvent("onpropertychange",KA)):t==="focusout"&&VE()}function hF(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tv(Yd)}function fF(t,e){if(t==="click")return tv(e)}function pF(t,e){if(t==="input"||t==="change")return tv(e)}function mF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fs=typeof Object.is=="function"?Object.is:mF;function Xd(t,e){if(fs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!b_.call(e,s)||!fs(t[s],e[s]))return!1}return!0}function FE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $E(t,e){var n=FE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=FE(n)}}function QA(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?QA(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function YA(){for(var t=window,e=Nm();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Nm(t.document)}return e}function Gw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function gF(t){var e=YA(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&QA(n.ownerDocument.documentElement,n)){if(r!==null&&Gw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=$E(n,i);var o=$E(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var vF=Ii&&"documentMode"in document&&11>=document.documentMode,Wl=null,F_=null,bd=null,$_=!1;function zE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$_||Wl==null||Wl!==Nm(r)||(r=Wl,"selectionStart"in r&&Gw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),bd&&Xd(bd,r)||(bd=r,r=zm(F_,"onSelect"),0<r.length&&(e=new Ww("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Wl)))}function hp(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Hl={animationend:hp("Animation","AnimationEnd"),animationiteration:hp("Animation","AnimationIteration"),animationstart:hp("Animation","AnimationStart"),transitionend:hp("Transition","TransitionEnd")},Jy={},XA={};Ii&&(XA=document.createElement("div").style,"AnimationEvent"in window||(delete Hl.animationend.animation,delete Hl.animationiteration.animation,delete Hl.animationstart.animation),"TransitionEvent"in window||delete Hl.transitionend.transition);function nv(t){if(Jy[t])return Jy[t];if(!Hl[t])return t;var e=Hl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in XA)return Jy[t]=e[n];return t}var JA=nv("animationend"),ZA=nv("animationiteration"),eR=nv("animationstart"),tR=nv("transitionend"),nR=new Map,BE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qo(t,e){nR.set(t,e),il(e,[t])}for(var Zy=0;Zy<BE.length;Zy++){var e0=BE[Zy],yF=e0.toLowerCase(),_F=e0[0].toUpperCase()+e0.slice(1);qo(yF,"on"+_F)}qo(JA,"onAnimationEnd");qo(ZA,"onAnimationIteration");qo(eR,"onAnimationStart");qo("dblclick","onDoubleClick");qo("focusin","onFocus");qo("focusout","onBlur");qo(tR,"onTransitionEnd");Rc("onMouseEnter",["mouseout","mouseover"]);Rc("onMouseLeave",["mouseout","mouseover"]);Rc("onPointerEnter",["pointerout","pointerover"]);Rc("onPointerLeave",["pointerout","pointerover"]);il("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));il("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));il("onBeforeInput",["compositionend","keypress","textInput","paste"]);il("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));il("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));il("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bF=new Set("cancel close invalid load scroll toggle".split(" ").concat(rd));function UE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,y5(r,e,void 0,t),t.currentTarget=null}function rR(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;UE(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;UE(s,a,c),i=l}}}if(Mm)throw t=O_,Mm=!1,O_=null,t}function dt(t,e){var n=e[H_];n===void 0&&(n=e[H_]=new Set);var r=t+"__bubble";n.has(r)||(sR(e,t,2,!1),n.add(r))}function t0(t,e,n){var r=0;e&&(r|=4),sR(n,t,r,e)}var fp="_reactListening"+Math.random().toString(36).slice(2);function Jd(t){if(!t[fp]){t[fp]=!0,dA.forEach(function(n){n!=="selectionchange"&&(bF.has(n)||t0(n,!1,t),t0(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fp]||(e[fp]=!0,t0("selectionchange",!1,e))}}function sR(t,e,n,r){switch(zA(e)){case 1:var s=N5;break;case 4:s=O5;break;default:s=Bw}n=s.bind(null,e,n,t),s=void 0,!N_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function n0(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=xa(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}IA(function(){var c=i,d=Vw(n),f=[];e:{var p=nR.get(t);if(p!==void 0){var m=Ww,_=t;switch(t){case"keypress":if(Qp(n)===0)break e;case"keydown":case"keyup":m=Y5;break;case"focusin":_="focus",m=Qy;break;case"focusout":_="blur",m=Qy;break;case"beforeblur":case"afterblur":m=Qy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=RE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=V5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Z5;break;case JA:case ZA:case eR:m=z5;break;case tR:m=tF;break;case"scroll":m=M5;break;case"wheel":m=rF;break;case"copy":case"cut":case"paste":m=U5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=DE}var v=(e&4)!==0,S=!v&&t==="scroll",x=v?p!==null?p+"Capture":null:p;v=[];for(var b=c,w;b!==null;){w=b;var k=w.stateNode;if(w.tag===5&&k!==null&&(w=k,x!==null&&(k=qd(b,x),k!=null&&v.push(Zd(b,k,w)))),S)break;b=b.return}0<v.length&&(p=new m(p,_,null,n,d),f.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==j_&&(_=n.relatedTarget||n.fromElement)&&(xa(_)||_[ki]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(_=n.relatedTarget||n.toElement,m=c,_=_?xa(_):null,_!==null&&(S=ol(_),_!==S||_.tag!==5&&_.tag!==6)&&(_=null)):(m=null,_=c),m!==_)){if(v=RE,k="onMouseLeave",x="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(v=DE,k="onPointerLeave",x="onPointerEnter",b="pointer"),S=m==null?p:ql(m),w=_==null?p:ql(_),p=new v(k,b+"leave",m,n,d),p.target=S,p.relatedTarget=w,k=null,xa(d)===c&&(v=new v(x,b+"enter",_,n,d),v.target=w,v.relatedTarget=S,k=v),S=k,m&&_)t:{for(v=m,x=_,b=0,w=v;w;w=jl(w))b++;for(w=0,k=x;k;k=jl(k))w++;for(;0<b-w;)v=jl(v),b--;for(;0<w-b;)x=jl(x),w--;for(;b--;){if(v===x||x!==null&&v===x.alternate)break t;v=jl(v),x=jl(x)}v=null}else v=null;m!==null&&WE(f,p,m,v,!1),_!==null&&S!==null&&WE(f,S,_,v,!0)}}e:{if(p=c?ql(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var j=uF;else if(ME(p))if(GA)j=pF;else{j=hF;var O=dF}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(j=fF);if(j&&(j=j(t,c))){qA(f,j,n,d);break e}O&&O(t,p,c),t==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&I_(p,"number",p.value)}switch(O=c?ql(c):window,t){case"focusin":(ME(O)||O.contentEditable==="true")&&(Wl=O,F_=c,bd=null);break;case"focusout":bd=F_=Wl=null;break;case"mousedown":$_=!0;break;case"contextmenu":case"mouseup":case"dragend":$_=!1,zE(f,n,d);break;case"selectionchange":if(vF)break;case"keydown":case"keyup":zE(f,n,d)}var C;if(qw)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Ul?WA(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(UA&&n.locale!=="ko"&&(Ul||T!=="onCompositionStart"?T==="onCompositionEnd"&&Ul&&(C=BA()):(bo=d,Uw="value"in bo?bo.value:bo.textContent,Ul=!0)),O=zm(c,T),0<O.length&&(T=new jE(T,t,null,n,d),f.push({event:T,listeners:O}),C?T.data=C:(C=HA(n),C!==null&&(T.data=C)))),(C=iF?oF(t,n):aF(t,n))&&(c=zm(c,"onBeforeInput"),0<c.length&&(d=new jE("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=C))}rR(f,e)})}function Zd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function zm(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=qd(t,n),i!=null&&r.unshift(Zd(t,i,s)),i=qd(t,e),i!=null&&r.push(Zd(t,i,s))),t=t.return}return r}function jl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function WE(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=qd(n,i),l!=null&&o.unshift(Zd(n,l,a))):s||(l=qd(n,i),l!=null&&o.push(Zd(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var wF=/\r\n?/g,xF=/\u0000|\uFFFD/g;function HE(t){return(typeof t=="string"?t:""+t).replace(wF,`
`).replace(xF,"")}function pp(t,e,n){if(e=HE(e),HE(t)!==e&&n)throw Error(te(425))}function Bm(){}var z_=null,B_=null;function U_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var W_=typeof setTimeout=="function"?setTimeout:void 0,SF=typeof clearTimeout=="function"?clearTimeout:void 0,qE=typeof Promise=="function"?Promise:void 0,EF=typeof queueMicrotask=="function"?queueMicrotask:typeof qE<"u"?function(t){return qE.resolve(null).then(t).catch(CF)}:W_;function CF(t){setTimeout(function(){throw t})}function r0(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Qd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Qd(e)}function Io(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function GE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var su=Math.random().toString(36).slice(2),js="__reactFiber$"+su,eh="__reactProps$"+su,ki="__reactContainer$"+su,H_="__reactEvents$"+su,TF="__reactListeners$"+su,IF="__reactHandles$"+su;function xa(t){var e=t[js];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ki]||n[js]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=GE(t);t!==null;){if(n=t[js])return n;t=GE(t)}return e}t=n,n=t.parentNode}return null}function Wh(t){return t=t[js]||t[ki],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ql(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(te(33))}function rv(t){return t[eh]||null}var q_=[],Gl=-1;function Go(t){return{current:t}}function ft(t){0>Gl||(t.current=q_[Gl],q_[Gl]=null,Gl--)}function lt(t,e){Gl++,q_[Gl]=t.current,t.current=e}var Vo={},Ln=Go(Vo),rr=Go(!1),za=Vo;function jc(t,e){var n=t.type.contextTypes;if(!n)return Vo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function sr(t){return t=t.childContextTypes,t!=null}function Um(){ft(rr),ft(Ln)}function KE(t,e,n){if(Ln.current!==Vo)throw Error(te(168));lt(Ln,e),lt(rr,n)}function iR(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(te(108,d5(t)||"Unknown",s));return kt({},n,r)}function Wm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Vo,za=Ln.current,lt(Ln,t),lt(rr,rr.current),!0}function QE(t,e,n){var r=t.stateNode;if(!r)throw Error(te(169));n?(t=iR(t,e,za),r.__reactInternalMemoizedMergedChildContext=t,ft(rr),ft(Ln),lt(Ln,t)):ft(rr),lt(rr,n)}var ci=null,sv=!1,s0=!1;function oR(t){ci===null?ci=[t]:ci.push(t)}function kF(t){sv=!0,oR(t)}function Ko(){if(!s0&&ci!==null){s0=!0;var t=0,e=et;try{var n=ci;for(et=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ci=null,sv=!1}catch(s){throw ci!==null&&(ci=ci.slice(t+1)),RA(Fw,Ko),s}finally{et=e,s0=!1}}return null}var Kl=[],Ql=0,Hm=null,qm=0,Fr=[],$r=0,Ba=null,hi=1,fi="";function pa(t,e){Kl[Ql++]=qm,Kl[Ql++]=Hm,Hm=t,qm=e}function aR(t,e,n){Fr[$r++]=hi,Fr[$r++]=fi,Fr[$r++]=Ba,Ba=t;var r=hi;t=fi;var s=32-ds(r)-1;r&=~(1<<s),n+=1;var i=32-ds(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,hi=1<<32-ds(e)+s|n<<s|r,fi=i+t}else hi=1<<i|n<<s|r,fi=t}function Kw(t){t.return!==null&&(pa(t,1),aR(t,1,0))}function Qw(t){for(;t===Hm;)Hm=Kl[--Ql],Kl[Ql]=null,qm=Kl[--Ql],Kl[Ql]=null;for(;t===Ba;)Ba=Fr[--$r],Fr[$r]=null,fi=Fr[--$r],Fr[$r]=null,hi=Fr[--$r],Fr[$r]=null}var yr=null,gr=null,bt=!1,ls=null;function lR(t,e){var n=zr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function YE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,yr=t,gr=Io(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,yr=t,gr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ba!==null?{id:hi,overflow:fi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=zr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,yr=t,gr=null,!0):!1;default:return!1}}function G_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function K_(t){if(bt){var e=gr;if(e){var n=e;if(!YE(t,e)){if(G_(t))throw Error(te(418));e=Io(n.nextSibling);var r=yr;e&&YE(t,e)?lR(r,n):(t.flags=t.flags&-4097|2,bt=!1,yr=t)}}else{if(G_(t))throw Error(te(418));t.flags=t.flags&-4097|2,bt=!1,yr=t}}}function XE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;yr=t}function mp(t){if(t!==yr)return!1;if(!bt)return XE(t),bt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!U_(t.type,t.memoizedProps)),e&&(e=gr)){if(G_(t))throw cR(),Error(te(418));for(;e;)lR(t,e),e=Io(e.nextSibling)}if(XE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(te(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){gr=Io(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}gr=null}}else gr=yr?Io(t.stateNode.nextSibling):null;return!0}function cR(){for(var t=gr;t;)t=Io(t.nextSibling)}function Dc(){gr=yr=null,bt=!1}function Yw(t){ls===null?ls=[t]:ls.push(t)}var PF=Bi.ReactCurrentBatchConfig;function os(t,e){if(t&&t.defaultProps){e=kt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Gm=Go(null),Km=null,Yl=null,Xw=null;function Jw(){Xw=Yl=Km=null}function Zw(t){var e=Gm.current;ft(Gm),t._currentValue=e}function Q_(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function vc(t,e){Km=t,Xw=Yl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(tr=!0),t.firstContext=null)}function qr(t){var e=t._currentValue;if(Xw!==t)if(t={context:t,memoizedValue:e,next:null},Yl===null){if(Km===null)throw Error(te(308));Yl=t,Km.dependencies={lanes:0,firstContext:t}}else Yl=Yl.next=t;return e}var Sa=null;function ex(t){Sa===null?Sa=[t]:Sa.push(t)}function uR(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,ex(e)):(n.next=s.next,s.next=n),e.interleaved=n,Pi(t,r)}function Pi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var co=!1;function tx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dR(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function bi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ko(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ue&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Pi(t,n)}return s=r.interleaved,s===null?(e.next=e,ex(r)):(e.next=s.next,s.next=e),r.interleaved=e,Pi(t,n)}function Yp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$w(t,n)}}function JE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Qm(t,e,n,r){var s=t.updateQueue;co=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,d=c=l=null,a=i;do{var p=a.lane,m=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,v=a;switch(p=e,m=n,v.tag){case 1:if(_=v.payload,typeof _=="function"){f=_.call(m,f,p);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=v.payload,p=typeof _=="function"?_.call(m,f,p):_,p==null)break e;f=kt({},f,p);break e;case 2:co=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=f):d=d.next=m,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Wa|=o,t.lanes=o,t.memoizedState=f}}function ZE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(te(191,s));s.call(r)}}}var hR=new uA.Component().refs;function Y_(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:kt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var iv={isMounted:function(t){return(t=t._reactInternals)?ol(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Wn(),s=Ao(t),i=bi(r,s);i.payload=e,n!=null&&(i.callback=n),e=ko(t,i,s),e!==null&&(hs(e,t,s,r),Yp(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Wn(),s=Ao(t),i=bi(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ko(t,i,s),e!==null&&(hs(e,t,s,r),Yp(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Wn(),r=Ao(t),s=bi(n,r);s.tag=2,e!=null&&(s.callback=e),e=ko(t,s,r),e!==null&&(hs(e,t,r,n),Yp(e,t,r))}};function eC(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Xd(n,r)||!Xd(s,i):!0}function fR(t,e,n){var r=!1,s=Vo,i=e.contextType;return typeof i=="object"&&i!==null?i=qr(i):(s=sr(e)?za:Ln.current,r=e.contextTypes,i=(r=r!=null)?jc(t,s):Vo),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=iv,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function tC(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&iv.enqueueReplaceState(e,e.state,null)}function X_(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=hR,tx(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=qr(i):(i=sr(e)?za:Ln.current,s.context=jc(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Y_(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&iv.enqueueReplaceState(s,s.state,null),Qm(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Bu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(te(309));var r=n.stateNode}if(!r)throw Error(te(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;a===hR&&(a=s.refs={}),o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(te(284));if(!n._owner)throw Error(te(290,t))}return t}function gp(t,e){throw t=Object.prototype.toString.call(e),Error(te(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function nC(t){var e=t._init;return e(t._payload)}function pR(t){function e(x,b){if(t){var w=x.deletions;w===null?(x.deletions=[b],x.flags|=16):w.push(b)}}function n(x,b){if(!t)return null;for(;b!==null;)e(x,b),b=b.sibling;return null}function r(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function s(x,b){return x=Ro(x,b),x.index=0,x.sibling=null,x}function i(x,b,w){return x.index=w,t?(w=x.alternate,w!==null?(w=w.index,w<b?(x.flags|=2,b):w):(x.flags|=2,b)):(x.flags|=1048576,b)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,b,w,k){return b===null||b.tag!==6?(b=d0(w,x.mode,k),b.return=x,b):(b=s(b,w),b.return=x,b)}function l(x,b,w,k){var j=w.type;return j===Bl?d(x,b,w.props.children,k,w.key):b!==null&&(b.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===lo&&nC(j)===b.type)?(k=s(b,w.props),k.ref=Bu(x,b,w),k.return=x,k):(k=nm(w.type,w.key,w.props,null,x.mode,k),k.ref=Bu(x,b,w),k.return=x,k)}function c(x,b,w,k){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=h0(w,x.mode,k),b.return=x,b):(b=s(b,w.children||[]),b.return=x,b)}function d(x,b,w,k,j){return b===null||b.tag!==7?(b=Aa(w,x.mode,k,j),b.return=x,b):(b=s(b,w),b.return=x,b)}function f(x,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=d0(""+b,x.mode,w),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ip:return w=nm(b.type,b.key,b.props,null,x.mode,w),w.ref=Bu(x,null,b),w.return=x,w;case zl:return b=h0(b,x.mode,w),b.return=x,b;case lo:var k=b._init;return f(x,k(b._payload),w)}if(td(b)||Lu(b))return b=Aa(b,x.mode,w,null),b.return=x,b;gp(x,b)}return null}function p(x,b,w,k){var j=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:a(x,b,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ip:return w.key===j?l(x,b,w,k):null;case zl:return w.key===j?c(x,b,w,k):null;case lo:return j=w._init,p(x,b,j(w._payload),k)}if(td(w)||Lu(w))return j!==null?null:d(x,b,w,k,null);gp(x,w)}return null}function m(x,b,w,k,j){if(typeof k=="string"&&k!==""||typeof k=="number")return x=x.get(w)||null,a(b,x,""+k,j);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ip:return x=x.get(k.key===null?w:k.key)||null,l(b,x,k,j);case zl:return x=x.get(k.key===null?w:k.key)||null,c(b,x,k,j);case lo:var O=k._init;return m(x,b,w,O(k._payload),j)}if(td(k)||Lu(k))return x=x.get(w)||null,d(b,x,k,j,null);gp(b,k)}return null}function _(x,b,w,k){for(var j=null,O=null,C=b,T=b=0,I=null;C!==null&&T<w.length;T++){C.index>T?(I=C,C=null):I=C.sibling;var P=p(x,C,w[T],k);if(P===null){C===null&&(C=I);break}t&&C&&P.alternate===null&&e(x,C),b=i(P,b,T),O===null?j=P:O.sibling=P,O=P,C=I}if(T===w.length)return n(x,C),bt&&pa(x,T),j;if(C===null){for(;T<w.length;T++)C=f(x,w[T],k),C!==null&&(b=i(C,b,T),O===null?j=C:O.sibling=C,O=C);return bt&&pa(x,T),j}for(C=r(x,C);T<w.length;T++)I=m(C,x,T,w[T],k),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?T:I.key),b=i(I,b,T),O===null?j=I:O.sibling=I,O=I);return t&&C.forEach(function(N){return e(x,N)}),bt&&pa(x,T),j}function v(x,b,w,k){var j=Lu(w);if(typeof j!="function")throw Error(te(150));if(w=j.call(w),w==null)throw Error(te(151));for(var O=j=null,C=b,T=b=0,I=null,P=w.next();C!==null&&!P.done;T++,P=w.next()){C.index>T?(I=C,C=null):I=C.sibling;var N=p(x,C,P.value,k);if(N===null){C===null&&(C=I);break}t&&C&&N.alternate===null&&e(x,C),b=i(N,b,T),O===null?j=N:O.sibling=N,O=N,C=I}if(P.done)return n(x,C),bt&&pa(x,T),j;if(C===null){for(;!P.done;T++,P=w.next())P=f(x,P.value,k),P!==null&&(b=i(P,b,T),O===null?j=P:O.sibling=P,O=P);return bt&&pa(x,T),j}for(C=r(x,C);!P.done;T++,P=w.next())P=m(C,x,T,P.value,k),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?T:P.key),b=i(P,b,T),O===null?j=P:O.sibling=P,O=P);return t&&C.forEach(function(M){return e(x,M)}),bt&&pa(x,T),j}function S(x,b,w,k){if(typeof w=="object"&&w!==null&&w.type===Bl&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case ip:e:{for(var j=w.key,O=b;O!==null;){if(O.key===j){if(j=w.type,j===Bl){if(O.tag===7){n(x,O.sibling),b=s(O,w.props.children),b.return=x,x=b;break e}}else if(O.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===lo&&nC(j)===O.type){n(x,O.sibling),b=s(O,w.props),b.ref=Bu(x,O,w),b.return=x,x=b;break e}n(x,O);break}else e(x,O);O=O.sibling}w.type===Bl?(b=Aa(w.props.children,x.mode,k,w.key),b.return=x,x=b):(k=nm(w.type,w.key,w.props,null,x.mode,k),k.ref=Bu(x,b,w),k.return=x,x=k)}return o(x);case zl:e:{for(O=w.key;b!==null;){if(b.key===O)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(x,b.sibling),b=s(b,w.children||[]),b.return=x,x=b;break e}else{n(x,b);break}else e(x,b);b=b.sibling}b=h0(w,x.mode,k),b.return=x,x=b}return o(x);case lo:return O=w._init,S(x,b,O(w._payload),k)}if(td(w))return _(x,b,w,k);if(Lu(w))return v(x,b,w,k);gp(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(x,b.sibling),b=s(b,w),b.return=x,x=b):(n(x,b),b=d0(w,x.mode,k),b.return=x,x=b),o(x)):n(x,b)}return S}var Nc=pR(!0),mR=pR(!1),Hh={},$s=Go(Hh),th=Go(Hh),nh=Go(Hh);function Ea(t){if(t===Hh)throw Error(te(174));return t}function nx(t,e){switch(lt(nh,e),lt(th,t),lt($s,Hh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:P_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=P_(e,t)}ft($s),lt($s,e)}function Oc(){ft($s),ft(th),ft(nh)}function gR(t){Ea(nh.current);var e=Ea($s.current),n=P_(e,t.type);e!==n&&(lt(th,t),lt($s,n))}function rx(t){th.current===t&&(ft($s),ft(th))}var Ct=Go(0);function Ym(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var i0=[];function sx(){for(var t=0;t<i0.length;t++)i0[t]._workInProgressVersionPrimary=null;i0.length=0}var Xp=Bi.ReactCurrentDispatcher,o0=Bi.ReactCurrentBatchConfig,Ua=0,It=null,Kt=null,rn=null,Xm=!1,wd=!1,rh=0,AF=0;function Tn(){throw Error(te(321))}function ix(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!fs(t[n],e[n]))return!1;return!0}function ox(t,e,n,r,s,i){if(Ua=i,It=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Xp.current=t===null||t.memoizedState===null?NF:OF,t=n(r,s),wd){i=0;do{if(wd=!1,rh=0,25<=i)throw Error(te(301));i+=1,rn=Kt=null,e.updateQueue=null,Xp.current=MF,t=n(r,s)}while(wd)}if(Xp.current=Jm,e=Kt!==null&&Kt.next!==null,Ua=0,rn=Kt=It=null,Xm=!1,e)throw Error(te(300));return t}function ax(){var t=rh!==0;return rh=0,t}function ks(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?It.memoizedState=rn=t:rn=rn.next=t,rn}function Gr(){if(Kt===null){var t=It.alternate;t=t!==null?t.memoizedState:null}else t=Kt.next;var e=rn===null?It.memoizedState:rn.next;if(e!==null)rn=e,Kt=t;else{if(t===null)throw Error(te(310));Kt=t,t={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},rn===null?It.memoizedState=rn=t:rn=rn.next=t}return rn}function sh(t,e){return typeof e=="function"?e(t):e}function a0(t){var e=Gr(),n=e.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=t;var r=Kt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((Ua&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,It.lanes|=d,Wa|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,fs(r,e.memoizedState)||(tr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,It.lanes|=i,Wa|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function l0(t){var e=Gr(),n=e.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);fs(i,e.memoizedState)||(tr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function vR(){}function yR(t,e){var n=It,r=Gr(),s=e(),i=!fs(r.memoizedState,s);if(i&&(r.memoizedState=s,tr=!0),r=r.queue,lx(wR.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||rn!==null&&rn.memoizedState.tag&1){if(n.flags|=2048,ih(9,bR.bind(null,n,r,s,e),void 0,null),on===null)throw Error(te(349));Ua&30||_R(n,e,s)}return s}function _R(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=It.updateQueue,e===null?(e={lastEffect:null,stores:null},It.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function bR(t,e,n,r){e.value=n,e.getSnapshot=r,xR(e)&&SR(t)}function wR(t,e,n){return n(function(){xR(e)&&SR(t)})}function xR(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!fs(t,n)}catch{return!0}}function SR(t){var e=Pi(t,1);e!==null&&hs(e,t,1,-1)}function rC(t){var e=ks();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sh,lastRenderedState:t},e.queue=t,t=t.dispatch=DF.bind(null,It,t),[e.memoizedState,t]}function ih(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=It.updateQueue,e===null?(e={lastEffect:null,stores:null},It.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ER(){return Gr().memoizedState}function Jp(t,e,n,r){var s=ks();It.flags|=t,s.memoizedState=ih(1|e,n,void 0,r===void 0?null:r)}function ov(t,e,n,r){var s=Gr();r=r===void 0?null:r;var i=void 0;if(Kt!==null){var o=Kt.memoizedState;if(i=o.destroy,r!==null&&ix(r,o.deps)){s.memoizedState=ih(e,n,i,r);return}}It.flags|=t,s.memoizedState=ih(1|e,n,i,r)}function sC(t,e){return Jp(8390656,8,t,e)}function lx(t,e){return ov(2048,8,t,e)}function CR(t,e){return ov(4,2,t,e)}function TR(t,e){return ov(4,4,t,e)}function IR(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function kR(t,e,n){return n=n!=null?n.concat([t]):null,ov(4,4,IR.bind(null,e,t),n)}function cx(){}function PR(t,e){var n=Gr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ix(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function AR(t,e){var n=Gr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ix(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function RR(t,e,n){return Ua&21?(fs(n,e)||(n=NA(),It.lanes|=n,Wa|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,tr=!0),t.memoizedState=n)}function RF(t,e){var n=et;et=n!==0&&4>n?n:4,t(!0);var r=o0.transition;o0.transition={};try{t(!1),e()}finally{et=n,o0.transition=r}}function jR(){return Gr().memoizedState}function jF(t,e,n){var r=Ao(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},DR(t))NR(e,n);else if(n=uR(t,e,n,r),n!==null){var s=Wn();hs(n,t,r,s),OR(n,e,r)}}function DF(t,e,n){var r=Ao(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(DR(t))NR(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,fs(a,o)){var l=e.interleaved;l===null?(s.next=s,ex(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=uR(t,e,s,r),n!==null&&(s=Wn(),hs(n,t,r,s),OR(n,e,r))}}function DR(t){var e=t.alternate;return t===It||e!==null&&e===It}function NR(t,e){wd=Xm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function OR(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$w(t,n)}}var Jm={readContext:qr,useCallback:Tn,useContext:Tn,useEffect:Tn,useImperativeHandle:Tn,useInsertionEffect:Tn,useLayoutEffect:Tn,useMemo:Tn,useReducer:Tn,useRef:Tn,useState:Tn,useDebugValue:Tn,useDeferredValue:Tn,useTransition:Tn,useMutableSource:Tn,useSyncExternalStore:Tn,useId:Tn,unstable_isNewReconciler:!1},NF={readContext:qr,useCallback:function(t,e){return ks().memoizedState=[t,e===void 0?null:e],t},useContext:qr,useEffect:sC,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Jp(4194308,4,IR.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Jp(4194308,4,t,e)},useInsertionEffect:function(t,e){return Jp(4,2,t,e)},useMemo:function(t,e){var n=ks();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ks();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=jF.bind(null,It,t),[r.memoizedState,t]},useRef:function(t){var e=ks();return t={current:t},e.memoizedState=t},useState:rC,useDebugValue:cx,useDeferredValue:function(t){return ks().memoizedState=t},useTransition:function(){var t=rC(!1),e=t[0];return t=RF.bind(null,t[1]),ks().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=It,s=ks();if(bt){if(n===void 0)throw Error(te(407));n=n()}else{if(n=e(),on===null)throw Error(te(349));Ua&30||_R(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,sC(wR.bind(null,r,i,t),[t]),r.flags|=2048,ih(9,bR.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=ks(),e=on.identifierPrefix;if(bt){var n=fi,r=hi;n=(r&~(1<<32-ds(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=rh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=AF++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},OF={readContext:qr,useCallback:PR,useContext:qr,useEffect:lx,useImperativeHandle:kR,useInsertionEffect:CR,useLayoutEffect:TR,useMemo:AR,useReducer:a0,useRef:ER,useState:function(){return a0(sh)},useDebugValue:cx,useDeferredValue:function(t){var e=Gr();return RR(e,Kt.memoizedState,t)},useTransition:function(){var t=a0(sh)[0],e=Gr().memoizedState;return[t,e]},useMutableSource:vR,useSyncExternalStore:yR,useId:jR,unstable_isNewReconciler:!1},MF={readContext:qr,useCallback:PR,useContext:qr,useEffect:lx,useImperativeHandle:kR,useInsertionEffect:CR,useLayoutEffect:TR,useMemo:AR,useReducer:l0,useRef:ER,useState:function(){return l0(sh)},useDebugValue:cx,useDeferredValue:function(t){var e=Gr();return Kt===null?e.memoizedState=t:RR(e,Kt.memoizedState,t)},useTransition:function(){var t=l0(sh)[0],e=Gr().memoizedState;return[t,e]},useMutableSource:vR,useSyncExternalStore:yR,useId:jR,unstable_isNewReconciler:!1};function Mc(t,e){try{var n="",r=e;do n+=u5(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function c0(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function J_(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var LF=typeof WeakMap=="function"?WeakMap:Map;function MR(t,e,n){n=bi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){eg||(eg=!0,lb=r),J_(t,e)},n}function LR(t,e,n){n=bi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){J_(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){J_(t,e),typeof r!="function"&&(Po===null?Po=new Set([this]):Po.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function iC(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new LF;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=XF.bind(null,t,e,n),e.then(t,t))}function oC(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function aC(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=bi(-1,1),e.tag=2,ko(n,e,1))),n.lanes|=1),t)}var VF=Bi.ReactCurrentOwner,tr=!1;function $n(t,e,n,r){e.child=t===null?mR(e,null,n,r):Nc(e,t.child,n,r)}function lC(t,e,n,r,s){n=n.render;var i=e.ref;return vc(e,s),r=ox(t,e,n,r,i,s),n=ax(),t!==null&&!tr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ai(t,e,s)):(bt&&n&&Kw(e),e.flags|=1,$n(t,e,r,s),e.child)}function cC(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!vx(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,VR(t,e,i,r,s)):(t=nm(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Xd,n(o,r)&&t.ref===e.ref)return Ai(t,e,s)}return e.flags|=1,t=Ro(i,r),t.ref=e.ref,t.return=e,e.child=t}function VR(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Xd(i,r)&&t.ref===e.ref)if(tr=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(tr=!0);else return e.lanes=t.lanes,Ai(t,e,s)}return Z_(t,e,n,r,s)}function FR(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt(Jl,mr),mr|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,lt(Jl,mr),mr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,lt(Jl,mr),mr|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,lt(Jl,mr),mr|=r;return $n(t,e,s,n),e.child}function $R(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Z_(t,e,n,r,s){var i=sr(n)?za:Ln.current;return i=jc(e,i),vc(e,s),n=ox(t,e,n,r,i,s),r=ax(),t!==null&&!tr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ai(t,e,s)):(bt&&r&&Kw(e),e.flags|=1,$n(t,e,n,s),e.child)}function uC(t,e,n,r,s){if(sr(n)){var i=!0;Wm(e)}else i=!1;if(vc(e,s),e.stateNode===null)Zp(t,e),fR(e,n,r),X_(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=qr(c):(c=sr(n)?za:Ln.current,c=jc(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&tC(e,o,r,c),co=!1;var p=e.memoizedState;o.state=p,Qm(e,r,o,s),l=e.memoizedState,a!==r||p!==l||rr.current||co?(typeof d=="function"&&(Y_(e,n,d,r),l=e.memoizedState),(a=co||eC(e,n,a,r,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,dR(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:os(e.type,a),o.props=c,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=qr(l):(l=sr(n)?za:Ln.current,l=jc(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&tC(e,o,r,l),co=!1,p=e.memoizedState,o.state=p,Qm(e,r,o,s);var _=e.memoizedState;a!==f||p!==_||rr.current||co?(typeof m=="function"&&(Y_(e,n,m,r),_=e.memoizedState),(c=co||eC(e,n,c,r,p,_,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return eb(t,e,n,r,i,s)}function eb(t,e,n,r,s,i){$R(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&QE(e,n,!1),Ai(t,e,i);r=e.stateNode,VF.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Nc(e,t.child,null,i),e.child=Nc(e,null,a,i)):$n(t,e,a,i),e.memoizedState=r.state,s&&QE(e,n,!0),e.child}function zR(t){var e=t.stateNode;e.pendingContext?KE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&KE(t,e.context,!1),nx(t,e.containerInfo)}function dC(t,e,n,r,s){return Dc(),Yw(s),e.flags|=256,$n(t,e,n,r),e.child}var tb={dehydrated:null,treeContext:null,retryLane:0};function nb(t){return{baseLanes:t,cachePool:null,transitions:null}}function BR(t,e,n){var r=e.pendingProps,s=Ct.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),lt(Ct,s&1),t===null)return K_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=cv(o,r,0,null),t=Aa(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=nb(n),e.memoizedState=tb,t):ux(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return FF(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ro(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ro(a,i):(i=Aa(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?nb(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=tb,r}return i=t.child,t=i.sibling,r=Ro(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ux(t,e){return e=cv({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function vp(t,e,n,r){return r!==null&&Yw(r),Nc(e,t.child,null,n),t=ux(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function FF(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=c0(Error(te(422))),vp(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=cv({mode:"visible",children:r.children},s,0,null),i=Aa(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Nc(e,t.child,null,o),e.child.memoizedState=nb(o),e.memoizedState=tb,i);if(!(e.mode&1))return vp(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(te(419)),r=c0(i,r,void 0),vp(t,e,o,r)}if(a=(o&t.childLanes)!==0,tr||a){if(r=on,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Pi(t,s),hs(r,t,s,-1))}return gx(),r=c0(Error(te(421))),vp(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=JF.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,gr=Io(s.nextSibling),yr=e,bt=!0,ls=null,t!==null&&(Fr[$r++]=hi,Fr[$r++]=fi,Fr[$r++]=Ba,hi=t.id,fi=t.overflow,Ba=e),e=ux(e,r.children),e.flags|=4096,e)}function hC(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Q_(t.return,e,n)}function u0(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function UR(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if($n(t,e,r.children,n),r=Ct.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hC(t,n,e);else if(t.tag===19)hC(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(lt(Ct,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Ym(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),u0(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ym(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}u0(e,!0,n,null,i);break;case"together":u0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Zp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ai(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Wa|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(te(153));if(e.child!==null){for(t=e.child,n=Ro(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ro(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function $F(t,e,n){switch(e.tag){case 3:zR(e),Dc();break;case 5:gR(e);break;case 1:sr(e.type)&&Wm(e);break;case 4:nx(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;lt(Gm,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(lt(Ct,Ct.current&1),e.flags|=128,null):n&e.child.childLanes?BR(t,e,n):(lt(Ct,Ct.current&1),t=Ai(t,e,n),t!==null?t.sibling:null);lt(Ct,Ct.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return UR(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),lt(Ct,Ct.current),r)break;return null;case 22:case 23:return e.lanes=0,FR(t,e,n)}return Ai(t,e,n)}var WR,rb,HR,qR;WR=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};rb=function(){};HR=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ea($s.current);var i=null;switch(n){case"input":s=C_(t,s),r=C_(t,r),i=[];break;case"select":s=kt({},s,{value:void 0}),r=kt({},r,{value:void 0}),i=[];break;case"textarea":s=k_(t,s),r=k_(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Bm)}A_(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Wd.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Wd.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&dt("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};qR=function(t,e,n,r){n!==r&&(e.flags|=4)};function Uu(t,e){if(!bt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function In(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function zF(t,e,n){var r=e.pendingProps;switch(Qw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return In(e),null;case 1:return sr(e.type)&&Um(),In(e),null;case 3:return r=e.stateNode,Oc(),ft(rr),ft(Ln),sx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(mp(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ls!==null&&(db(ls),ls=null))),rb(t,e),In(e),null;case 5:rx(e);var s=Ea(nh.current);if(n=e.type,t!==null&&e.stateNode!=null)HR(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(te(166));return In(e),null}if(t=Ea($s.current),mp(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[js]=e,r[eh]=i,t=(e.mode&1)!==0,n){case"dialog":dt("cancel",r),dt("close",r);break;case"iframe":case"object":case"embed":dt("load",r);break;case"video":case"audio":for(s=0;s<rd.length;s++)dt(rd[s],r);break;case"source":dt("error",r);break;case"img":case"image":case"link":dt("error",r),dt("load",r);break;case"details":dt("toggle",r);break;case"input":wE(r,i),dt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},dt("invalid",r);break;case"textarea":SE(r,i),dt("invalid",r)}A_(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&pp(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&pp(r.textContent,a,t),s=["children",""+a]):Wd.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&dt("scroll",r)}switch(n){case"input":op(r),xE(r,i,!0);break;case"textarea":op(r),EE(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Bm)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=_A(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[js]=e,t[eh]=r,WR(t,e,!1,!1),e.stateNode=t;e:{switch(o=R_(n,r),n){case"dialog":dt("cancel",t),dt("close",t),s=r;break;case"iframe":case"object":case"embed":dt("load",t),s=r;break;case"video":case"audio":for(s=0;s<rd.length;s++)dt(rd[s],t);s=r;break;case"source":dt("error",t),s=r;break;case"img":case"image":case"link":dt("error",t),dt("load",t),s=r;break;case"details":dt("toggle",t),s=r;break;case"input":wE(t,r),s=C_(t,r),dt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=kt({},r,{value:void 0}),dt("invalid",t);break;case"textarea":SE(t,r),s=k_(t,r),dt("invalid",t);break;default:s=r}A_(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?xA(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&bA(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Hd(t,l):typeof l=="number"&&Hd(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Wd.hasOwnProperty(i)?l!=null&&i==="onScroll"&&dt("scroll",t):l!=null&&Nw(t,i,l,o))}switch(n){case"input":op(t),xE(t,r,!1);break;case"textarea":op(t),EE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Lo(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?fc(t,!!r.multiple,i,!1):r.defaultValue!=null&&fc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Bm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return In(e),null;case 6:if(t&&e.stateNode!=null)qR(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(te(166));if(n=Ea(nh.current),Ea($s.current),mp(e)){if(r=e.stateNode,n=e.memoizedProps,r[js]=e,(i=r.nodeValue!==n)&&(t=yr,t!==null))switch(t.tag){case 3:pp(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&pp(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[js]=e,e.stateNode=r}return In(e),null;case 13:if(ft(Ct),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(bt&&gr!==null&&e.mode&1&&!(e.flags&128))cR(),Dc(),e.flags|=98560,i=!1;else if(i=mp(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(te(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(te(317));i[js]=e}else Dc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;In(e),i=!1}else ls!==null&&(db(ls),ls=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ct.current&1?Yt===0&&(Yt=3):gx())),e.updateQueue!==null&&(e.flags|=4),In(e),null);case 4:return Oc(),rb(t,e),t===null&&Jd(e.stateNode.containerInfo),In(e),null;case 10:return Zw(e.type._context),In(e),null;case 17:return sr(e.type)&&Um(),In(e),null;case 19:if(ft(Ct),i=e.memoizedState,i===null)return In(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Uu(i,!1);else{if(Yt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ym(t),o!==null){for(e.flags|=128,Uu(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return lt(Ct,Ct.current&1|2),e.child}t=t.sibling}i.tail!==null&&Mt()>Lc&&(e.flags|=128,r=!0,Uu(i,!1),e.lanes=4194304)}else{if(!r)if(t=Ym(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Uu(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!bt)return In(e),null}else 2*Mt()-i.renderingStartTime>Lc&&n!==1073741824&&(e.flags|=128,r=!0,Uu(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Mt(),e.sibling=null,n=Ct.current,lt(Ct,r?n&1|2:n&1),e):(In(e),null);case 22:case 23:return mx(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?mr&1073741824&&(In(e),e.subtreeFlags&6&&(e.flags|=8192)):In(e),null;case 24:return null;case 25:return null}throw Error(te(156,e.tag))}function BF(t,e){switch(Qw(e),e.tag){case 1:return sr(e.type)&&Um(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Oc(),ft(rr),ft(Ln),sx(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return rx(e),null;case 13:if(ft(Ct),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(te(340));Dc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ft(Ct),null;case 4:return Oc(),null;case 10:return Zw(e.type._context),null;case 22:case 23:return mx(),null;case 24:return null;default:return null}}var yp=!1,Dn=!1,UF=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Xl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){jt(t,e,r)}else n.current=null}function sb(t,e,n){try{n()}catch(r){jt(t,e,r)}}var fC=!1;function WF(t,e){if(z_=Fm,t=YA(),Gw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,f=t,p=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===t)break t;if(p===n&&++c===s&&(a=o),p===i&&++d===r&&(l=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(B_={focusedElem:t,selectionRange:n},Fm=!1,fe=e;fe!==null;)if(e=fe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,fe=t;else for(;fe!==null;){e=fe;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var v=_.memoizedProps,S=_.memoizedState,x=e.stateNode,b=x.getSnapshotBeforeUpdate(e.elementType===e.type?v:os(e.type,v),S);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(k){jt(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,fe=t;break}fe=e.return}return _=fC,fC=!1,_}function xd(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&sb(e,n,i)}s=s.next}while(s!==r)}}function av(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ib(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function GR(t){var e=t.alternate;e!==null&&(t.alternate=null,GR(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[js],delete e[eh],delete e[H_],delete e[TF],delete e[IF])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function KR(t){return t.tag===5||t.tag===3||t.tag===4}function pC(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||KR(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ob(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Bm));else if(r!==4&&(t=t.child,t!==null))for(ob(t,e,n),t=t.sibling;t!==null;)ob(t,e,n),t=t.sibling}function ab(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ab(t,e,n),t=t.sibling;t!==null;)ab(t,e,n),t=t.sibling}var hn=null,as=!1;function no(t,e,n){for(n=n.child;n!==null;)QR(t,e,n),n=n.sibling}function QR(t,e,n){if(Fs&&typeof Fs.onCommitFiberUnmount=="function")try{Fs.onCommitFiberUnmount(Zg,n)}catch{}switch(n.tag){case 5:Dn||Xl(n,e);case 6:var r=hn,s=as;hn=null,no(t,e,n),hn=r,as=s,hn!==null&&(as?(t=hn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):hn.removeChild(n.stateNode));break;case 18:hn!==null&&(as?(t=hn,n=n.stateNode,t.nodeType===8?r0(t.parentNode,n):t.nodeType===1&&r0(t,n),Qd(t)):r0(hn,n.stateNode));break;case 4:r=hn,s=as,hn=n.stateNode.containerInfo,as=!0,no(t,e,n),hn=r,as=s;break;case 0:case 11:case 14:case 15:if(!Dn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&sb(n,e,o),s=s.next}while(s!==r)}no(t,e,n);break;case 1:if(!Dn&&(Xl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){jt(n,e,a)}no(t,e,n);break;case 21:no(t,e,n);break;case 22:n.mode&1?(Dn=(r=Dn)||n.memoizedState!==null,no(t,e,n),Dn=r):no(t,e,n);break;default:no(t,e,n)}}function mC(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new UF),e.forEach(function(r){var s=ZF.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ss(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:hn=a.stateNode,as=!1;break e;case 3:hn=a.stateNode.containerInfo,as=!0;break e;case 4:hn=a.stateNode.containerInfo,as=!0;break e}a=a.return}if(hn===null)throw Error(te(160));QR(i,o,s),hn=null,as=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){jt(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)YR(e,t),e=e.sibling}function YR(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ss(e,t),Ts(t),r&4){try{xd(3,t,t.return),av(3,t)}catch(v){jt(t,t.return,v)}try{xd(5,t,t.return)}catch(v){jt(t,t.return,v)}}break;case 1:ss(e,t),Ts(t),r&512&&n!==null&&Xl(n,n.return);break;case 5:if(ss(e,t),Ts(t),r&512&&n!==null&&Xl(n,n.return),t.flags&32){var s=t.stateNode;try{Hd(s,"")}catch(v){jt(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&vA(s,i),R_(a,o);var c=R_(a,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?xA(s,f):d==="dangerouslySetInnerHTML"?bA(s,f):d==="children"?Hd(s,f):Nw(s,d,f,c)}switch(a){case"input":T_(s,i);break;case"textarea":yA(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?fc(s,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?fc(s,!!i.multiple,i.defaultValue,!0):fc(s,!!i.multiple,i.multiple?[]:"",!1))}s[eh]=i}catch(v){jt(t,t.return,v)}}break;case 6:if(ss(e,t),Ts(t),r&4){if(t.stateNode===null)throw Error(te(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){jt(t,t.return,v)}}break;case 3:if(ss(e,t),Ts(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Qd(e.containerInfo)}catch(v){jt(t,t.return,v)}break;case 4:ss(e,t),Ts(t);break;case 13:ss(e,t),Ts(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(fx=Mt())),r&4&&mC(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Dn=(c=Dn)||d,ss(e,t),Dn=c):ss(e,t),Ts(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(fe=t,d=t.child;d!==null;){for(f=fe=d;fe!==null;){switch(p=fe,m=p.child,p.tag){case 0:case 11:case 14:case 15:xd(4,p,p.return);break;case 1:Xl(p,p.return);var _=p.stateNode;if(typeof _.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(v){jt(r,n,v)}}break;case 5:Xl(p,p.return);break;case 22:if(p.memoizedState!==null){vC(f);continue}}m!==null?(m.return=p,fe=m):vC(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=wA("display",o))}catch(v){jt(t,t.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){jt(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ss(e,t),Ts(t),r&4&&mC(t);break;case 21:break;default:ss(e,t),Ts(t)}}function Ts(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(KR(n)){var r=n;break e}n=n.return}throw Error(te(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Hd(s,""),r.flags&=-33);var i=pC(t);ab(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=pC(t);ob(t,a,o);break;default:throw Error(te(161))}}catch(l){jt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function HF(t,e,n){fe=t,XR(t)}function XR(t,e,n){for(var r=(t.mode&1)!==0;fe!==null;){var s=fe,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||yp;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Dn;a=yp;var c=Dn;if(yp=o,(Dn=l)&&!c)for(fe=s;fe!==null;)o=fe,l=o.child,o.tag===22&&o.memoizedState!==null?yC(s):l!==null?(l.return=o,fe=l):yC(s);for(;i!==null;)fe=i,XR(i),i=i.sibling;fe=s,yp=a,Dn=c}gC(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,fe=i):gC(t)}}function gC(t){for(;fe!==null;){var e=fe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Dn||av(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Dn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:os(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&ZE(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ZE(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Qd(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}Dn||e.flags&512&&ib(e)}catch(p){jt(e,e.return,p)}}if(e===t){fe=null;break}if(n=e.sibling,n!==null){n.return=e.return,fe=n;break}fe=e.return}}function vC(t){for(;fe!==null;){var e=fe;if(e===t){fe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,fe=n;break}fe=e.return}}function yC(t){for(;fe!==null;){var e=fe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{av(4,e)}catch(l){jt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){jt(e,s,l)}}var i=e.return;try{ib(e)}catch(l){jt(e,i,l)}break;case 5:var o=e.return;try{ib(e)}catch(l){jt(e,o,l)}}}catch(l){jt(e,e.return,l)}if(e===t){fe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,fe=a;break}fe=e.return}}var qF=Math.ceil,Zm=Bi.ReactCurrentDispatcher,dx=Bi.ReactCurrentOwner,Br=Bi.ReactCurrentBatchConfig,Ue=0,on=null,Bt=null,yn=0,mr=0,Jl=Go(0),Yt=0,oh=null,Wa=0,lv=0,hx=0,Sd=null,Zn=null,fx=0,Lc=1/0,li=null,eg=!1,lb=null,Po=null,_p=!1,wo=null,tg=0,Ed=0,cb=null,em=-1,tm=0;function Wn(){return Ue&6?Mt():em!==-1?em:em=Mt()}function Ao(t){return t.mode&1?Ue&2&&yn!==0?yn&-yn:PF.transition!==null?(tm===0&&(tm=NA()),tm):(t=et,t!==0||(t=window.event,t=t===void 0?16:zA(t.type)),t):1}function hs(t,e,n,r){if(50<Ed)throw Ed=0,cb=null,Error(te(185));Bh(t,n,r),(!(Ue&2)||t!==on)&&(t===on&&(!(Ue&2)&&(lv|=n),Yt===4&&fo(t,yn)),ir(t,r),n===1&&Ue===0&&!(e.mode&1)&&(Lc=Mt()+500,sv&&Ko()))}function ir(t,e){var n=t.callbackNode;P5(t,e);var r=Vm(t,t===on?yn:0);if(r===0)n!==null&&IE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&IE(n),e===1)t.tag===0?kF(_C.bind(null,t)):oR(_C.bind(null,t)),EF(function(){!(Ue&6)&&Ko()}),n=null;else{switch(OA(r)){case 1:n=Fw;break;case 4:n=jA;break;case 16:n=Lm;break;case 536870912:n=DA;break;default:n=Lm}n=i2(n,JR.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function JR(t,e){if(em=-1,tm=0,Ue&6)throw Error(te(327));var n=t.callbackNode;if(yc()&&t.callbackNode!==n)return null;var r=Vm(t,t===on?yn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ng(t,r);else{e=r;var s=Ue;Ue|=2;var i=e2();(on!==t||yn!==e)&&(li=null,Lc=Mt()+500,Pa(t,e));do try{QF();break}catch(a){ZR(t,a)}while(!0);Jw(),Zm.current=i,Ue=s,Bt!==null?e=0:(on=null,yn=0,e=Yt)}if(e!==0){if(e===2&&(s=M_(t),s!==0&&(r=s,e=ub(t,s))),e===1)throw n=oh,Pa(t,0),fo(t,r),ir(t,Mt()),n;if(e===6)fo(t,r);else{if(s=t.current.alternate,!(r&30)&&!GF(s)&&(e=ng(t,r),e===2&&(i=M_(t),i!==0&&(r=i,e=ub(t,i))),e===1))throw n=oh,Pa(t,0),fo(t,r),ir(t,Mt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(te(345));case 2:ma(t,Zn,li);break;case 3:if(fo(t,r),(r&130023424)===r&&(e=fx+500-Mt(),10<e)){if(Vm(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Wn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=W_(ma.bind(null,t,Zn,li),e);break}ma(t,Zn,li);break;case 4:if(fo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-ds(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Mt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*qF(r/1960))-r,10<r){t.timeoutHandle=W_(ma.bind(null,t,Zn,li),r);break}ma(t,Zn,li);break;case 5:ma(t,Zn,li);break;default:throw Error(te(329))}}}return ir(t,Mt()),t.callbackNode===n?JR.bind(null,t):null}function ub(t,e){var n=Sd;return t.current.memoizedState.isDehydrated&&(Pa(t,e).flags|=256),t=ng(t,e),t!==2&&(e=Zn,Zn=n,e!==null&&db(e)),t}function db(t){Zn===null?Zn=t:Zn.push.apply(Zn,t)}function GF(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!fs(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function fo(t,e){for(e&=~hx,e&=~lv,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ds(e),r=1<<n;t[n]=-1,e&=~r}}function _C(t){if(Ue&6)throw Error(te(327));yc();var e=Vm(t,0);if(!(e&1))return ir(t,Mt()),null;var n=ng(t,e);if(t.tag!==0&&n===2){var r=M_(t);r!==0&&(e=r,n=ub(t,r))}if(n===1)throw n=oh,Pa(t,0),fo(t,e),ir(t,Mt()),n;if(n===6)throw Error(te(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ma(t,Zn,li),ir(t,Mt()),null}function px(t,e){var n=Ue;Ue|=1;try{return t(e)}finally{Ue=n,Ue===0&&(Lc=Mt()+500,sv&&Ko())}}function Ha(t){wo!==null&&wo.tag===0&&!(Ue&6)&&yc();var e=Ue;Ue|=1;var n=Br.transition,r=et;try{if(Br.transition=null,et=1,t)return t()}finally{et=r,Br.transition=n,Ue=e,!(Ue&6)&&Ko()}}function mx(){mr=Jl.current,ft(Jl)}function Pa(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,SF(n)),Bt!==null)for(n=Bt.return;n!==null;){var r=n;switch(Qw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Um();break;case 3:Oc(),ft(rr),ft(Ln),sx();break;case 5:rx(r);break;case 4:Oc();break;case 13:ft(Ct);break;case 19:ft(Ct);break;case 10:Zw(r.type._context);break;case 22:case 23:mx()}n=n.return}if(on=t,Bt=t=Ro(t.current,null),yn=mr=e,Yt=0,oh=null,hx=lv=Wa=0,Zn=Sd=null,Sa!==null){for(e=0;e<Sa.length;e++)if(n=Sa[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Sa=null}return t}function ZR(t,e){do{var n=Bt;try{if(Jw(),Xp.current=Jm,Xm){for(var r=It.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Xm=!1}if(Ua=0,rn=Kt=It=null,wd=!1,rh=0,dx.current=null,n===null||n.return===null){Yt=1,oh=e,Bt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=yn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=oC(o);if(m!==null){m.flags&=-257,aC(m,o,a,i,e),m.mode&1&&iC(i,c,e),e=m,l=c;var _=e.updateQueue;if(_===null){var v=new Set;v.add(l),e.updateQueue=v}else _.add(l);break e}else{if(!(e&1)){iC(i,c,e),gx();break e}l=Error(te(426))}}else if(bt&&a.mode&1){var S=oC(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),aC(S,o,a,i,e),Yw(Mc(l,a));break e}}i=l=Mc(l,a),Yt!==4&&(Yt=2),Sd===null?Sd=[i]:Sd.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=MR(i,l,e);JE(i,x);break e;case 1:a=l;var b=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Po===null||!Po.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=LR(i,a,e);JE(i,k);break e}}i=i.return}while(i!==null)}n2(n)}catch(j){e=j,Bt===n&&n!==null&&(Bt=n=n.return);continue}break}while(!0)}function e2(){var t=Zm.current;return Zm.current=Jm,t===null?Jm:t}function gx(){(Yt===0||Yt===3||Yt===2)&&(Yt=4),on===null||!(Wa&268435455)&&!(lv&268435455)||fo(on,yn)}function ng(t,e){var n=Ue;Ue|=2;var r=e2();(on!==t||yn!==e)&&(li=null,Pa(t,e));do try{KF();break}catch(s){ZR(t,s)}while(!0);if(Jw(),Ue=n,Zm.current=r,Bt!==null)throw Error(te(261));return on=null,yn=0,Yt}function KF(){for(;Bt!==null;)t2(Bt)}function QF(){for(;Bt!==null&&!b5();)t2(Bt)}function t2(t){var e=s2(t.alternate,t,mr);t.memoizedProps=t.pendingProps,e===null?n2(t):Bt=e,dx.current=null}function n2(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=BF(n,e),n!==null){n.flags&=32767,Bt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Yt=6,Bt=null;return}}else if(n=zF(n,e,mr),n!==null){Bt=n;return}if(e=e.sibling,e!==null){Bt=e;return}Bt=e=t}while(e!==null);Yt===0&&(Yt=5)}function ma(t,e,n){var r=et,s=Br.transition;try{Br.transition=null,et=1,YF(t,e,n,r)}finally{Br.transition=s,et=r}return null}function YF(t,e,n,r){do yc();while(wo!==null);if(Ue&6)throw Error(te(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(te(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(A5(t,i),t===on&&(Bt=on=null,yn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_p||(_p=!0,i2(Lm,function(){return yc(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Br.transition,Br.transition=null;var o=et;et=1;var a=Ue;Ue|=4,dx.current=null,WF(t,n),YR(n,t),gF(B_),Fm=!!z_,B_=z_=null,t.current=n,HF(n),w5(),Ue=a,et=o,Br.transition=i}else t.current=n;if(_p&&(_p=!1,wo=t,tg=s),i=t.pendingLanes,i===0&&(Po=null),E5(n.stateNode),ir(t,Mt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(eg)throw eg=!1,t=lb,lb=null,t;return tg&1&&t.tag!==0&&yc(),i=t.pendingLanes,i&1?t===cb?Ed++:(Ed=0,cb=t):Ed=0,Ko(),null}function yc(){if(wo!==null){var t=OA(tg),e=Br.transition,n=et;try{if(Br.transition=null,et=16>t?16:t,wo===null)var r=!1;else{if(t=wo,wo=null,tg=0,Ue&6)throw Error(te(331));var s=Ue;for(Ue|=4,fe=t.current;fe!==null;){var i=fe,o=i.child;if(fe.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(fe=c;fe!==null;){var d=fe;switch(d.tag){case 0:case 11:case 15:xd(8,d,i)}var f=d.child;if(f!==null)f.return=d,fe=f;else for(;fe!==null;){d=fe;var p=d.sibling,m=d.return;if(GR(d),d===c){fe=null;break}if(p!==null){p.return=m,fe=p;break}fe=m}}}var _=i.alternate;if(_!==null){var v=_.child;if(v!==null){_.child=null;do{var S=v.sibling;v.sibling=null,v=S}while(v!==null)}}fe=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,fe=o;else e:for(;fe!==null;){if(i=fe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:xd(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,fe=x;break e}fe=i.return}}var b=t.current;for(fe=b;fe!==null;){o=fe;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,fe=w;else e:for(o=b;fe!==null;){if(a=fe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:av(9,a)}}catch(j){jt(a,a.return,j)}if(a===o){fe=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,fe=k;break e}fe=a.return}}if(Ue=s,Ko(),Fs&&typeof Fs.onPostCommitFiberRoot=="function")try{Fs.onPostCommitFiberRoot(Zg,t)}catch{}r=!0}return r}finally{et=n,Br.transition=e}}return!1}function bC(t,e,n){e=Mc(n,e),e=MR(t,e,1),t=ko(t,e,1),e=Wn(),t!==null&&(Bh(t,1,e),ir(t,e))}function jt(t,e,n){if(t.tag===3)bC(t,t,n);else for(;e!==null;){if(e.tag===3){bC(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Po===null||!Po.has(r))){t=Mc(n,t),t=LR(e,t,1),e=ko(e,t,1),t=Wn(),e!==null&&(Bh(e,1,t),ir(e,t));break}}e=e.return}}function XF(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Wn(),t.pingedLanes|=t.suspendedLanes&n,on===t&&(yn&n)===n&&(Yt===4||Yt===3&&(yn&130023424)===yn&&500>Mt()-fx?Pa(t,0):hx|=n),ir(t,e)}function r2(t,e){e===0&&(t.mode&1?(e=cp,cp<<=1,!(cp&130023424)&&(cp=4194304)):e=1);var n=Wn();t=Pi(t,e),t!==null&&(Bh(t,e,n),ir(t,n))}function JF(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),r2(t,n)}function ZF(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(te(314))}r!==null&&r.delete(e),r2(t,n)}var s2;s2=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||rr.current)tr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return tr=!1,$F(t,e,n);tr=!!(t.flags&131072)}else tr=!1,bt&&e.flags&1048576&&aR(e,qm,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Zp(t,e),t=e.pendingProps;var s=jc(e,Ln.current);vc(e,n),s=ox(null,e,r,t,s,n);var i=ax();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,sr(r)?(i=!0,Wm(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,tx(e),s.updater=iv,e.stateNode=s,s._reactInternals=e,X_(e,r,t,n),e=eb(null,e,r,!0,i,n)):(e.tag=0,bt&&i&&Kw(e),$n(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Zp(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=t4(r),t=os(r,t),s){case 0:e=Z_(null,e,r,t,n);break e;case 1:e=uC(null,e,r,t,n);break e;case 11:e=lC(null,e,r,t,n);break e;case 14:e=cC(null,e,r,os(r.type,t),n);break e}throw Error(te(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:os(r,s),Z_(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:os(r,s),uC(t,e,r,s,n);case 3:e:{if(zR(e),t===null)throw Error(te(387));r=e.pendingProps,i=e.memoizedState,s=i.element,dR(t,e),Qm(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Mc(Error(te(423)),e),e=dC(t,e,r,n,s);break e}else if(r!==s){s=Mc(Error(te(424)),e),e=dC(t,e,r,n,s);break e}else for(gr=Io(e.stateNode.containerInfo.firstChild),yr=e,bt=!0,ls=null,n=mR(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Dc(),r===s){e=Ai(t,e,n);break e}$n(t,e,r,n)}e=e.child}return e;case 5:return gR(e),t===null&&K_(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,U_(r,s)?o=null:i!==null&&U_(r,i)&&(e.flags|=32),$R(t,e),$n(t,e,o,n),e.child;case 6:return t===null&&K_(e),null;case 13:return BR(t,e,n);case 4:return nx(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Nc(e,null,r,n):$n(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:os(r,s),lC(t,e,r,s,n);case 7:return $n(t,e,e.pendingProps,n),e.child;case 8:return $n(t,e,e.pendingProps.children,n),e.child;case 12:return $n(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,lt(Gm,r._currentValue),r._currentValue=o,i!==null)if(fs(i.value,o)){if(i.children===s.children&&!rr.current){e=Ai(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=bi(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Q_(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(te(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Q_(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}$n(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,vc(e,n),s=qr(s),r=r(s),e.flags|=1,$n(t,e,r,n),e.child;case 14:return r=e.type,s=os(r,e.pendingProps),s=os(r.type,s),cC(t,e,r,s,n);case 15:return VR(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:os(r,s),Zp(t,e),e.tag=1,sr(r)?(t=!0,Wm(e)):t=!1,vc(e,n),fR(e,r,s),X_(e,r,s,n),eb(null,e,r,!0,t,n);case 19:return UR(t,e,n);case 22:return FR(t,e,n)}throw Error(te(156,e.tag))};function i2(t,e){return RA(t,e)}function e4(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(t,e,n,r){return new e4(t,e,n,r)}function vx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function t4(t){if(typeof t=="function")return vx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Mw)return 11;if(t===Lw)return 14}return 2}function Ro(t,e){var n=t.alternate;return n===null?(n=zr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function nm(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")vx(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Bl:return Aa(n.children,s,i,e);case Ow:o=8,s|=8;break;case w_:return t=zr(12,n,e,s|2),t.elementType=w_,t.lanes=i,t;case x_:return t=zr(13,n,e,s),t.elementType=x_,t.lanes=i,t;case S_:return t=zr(19,n,e,s),t.elementType=S_,t.lanes=i,t;case pA:return cv(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case hA:o=10;break e;case fA:o=9;break e;case Mw:o=11;break e;case Lw:o=14;break e;case lo:o=16,r=null;break e}throw Error(te(130,t==null?t:typeof t,""))}return e=zr(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Aa(t,e,n,r){return t=zr(7,t,r,e),t.lanes=n,t}function cv(t,e,n,r){return t=zr(22,t,r,e),t.elementType=pA,t.lanes=n,t.stateNode={isHidden:!1},t}function d0(t,e,n){return t=zr(6,t,null,e),t.lanes=n,t}function h0(t,e,n){return e=zr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function n4(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qy(0),this.expirationTimes=qy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qy(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function yx(t,e,n,r,s,i,o,a,l){return t=new n4(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=zr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},tx(i),t}function r4(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function o2(t){if(!t)return Vo;t=t._reactInternals;e:{if(ol(t)!==t||t.tag!==1)throw Error(te(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(sr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(te(171))}if(t.tag===1){var n=t.type;if(sr(n))return iR(t,n,e)}return e}function a2(t,e,n,r,s,i,o,a,l){return t=yx(n,r,!0,t,s,i,o,a,l),t.context=o2(null),n=t.current,r=Wn(),s=Ao(n),i=bi(r,s),i.callback=e??null,ko(n,i,s),t.current.lanes=s,Bh(t,s,r),ir(t,r),t}function uv(t,e,n,r){var s=e.current,i=Wn(),o=Ao(s);return n=o2(n),e.context===null?e.context=n:e.pendingContext=n,e=bi(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ko(s,e,o),t!==null&&(hs(t,s,o,i),Yp(t,s,o)),o}function rg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function wC(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function _x(t,e){wC(t,e),(t=t.alternate)&&wC(t,e)}function s4(){return null}var l2=typeof reportError=="function"?reportError:function(t){console.error(t)};function bx(t){this._internalRoot=t}dv.prototype.render=bx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(te(409));uv(t,e,null,null)};dv.prototype.unmount=bx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ha(function(){uv(null,t,null,null)}),e[ki]=null}};function dv(t){this._internalRoot=t}dv.prototype.unstable_scheduleHydration=function(t){if(t){var e=VA();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ho.length&&e!==0&&e<ho[n].priority;n++);ho.splice(n,0,t),n===0&&$A(t)}};function wx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function hv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function xC(){}function i4(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=rg(o);i.call(c)}}var o=a2(e,r,t,0,null,!1,!1,"",xC);return t._reactRootContainer=o,t[ki]=o.current,Jd(t.nodeType===8?t.parentNode:t),Ha(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=rg(l);a.call(c)}}var l=yx(t,0,!1,null,null,!1,!1,"",xC);return t._reactRootContainer=l,t[ki]=l.current,Jd(t.nodeType===8?t.parentNode:t),Ha(function(){uv(e,l,n,r)}),l}function fv(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=rg(o);a.call(l)}}uv(e,o,t,s)}else o=i4(n,e,t,s,r);return rg(o)}MA=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=nd(e.pendingLanes);n!==0&&($w(e,n|1),ir(e,Mt()),!(Ue&6)&&(Lc=Mt()+500,Ko()))}break;case 13:Ha(function(){var r=Pi(t,1);if(r!==null){var s=Wn();hs(r,t,1,s)}}),_x(t,1)}};zw=function(t){if(t.tag===13){var e=Pi(t,134217728);if(e!==null){var n=Wn();hs(e,t,134217728,n)}_x(t,134217728)}};LA=function(t){if(t.tag===13){var e=Ao(t),n=Pi(t,e);if(n!==null){var r=Wn();hs(n,t,e,r)}_x(t,e)}};VA=function(){return et};FA=function(t,e){var n=et;try{return et=t,e()}finally{et=n}};D_=function(t,e,n){switch(e){case"input":if(T_(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=rv(r);if(!s)throw Error(te(90));gA(r),T_(r,s)}}}break;case"textarea":yA(t,n);break;case"select":e=n.value,e!=null&&fc(t,!!n.multiple,e,!1)}};CA=px;TA=Ha;var o4={usingClientEntryPoint:!1,Events:[Wh,ql,rv,SA,EA,px]},Wu={findFiberByHostInstance:xa,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},a4={bundleType:Wu.bundleType,version:Wu.version,rendererPackageName:Wu.rendererPackageName,rendererConfig:Wu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=PA(t),t===null?null:t.stateNode},findFiberByHostInstance:Wu.findFiberByHostInstance||s4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bp.isDisabled&&bp.supportsFiber)try{Zg=bp.inject(a4),Fs=bp}catch{}}Ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=o4;Ir.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wx(e))throw Error(te(200));return r4(t,e,null,n)};Ir.createRoot=function(t,e){if(!wx(t))throw Error(te(299));var n=!1,r="",s=l2;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=yx(t,1,!1,null,null,n,!1,r,s),t[ki]=e.current,Jd(t.nodeType===8?t.parentNode:t),new bx(e)};Ir.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(te(188)):(t=Object.keys(t).join(","),Error(te(268,t)));return t=PA(e),t=t===null?null:t.stateNode,t};Ir.flushSync=function(t){return Ha(t)};Ir.hydrate=function(t,e,n){if(!hv(e))throw Error(te(200));return fv(null,t,e,!0,n)};Ir.hydrateRoot=function(t,e,n){if(!wx(t))throw Error(te(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=l2;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=a2(e,null,t,1,n??null,s,!1,i,o),t[ki]=e.current,Jd(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new dv(e)};Ir.render=function(t,e,n){if(!hv(e))throw Error(te(200));return fv(null,t,e,!1,n)};Ir.unmountComponentAtNode=function(t){if(!hv(t))throw Error(te(40));return t._reactRootContainer?(Ha(function(){fv(null,null,t,!1,function(){t._reactRootContainer=null,t[ki]=null})}),!0):!1};Ir.unstable_batchedUpdates=px;Ir.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!hv(n))throw Error(te(200));if(t==null||t._reactInternals===void 0)throw Error(te(38));return fv(t,e,n,!1,r)};Ir.version="18.2.0-next-9e3b772b8-20220608";function c2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c2)}catch(t){console.error(t)}}c2(),aA.exports=Ir;var xx=aA.exports,SC=xx;__.createRoot=SC.createRoot,__.hydrateRoot=SC.hydrateRoot;/**
 * @remix-run/router v1.15.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ah(){return ah=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ah.apply(this,arguments)}var xo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(xo||(xo={}));const EC="popstate";function l4(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return hb("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:sg(s)}return u4(e,n,null,t)}function Gt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function u2(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function c4(){return Math.random().toString(36).substr(2,8)}function CC(t,e){return{usr:t.state,key:t.key,idx:e}}function hb(t,e,n,r){return n===void 0&&(n=null),ah({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?iu(e):e,{state:n,key:e&&e.key||r||c4()})}function sg(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function iu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function u4(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=xo.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(ah({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=xo.Pop;let S=d(),x=S==null?null:S-c;c=S,l&&l({action:a,location:v.location,delta:x})}function p(S,x){a=xo.Push;let b=hb(v.location,S,x);n&&n(b,S),c=d()+1;let w=CC(b,c),k=v.createHref(b);try{o.pushState(w,"",k)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(k)}i&&l&&l({action:a,location:v.location,delta:1})}function m(S,x){a=xo.Replace;let b=hb(v.location,S,x);n&&n(b,S),c=d();let w=CC(b,c),k=v.createHref(b);o.replaceState(w,"",k),i&&l&&l({action:a,location:v.location,delta:0})}function _(S){let x=s.location.origin!=="null"?s.location.origin:s.location.href,b=typeof S=="string"?S:sg(S);return b=b.replace(/ $/,"%20"),Gt(x,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,x)}let v={get action(){return a},get location(){return t(s,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(EC,f),l=S,()=>{s.removeEventListener(EC,f),l=null}},createHref(S){return e(s,S)},createURL:_,encodeLocation(S){let x=_(S);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:m,go(S){return o.go(S)}};return v}var TC;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(TC||(TC={}));function d4(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?iu(e):e,s=Sx(r.pathname||"/",n);if(s==null)return null;let i=d2(t);h4(i);let o=null;for(let a=0;o==null&&a<i.length;++a){let l=E4(s);o=w4(i[a],l)}return o}function d2(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Gt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=jo([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(Gt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),d2(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:_4(c,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of h2(i.path))s(i,o,l)}),e}function h2(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=h2(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function h4(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:b4(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const f4=/^:[\w-]+$/,p4=3,m4=2,g4=1,v4=10,y4=-2,IC=t=>t==="*";function _4(t,e){let n=t.split("/"),r=n.length;return n.some(IC)&&(r+=y4),e&&(r+=m4),n.filter(s=>!IC(s)).reduce((s,i)=>s+(f4.test(i)?p4:i===""?g4:v4),r)}function b4(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function w4(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=s==="/"?e:e.slice(s.length)||"/",d=x4({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!d)return null;Object.assign(r,d.params);let f=a.route;i.push({params:r,pathname:jo([s,d.pathname]),pathnameBase:k4(jo([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=jo([s,d.pathnameBase]))}return i}function x4(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=S4(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:p,isOptional:m}=d;if(p==="*"){let v=a[f]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const _=a[f];return m&&!_?c[p]=void 0:c[p]=(_||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function S4(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),u2(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function E4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return u2(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Sx(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function C4(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?iu(t):t;return{pathname:n?n.startsWith("/")?n:T4(n,e):e,search:P4(r),hash:A4(s)}}function T4(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function f0(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function I4(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function f2(t,e){let n=I4(t);return e?n.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function p2(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=iu(t):(s=ah({},t),Gt(!s.pathname||!s.pathname.includes("?"),f0("?","pathname","search",s)),Gt(!s.pathname||!s.pathname.includes("#"),f0("#","pathname","hash",s)),Gt(!s.search||!s.search.includes("#"),f0("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=C4(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const jo=t=>t.join("/").replace(/\/\/+/g,"/"),k4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),P4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,A4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function R4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const m2=["post","put","patch","delete"];new Set(m2);const j4=["get",...m2];new Set(j4);/**
 * React Router v6.22.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lh(){return lh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lh.apply(this,arguments)}const Ex=g.createContext(null),D4=g.createContext(null),al=g.createContext(null),pv=g.createContext(null),Qo=g.createContext({outlet:null,matches:[],isDataRoute:!1}),g2=g.createContext(null);function N4(t,e){let{relative:n}=e===void 0?{}:e;qh()||Gt(!1);let{basename:r,navigator:s}=g.useContext(al),{hash:i,pathname:o,search:a}=y2(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:jo([r,o])),s.createHref({pathname:l,search:a,hash:i})}function qh(){return g.useContext(pv)!=null}function Ui(){return qh()||Gt(!1),g.useContext(pv).location}function v2(t){g.useContext(al).static||g.useLayoutEffect(t)}function fr(){let{isDataRoute:t}=g.useContext(Qo);return t?G4():O4()}function O4(){qh()||Gt(!1);let t=g.useContext(Ex),{basename:e,future:n,navigator:r}=g.useContext(al),{matches:s}=g.useContext(Qo),{pathname:i}=Ui(),o=JSON.stringify(f2(s,n.v7_relativeSplatPath)),a=g.useRef(!1);return v2(()=>{a.current=!0}),g.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=p2(c,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:jo([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,o,i,t])}function Gh(){let{matches:t}=g.useContext(Qo),e=t[t.length-1];return e?e.params:{}}function y2(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=g.useContext(al),{matches:s}=g.useContext(Qo),{pathname:i}=Ui(),o=JSON.stringify(f2(s,r.v7_relativeSplatPath));return g.useMemo(()=>p2(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function M4(t,e){return L4(t,e)}function L4(t,e,n,r){qh()||Gt(!1);let{navigator:s}=g.useContext(al),{matches:i}=g.useContext(Qo),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Ui(),d;if(e){var f;let S=typeof e=="string"?iu(e):e;l==="/"||(f=S.pathname)!=null&&f.startsWith(l)||Gt(!1),d=S}else d=c;let p=d.pathname||"/",m=p;if(l!=="/"){let S=l.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(S.length).join("/")}let _=d4(t,{pathname:m}),v=B4(_&&_.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:jo([l,s.encodeLocation?s.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:jo([l,s.encodeLocation?s.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),i,n,r);return e&&v?g.createElement(pv.Provider,{value:{location:lh({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:xo.Pop}},v):v}function V4(){let t=q4(),e=R4(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},e),n?g.createElement("pre",{style:s},n):null,null)}const F4=g.createElement(V4,null);class $4 extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?g.createElement(Qo.Provider,{value:this.props.routeContext},g.createElement(g2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function z4(t){let{routeContext:e,match:n,children:r}=t,s=g.useContext(Ex);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(Qo.Provider,{value:e},r)}function B4(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id]));d>=0||Gt(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:p,errors:m}=n,_=f.route.loader&&p[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||_){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,p)=>{let m,_=!1,v=null,S=null;n&&(m=a&&f.route.id?a[f.route.id]:void 0,v=f.route.errorElement||F4,l&&(c<0&&p===0?(K4("route-fallback",!1),_=!0,S=null):c===p&&(_=!0,S=f.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,p+1)),b=()=>{let w;return m?w=v:_?w=S:f.route.Component?w=g.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,g.createElement(z4,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?g.createElement($4,{location:n.location,revalidation:n.revalidation,component:v,error:m,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}var _2=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(_2||{}),ig=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ig||{});function U4(t){let e=g.useContext(Ex);return e||Gt(!1),e}function W4(t){let e=g.useContext(D4);return e||Gt(!1),e}function H4(t){let e=g.useContext(Qo);return e||Gt(!1),e}function b2(t){let e=H4(),n=e.matches[e.matches.length-1];return n.route.id||Gt(!1),n.route.id}function q4(){var t;let e=g.useContext(g2),n=W4(ig.UseRouteError),r=b2(ig.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function G4(){let{router:t}=U4(_2.UseNavigateStable),e=b2(ig.UseNavigateStable),n=g.useRef(!1);return v2(()=>{n.current=!0}),g.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,lh({fromRouteId:e},i)))},[t,e])}const kC={};function K4(t,e,n){!e&&!kC[t]&&(kC[t]=!0)}function Pn(t){Gt(!1)}function Q4(t){let{basename:e="/",children:n=null,location:r,navigationType:s=xo.Pop,navigator:i,static:o=!1,future:a}=t;qh()&&Gt(!1);let l=e.replace(/^\/*/,"/"),c=g.useMemo(()=>({basename:l,navigator:i,static:o,future:lh({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=iu(r));let{pathname:d="/",search:f="",hash:p="",state:m=null,key:_="default"}=r,v=g.useMemo(()=>{let S=Sx(d,l);return S==null?null:{location:{pathname:S,search:f,hash:p,state:m,key:_},navigationType:s}},[l,d,f,p,m,_,s]);return v==null?null:g.createElement(al.Provider,{value:c},g.createElement(pv.Provider,{children:n,value:v}))}function Y4(t){let{children:e,location:n}=t;return M4(fb(e),n)}new Promise(()=>{});function fb(t,e){e===void 0&&(e=[]);let n=[];return g.Children.forEach(t,(r,s)=>{if(!g.isValidElement(r))return;let i=[...e,s];if(r.type===g.Fragment){n.push.apply(n,fb(r.props.children,i));return}r.type!==Pn&&Gt(!1),!r.props.index||!r.props.children||Gt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=fb(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.22.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pb(){return pb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pb.apply(this,arguments)}function X4(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function J4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Z4(t,e){return t.button===0&&(!e||e==="_self")&&!J4(t)}const e$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],t$="6";try{window.__reactRouterVersion=t$}catch{}const n$="startTransition",PC=y_[n$];function r$(t){let{basename:e,children:n,future:r,window:s}=t,i=g.useRef();i.current==null&&(i.current=l4({window:s,v5Compat:!0}));let o=i.current,[a,l]=g.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=g.useCallback(f=>{c&&PC?PC(()=>l(f)):l(f)},[l,c]);return g.useLayoutEffect(()=>o.listen(d),[o,d]),g.createElement(Q4,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const s$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",i$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zn=g.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:d,unstable_viewTransition:f}=e,p=X4(e,e$),{basename:m}=g.useContext(al),_,v=!1;if(typeof c=="string"&&i$.test(c)&&(_=c,s$))try{let w=new URL(window.location.href),k=c.startsWith("//")?new URL(w.protocol+c):new URL(c),j=Sx(k.pathname,m);k.origin===w.origin&&j!=null?c=j+k.search+k.hash:v=!0}catch{}let S=N4(c,{relative:s}),x=o$(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,unstable_viewTransition:f});function b(w){r&&r(w),w.defaultPrevented||x(w)}return g.createElement("a",pb({},p,{href:_||S,onClick:v||i?r:b,ref:n,target:l}))});var AC;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(AC||(AC={}));var RC;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(RC||(RC={}));function o$(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=fr(),c=Ui(),d=y2(t,{relative:o});return g.useCallback(f=>{if(Z4(f,n)){f.preventDefault();let p=r!==void 0?r:sg(c)===sg(d);l(t,{replace:p,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a})}},[c,l,d,r,s,n,t,i,o,a])}function a$(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function l$(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var c$=function(){function t(n){var r=this;this._insertTag=function(s){var i;r.tags.length===0?r.insertionPoint?i=r.insertionPoint.nextSibling:r.prepend?i=r.container.firstChild:i=r.before:i=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,i),r.tags.push(s)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(l$(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var i=a$(s);try{i.insertRule(r,i.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),An="-ms-",og="-moz-",Ge="-webkit-",w2="comm",Cx="rule",Tx="decl",u$="@import",x2="@keyframes",d$="@layer",h$=Math.abs,mv=String.fromCharCode,f$=Object.assign;function p$(t,e){return mn(t,0)^45?(((e<<2^mn(t,0))<<2^mn(t,1))<<2^mn(t,2))<<2^mn(t,3):0}function S2(t){return t.trim()}function m$(t,e){return(t=e.exec(t))?t[0]:t}function Ke(t,e,n){return t.replace(e,n)}function mb(t,e){return t.indexOf(e)}function mn(t,e){return t.charCodeAt(e)|0}function ch(t,e,n){return t.slice(e,n)}function As(t){return t.length}function Ix(t){return t.length}function wp(t,e){return e.push(t),t}function g$(t,e){return t.map(e).join("")}var gv=1,Vc=1,E2=0,cr=0,zt=0,ou="";function vv(t,e,n,r,s,i,o){return{value:t,root:e,parent:n,type:r,props:s,children:i,line:gv,column:Vc,length:o,return:""}}function Hu(t,e){return f$(vv("",null,null,"",null,null,0),t,{length:-t.length},e)}function v$(){return zt}function y$(){return zt=cr>0?mn(ou,--cr):0,Vc--,zt===10&&(Vc=1,gv--),zt}function _r(){return zt=cr<E2?mn(ou,cr++):0,Vc++,zt===10&&(Vc=1,gv++),zt}function zs(){return mn(ou,cr)}function rm(){return cr}function Kh(t,e){return ch(ou,t,e)}function uh(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function C2(t){return gv=Vc=1,E2=As(ou=t),cr=0,[]}function T2(t){return ou="",t}function sm(t){return S2(Kh(cr-1,gb(t===91?t+2:t===40?t+1:t)))}function _$(t){for(;(zt=zs())&&zt<33;)_r();return uh(t)>2||uh(zt)>3?"":" "}function b$(t,e){for(;--e&&_r()&&!(zt<48||zt>102||zt>57&&zt<65||zt>70&&zt<97););return Kh(t,rm()+(e<6&&zs()==32&&_r()==32))}function gb(t){for(;_r();)switch(zt){case t:return cr;case 34:case 39:t!==34&&t!==39&&gb(zt);break;case 40:t===41&&gb(t);break;case 92:_r();break}return cr}function w$(t,e){for(;_r()&&t+zt!==57;)if(t+zt===84&&zs()===47)break;return"/*"+Kh(e,cr-1)+"*"+mv(t===47?t:_r())}function x$(t){for(;!uh(zs());)_r();return Kh(t,cr)}function S$(t){return T2(im("",null,null,null,[""],t=C2(t),0,[0],t))}function im(t,e,n,r,s,i,o,a,l){for(var c=0,d=0,f=o,p=0,m=0,_=0,v=1,S=1,x=1,b=0,w="",k=s,j=i,O=r,C=w;S;)switch(_=b,b=_r()){case 40:if(_!=108&&mn(C,f-1)==58){mb(C+=Ke(sm(b),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:C+=sm(b);break;case 9:case 10:case 13:case 32:C+=_$(_);break;case 92:C+=b$(rm()-1,7);continue;case 47:switch(zs()){case 42:case 47:wp(E$(w$(_r(),rm()),e,n),l);break;default:C+="/"}break;case 123*v:a[c++]=As(C)*x;case 125*v:case 59:case 0:switch(b){case 0:case 125:S=0;case 59+d:x==-1&&(C=Ke(C,/\f/g,"")),m>0&&As(C)-f&&wp(m>32?DC(C+";",r,n,f-1):DC(Ke(C," ","")+";",r,n,f-2),l);break;case 59:C+=";";default:if(wp(O=jC(C,e,n,c,d,s,a,w,k=[],j=[],f),i),b===123)if(d===0)im(C,e,O,O,k,i,f,a,j);else switch(p===99&&mn(C,3)===110?100:p){case 100:case 108:case 109:case 115:im(t,O,O,r&&wp(jC(t,O,O,0,0,s,a,w,s,k=[],f),j),s,j,f,a,r?k:j);break;default:im(C,O,O,O,[""],j,0,a,j)}}c=d=m=0,v=x=1,w=C="",f=o;break;case 58:f=1+As(C),m=_;default:if(v<1){if(b==123)--v;else if(b==125&&v++==0&&y$()==125)continue}switch(C+=mv(b),b*v){case 38:x=d>0?1:(C+="\f",-1);break;case 44:a[c++]=(As(C)-1)*x,x=1;break;case 64:zs()===45&&(C+=sm(_r())),p=zs(),d=f=As(w=C+=x$(rm())),b++;break;case 45:_===45&&As(C)==2&&(v=0)}}return i}function jC(t,e,n,r,s,i,o,a,l,c,d){for(var f=s-1,p=s===0?i:[""],m=Ix(p),_=0,v=0,S=0;_<r;++_)for(var x=0,b=ch(t,f+1,f=h$(v=o[_])),w=t;x<m;++x)(w=S2(v>0?p[x]+" "+b:Ke(b,/&\f/g,p[x])))&&(l[S++]=w);return vv(t,e,n,s===0?Cx:a,l,c,d)}function E$(t,e,n){return vv(t,e,n,w2,mv(v$()),ch(t,2,-2),0)}function DC(t,e,n,r){return vv(t,e,n,Tx,ch(t,0,r),ch(t,r+1,-1),r)}function _c(t,e){for(var n="",r=Ix(t),s=0;s<r;s++)n+=e(t[s],s,t,e)||"";return n}function C$(t,e,n,r){switch(t.type){case d$:if(t.children.length)break;case u$:case Tx:return t.return=t.return||t.value;case w2:return"";case x2:return t.return=t.value+"{"+_c(t.children,r)+"}";case Cx:t.value=t.props.join(",")}return As(n=_c(t.children,r))?t.return=t.value+"{"+n+"}":""}function T$(t){var e=Ix(t);return function(n,r,s,i){for(var o="",a=0;a<e;a++)o+=t[a](n,r,s,i)||"";return o}}function I$(t){return function(e){e.root||(e=e.return)&&t(e)}}var NC=function(e){var n=new WeakMap;return function(r){if(n.has(r))return n.get(r);var s=e(r);return n.set(r,s),s}};function I2(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var k$=function(e,n,r){for(var s=0,i=0;s=i,i=zs(),s===38&&i===12&&(n[r]=1),!uh(i);)_r();return Kh(e,cr)},P$=function(e,n){var r=-1,s=44;do switch(uh(s)){case 0:s===38&&zs()===12&&(n[r]=1),e[r]+=k$(cr-1,n,r);break;case 2:e[r]+=sm(s);break;case 4:if(s===44){e[++r]=zs()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=mv(s)}while(s=_r());return e},A$=function(e,n){return T2(P$(C2(e),n))},OC=new WeakMap,R$=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,s=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!OC.get(r))&&!s){OC.set(e,!0);for(var i=[],o=A$(n,i),a=r.props,l=0,c=0;l<o.length;l++)for(var d=0;d<a.length;d++,c++)e.props[c]=i[l]?o[l].replace(/&\f/g,a[d]):a[d]+" "+o[l]}}},j$=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function k2(t,e){switch(p$(t,e)){case 5103:return Ge+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ge+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ge+t+og+t+An+t+t;case 6828:case 4268:return Ge+t+An+t+t;case 6165:return Ge+t+An+"flex-"+t+t;case 5187:return Ge+t+Ke(t,/(\w+).+(:[^]+)/,Ge+"box-$1$2"+An+"flex-$1$2")+t;case 5443:return Ge+t+An+"flex-item-"+Ke(t,/flex-|-self/,"")+t;case 4675:return Ge+t+An+"flex-line-pack"+Ke(t,/align-content|flex-|-self/,"")+t;case 5548:return Ge+t+An+Ke(t,"shrink","negative")+t;case 5292:return Ge+t+An+Ke(t,"basis","preferred-size")+t;case 6060:return Ge+"box-"+Ke(t,"-grow","")+Ge+t+An+Ke(t,"grow","positive")+t;case 4554:return Ge+Ke(t,/([^-])(transform)/g,"$1"+Ge+"$2")+t;case 6187:return Ke(Ke(Ke(t,/(zoom-|grab)/,Ge+"$1"),/(image-set)/,Ge+"$1"),t,"")+t;case 5495:case 3959:return Ke(t,/(image-set\([^]*)/,Ge+"$1$`$1");case 4968:return Ke(Ke(t,/(.+:)(flex-)?(.*)/,Ge+"box-pack:$3"+An+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ge+t+t;case 4095:case 3583:case 4068:case 2532:return Ke(t,/(.+)-inline(.+)/,Ge+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(As(t)-1-e>6)switch(mn(t,e+1)){case 109:if(mn(t,e+4)!==45)break;case 102:return Ke(t,/(.+:)(.+)-([^]+)/,"$1"+Ge+"$2-$3$1"+og+(mn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~mb(t,"stretch")?k2(Ke(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(mn(t,e+1)!==115)break;case 6444:switch(mn(t,As(t)-3-(~mb(t,"!important")&&10))){case 107:return Ke(t,":",":"+Ge)+t;case 101:return Ke(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ge+(mn(t,14)===45?"inline-":"")+"box$3$1"+Ge+"$2$3$1"+An+"$2box$3")+t}break;case 5936:switch(mn(t,e+11)){case 114:return Ge+t+An+Ke(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ge+t+An+Ke(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ge+t+An+Ke(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Ge+t+An+t+t}return t}var D$=function(e,n,r,s){if(e.length>-1&&!e.return)switch(e.type){case Tx:e.return=k2(e.value,e.length);break;case x2:return _c([Hu(e,{value:Ke(e.value,"@","@"+Ge)})],s);case Cx:if(e.length)return g$(e.props,function(i){switch(m$(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return _c([Hu(e,{props:[Ke(i,/:(read-\w+)/,":"+og+"$1")]})],s);case"::placeholder":return _c([Hu(e,{props:[Ke(i,/:(plac\w+)/,":"+Ge+"input-$1")]}),Hu(e,{props:[Ke(i,/:(plac\w+)/,":"+og+"$1")]}),Hu(e,{props:[Ke(i,/:(plac\w+)/,An+"input-$1")]})],s)}return""})}},N$=[D$],O$=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(v){var S=v.getAttribute("data-emotion");S.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var s=e.stylisPlugins||N$,i={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(v){for(var S=v.getAttribute("data-emotion").split(" "),x=1;x<S.length;x++)i[S[x]]=!0;a.push(v)});var l,c=[R$,j$];{var d,f=[C$,I$(function(v){d.insert(v)})],p=T$(c.concat(s,f)),m=function(S){return _c(S$(S),p)};l=function(S,x,b,w){d=b,m(S?S+"{"+x.styles+"}":x.styles),w&&(_.inserted[x.name]=!0)}}var _={key:n,sheet:new c$({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:l};return _.sheet.hydrate(a),_};function qa(){return qa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qa.apply(this,arguments)}var P2={exports:{}},tt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var an=typeof Symbol=="function"&&Symbol.for,kx=an?Symbol.for("react.element"):60103,Px=an?Symbol.for("react.portal"):60106,yv=an?Symbol.for("react.fragment"):60107,_v=an?Symbol.for("react.strict_mode"):60108,bv=an?Symbol.for("react.profiler"):60114,wv=an?Symbol.for("react.provider"):60109,xv=an?Symbol.for("react.context"):60110,Ax=an?Symbol.for("react.async_mode"):60111,Sv=an?Symbol.for("react.concurrent_mode"):60111,Ev=an?Symbol.for("react.forward_ref"):60112,Cv=an?Symbol.for("react.suspense"):60113,M$=an?Symbol.for("react.suspense_list"):60120,Tv=an?Symbol.for("react.memo"):60115,Iv=an?Symbol.for("react.lazy"):60116,L$=an?Symbol.for("react.block"):60121,V$=an?Symbol.for("react.fundamental"):60117,F$=an?Symbol.for("react.responder"):60118,$$=an?Symbol.for("react.scope"):60119;function Pr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case kx:switch(t=t.type,t){case Ax:case Sv:case yv:case bv:case _v:case Cv:return t;default:switch(t=t&&t.$$typeof,t){case xv:case Ev:case Iv:case Tv:case wv:return t;default:return e}}case Px:return e}}}function A2(t){return Pr(t)===Sv}tt.AsyncMode=Ax;tt.ConcurrentMode=Sv;tt.ContextConsumer=xv;tt.ContextProvider=wv;tt.Element=kx;tt.ForwardRef=Ev;tt.Fragment=yv;tt.Lazy=Iv;tt.Memo=Tv;tt.Portal=Px;tt.Profiler=bv;tt.StrictMode=_v;tt.Suspense=Cv;tt.isAsyncMode=function(t){return A2(t)||Pr(t)===Ax};tt.isConcurrentMode=A2;tt.isContextConsumer=function(t){return Pr(t)===xv};tt.isContextProvider=function(t){return Pr(t)===wv};tt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===kx};tt.isForwardRef=function(t){return Pr(t)===Ev};tt.isFragment=function(t){return Pr(t)===yv};tt.isLazy=function(t){return Pr(t)===Iv};tt.isMemo=function(t){return Pr(t)===Tv};tt.isPortal=function(t){return Pr(t)===Px};tt.isProfiler=function(t){return Pr(t)===bv};tt.isStrictMode=function(t){return Pr(t)===_v};tt.isSuspense=function(t){return Pr(t)===Cv};tt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===yv||t===Sv||t===bv||t===_v||t===Cv||t===M$||typeof t=="object"&&t!==null&&(t.$$typeof===Iv||t.$$typeof===Tv||t.$$typeof===wv||t.$$typeof===xv||t.$$typeof===Ev||t.$$typeof===V$||t.$$typeof===F$||t.$$typeof===$$||t.$$typeof===L$)};tt.typeOf=Pr;P2.exports=tt;var z$=P2.exports,R2=z$,B$={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},U$={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},j2={};j2[R2.ForwardRef]=B$;j2[R2.Memo]=U$;var W$=!0;function H$(t,e,n){var r="";return n.split(" ").forEach(function(s){t[s]!==void 0?e.push(t[s]+";"):r+=s+" "}),r}var D2=function(e,n,r){var s=e.key+"-"+n.name;(r===!1||W$===!1)&&e.registered[s]===void 0&&(e.registered[s]=n.styles)},N2=function(e,n,r){D2(e,n,r);var s=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var i=n;do e.insert(n===i?"."+s:"",i,e.sheet,!0),i=i.next;while(i!==void 0)}};function q$(t){for(var e=0,n,r=0,s=t.length;s>=4;++r,s-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var G$={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},K$=/[A-Z]|^ms/g,Q$=/_EMO_([^_]+?)_([^]*?)_EMO_/g,O2=function(e){return e.charCodeAt(1)===45},MC=function(e){return e!=null&&typeof e!="boolean"},p0=I2(function(t){return O2(t)?t:t.replace(K$,"-$&").toLowerCase()}),LC=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(Q$,function(r,s,i){return Rs={name:s,styles:i,next:Rs},s})}return G$[e]!==1&&!O2(e)&&typeof n=="number"&&n!==0?n+"px":n};function dh(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Rs={name:n.name,styles:n.styles,next:Rs},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Rs={name:r.name,styles:r.styles,next:Rs},r=r.next;var s=n.styles+";";return s}return Y$(t,e,n)}case"function":{if(t!==void 0){var i=Rs,o=n(t);return Rs=i,dh(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function Y$(t,e,n){var r="";if(Array.isArray(n))for(var s=0;s<n.length;s++)r+=dh(t,e,n[s])+";";else for(var i in n){var o=n[i];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=i+"{"+e[o]+"}":MC(o)&&(r+=p0(i)+":"+LC(i,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)MC(o[a])&&(r+=p0(i)+":"+LC(i,o[a])+";");else{var l=dh(t,e,o);switch(i){case"animation":case"animationName":{r+=p0(i)+":"+l+";";break}default:r+=i+"{"+l+"}"}}}return r}var VC=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Rs,Rx=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var s=!0,i="";Rs=void 0;var o=e[0];o==null||o.raw===void 0?(s=!1,i+=dh(r,n,o)):i+=o[0];for(var a=1;a<e.length;a++)i+=dh(r,n,e[a]),s&&(i+=o[a]);VC.lastIndex=0;for(var l="",c;(c=VC.exec(i))!==null;)l+="-"+c[1];var d=q$(i)+l;return{name:d,styles:i,next:Rs}},X$=function(e){return e()},M2=y_.useInsertionEffect?y_.useInsertionEffect:!1,J$=M2||X$,FC=M2||g.useLayoutEffect,L2=g.createContext(typeof HTMLElement<"u"?O$({key:"css"}):null);L2.Provider;var V2=function(e){return g.forwardRef(function(n,r){var s=g.useContext(L2);return e(n,s,r)})},hh=g.createContext({}),Z$=function(e,n){if(typeof n=="function"){var r=n(e);return r}return qa({},e,n)},e3=NC(function(t){return NC(function(e){return Z$(t,e)})}),t3=function(e){var n=g.useContext(hh);return e.theme!==n&&(n=e3(n)(e.theme)),g.createElement(hh.Provider,{value:n},e.children)},kv=V2(function(t,e){var n=t.styles,r=Rx([n],void 0,g.useContext(hh)),s=g.useRef();return FC(function(){var i=e.key+"-global",o=new e.sheet.constructor({key:i,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+i+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",i),o.hydrate([l])),s.current=[o,a],function(){o.flush()}},[e]),FC(function(){var i=s.current,o=i[0],a=i[1];if(a){i[1]=!1;return}if(r.next!==void 0&&N2(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function n3(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Rx(e)}var r3=function(){var e=n3.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},F2=String.raw,$2=F2`
  :root,
  :host {
    --chakra-vh: 100vh;
  }

  @supports (height: -webkit-fill-available) {
    :root,
    :host {
      --chakra-vh: -webkit-fill-available;
    }
  }

  @supports (height: -moz-fill-available) {
    :root,
    :host {
      --chakra-vh: -moz-fill-available;
    }
  }

  @supports (height: 100dvh) {
    :root,
    :host {
      --chakra-vh: 100dvh;
    }
  }
`,s3=()=>u.jsx(kv,{styles:$2}),i3=({scope:t=""})=>u.jsx(kv,{styles:F2`
      html {
        line-height: 1.5;
        -webkit-text-size-adjust: 100%;
        font-family: system-ui, sans-serif;
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
        -moz-osx-font-smoothing: grayscale;
        touch-action: manipulation;
      }

      body {
        position: relative;
        min-height: 100%;
        margin: 0;
        font-feature-settings: "kern";
      }

      ${t} :where(*, *::before, *::after) {
        border-width: 0;
        border-style: solid;
        box-sizing: border-box;
        word-wrap: break-word;
      }

      main {
        display: block;
      }

      ${t} hr {
        border-top-width: 1px;
        box-sizing: content-box;
        height: 0;
        overflow: visible;
      }

      ${t} :where(pre, code, kbd,samp) {
        font-family: SFMono-Regular, Menlo, Monaco, Consolas, monospace;
        font-size: 1em;
      }

      ${t} a {
        background-color: transparent;
        color: inherit;
        text-decoration: inherit;
      }

      ${t} abbr[title] {
        border-bottom: none;
        text-decoration: underline;
        -webkit-text-decoration: underline dotted;
        text-decoration: underline dotted;
      }

      ${t} :where(b, strong) {
        font-weight: bold;
      }

      ${t} small {
        font-size: 80%;
      }

      ${t} :where(sub,sup) {
        font-size: 75%;
        line-height: 0;
        position: relative;
        vertical-align: baseline;
      }

      ${t} sub {
        bottom: -0.25em;
      }

      ${t} sup {
        top: -0.5em;
      }

      ${t} img {
        border-style: none;
      }

      ${t} :where(button, input, optgroup, select, textarea) {
        font-family: inherit;
        font-size: 100%;
        line-height: 1.15;
        margin: 0;
      }

      ${t} :where(button, input) {
        overflow: visible;
      }

      ${t} :where(button, select) {
        text-transform: none;
      }

      ${t} :where(
          button::-moz-focus-inner,
          [type="button"]::-moz-focus-inner,
          [type="reset"]::-moz-focus-inner,
          [type="submit"]::-moz-focus-inner
        ) {
        border-style: none;
        padding: 0;
      }

      ${t} fieldset {
        padding: 0.35em 0.75em 0.625em;
      }

      ${t} legend {
        box-sizing: border-box;
        color: inherit;
        display: table;
        max-width: 100%;
        padding: 0;
        white-space: normal;
      }

      ${t} progress {
        vertical-align: baseline;
      }

      ${t} textarea {
        overflow: auto;
      }

      ${t} :where([type="checkbox"], [type="radio"]) {
        box-sizing: border-box;
        padding: 0;
      }

      ${t} input[type="number"]::-webkit-inner-spin-button,
      ${t} input[type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none !important;
      }

      ${t} input[type="number"] {
        -moz-appearance: textfield;
      }

      ${t} input[type="search"] {
        -webkit-appearance: textfield;
        outline-offset: -2px;
      }

      ${t} input[type="search"]::-webkit-search-decoration {
        -webkit-appearance: none !important;
      }

      ${t} ::-webkit-file-upload-button {
        -webkit-appearance: button;
        font: inherit;
      }

      ${t} details {
        display: block;
      }

      ${t} summary {
        display: list-item;
      }

      template {
        display: none;
      }

      [hidden] {
        display: none !important;
      }

      ${t} :where(
          blockquote,
          dl,
          dd,
          h1,
          h2,
          h3,
          h4,
          h5,
          h6,
          hr,
          figure,
          p,
          pre
        ) {
        margin: 0;
      }

      ${t} button {
        background: transparent;
        padding: 0;
      }

      ${t} fieldset {
        margin: 0;
        padding: 0;
      }

      ${t} :where(ol, ul) {
        margin: 0;
        padding: 0;
      }

      ${t} textarea {
        resize: vertical;
      }

      ${t} :where(button, [role="button"]) {
        cursor: pointer;
      }

      ${t} button::-moz-focus-inner {
        border: 0 !important;
      }

      ${t} table {
        border-collapse: collapse;
      }

      ${t} :where(h1, h2, h3, h4, h5, h6) {
        font-size: inherit;
        font-weight: inherit;
      }

      ${t} :where(button, input, optgroup, select, textarea) {
        padding: 0;
        line-height: inherit;
        color: inherit;
      }

      ${t} :where(img, svg, video, canvas, audio, iframe, embed, object) {
        display: block;
      }

      ${t} :where(img, video) {
        max-width: 100%;
        height: auto;
      }

      [data-js-focus-visible]
        :focus:not([data-focus-visible-added]):not(
          [data-focus-visible-disabled]
        ) {
        outline: none;
        box-shadow: none;
      }

      ${t} select::-ms-expand {
        display: none;
      }

      ${$2}
    `});function o3(t,e){return`${t} returned \`undefined\`. Seems you forgot to wrap component within ${e}`}function Jt(t={}){const{name:e,strict:n=!0,hookName:r="useContext",providerName:s="Provider",errorMessage:i,defaultValue:o}=t,a=g.createContext(o);a.displayName=e;function l(){var c;const d=g.useContext(a);if(!d&&n){const f=new Error(i??o3(r,s));throw f.name="ContextError",(c=Error.captureStackTrace)==null||c.call(Error,f,l),f}return d}return[a.Provider,l,a]}var[a3,l3]=Jt({strict:!1,name:"PortalManagerContext"});function z2(t){const{children:e,zIndex:n}=t;return u.jsx(a3,{value:{zIndex:n},children:e})}z2.displayName="PortalManager";var Fc=globalThis!=null&&globalThis.document?g.useLayoutEffect:g.useEffect,[B2,c3]=Jt({strict:!1,name:"PortalContext"}),jx="chakra-portal",u3=".chakra-portal",d3=t=>u.jsx("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:t.zIndex,top:0,left:0,right:0},children:t.children}),h3=t=>{const{appendToParentPortal:e,children:n}=t,[r,s]=g.useState(null),i=g.useRef(null),[,o]=g.useState({});g.useEffect(()=>o({}),[]);const a=c3(),l=l3();Fc(()=>{if(!r)return;const d=r.ownerDocument,f=e?a??d.body:d.body;if(!f)return;i.current=d.createElement("div"),i.current.className=jx,f.appendChild(i.current),o({});const p=i.current;return()=>{f.contains(p)&&f.removeChild(p)}},[r]);const c=l!=null&&l.zIndex?u.jsx(d3,{zIndex:l==null?void 0:l.zIndex,children:n}):n;return i.current?xx.createPortal(u.jsx(B2,{value:i.current,children:c}),i.current):u.jsx("span",{ref:d=>{d&&s(d)}})},f3=t=>{const{children:e,containerRef:n,appendToParentPortal:r}=t,s=n.current,i=s??(typeof window<"u"?document.body:void 0),o=g.useMemo(()=>{const l=s==null?void 0:s.ownerDocument.createElement("div");return l&&(l.className=jx),l},[s]),[,a]=g.useState({});return Fc(()=>a({}),[]),Fc(()=>{if(!(!o||!i))return i.appendChild(o),()=>{i.removeChild(o)}},[o,i]),i&&o?xx.createPortal(u.jsx(B2,{value:r?o:null,children:e}),o):null};function au(t){const e={appendToParentPortal:!0,...t},{containerRef:n,...r}=e;return n?u.jsx(f3,{containerRef:n,...r}):u.jsx(h3,{...r})}au.className=jx;au.selector=u3;au.displayName="Portal";function Qh(){const t=g.useContext(hh);if(!t)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return t}var Dx=g.createContext({});Dx.displayName="ColorModeContext";function Nx(){const t=g.useContext(Dx);if(t===void 0)throw new Error("useColorMode must be used within a ColorModeProvider");return t}var xp={light:"chakra-ui-light",dark:"chakra-ui-dark"};function p3(t={}){const{preventTransition:e=!0}=t,n={setDataset:r=>{const s=e?n.preventTransition():void 0;document.documentElement.dataset.theme=r,document.documentElement.style.colorScheme=r,s==null||s()},setClassName(r){document.body.classList.add(r?xp.dark:xp.light),document.body.classList.remove(r?xp.light:xp.dark)},query(){return window.matchMedia("(prefers-color-scheme: dark)")},getSystemTheme(r){var s;return((s=n.query().matches)!=null?s:r==="dark")?"dark":"light"},addListener(r){const s=n.query(),i=o=>{r(o.matches?"dark":"light")};return typeof s.addListener=="function"?s.addListener(i):s.addEventListener("change",i),()=>{typeof s.removeListener=="function"?s.removeListener(i):s.removeEventListener("change",i)}},preventTransition(){const r=document.createElement("style");return r.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(r),()=>{window.getComputedStyle(document.body),requestAnimationFrame(()=>{requestAnimationFrame(()=>{document.head.removeChild(r)})})}}};return n}var m3="chakra-ui-color-mode";function g3(t){return{ssr:!1,type:"localStorage",get(e){if(!(globalThis!=null&&globalThis.document))return e;let n;try{n=localStorage.getItem(t)||e}catch{}return n||e},set(e){try{localStorage.setItem(t,e)}catch{}}}}var v3=g3(m3),$C=()=>{};function zC(t,e){return t.type==="cookie"&&t.ssr?t.get(e):e}function U2(t){const{value:e,children:n,options:{useSystemColorMode:r,initialColorMode:s,disableTransitionOnChange:i}={},colorModeManager:o=v3}=t,a=s==="dark"?"dark":"light",[l,c]=g.useState(()=>zC(o,a)),[d,f]=g.useState(()=>zC(o)),{getSystemTheme:p,setClassName:m,setDataset:_,addListener:v}=g.useMemo(()=>p3({preventTransition:i}),[i]),S=s==="system"&&!l?d:l,x=g.useCallback(k=>{const j=k==="system"?p():k;c(j),m(j==="dark"),_(j),o.set(j)},[o,p,m,_]);Fc(()=>{s==="system"&&f(p())},[]),g.useEffect(()=>{const k=o.get();if(k){x(k);return}if(s==="system"){x("system");return}x(a)},[o,a,s,x]);const b=g.useCallback(()=>{x(S==="dark"?"light":"dark")},[S,x]);g.useEffect(()=>{if(r)return v(x)},[r,v,x]);const w=g.useMemo(()=>({colorMode:e??S,toggleColorMode:e?$C:b,setColorMode:e?$C:x,forced:e!==void 0}),[S,b,x,e]);return u.jsx(Dx.Provider,{value:w,children:n})}U2.displayName="ColorModeProvider";function W2(){const t=Nx(),e=Qh();return{...t,theme:e}}var Pe=(...t)=>t.filter(Boolean).join(" ");function br(t){const e=typeof t;return t!=null&&(e==="object"||e==="function")&&!Array.isArray(t)}function us(t,...e){return y3(t)?t(...e):t}var y3=t=>typeof t=="function",Jn=t=>t?"":void 0,m0=t=>t?!0:void 0;function Qt(...t){return function(n){t.some(r=>(r==null||r(n),n==null?void 0:n.defaultPrevented))}}function _3(...t){return function(n){t.forEach(r=>{r==null||r(n)})}}var ag={exports:{}};ag.exports;(function(t,e){var n=200,r="__lodash_hash_undefined__",s=800,i=16,o=9007199254740991,a="[object Arguments]",l="[object Array]",c="[object AsyncFunction]",d="[object Boolean]",f="[object Date]",p="[object Error]",m="[object Function]",_="[object GeneratorFunction]",v="[object Map]",S="[object Number]",x="[object Null]",b="[object Object]",w="[object Proxy]",k="[object RegExp]",j="[object Set]",O="[object String]",C="[object Undefined]",T="[object WeakMap]",I="[object ArrayBuffer]",P="[object DataView]",N="[object Float32Array]",M="[object Float64Array]",R="[object Int8Array]",$="[object Int16Array]",X="[object Int32Array]",ne="[object Uint8Array]",B="[object Uint8ClampedArray]",G="[object Uint16Array]",ee="[object Uint32Array]",he=/[\\^$.*+?()[\]{}|]/g,ue=/^\[object .+?Constructor\]$/,ve=/^(?:0|[1-9]\d*)$/,ie={};ie[N]=ie[M]=ie[R]=ie[$]=ie[X]=ie[ne]=ie[B]=ie[G]=ie[ee]=!0,ie[a]=ie[l]=ie[I]=ie[d]=ie[P]=ie[f]=ie[p]=ie[m]=ie[v]=ie[S]=ie[b]=ie[k]=ie[j]=ie[O]=ie[T]=!1;var Se=typeof rp=="object"&&rp&&rp.Object===Object&&rp,Te=typeof self=="object"&&self&&self.Object===Object&&self,Ne=Se||Te||Function("return this")(),Me=e&&!e.nodeType&&e,q=Me&&!0&&t&&!t.nodeType&&t,Y=q&&q.exports===Me,re=Y&&Se.process,Re=function(){try{var D=q&&q.require&&q.require("util").types;return D||re&&re.binding&&re.binding("util")}catch{}}(),je=Re&&Re.isTypedArray;function ut(D,L,z){switch(z.length){case 0:return D.call(L);case 1:return D.call(L,z[0]);case 2:return D.call(L,z[0],z[1]);case 3:return D.call(L,z[0],z[1],z[2])}return D.apply(L,z)}function Ar(D,L){for(var z=-1,de=Array(D);++z<D;)de[z]=L(z);return de}function Xr(D){return function(L){return D(L)}}function ln(D,L){return D==null?void 0:D[L]}function Kn(D,L){return function(z){return D(L(z))}}var Rr=Array.prototype,Qn=Function.prototype,tn=Object.prototype,jr=Ne["__core-js_shared__"],ws=Qn.toString,Yn=tn.hasOwnProperty,xs=function(){var D=/[^.]+$/.exec(jr&&jr.keys&&jr.keys.IE_PROTO||"");return D?"Symbol(src)_1."+D:""}(),ti=tn.toString,Gi=ws.call(Object),Dt=RegExp("^"+ws.call(Yn).replace(he,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Et=Y?Ne.Buffer:void 0,na=Ne.Symbol,Eu=Ne.Uint8Array,Cu=Et?Et.allocUnsafe:void 0,If=Kn(Object.getPrototypeOf,Object),Ki=Object.create,kf=tn.propertyIsEnumerable,Pf=Rr.splice,Jr=na?na.toStringTag:void 0,gl=function(){try{var D=ts(Object,"defineProperty");return D({},"",{}),D}catch{}}(),Ty=Et?Et.isBuffer:void 0,vl=Math.max,Af=Date.now,Tu=ts(Ne,"Map"),Zr=ts(Object,"create"),Iu=function(){function D(){}return function(L){if(!ii(L))return{};if(Ki)return Ki(L);D.prototype=L;var z=new D;return D.prototype=void 0,z}}();function es(D){var L=-1,z=D==null?0:D.length;for(this.clear();++L<z;){var de=D[L];this.set(de[0],de[1])}}function ni(){this.__data__=Zr?Zr(null):{},this.size=0}function Rf(D){var L=this.has(D)&&delete this.__data__[D];return this.size-=L?1:0,L}function yl(D){var L=this.__data__;if(Zr){var z=L[D];return z===r?void 0:z}return Yn.call(L,D)?L[D]:void 0}function jf(D){var L=this.__data__;return Zr?L[D]!==void 0:Yn.call(L,D)}function ra(D,L){var z=this.__data__;return this.size+=this.has(D)?0:1,z[D]=Zr&&L===void 0?r:L,this}es.prototype.clear=ni,es.prototype.delete=Rf,es.prototype.get=yl,es.prototype.has=jf,es.prototype.set=ra;function Dr(D){var L=-1,z=D==null?0:D.length;for(this.clear();++L<z;){var de=D[L];this.set(de[0],de[1])}}function cn(){this.__data__=[],this.size=0}function Df(D){var L=this.__data__,z=xl(L,D);if(z<0)return!1;var de=L.length-1;return z==de?L.pop():Pf.call(L,z,1),--this.size,!0}function sa(D){var L=this.__data__,z=xl(L,D);return z<0?void 0:L[z][1]}function ia(D){return xl(this.__data__,D)>-1}function Iy(D,L){var z=this.__data__,de=xl(z,D);return de<0?(++this.size,z.push([D,L])):z[de][1]=L,this}Dr.prototype.clear=cn,Dr.prototype.delete=Df,Dr.prototype.get=sa,Dr.prototype.has=ia,Dr.prototype.set=Iy;function Qi(D){var L=-1,z=D==null?0:D.length;for(this.clear();++L<z;){var de=D[L];this.set(de[0],de[1])}}function Yi(){this.size=0,this.__data__={hash:new es,map:new(Tu||Dr),string:new es}}function ky(D){var L=Sl(this,D).delete(D);return this.size-=L?1:0,L}function Py(D){return Sl(this,D).get(D)}function _l(D){return Sl(this,D).has(D)}function Nf(D,L){var z=Sl(this,D),de=z.size;return z.set(D,L),this.size+=z.size==de?0:1,this}Qi.prototype.clear=Yi,Qi.prototype.delete=ky,Qi.prototype.get=Py,Qi.prototype.has=_l,Qi.prototype.set=Nf;function Ss(D){var L=this.__data__=new Dr(D);this.size=L.size}function bl(){this.__data__=new Dr,this.size=0}function Es(D){var L=this.__data__,z=L.delete(D);return this.size=L.size,z}function Of(D){return this.__data__.get(D)}function Mf(D){return this.__data__.has(D)}function ku(D,L){var z=this.__data__;if(z instanceof Dr){var de=z.__data__;if(!Tu||de.length<n-1)return de.push([D,L]),this.size=++z.size,this;z=this.__data__=new Qi(de)}return z.set(D,L),this.size=z.size,this}Ss.prototype.clear=bl,Ss.prototype.delete=Es,Ss.prototype.get=Of,Ss.prototype.has=Mf,Ss.prototype.set=ku;function Pu(D,L){var z=Tl(D),de=!z&&Nr(D),Le=!z&&!de&&si(D),Je=!z&&!de&&!Le&&Qf(D),st=z||de||Le||Je,Oe=st?Ar(D.length,String):[],it=Oe.length;for(var At in D)(L||Yn.call(D,At))&&!(st&&(At=="length"||Le&&(At=="offset"||At=="parent")||Je&&(At=="buffer"||At=="byteLength"||At=="byteOffset")||oa(At,it)))&&Oe.push(At);return Oe}function wl(D,L,z){(z!==void 0&&!Cs(D[L],z)||z===void 0&&!(L in D))&&Xi(D,L,z)}function Lf(D,L,z){var de=D[L];(!(Yn.call(D,L)&&Cs(de,z))||z===void 0&&!(L in D))&&Xi(D,L,z)}function xl(D,L){for(var z=D.length;z--;)if(Cs(D[z][0],L))return z;return-1}function Xi(D,L,z){L=="__proto__"&&gl?gl(D,L,{configurable:!0,enumerable:!0,value:z,writable:!0}):D[L]=z}var Vf=Wf();function Ji(D){return D==null?D===void 0?C:x:Jr&&Jr in Object(D)?ns(D):Dy(D)}function Zi(D){return Xn(D)&&Ji(D)==a}function ri(D){if(!ii(D)||Cl(D))return!1;var L=Ou(D)?Dt:ue;return L.test(My(D))}function Au(D){return Xn(D)&&Kf(D.length)&&!!ie[Ji(D)]}function Ay(D){if(!ii(D))return aa(D);var L=eo(D),z=[];for(var de in D)de=="constructor"&&(L||!Yn.call(D,de))||z.push(de);return z}function Ru(D,L,z,de,Le){D!==L&&Vf(L,function(Je,st){if(Le||(Le=new Ss),ii(Je))Ff(D,L,st,z,Ru,de,Le);else{var Oe=de?de(Nu(D,st),Je,st+"",D,L,Le):void 0;Oe===void 0&&(Oe=Je),wl(D,st,Oe)}},ca)}function Ff(D,L,z,de,Le,Je,st){var Oe=Nu(D,z),it=Nu(L,z),At=st.get(it);if(At){wl(D,z,At);return}var Sn=Je?Je(Oe,it,z+"",D,L,st):void 0,da=Sn===void 0;if(da){var oi=Tl(it),kl=!oi&&si(it),Pl=!oi&&!kl&&Qf(it);Sn=it,oi||kl||Pl?Tl(Oe)?Sn=Oe:Gf(Oe)?Sn=Ry(Oe):kl?(da=!1,Sn=Du(it,!0)):Pl?(da=!1,Sn=Bf(it,!0)):Sn=[]:Ly(it)||Nr(it)?(Sn=Oe,Nr(Oe)?Sn=la(Oe):(!ii(Oe)||Ou(Oe))&&(Sn=El(it))):da=!1}da&&(st.set(it,Sn),Le(Sn,it,de,Je,st),st.delete(it)),wl(D,z,Sn)}function $f(D,L){return Ny(qf(D,L,to),D+"")}var ju=gl?function(D,L){return gl(D,"toString",{configurable:!0,enumerable:!1,value:ua(L),writable:!0})}:to;function Du(D,L){if(L)return D.slice();var z=D.length,de=Cu?Cu(z):new D.constructor(z);return D.copy(de),de}function zf(D){var L=new D.constructor(D.byteLength);return new Eu(L).set(new Eu(D)),L}function Bf(D,L){var z=L?zf(D.buffer):D.buffer;return new D.constructor(z,D.byteOffset,D.length)}function Ry(D,L){var z=-1,de=D.length;for(L||(L=Array(de));++z<de;)L[z]=D[z];return L}function jy(D,L,z,de){var Le=!z;z||(z={});for(var Je=-1,st=L.length;++Je<st;){var Oe=L[Je],it=de?de(z[Oe],D[Oe],Oe,z,D):void 0;it===void 0&&(it=D[Oe]),Le?Xi(z,Oe,it):Lf(z,Oe,it)}return z}function Uf(D){return $f(function(L,z){var de=-1,Le=z.length,Je=Le>1?z[Le-1]:void 0,st=Le>2?z[2]:void 0;for(Je=D.length>3&&typeof Je=="function"?(Le--,Je):void 0,st&&Hf(z[0],z[1],st)&&(Je=Le<3?void 0:Je,Le=1),L=Object(L);++de<Le;){var Oe=z[de];Oe&&D(L,Oe,de,Je)}return L})}function Wf(D){return function(L,z,de){for(var Le=-1,Je=Object(L),st=de(L),Oe=st.length;Oe--;){var it=st[D?Oe:++Le];if(z(Je[it],it,Je)===!1)break}return L}}function Sl(D,L){var z=D.__data__;return rt(L)?z[typeof L=="string"?"string":"hash"]:z.map}function ts(D,L){var z=ln(D,L);return ri(z)?z:void 0}function ns(D){var L=Yn.call(D,Jr),z=D[Jr];try{D[Jr]=void 0;var de=!0}catch{}var Le=ti.call(D);return de&&(L?D[Jr]=z:delete D[Jr]),Le}function El(D){return typeof D.constructor=="function"&&!eo(D)?Iu(If(D)):{}}function oa(D,L){var z=typeof D;return L=L??o,!!L&&(z=="number"||z!="symbol"&&ve.test(D))&&D>-1&&D%1==0&&D<L}function Hf(D,L,z){if(!ii(z))return!1;var de=typeof L;return(de=="number"?Il(z)&&oa(L,z.length):de=="string"&&L in z)?Cs(z[L],D):!1}function rt(D){var L=typeof D;return L=="string"||L=="number"||L=="symbol"||L=="boolean"?D!=="__proto__":D===null}function Cl(D){return!!xs&&xs in D}function eo(D){var L=D&&D.constructor,z=typeof L=="function"&&L.prototype||tn;return D===z}function aa(D){var L=[];if(D!=null)for(var z in Object(D))L.push(z);return L}function Dy(D){return ti.call(D)}function qf(D,L,z){return L=vl(L===void 0?D.length-1:L,0),function(){for(var de=arguments,Le=-1,Je=vl(de.length-L,0),st=Array(Je);++Le<Je;)st[Le]=de[L+Le];Le=-1;for(var Oe=Array(L+1);++Le<L;)Oe[Le]=de[Le];return Oe[L]=z(st),ut(D,this,Oe)}}function Nu(D,L){if(!(L==="constructor"&&typeof D[L]=="function")&&L!="__proto__")return D[L]}var Ny=Oy(ju);function Oy(D){var L=0,z=0;return function(){var de=Af(),Le=i-(de-z);if(z=de,Le>0){if(++L>=s)return arguments[0]}else L=0;return D.apply(void 0,arguments)}}function My(D){if(D!=null){try{return ws.call(D)}catch{}try{return D+""}catch{}}return""}function Cs(D,L){return D===L||D!==D&&L!==L}var Nr=Zi(function(){return arguments}())?Zi:function(D){return Xn(D)&&Yn.call(D,"callee")&&!kf.call(D,"callee")},Tl=Array.isArray;function Il(D){return D!=null&&Kf(D.length)&&!Ou(D)}function Gf(D){return Xn(D)&&Il(D)}var si=Ty||Xf;function Ou(D){if(!ii(D))return!1;var L=Ji(D);return L==m||L==_||L==c||L==w}function Kf(D){return typeof D=="number"&&D>-1&&D%1==0&&D<=o}function ii(D){var L=typeof D;return D!=null&&(L=="object"||L=="function")}function Xn(D){return D!=null&&typeof D=="object"}function Ly(D){if(!Xn(D)||Ji(D)!=b)return!1;var L=If(D);if(L===null)return!0;var z=Yn.call(L,"constructor")&&L.constructor;return typeof z=="function"&&z instanceof z&&ws.call(z)==Gi}var Qf=je?Xr(je):Au;function la(D){return jy(D,ca(D))}function ca(D){return Il(D)?Pu(D,!0):Ay(D)}var Yf=Uf(function(D,L,z,de){Ru(D,L,z,de)});function ua(D){return function(){return D}}function to(D){return D}function Xf(){return!1}t.exports=Yf})(ag,ag.exports);var b3=ag.exports;const Ms=Xg(b3);var w3=t=>/!(important)?$/.test(t),BC=t=>typeof t=="string"?t.replace(/!(important)?$/,"").trim():t,x3=(t,e)=>n=>{const r=String(e),s=w3(r),i=BC(r),o=t?`${t}.${i}`:i;let a=br(n.__cssMap)&&o in n.__cssMap?n.__cssMap[o].varRef:e;return a=BC(a),s?`${a} !important`:a};function Ox(t){const{scale:e,transform:n,compose:r}=t;return(i,o)=>{var a;const l=x3(e,i)(o);let c=(a=n==null?void 0:n(l,o))!=null?a:l;return r&&(c=r(c,o)),c}}var Sp=(...t)=>e=>t.reduce((n,r)=>r(n),e);function Or(t,e){return n=>{const r={property:n,scale:t};return r.transform=Ox({scale:t,transform:e}),r}}var S3=({rtl:t,ltr:e})=>n=>n.direction==="rtl"?t:e;function E3(t){const{property:e,scale:n,transform:r}=t;return{scale:n,property:S3(e),transform:n?Ox({scale:n,compose:r}):r}}var H2=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];function C3(){return["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...H2].join(" ")}function T3(){return["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...H2].join(" ")}var I3={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},k3={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};function P3(t){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":t,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}var A3={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},vb={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},R3=new Set(Object.values(vb)),yb=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),j3=t=>t.trim();function D3(t,e){if(t==null||yb.has(t))return t;if(!(_b(t)||yb.has(t)))return`url('${t}')`;const s=/(^[a-z-A-Z]+)\((.*)\)/g.exec(t),i=s==null?void 0:s[1],o=s==null?void 0:s[2];if(!i||!o)return t;const a=i.includes("-gradient")?i:`${i}-gradient`,[l,...c]=o.split(",").map(j3).filter(Boolean);if((c==null?void 0:c.length)===0)return t;const d=l in vb?vb[l]:l;c.unshift(d);const f=c.map(p=>{if(R3.has(p))return p;const m=p.indexOf(" "),[_,v]=m!==-1?[p.substr(0,m),p.substr(m+1)]:[p],S=_b(v)?v:v&&v.split(" "),x=`colors.${_}`,b=x in e.__cssMap?e.__cssMap[x].varRef:_;return S?[b,...Array.isArray(S)?S:[S]].join(" "):b});return`${a}(${f.join(", ")})`}var _b=t=>typeof t=="string"&&t.includes("(")&&t.includes(")"),N3=(t,e)=>D3(t,e??{});function O3(t){return/^var\(--.+\)$/.test(t)}var M3=t=>{const e=parseFloat(t.toString()),n=t.toString().replace(String(e),"");return{unitless:!n,value:e,unit:n}},Is=t=>e=>`${t}(${e})`,$e={filter(t){return t!=="auto"?t:I3},backdropFilter(t){return t!=="auto"?t:k3},ring(t){return P3($e.px(t))},bgClip(t){return t==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:t}},transform(t){return t==="auto"?C3():t==="auto-gpu"?T3():t},vh(t){return t==="$100vh"?"var(--chakra-vh)":t},px(t){if(t==null)return t;const{unitless:e}=M3(t);return e||typeof t=="number"?`${t}px`:t},fraction(t){return typeof t!="number"||t>1?t:`${t*100}%`},float(t,e){const n={left:"right",right:"left"};return e.direction==="rtl"?n[t]:t},degree(t){if(O3(t)||t==null)return t;const e=typeof t=="string"&&!t.endsWith("deg");return typeof t=="number"||e?`${t}deg`:t},gradient:N3,blur:Is("blur"),opacity:Is("opacity"),brightness:Is("brightness"),contrast:Is("contrast"),dropShadow:Is("drop-shadow"),grayscale:Is("grayscale"),hueRotate:t=>Is("hue-rotate")($e.degree(t)),invert:Is("invert"),saturate:Is("saturate"),sepia:Is("sepia"),bgImage(t){return t==null||_b(t)||yb.has(t)?t:`url(${t})`},outline(t){const e=String(t)==="0"||String(t)==="none";return t!==null&&e?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:t}},flexDirection(t){var e;const{space:n,divide:r}=(e=A3[t])!=null?e:{},s={flexDirection:t};return n&&(s[n]=1),r&&(s[r]=1),s}},V={borderWidths:Or("borderWidths"),borderStyles:Or("borderStyles"),colors:Or("colors"),borders:Or("borders"),gradients:Or("gradients",$e.gradient),radii:Or("radii",$e.px),space:Or("space",Sp($e.vh,$e.px)),spaceT:Or("space",Sp($e.vh,$e.px)),degreeT(t){return{property:t,transform:$e.degree}},prop(t,e,n){return{property:t,scale:e,...e&&{transform:Ox({scale:e,transform:n})}}},propT(t,e){return{property:t,transform:e}},sizes:Or("sizes",Sp($e.vh,$e.px)),sizesT:Or("sizes",Sp($e.vh,$e.fraction)),shadows:Or("shadows"),logical:E3,blur:Or("blur",$e.blur)},om={background:V.colors("background"),backgroundColor:V.colors("backgroundColor"),backgroundImage:V.gradients("backgroundImage"),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:$e.bgClip},bgSize:V.prop("backgroundSize"),bgPosition:V.prop("backgroundPosition"),bg:V.colors("background"),bgColor:V.colors("backgroundColor"),bgPos:V.prop("backgroundPosition"),bgRepeat:V.prop("backgroundRepeat"),bgAttachment:V.prop("backgroundAttachment"),bgGradient:V.gradients("backgroundImage"),bgClip:{transform:$e.bgClip}};Object.assign(om,{bgImage:om.backgroundImage,bgImg:om.backgroundImage});var qe={border:V.borders("border"),borderWidth:V.borderWidths("borderWidth"),borderStyle:V.borderStyles("borderStyle"),borderColor:V.colors("borderColor"),borderRadius:V.radii("borderRadius"),borderTop:V.borders("borderTop"),borderBlockStart:V.borders("borderBlockStart"),borderTopLeftRadius:V.radii("borderTopLeftRadius"),borderStartStartRadius:V.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:V.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:V.radii("borderTopRightRadius"),borderStartEndRadius:V.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:V.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:V.borders("borderRight"),borderInlineEnd:V.borders("borderInlineEnd"),borderBottom:V.borders("borderBottom"),borderBlockEnd:V.borders("borderBlockEnd"),borderBottomLeftRadius:V.radii("borderBottomLeftRadius"),borderBottomRightRadius:V.radii("borderBottomRightRadius"),borderLeft:V.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:V.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:V.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:V.borders(["borderLeft","borderRight"]),borderInline:V.borders("borderInline"),borderY:V.borders(["borderTop","borderBottom"]),borderBlock:V.borders("borderBlock"),borderTopWidth:V.borderWidths("borderTopWidth"),borderBlockStartWidth:V.borderWidths("borderBlockStartWidth"),borderTopColor:V.colors("borderTopColor"),borderBlockStartColor:V.colors("borderBlockStartColor"),borderTopStyle:V.borderStyles("borderTopStyle"),borderBlockStartStyle:V.borderStyles("borderBlockStartStyle"),borderBottomWidth:V.borderWidths("borderBottomWidth"),borderBlockEndWidth:V.borderWidths("borderBlockEndWidth"),borderBottomColor:V.colors("borderBottomColor"),borderBlockEndColor:V.colors("borderBlockEndColor"),borderBottomStyle:V.borderStyles("borderBottomStyle"),borderBlockEndStyle:V.borderStyles("borderBlockEndStyle"),borderLeftWidth:V.borderWidths("borderLeftWidth"),borderInlineStartWidth:V.borderWidths("borderInlineStartWidth"),borderLeftColor:V.colors("borderLeftColor"),borderInlineStartColor:V.colors("borderInlineStartColor"),borderLeftStyle:V.borderStyles("borderLeftStyle"),borderInlineStartStyle:V.borderStyles("borderInlineStartStyle"),borderRightWidth:V.borderWidths("borderRightWidth"),borderInlineEndWidth:V.borderWidths("borderInlineEndWidth"),borderRightColor:V.colors("borderRightColor"),borderInlineEndColor:V.colors("borderInlineEndColor"),borderRightStyle:V.borderStyles("borderRightStyle"),borderInlineEndStyle:V.borderStyles("borderInlineEndStyle"),borderTopRadius:V.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:V.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:V.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:V.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(qe,{rounded:qe.borderRadius,roundedTop:qe.borderTopRadius,roundedTopLeft:qe.borderTopLeftRadius,roundedTopRight:qe.borderTopRightRadius,roundedTopStart:qe.borderStartStartRadius,roundedTopEnd:qe.borderStartEndRadius,roundedBottom:qe.borderBottomRadius,roundedBottomLeft:qe.borderBottomLeftRadius,roundedBottomRight:qe.borderBottomRightRadius,roundedBottomStart:qe.borderEndStartRadius,roundedBottomEnd:qe.borderEndEndRadius,roundedLeft:qe.borderLeftRadius,roundedRight:qe.borderRightRadius,roundedStart:qe.borderInlineStartRadius,roundedEnd:qe.borderInlineEndRadius,borderStart:qe.borderInlineStart,borderEnd:qe.borderInlineEnd,borderTopStartRadius:qe.borderStartStartRadius,borderTopEndRadius:qe.borderStartEndRadius,borderBottomStartRadius:qe.borderEndStartRadius,borderBottomEndRadius:qe.borderEndEndRadius,borderStartRadius:qe.borderInlineStartRadius,borderEndRadius:qe.borderInlineEndRadius,borderStartWidth:qe.borderInlineStartWidth,borderEndWidth:qe.borderInlineEndWidth,borderStartColor:qe.borderInlineStartColor,borderEndColor:qe.borderInlineEndColor,borderStartStyle:qe.borderInlineStartStyle,borderEndStyle:qe.borderInlineEndStyle});var L3={color:V.colors("color"),textColor:V.colors("color"),fill:V.colors("fill"),stroke:V.colors("stroke")},bb={boxShadow:V.shadows("boxShadow"),mixBlendMode:!0,blendMode:V.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:V.prop("backgroundBlendMode"),opacity:!0};Object.assign(bb,{shadow:bb.boxShadow});var V3={filter:{transform:$e.filter},blur:V.blur("--chakra-blur"),brightness:V.propT("--chakra-brightness",$e.brightness),contrast:V.propT("--chakra-contrast",$e.contrast),hueRotate:V.propT("--chakra-hue-rotate",$e.hueRotate),invert:V.propT("--chakra-invert",$e.invert),saturate:V.propT("--chakra-saturate",$e.saturate),dropShadow:V.propT("--chakra-drop-shadow",$e.dropShadow),backdropFilter:{transform:$e.backdropFilter},backdropBlur:V.blur("--chakra-backdrop-blur"),backdropBrightness:V.propT("--chakra-backdrop-brightness",$e.brightness),backdropContrast:V.propT("--chakra-backdrop-contrast",$e.contrast),backdropHueRotate:V.propT("--chakra-backdrop-hue-rotate",$e.hueRotate),backdropInvert:V.propT("--chakra-backdrop-invert",$e.invert),backdropSaturate:V.propT("--chakra-backdrop-saturate",$e.saturate)},lg={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:$e.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:V.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:V.space("gap"),rowGap:V.space("rowGap"),columnGap:V.space("columnGap")};Object.assign(lg,{flexDir:lg.flexDirection});var q2={gridGap:V.space("gridGap"),gridColumnGap:V.space("gridColumnGap"),gridRowGap:V.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0},F3={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:$e.outline},outlineOffset:!0,outlineColor:V.colors("outlineColor")},Lr={width:V.sizesT("width"),inlineSize:V.sizesT("inlineSize"),height:V.sizes("height"),blockSize:V.sizes("blockSize"),boxSize:V.sizes(["width","height"]),minWidth:V.sizes("minWidth"),minInlineSize:V.sizes("minInlineSize"),minHeight:V.sizes("minHeight"),minBlockSize:V.sizes("minBlockSize"),maxWidth:V.sizes("maxWidth"),maxInlineSize:V.sizes("maxInlineSize"),maxHeight:V.sizes("maxHeight"),maxBlockSize:V.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,aspectRatio:!0,hideFrom:{scale:"breakpoints",transform:(t,e)=>{var n,r,s;return{[`@media screen and (min-width: ${(s=(r=(n=e.__breakpoints)==null?void 0:n.get(t))==null?void 0:r.minW)!=null?s:t})`]:{display:"none"}}}},hideBelow:{scale:"breakpoints",transform:(t,e)=>{var n,r,s;return{[`@media screen and (max-width: ${(s=(r=(n=e.__breakpoints)==null?void 0:n.get(t))==null?void 0:r._minW)!=null?s:t})`]:{display:"none"}}}},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:V.propT("float",$e.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(Lr,{w:Lr.width,h:Lr.height,minW:Lr.minWidth,maxW:Lr.maxWidth,minH:Lr.minHeight,maxH:Lr.maxHeight,overscroll:Lr.overscrollBehavior,overscrollX:Lr.overscrollBehaviorX,overscrollY:Lr.overscrollBehaviorY});var $3={listStyleType:!0,listStylePosition:!0,listStylePos:V.prop("listStylePosition"),listStyleImage:!0,listStyleImg:V.prop("listStyleImage")};function z3(t,e,n,r){const s=typeof e=="string"?e.split("."):[e];for(r=0;r<s.length&&t;r+=1)t=t[s[r]];return t===void 0?n:t}var B3=t=>{const e=new WeakMap;return(r,s,i,o)=>{if(typeof r>"u")return t(r,s,i);e.has(r)||e.set(r,new Map);const a=e.get(r);if(a.has(s))return a.get(s);const l=t(r,s,i,o);return a.set(s,l),l}},U3=B3(z3),W3={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},H3={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},g0=(t,e,n)=>{const r={},s=U3(t,e,{});for(const i in s)i in n&&n[i]!=null||(r[i]=s[i]);return r},q3={srOnly:{transform(t){return t===!0?W3:t==="focusable"?H3:{}}},layerStyle:{processResult:!0,transform:(t,e,n)=>g0(e,`layerStyles.${t}`,n)},textStyle:{processResult:!0,transform:(t,e,n)=>g0(e,`textStyles.${t}`,n)},apply:{processResult:!0,transform:(t,e,n)=>g0(e,t,n)}},Cd={position:!0,pos:V.prop("position"),zIndex:V.prop("zIndex","zIndices"),inset:V.spaceT("inset"),insetX:V.spaceT(["left","right"]),insetInline:V.spaceT("insetInline"),insetY:V.spaceT(["top","bottom"]),insetBlock:V.spaceT("insetBlock"),top:V.spaceT("top"),insetBlockStart:V.spaceT("insetBlockStart"),bottom:V.spaceT("bottom"),insetBlockEnd:V.spaceT("insetBlockEnd"),left:V.spaceT("left"),insetInlineStart:V.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:V.spaceT("right"),insetInlineEnd:V.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(Cd,{insetStart:Cd.insetInlineStart,insetEnd:Cd.insetInlineEnd});var G3={ring:{transform:$e.ring},ringColor:V.colors("--chakra-ring-color"),ringOffset:V.prop("--chakra-ring-offset-width"),ringOffsetColor:V.colors("--chakra-ring-offset-color"),ringInset:V.prop("--chakra-ring-inset")},ht={margin:V.spaceT("margin"),marginTop:V.spaceT("marginTop"),marginBlockStart:V.spaceT("marginBlockStart"),marginRight:V.spaceT("marginRight"),marginInlineEnd:V.spaceT("marginInlineEnd"),marginBottom:V.spaceT("marginBottom"),marginBlockEnd:V.spaceT("marginBlockEnd"),marginLeft:V.spaceT("marginLeft"),marginInlineStart:V.spaceT("marginInlineStart"),marginX:V.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:V.spaceT("marginInline"),marginY:V.spaceT(["marginTop","marginBottom"]),marginBlock:V.spaceT("marginBlock"),padding:V.space("padding"),paddingTop:V.space("paddingTop"),paddingBlockStart:V.space("paddingBlockStart"),paddingRight:V.space("paddingRight"),paddingBottom:V.space("paddingBottom"),paddingBlockEnd:V.space("paddingBlockEnd"),paddingLeft:V.space("paddingLeft"),paddingInlineStart:V.space("paddingInlineStart"),paddingInlineEnd:V.space("paddingInlineEnd"),paddingX:V.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:V.space("paddingInline"),paddingY:V.space(["paddingTop","paddingBottom"]),paddingBlock:V.space("paddingBlock")};Object.assign(ht,{m:ht.margin,mt:ht.marginTop,mr:ht.marginRight,me:ht.marginInlineEnd,marginEnd:ht.marginInlineEnd,mb:ht.marginBottom,ml:ht.marginLeft,ms:ht.marginInlineStart,marginStart:ht.marginInlineStart,mx:ht.marginX,my:ht.marginY,p:ht.padding,pt:ht.paddingTop,py:ht.paddingY,px:ht.paddingX,pb:ht.paddingBottom,pl:ht.paddingLeft,ps:ht.paddingInlineStart,paddingStart:ht.paddingInlineStart,pr:ht.paddingRight,pe:ht.paddingInlineEnd,paddingEnd:ht.paddingInlineEnd});var K3={textDecorationColor:V.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:V.shadows("textShadow")},Q3={clipPath:!0,transform:V.propT("transform",$e.transform),transformOrigin:!0,translateX:V.spaceT("--chakra-translate-x"),translateY:V.spaceT("--chakra-translate-y"),skewX:V.degreeT("--chakra-skew-x"),skewY:V.degreeT("--chakra-skew-y"),scaleX:V.prop("--chakra-scale-x"),scaleY:V.prop("--chakra-scale-y"),scale:V.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:V.degreeT("--chakra-rotate")},Y3={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:V.prop("transitionDuration","transition.duration"),transitionProperty:V.prop("transitionProperty","transition.property"),transitionTimingFunction:V.prop("transitionTimingFunction","transition.easing")},X3={fontFamily:V.prop("fontFamily","fonts"),fontSize:V.prop("fontSize","fontSizes",$e.px),fontWeight:V.prop("fontWeight","fontWeights"),lineHeight:V.prop("lineHeight","lineHeights"),letterSpacing:V.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(t){if(t===!0)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},J3={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:V.spaceT("scrollMargin"),scrollMarginTop:V.spaceT("scrollMarginTop"),scrollMarginBottom:V.spaceT("scrollMarginBottom"),scrollMarginLeft:V.spaceT("scrollMarginLeft"),scrollMarginRight:V.spaceT("scrollMarginRight"),scrollMarginX:V.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:V.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:V.spaceT("scrollPadding"),scrollPaddingTop:V.spaceT("scrollPaddingTop"),scrollPaddingBottom:V.spaceT("scrollPaddingBottom"),scrollPaddingLeft:V.spaceT("scrollPaddingLeft"),scrollPaddingRight:V.spaceT("scrollPaddingRight"),scrollPaddingX:V.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:V.spaceT(["scrollPaddingTop","scrollPaddingBottom"])};function G2(t){return br(t)&&t.reference?t.reference:String(t)}var Pv=(t,...e)=>e.map(G2).join(` ${t} `).replace(/calc/g,""),UC=(...t)=>`calc(${Pv("+",...t)})`,WC=(...t)=>`calc(${Pv("-",...t)})`,wb=(...t)=>`calc(${Pv("*",...t)})`,HC=(...t)=>`calc(${Pv("/",...t)})`,qC=t=>{const e=G2(t);return e!=null&&!Number.isNaN(parseFloat(e))?String(e).startsWith("-")?String(e).slice(1):`-${e}`:wb(e,-1)},ba=Object.assign(t=>({add:(...e)=>ba(UC(t,...e)),subtract:(...e)=>ba(WC(t,...e)),multiply:(...e)=>ba(wb(t,...e)),divide:(...e)=>ba(HC(t,...e)),negate:()=>ba(qC(t)),toString:()=>t.toString()}),{add:UC,subtract:WC,multiply:wb,divide:HC,negate:qC});function Z3(t,e="-"){return t.replace(/\s+/g,e)}function ez(t){const e=Z3(t.toString());return nz(tz(e))}function tz(t){return t.includes("\\.")?t:!Number.isInteger(parseFloat(t.toString()))?t.replace(".","\\."):t}function nz(t){return t.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}function rz(t,e=""){return[e,t].filter(Boolean).join("-")}function sz(t,e){return`var(${t}${e?`, ${e}`:""})`}function iz(t,e=""){return ez(`--${rz(t,e)}`)}function be(t,e,n){const r=iz(t,n);return{variable:r,reference:sz(r,e)}}function oz(t,e){const n={};for(const r of e){if(Array.isArray(r)){const[s,i]=r;n[s]=be(`${t}-${s}`,i);continue}n[r]=be(`${t}-${r}`)}return n}function az(t){const e=t==null?0:t.length;return e?t[e-1]:void 0}function lz(t){const e=parseFloat(t.toString()),n=t.toString().replace(String(e),"");return{unitless:!n,value:e,unit:n}}function xb(t){if(t==null)return t;const{unitless:e}=lz(t);return e||typeof t=="number"?`${t}px`:t}var K2=(t,e)=>parseInt(t[1],10)>parseInt(e[1],10)?1:-1,Mx=t=>Object.fromEntries(Object.entries(t).sort(K2));function GC(t){const e=Mx(t);return Object.assign(Object.values(e),e)}function cz(t){const e=Object.keys(Mx(t));return new Set(e)}function KC(t){var e;if(!t)return t;t=(e=xb(t))!=null?e:t;const n=-.02;return typeof t=="number"?`${t+n}`:t.replace(/(\d+\.?\d*)/u,r=>`${parseFloat(r)+n}`)}function sd(t,e){const n=["@media screen"];return t&&n.push("and",`(min-width: ${xb(t)})`),e&&n.push("and",`(max-width: ${xb(e)})`),n.join(" ")}function uz(t){var e;if(!t)return null;t.base=(e=t.base)!=null?e:"0px";const n=GC(t),r=Object.entries(t).sort(K2).map(([o,a],l,c)=>{var d;let[,f]=(d=c[l+1])!=null?d:[];return f=parseFloat(f)>0?KC(f):void 0,{_minW:KC(a),breakpoint:o,minW:a,maxW:f,maxWQuery:sd(null,f),minWQuery:sd(a),minMaxQuery:sd(a,f)}}),s=cz(t),i=Array.from(s.values());return{keys:s,normalized:n,isResponsive(o){const a=Object.keys(o);return a.length>0&&a.every(l=>s.has(l))},asObject:Mx(t),asArray:GC(t),details:r,get(o){return r.find(a=>a.breakpoint===o)},media:[null,...n.map(o=>sd(o)).slice(1)],toArrayValue(o){if(!br(o))throw new Error("toArrayValue: value must be an object");const a=i.map(l=>{var c;return(c=o[l])!=null?c:null});for(;az(a)===null;)a.pop();return a},toObjectValue(o){if(!Array.isArray(o))throw new Error("toObjectValue: value must be an array");return o.reduce((a,l,c)=>{const d=i[c];return d!=null&&l!=null&&(a[d]=l),a},{})}}}var dn={hover:(t,e)=>`${t}:hover ${e}, ${t}[data-hover] ${e}`,focus:(t,e)=>`${t}:focus ${e}, ${t}[data-focus] ${e}`,focusVisible:(t,e)=>`${t}:focus-visible ${e}`,focusWithin:(t,e)=>`${t}:focus-within ${e}`,active:(t,e)=>`${t}:active ${e}, ${t}[data-active] ${e}`,disabled:(t,e)=>`${t}:disabled ${e}, ${t}[data-disabled] ${e}`,invalid:(t,e)=>`${t}:invalid ${e}, ${t}[data-invalid] ${e}`,checked:(t,e)=>`${t}:checked ${e}, ${t}[data-checked] ${e}`,indeterminate:(t,e)=>`${t}:indeterminate ${e}, ${t}[aria-checked=mixed] ${e}, ${t}[data-indeterminate] ${e}`,readOnly:(t,e)=>`${t}:read-only ${e}, ${t}[readonly] ${e}, ${t}[data-read-only] ${e}`,expanded:(t,e)=>`${t}:read-only ${e}, ${t}[aria-expanded=true] ${e}, ${t}[data-expanded] ${e}`,placeholderShown:(t,e)=>`${t}:placeholder-shown ${e}`},ro=t=>Q2(e=>t(e,"&"),"[role=group]","[data-group]",".group"),ai=t=>Q2(e=>t(e,"~ &"),"[data-peer]",".peer"),Q2=(t,...e)=>e.map(t).join(", "),Av={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty",_expanded:"&[aria-expanded=true], &[data-expanded]",_checked:"&[aria-checked=true], &[data-checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_firstLetter:"&::first-letter",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate]",_groupHover:ro(dn.hover),_peerHover:ai(dn.hover),_groupFocus:ro(dn.focus),_peerFocus:ai(dn.focus),_groupFocusVisible:ro(dn.focusVisible),_peerFocusVisible:ai(dn.focusVisible),_groupActive:ro(dn.active),_peerActive:ai(dn.active),_groupDisabled:ro(dn.disabled),_peerDisabled:ai(dn.disabled),_groupInvalid:ro(dn.invalid),_peerInvalid:ai(dn.invalid),_groupChecked:ro(dn.checked),_peerChecked:ai(dn.checked),_groupFocusWithin:ro(dn.focusWithin),_peerFocusWithin:ai(dn.focusWithin),_peerPlaceholderShown:ai(dn.placeholderShown),_placeholder:"&::placeholder",_placeholderShown:"&:placeholder-shown",_fullScreen:"&:fullscreen",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]",_horizontal:"&[data-orientation=horizontal]",_vertical:"&[data-orientation=vertical]"},Y2=Object.keys(Av);function QC(t,e){return be(String(t).replace(/\./g,"-"),void 0,e)}function dz(t,e){let n={};const r={};for(const[s,i]of Object.entries(t)){const{isSemantic:o,value:a}=i,{variable:l,reference:c}=QC(s,e==null?void 0:e.cssVarPrefix);if(!o){if(s.startsWith("space")){const p=s.split("."),[m,..._]=p,v=`${m}.-${_.join(".")}`,S=ba.negate(a),x=ba.negate(c);r[v]={value:S,var:l,varRef:x}}n[l]=a,r[s]={value:a,var:l,varRef:c};continue}const d=p=>{const _=[String(s).split(".")[0],p].join(".");if(!t[_])return p;const{reference:S}=QC(_,e==null?void 0:e.cssVarPrefix);return S},f=br(a)?a:{default:a};n=Ms(n,Object.entries(f).reduce((p,[m,_])=>{var v,S;if(!_)return p;const x=d(`${_}`);if(m==="default")return p[l]=x,p;const b=(S=(v=Av)==null?void 0:v[m])!=null?S:m;return p[b]={[l]:x},p},{})),r[s]={value:c,var:l,varRef:c}}return{cssVars:n,cssMap:r}}function hz(t,e=[]){const n=Object.assign({},t);for(const r of e)r in n&&delete n[r];return n}function fz(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function pz(t){return typeof t=="object"&&t!=null&&!Array.isArray(t)}function YC(t,e,n={}){const{stop:r,getKey:s}=n;function i(o,a=[]){var l;if(pz(o)||Array.isArray(o)){const c={};for(const[d,f]of Object.entries(o)){const p=(l=s==null?void 0:s(d))!=null?l:d,m=[...a,p];if(r!=null&&r(o,m))return e(o,a);c[p]=i(f,m)}return c}return e(o,a)}return i(t)}var mz=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","gradients","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur","breakpoints"];function gz(t){return fz(t,mz)}function vz(t){return t.semanticTokens}function yz(t){const{__cssMap:e,__cssVars:n,__breakpoints:r,...s}=t;return s}var _z=t=>Y2.includes(t)||t==="default";function bz({tokens:t,semanticTokens:e}){const n={};return YC(t,(r,s)=>{r!=null&&(n[s.join(".")]={isSemantic:!1,value:r})}),YC(e,(r,s)=>{r!=null&&(n[s.join(".")]={isSemantic:!0,value:r})},{stop:r=>Object.keys(r).every(_z)}),n}function wz(t){var e;const n=yz(t),r=gz(n),s=vz(n),i=bz({tokens:r,semanticTokens:s}),o=(e=n.config)==null?void 0:e.cssVarPrefix,{cssMap:a,cssVars:l}=dz(i,{cssVarPrefix:o});return Object.assign(n,{__cssVars:{...{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"},...l},__cssMap:a,__breakpoints:uz(n.breakpoints)}),n}var Lx=Ms({},om,qe,L3,lg,Lr,V3,G3,F3,q2,q3,Cd,bb,ht,J3,X3,K3,Q3,$3,Y3),xz=Object.assign({},ht,Lr,lg,q2,Cd),Sz=Object.keys(xz),Ez=[...Object.keys(Lx),...Y2],Cz={...Lx,...Av},Tz=t=>t in Cz,Iz=t=>e=>{if(!e.__breakpoints)return t;const{isResponsive:n,toArrayValue:r,media:s}=e.__breakpoints,i={};for(const o in t){let a=us(t[o],e);if(a==null)continue;if(a=br(a)&&n(a)?r(a):a,!Array.isArray(a)){i[o]=a;continue}const l=a.slice(0,s.length).length;for(let c=0;c<l;c+=1){const d=s==null?void 0:s[c];if(!d){i[o]=a[c];continue}i[d]=i[d]||{},a[c]!=null&&(i[d][o]=a[c])}}return i};function kz(t){const e=[];let n="",r=!1;for(let s=0;s<t.length;s++){const i=t[s];i==="("?(r=!0,n+=i):i===")"?(r=!1,n+=i):i===","&&!r?(e.push(n),n=""):n+=i}return n=n.trim(),n&&e.push(n),e}function Pz(t){return/^var\(--.+\)$/.test(t)}var Az=(t,e)=>t.startsWith("--")&&typeof e=="string"&&!Pz(e),Rz=(t,e)=>{var n,r;if(e==null)return e;const s=l=>{var c,d;return(d=(c=t.__cssMap)==null?void 0:c[l])==null?void 0:d.varRef},i=l=>{var c;return(c=s(l))!=null?c:l},[o,a]=kz(e);return e=(r=(n=s(o))!=null?n:i(a))!=null?r:i(e),e};function jz(t){const{configs:e={},pseudos:n={},theme:r}=t,s=(i,o=!1)=>{var a,l,c;const d=us(i,r),f=Iz(d)(r);let p={};for(let m in f){const _=f[m];let v=us(_,r);m in n&&(m=n[m]),Az(m,v)&&(v=Rz(r,v));let S=e[m];if(S===!0&&(S={property:m}),br(v)){p[m]=(a=p[m])!=null?a:{},p[m]=Ms({},p[m],s(v,!0));continue}let x=(c=(l=S==null?void 0:S.transform)==null?void 0:l.call(S,v,r,d))!=null?c:v;x=S!=null&&S.processResult?s(x,!0):x;const b=us(S==null?void 0:S.property,r);if(!o&&(S!=null&&S.static)){const w=us(S.static,r);p=Ms({},p,w)}if(b&&Array.isArray(b)){for(const w of b)p[w]=x;continue}if(b){b==="&"&&br(x)?p=Ms({},p,x):p[b]=x;continue}if(br(x)){p=Ms({},p,x);continue}p[m]=x}return p};return s}var X2=t=>e=>jz({theme:e,pseudos:Av,configs:Lx})(t);function ct(t){return{definePartsStyle(e){return e},defineMultiStyleConfig(e){return{parts:t,...e}}}}function Dz(t,e){if(Array.isArray(t))return t;if(br(t))return e(t);if(t!=null)return[t]}function Nz(t,e){for(let n=e+1;n<t.length;n++)if(t[n]!=null)return n;return-1}function Oz(t){const e=t.__breakpoints;return function(r,s,i,o){var a,l;if(!e)return;const c={},d=Dz(i,e.toArrayValue);if(!d)return c;const f=d.length,p=f===1,m=!!r.parts;for(let _=0;_<f;_++){const v=e.details[_],S=e.details[Nz(d,_)],x=sd(v.minW,S==null?void 0:S._minW),b=us((a=r[s])==null?void 0:a[d[_]],o);if(b){if(m){(l=r.parts)==null||l.forEach(w=>{Ms(c,{[w]:p?b[w]:{[x]:b[w]}})});continue}if(!m){p?Ms(c,b):c[x]=b;continue}c[x]=b}}return c}}function Mz(t){return e=>{var n;const{variant:r,size:s,theme:i}=e,o=Oz(i);return Ms({},us((n=t.baseStyle)!=null?n:{},e),o(t,"sizes",s,e),o(t,"variants",r,e))}}function Lz(t,e,n){var r,s,i;return(i=(s=(r=t.__cssMap)==null?void 0:r[`${e}.${n}`])==null?void 0:s.varRef)!=null?i:n}function Zt(t){return hz(t,["styleConfig","size","variant","colorScheme"])}var Vz={common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},Fz={"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},$z={"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"},zz={property:Vz,easing:Fz,duration:$z},Bz=zz,Uz={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},Wz=Uz,Hz={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},qz=Hz,Gz={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},Kz=Gz,Qz={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"},linkedin:{50:"#E8F4F9",100:"#CFEDFB",200:"#9BDAF3",300:"#68C7EC",400:"#34B3E4",500:"#00A0DC",600:"#008CC9",700:"#0077B5",800:"#005E93",900:"#004471"},facebook:{50:"#E8F4F9",100:"#D9DEE9",200:"#B7C2DA",300:"#6482C0",400:"#4267B2",500:"#385898",600:"#314E89",700:"#29487D",800:"#223B67",900:"#1E355B"},messenger:{50:"#D0E6FF",100:"#B9DAFF",200:"#A2CDFF",300:"#7AB8FF",400:"#2E90FF",500:"#0078FF",600:"#0063D1",700:"#0052AC",800:"#003C7E",900:"#002C5C"},whatsapp:{50:"#dffeec",100:"#b9f5d0",200:"#90edb3",300:"#65e495",400:"#3cdd78",500:"#22c35e",600:"#179848",700:"#0c6c33",800:"#01421c",900:"#001803"},twitter:{50:"#E5F4FD",100:"#C8E9FB",200:"#A8DCFA",300:"#83CDF7",400:"#57BBF5",500:"#1DA1F2",600:"#1A94DA",700:"#1681BF",800:"#136B9E",900:"#0D4D71"},telegram:{50:"#E3F2F9",100:"#C5E4F3",200:"#A2D4EC",300:"#7AC1E4",400:"#47A9DA",500:"#0088CC",600:"#007AB8",700:"#006BA1",800:"#005885",900:"#003F5E"}},Yz=Qz,Xz={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},Jz=Xz,Zz={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},eB=Zz,tB={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},nB=tB,rB={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},J2=rB,Z2={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},sB={max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch"},iB={sm:"640px",md:"768px",lg:"1024px",xl:"1280px"},oB={...Z2,...sB,container:iB},ej=oB,aB={breakpoints:Kz,zIndices:Wz,radii:Jz,blur:nB,colors:Yz,...J2,sizes:ej,shadows:eB,space:Z2,borders:qz,transition:Bz},{defineMultiStyleConfig:lB,definePartsStyle:id}=ct(["stepper","step","title","description","indicator","separator","icon","number"]),ui=be("stepper-indicator-size"),Zl=be("stepper-icon-size"),ec=be("stepper-title-font-size"),od=be("stepper-description-font-size"),qu=be("stepper-accent-color"),cB=id(({colorScheme:t})=>({stepper:{display:"flex",justifyContent:"space-between",gap:"4","&[data-orientation=vertical]":{flexDirection:"column",alignItems:"flex-start"},"&[data-orientation=horizontal]":{flexDirection:"row",alignItems:"center"},[qu.variable]:`colors.${t}.500`,_dark:{[qu.variable]:`colors.${t}.200`}},title:{fontSize:ec.reference,fontWeight:"medium"},description:{fontSize:od.reference,color:"chakra-subtle-text"},number:{fontSize:ec.reference},step:{flexShrink:0,position:"relative",display:"flex",gap:"2","&[data-orientation=horizontal]":{alignItems:"center"},flex:"1","&:last-of-type:not([data-stretch])":{flex:"initial"}},icon:{flexShrink:0,width:Zl.reference,height:Zl.reference},indicator:{flexShrink:0,borderRadius:"full",width:ui.reference,height:ui.reference,display:"flex",justifyContent:"center",alignItems:"center","&[data-status=active]":{borderWidth:"2px",borderColor:qu.reference},"&[data-status=complete]":{bg:qu.reference,color:"chakra-inverse-text"},"&[data-status=incomplete]":{borderWidth:"2px"}},separator:{bg:"chakra-border-color",flex:"1","&[data-status=complete]":{bg:qu.reference},"&[data-orientation=horizontal]":{width:"100%",height:"2px",marginStart:"2"},"&[data-orientation=vertical]":{width:"2px",position:"absolute",height:"100%",maxHeight:`calc(100% - ${ui.reference} - 8px)`,top:`calc(${ui.reference} + 4px)`,insetStart:`calc(${ui.reference} / 2 - 1px)`}}})),uB=lB({baseStyle:cB,sizes:{xs:id({stepper:{[ui.variable]:"sizes.4",[Zl.variable]:"sizes.3",[ec.variable]:"fontSizes.xs",[od.variable]:"fontSizes.xs"}}),sm:id({stepper:{[ui.variable]:"sizes.6",[Zl.variable]:"sizes.4",[ec.variable]:"fontSizes.sm",[od.variable]:"fontSizes.xs"}}),md:id({stepper:{[ui.variable]:"sizes.8",[Zl.variable]:"sizes.5",[ec.variable]:"fontSizes.md",[od.variable]:"fontSizes.sm"}}),lg:id({stepper:{[ui.variable]:"sizes.10",[Zl.variable]:"sizes.6",[ec.variable]:"fontSizes.lg",[od.variable]:"fontSizes.md"}})},defaultProps:{size:"md",colorScheme:"blue"}});function Xe(t,e={}){let n=!1;function r(){if(!n){n=!0;return}throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?")}function s(...d){r();for(const f of d)e[f]=l(f);return Xe(t,e)}function i(...d){for(const f of d)f in e||(e[f]=l(f));return Xe(t,e)}function o(){return Object.fromEntries(Object.entries(e).map(([f,p])=>[f,p.selector]))}function a(){return Object.fromEntries(Object.entries(e).map(([f,p])=>[f,p.className]))}function l(d){const m=`chakra-${(["container","root"].includes(d??"")?[t]:[t,d]).filter(Boolean).join("__")}`;return{className:m,selector:`.${m}`,toString:()=>d}}return{parts:s,toPart:l,extend:i,selectors:o,classnames:a,get keys(){return Object.keys(e)},__type:{}}}var dB=Xe("accordion").parts("root","container","button","panel").extend("icon"),hB=Xe("alert").parts("title","description","container").extend("icon","spinner"),fB=Xe("avatar").parts("label","badge","container").extend("excessLabel","group"),pB=Xe("breadcrumb").parts("link","item","container").extend("separator");Xe("button").parts();var mB=Xe("checkbox").parts("control","icon","container").extend("label");Xe("progress").parts("track","filledTrack").extend("label");var gB=Xe("drawer").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),vB=Xe("editable").parts("preview","input","textarea"),yB=Xe("form").parts("container","requiredIndicator","helperText"),_B=Xe("formError").parts("text","icon"),bB=Xe("input").parts("addon","field","element","group"),wB=Xe("list").parts("container","item","icon"),xB=Xe("menu").parts("button","list","item").extend("groupTitle","icon","command","divider"),SB=Xe("modal").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),EB=Xe("numberinput").parts("root","field","stepperGroup","stepper");Xe("pininput").parts("field");var CB=Xe("popover").parts("content","header","body","footer").extend("popper","arrow","closeButton"),TB=Xe("progress").parts("label","filledTrack","track"),IB=Xe("radio").parts("container","control","label"),kB=Xe("select").parts("field","icon"),PB=Xe("slider").parts("container","track","thumb","filledTrack","mark"),AB=Xe("stat").parts("container","label","helpText","number","icon"),RB=Xe("switch").parts("container","track","thumb","label"),jB=Xe("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),DB=Xe("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),NB=Xe("tag").parts("container","label","closeButton"),OB=Xe("card").parts("container","header","body","footer");Xe("stepper").parts("stepper","step","title","description","indicator","separator","icon","number");function Ca(t,e,n){return Math.min(Math.max(t,n),e)}class MB extends Error{constructor(e){super(`Failed to parse color: "${e}"`)}}var ad=MB;function Vx(t){if(typeof t!="string")throw new ad(t);if(t.trim().toLowerCase()==="transparent")return[0,0,0,0];let e=t.trim();e=WB.test(t)?FB(t):t;const n=$B.exec(e);if(n){const o=Array.from(n).slice(1);return[...o.slice(0,3).map(a=>parseInt(fh(a,2),16)),parseInt(fh(o[3]||"f",2),16)/255]}const r=zB.exec(e);if(r){const o=Array.from(r).slice(1);return[...o.slice(0,3).map(a=>parseInt(a,16)),parseInt(o[3]||"ff",16)/255]}const s=BB.exec(e);if(s){const o=Array.from(s).slice(1);return[...o.slice(0,3).map(a=>parseInt(a,10)),parseFloat(o[3]||"1")]}const i=UB.exec(e);if(i){const[o,a,l,c]=Array.from(i).slice(1).map(parseFloat);if(Ca(0,100,a)!==a)throw new ad(t);if(Ca(0,100,l)!==l)throw new ad(t);return[...HB(o,a,l),Number.isNaN(c)?1:c]}throw new ad(t)}function LB(t){let e=5381,n=t.length;for(;n;)e=e*33^t.charCodeAt(--n);return(e>>>0)%2341}const XC=t=>parseInt(t.replace(/_/g,""),36),VB="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((t,e)=>{const n=XC(e.substring(0,3)),r=XC(e.substring(3)).toString(16);let s="";for(let i=0;i<6-r.length;i++)s+="0";return t[n]=`${s}${r}`,t},{});function FB(t){const e=t.toLowerCase().trim(),n=VB[LB(e)];if(!n)throw new ad(t);return`#${n}`}const fh=(t,e)=>Array.from(Array(e)).map(()=>t).join(""),$B=new RegExp(`^#${fh("([a-f0-9])",3)}([a-f0-9])?$`,"i"),zB=new RegExp(`^#${fh("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),BB=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${fh(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),UB=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,WB=/^[a-z]+$/i,JC=t=>Math.round(t*255),HB=(t,e,n)=>{let r=n/100;if(e===0)return[r,r,r].map(JC);const s=(t%360+360)%360/60,i=(1-Math.abs(2*r-1))*(e/100),o=i*(1-Math.abs(s%2-1));let a=0,l=0,c=0;s>=0&&s<1?(a=i,l=o):s>=1&&s<2?(a=o,l=i):s>=2&&s<3?(l=i,c=o):s>=3&&s<4?(l=o,c=i):s>=4&&s<5?(a=o,c=i):s>=5&&s<6&&(a=i,c=o);const d=r-i/2,f=a+d,p=l+d,m=c+d;return[f,p,m].map(JC)};function qB(t,e,n,r){return`rgba(${Ca(0,255,t).toFixed()}, ${Ca(0,255,e).toFixed()}, ${Ca(0,255,n).toFixed()}, ${parseFloat(Ca(0,1,r).toFixed(3))})`}function GB(t,e){const[n,r,s,i]=Vx(t);return qB(n,r,s,i-e)}function KB(t){const[e,n,r,s]=Vx(t);let i=o=>{const a=Ca(0,255,o).toString(16);return a.length===1?`0${a}`:a};return`#${i(e)}${i(n)}${i(r)}${s<1?i(Math.round(s*255)):""}`}function QB(t,e,n,r,s){for(e=e.split?e.split("."):e,r=0;r<e.length;r++)t=t?t[e[r]]:s;return t===s?n:t}var YB=t=>Object.keys(t).length===0,Un=(t,e,n)=>{const r=QB(t,`colors.${e}`,e);try{return KB(r),r}catch{return n??"#000000"}},XB=t=>{const[e,n,r]=Vx(t);return(e*299+n*587+r*114)/1e3},JB=t=>e=>{const n=Un(e,t);return XB(n)<128?"dark":"light"},ZB=t=>e=>JB(t)(e)==="dark",$c=(t,e)=>n=>{const r=Un(n,t);return GB(r,1-e)};function ZC(t="1rem",e="rgba(255, 255, 255, 0.15)"){return{backgroundImage:`linear-gradient(
    45deg,
    ${e} 25%,
    transparent 25%,
    transparent 50%,
    ${e} 50%,
    ${e} 75%,
    transparent 75%,
    transparent
  )`,backgroundSize:`${t} ${t}`}}var e6=()=>`#${Math.floor(Math.random()*16777215).toString(16).padEnd(6,"0")}`;function t6(t){const e=e6();return!t||YB(t)?e:t.string&&t.colors?r6(t.string,t.colors):t.string&&!t.colors?n6(t.string):t.colors&&!t.string?s6(t.colors):e}function n6(t){let e=0;if(t.length===0)return e.toString();for(let r=0;r<t.length;r+=1)e=t.charCodeAt(r)+((e<<5)-e),e=e&e;let n="#";for(let r=0;r<3;r+=1){const s=e>>r*8&255;n+=`00${s.toString(16)}`.substr(-2)}return n}function r6(t,e){let n=0;if(t.length===0)return e[0];for(let r=0;r<t.length;r+=1)n=t.charCodeAt(r)+((n<<5)-n),n=n&n;return n=(n%e.length+e.length)%e.length,e[n]}function s6(t){return t[Math.floor(Math.random()*t.length)]}function _e(t,e){return n=>n.colorMode==="dark"?e:t}function Fx(t){const{orientation:e,vertical:n,horizontal:r}=t;return e?e==="vertical"?n:r:{}}function tj(t){return br(t)&&t.reference?t.reference:String(t)}var Rv=(t,...e)=>e.map(tj).join(` ${t} `).replace(/calc/g,""),eT=(...t)=>`calc(${Rv("+",...t)})`,tT=(...t)=>`calc(${Rv("-",...t)})`,Sb=(...t)=>`calc(${Rv("*",...t)})`,nT=(...t)=>`calc(${Rv("/",...t)})`,rT=t=>{const e=tj(t);return e!=null&&!Number.isNaN(parseFloat(e))?String(e).startsWith("-")?String(e).slice(1):`-${e}`:Sb(e,-1)},di=Object.assign(t=>({add:(...e)=>di(eT(t,...e)),subtract:(...e)=>di(tT(t,...e)),multiply:(...e)=>di(Sb(t,...e)),divide:(...e)=>di(nT(t,...e)),negate:()=>di(rT(t)),toString:()=>t.toString()}),{add:eT,subtract:tT,multiply:Sb,divide:nT,negate:rT});function i6(t){return!Number.isInteger(parseFloat(t.toString()))}function o6(t,e="-"){return t.replace(/\s+/g,e)}function nj(t){const e=o6(t.toString());return e.includes("\\.")?t:i6(t)?e.replace(".","\\."):t}function a6(t,e=""){return[e,nj(t)].filter(Boolean).join("-")}function l6(t,e){return`var(${nj(t)}${e?`, ${e}`:""})`}function c6(t,e=""){return`--${a6(t,e)}`}function en(t,e){const n=c6(t,e==null?void 0:e.prefix);return{variable:n,reference:l6(n,u6(e==null?void 0:e.fallback))}}function u6(t){return typeof t=="string"?t:t==null?void 0:t.reference}var{defineMultiStyleConfig:d6,definePartsStyle:am}=ct(RB.keys),Td=en("switch-track-width"),Ra=en("switch-track-height"),v0=en("switch-track-diff"),h6=di.subtract(Td,Ra),Eb=en("switch-thumb-x"),Gu=en("switch-bg"),f6=t=>{const{colorScheme:e}=t;return{borderRadius:"full",p:"0.5",width:[Td.reference],height:[Ra.reference],transitionProperty:"common",transitionDuration:"fast",[Gu.variable]:"colors.gray.300",_dark:{[Gu.variable]:"colors.whiteAlpha.400"},_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{[Gu.variable]:`colors.${e}.500`,_dark:{[Gu.variable]:`colors.${e}.200`}},bg:Gu.reference}},p6={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[Ra.reference],height:[Ra.reference],_checked:{transform:`translateX(${Eb.reference})`}},m6=am(t=>({container:{[v0.variable]:h6,[Eb.variable]:v0.reference,_rtl:{[Eb.variable]:di(v0).negate().toString()}},track:f6(t),thumb:p6})),g6={sm:am({container:{[Td.variable]:"1.375rem",[Ra.variable]:"sizes.3"}}),md:am({container:{[Td.variable]:"1.875rem",[Ra.variable]:"sizes.4"}}),lg:am({container:{[Td.variable]:"2.875rem",[Ra.variable]:"sizes.6"}})},v6=d6({baseStyle:m6,sizes:g6,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:y6,definePartsStyle:bc}=ct(jB.keys),_6=bc({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),cg={"&[data-is-numeric=true]":{textAlign:"end"}},b6=bc(t=>{const{colorScheme:e}=t;return{th:{color:_e("gray.600","gray.400")(t),borderBottom:"1px",borderColor:_e(`${e}.100`,`${e}.700`)(t),...cg},td:{borderBottom:"1px",borderColor:_e(`${e}.100`,`${e}.700`)(t),...cg},caption:{color:_e("gray.600","gray.100")(t)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),w6=bc(t=>{const{colorScheme:e}=t;return{th:{color:_e("gray.600","gray.400")(t),borderBottom:"1px",borderColor:_e(`${e}.100`,`${e}.700`)(t),...cg},td:{borderBottom:"1px",borderColor:_e(`${e}.100`,`${e}.700`)(t),...cg},caption:{color:_e("gray.600","gray.100")(t)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:_e(`${e}.100`,`${e}.700`)(t)},td:{background:_e(`${e}.100`,`${e}.700`)(t)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),x6={simple:b6,striped:w6,unstyled:{}},S6={sm:bc({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:bc({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:bc({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},E6=y6({baseStyle:_6,variants:x6,sizes:S6,defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}}),er=be("tabs-color"),cs=be("tabs-bg"),Ep=be("tabs-border-color"),{defineMultiStyleConfig:C6,definePartsStyle:Bs}=ct(DB.keys),T6=t=>{const{orientation:e}=t;return{display:e==="vertical"?"flex":"block"}},I6=t=>{const{isFitted:e}=t;return{flex:e?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},k6=t=>{const{align:e="start",orientation:n}=t;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[e],flexDirection:n==="vertical"?"column":"row"}},P6={p:4},A6=Bs(t=>({root:T6(t),tab:I6(t),tablist:k6(t),tabpanel:P6})),R6={sm:Bs({tab:{py:1,px:4,fontSize:"sm"}}),md:Bs({tab:{fontSize:"md",py:2,px:4}}),lg:Bs({tab:{fontSize:"lg",py:3,px:4}})},j6=Bs(t=>{const{colorScheme:e,orientation:n}=t,r=n==="vertical",s=r?"borderStart":"borderBottom",i=r?"marginStart":"marginBottom";return{tablist:{[s]:"2px solid",borderColor:"inherit"},tab:{[s]:"2px solid",borderColor:"transparent",[i]:"-2px",_selected:{[er.variable]:`colors.${e}.600`,_dark:{[er.variable]:`colors.${e}.300`},borderColor:"currentColor"},_active:{[cs.variable]:"colors.gray.200",_dark:{[cs.variable]:"colors.whiteAlpha.300"}},_disabled:{_active:{bg:"none"}},color:er.reference,bg:cs.reference}}}),D6=Bs(t=>{const{colorScheme:e}=t;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",[Ep.variable]:"transparent",_selected:{[er.variable]:`colors.${e}.600`,[Ep.variable]:"colors.white",_dark:{[er.variable]:`colors.${e}.300`,[Ep.variable]:"colors.gray.800"},borderColor:"inherit",borderBottomColor:Ep.reference},color:er.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),N6=Bs(t=>{const{colorScheme:e}=t;return{tab:{border:"1px solid",borderColor:"inherit",[cs.variable]:"colors.gray.50",_dark:{[cs.variable]:"colors.whiteAlpha.50"},mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{[cs.variable]:"colors.white",[er.variable]:`colors.${e}.600`,_dark:{[cs.variable]:"colors.gray.800",[er.variable]:`colors.${e}.300`},borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"},color:er.reference,bg:cs.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),O6=Bs(t=>{const{colorScheme:e,theme:n}=t;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:Un(n,`${e}.700`),bg:Un(n,`${e}.100`)}}}}),M6=Bs(t=>{const{colorScheme:e}=t;return{tab:{borderRadius:"full",fontWeight:"semibold",[er.variable]:"colors.gray.600",_dark:{[er.variable]:"inherit"},_selected:{[er.variable]:"colors.white",[cs.variable]:`colors.${e}.600`,_dark:{[er.variable]:"colors.gray.800",[cs.variable]:`colors.${e}.300`}},color:er.reference,bg:cs.reference}}}),L6=Bs({}),V6={line:j6,enclosed:D6,"enclosed-colored":N6,"soft-rounded":O6,"solid-rounded":M6,unstyled:L6},F6=C6({baseStyle:A6,sizes:R6,variants:V6,defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),Vt=oz("badge",["bg","color","shadow"]),$6={px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold",bg:Vt.bg.reference,color:Vt.color.reference,boxShadow:Vt.shadow.reference},z6=t=>{const{colorScheme:e,theme:n}=t,r=$c(`${e}.500`,.6)(n);return{[Vt.bg.variable]:`colors.${e}.500`,[Vt.color.variable]:"colors.white",_dark:{[Vt.bg.variable]:r,[Vt.color.variable]:"colors.whiteAlpha.800"}}},B6=t=>{const{colorScheme:e,theme:n}=t,r=$c(`${e}.200`,.16)(n);return{[Vt.bg.variable]:`colors.${e}.100`,[Vt.color.variable]:`colors.${e}.800`,_dark:{[Vt.bg.variable]:r,[Vt.color.variable]:`colors.${e}.200`}}},U6=t=>{const{colorScheme:e,theme:n}=t,r=$c(`${e}.200`,.8)(n);return{[Vt.color.variable]:`colors.${e}.500`,_dark:{[Vt.color.variable]:r},[Vt.shadow.variable]:`inset 0 0 0px 1px ${Vt.color.reference}`}},W6={solid:z6,subtle:B6,outline:U6},Id={baseStyle:$6,variants:W6,defaultProps:{variant:"subtle",colorScheme:"gray"}},{defineMultiStyleConfig:H6,definePartsStyle:ja}=ct(NB.keys),sT=be("tag-bg"),iT=be("tag-color"),y0=be("tag-shadow"),lm=be("tag-min-height"),cm=be("tag-min-width"),um=be("tag-font-size"),dm=be("tag-padding-inline"),q6={fontWeight:"medium",lineHeight:1.2,outline:0,[iT.variable]:Vt.color.reference,[sT.variable]:Vt.bg.reference,[y0.variable]:Vt.shadow.reference,color:iT.reference,bg:sT.reference,boxShadow:y0.reference,borderRadius:"md",minH:lm.reference,minW:cm.reference,fontSize:um.reference,px:dm.reference,_focusVisible:{[y0.variable]:"shadows.outline"}},G6={lineHeight:1.2,overflow:"visible"},K6={fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}},Q6=ja({container:q6,label:G6,closeButton:K6}),Y6={sm:ja({container:{[lm.variable]:"sizes.5",[cm.variable]:"sizes.5",[um.variable]:"fontSizes.xs",[dm.variable]:"space.2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:ja({container:{[lm.variable]:"sizes.6",[cm.variable]:"sizes.6",[um.variable]:"fontSizes.sm",[dm.variable]:"space.2"}}),lg:ja({container:{[lm.variable]:"sizes.8",[cm.variable]:"sizes.8",[um.variable]:"fontSizes.md",[dm.variable]:"space.3"}})},X6={subtle:ja(t=>{var e;return{container:(e=Id.variants)==null?void 0:e.subtle(t)}}),solid:ja(t=>{var e;return{container:(e=Id.variants)==null?void 0:e.solid(t)}}),outline:ja(t=>{var e;return{container:(e=Id.variants)==null?void 0:e.outline(t)}})},J6=H6({variants:X6,baseStyle:Q6,sizes:Y6,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}}),{definePartsStyle:pi,defineMultiStyleConfig:Z6}=ct(bB.keys),tc=be("input-height"),nc=be("input-font-size"),rc=be("input-padding"),sc=be("input-border-radius"),e9=pi({addon:{height:tc.reference,fontSize:nc.reference,px:rc.reference,borderRadius:sc.reference},field:{width:"100%",height:tc.reference,fontSize:nc.reference,px:rc.reference,borderRadius:sc.reference,minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),so={lg:{[nc.variable]:"fontSizes.lg",[rc.variable]:"space.4",[sc.variable]:"radii.md",[tc.variable]:"sizes.12"},md:{[nc.variable]:"fontSizes.md",[rc.variable]:"space.4",[sc.variable]:"radii.md",[tc.variable]:"sizes.10"},sm:{[nc.variable]:"fontSizes.sm",[rc.variable]:"space.3",[sc.variable]:"radii.sm",[tc.variable]:"sizes.8"},xs:{[nc.variable]:"fontSizes.xs",[rc.variable]:"space.2",[sc.variable]:"radii.sm",[tc.variable]:"sizes.6"}},t9={lg:pi({field:so.lg,group:so.lg}),md:pi({field:so.md,group:so.md}),sm:pi({field:so.sm,group:so.sm}),xs:pi({field:so.xs,group:so.xs})};function $x(t){const{focusBorderColor:e,errorBorderColor:n}=t;return{focusBorderColor:e||_e("blue.500","blue.300")(t),errorBorderColor:n||_e("red.500","red.300")(t)}}var n9=pi(t=>{const{theme:e}=t,{focusBorderColor:n,errorBorderColor:r}=$x(t);return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:_e("gray.300","whiteAlpha.400")(t)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:Un(e,r),boxShadow:`0 0 0 1px ${Un(e,r)}`},_focusVisible:{zIndex:1,borderColor:Un(e,n),boxShadow:`0 0 0 1px ${Un(e,n)}`}},addon:{border:"1px solid",borderColor:_e("inherit","whiteAlpha.50")(t),bg:_e("gray.100","whiteAlpha.300")(t)}}}),r9=pi(t=>{const{theme:e}=t,{focusBorderColor:n,errorBorderColor:r}=$x(t);return{field:{border:"2px solid",borderColor:"transparent",bg:_e("gray.100","whiteAlpha.50")(t),_hover:{bg:_e("gray.200","whiteAlpha.100")(t)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:Un(e,r)},_focusVisible:{bg:"transparent",borderColor:Un(e,n)}},addon:{border:"2px solid",borderColor:"transparent",bg:_e("gray.100","whiteAlpha.50")(t)}}}),s9=pi(t=>{const{theme:e}=t,{focusBorderColor:n,errorBorderColor:r}=$x(t);return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:Un(e,r),boxShadow:`0px 1px 0px 0px ${Un(e,r)}`},_focusVisible:{borderColor:Un(e,n),boxShadow:`0px 1px 0px 0px ${Un(e,n)}`}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}}),i9=pi({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}}),o9={outline:n9,filled:r9,flushed:s9,unstyled:i9},Qe=Z6({baseStyle:e9,sizes:t9,variants:o9,defaultProps:{size:"md",variant:"outline"}}),oT,a9={...(oT=Qe.baseStyle)==null?void 0:oT.field,paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"},aT,lT,l9={outline:t=>{var e,n;return(n=(e=Qe.variants)==null?void 0:e.outline(t).field)!=null?n:{}},flushed:t=>{var e,n;return(n=(e=Qe.variants)==null?void 0:e.flushed(t).field)!=null?n:{}},filled:t=>{var e,n;return(n=(e=Qe.variants)==null?void 0:e.filled(t).field)!=null?n:{}},unstyled:(lT=(aT=Qe.variants)==null?void 0:aT.unstyled.field)!=null?lT:{}},cT,uT,dT,hT,fT,pT,mT,gT,c9={xs:(uT=(cT=Qe.sizes)==null?void 0:cT.xs.field)!=null?uT:{},sm:(hT=(dT=Qe.sizes)==null?void 0:dT.sm.field)!=null?hT:{},md:(pT=(fT=Qe.sizes)==null?void 0:fT.md.field)!=null?pT:{},lg:(gT=(mT=Qe.sizes)==null?void 0:mT.lg.field)!=null?gT:{}},u9={baseStyle:a9,sizes:c9,variants:l9,defaultProps:{size:"md",variant:"outline"}},Cp=en("tooltip-bg"),_0=en("tooltip-fg"),d9=en("popper-arrow-bg"),h9={bg:Cp.reference,color:_0.reference,[Cp.variable]:"colors.gray.700",[_0.variable]:"colors.whiteAlpha.900",_dark:{[Cp.variable]:"colors.gray.300",[_0.variable]:"colors.gray.900"},[d9.variable]:Cp.reference,px:"2",py:"0.5",borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"xs",zIndex:"tooltip"},f9={baseStyle:h9},{defineMultiStyleConfig:p9,definePartsStyle:ld}=ct(TB.keys),m9=t=>{const{colorScheme:e,theme:n,isIndeterminate:r,hasStripe:s}=t,i=_e(ZC(),ZC("1rem","rgba(0,0,0,0.1)"))(t),o=_e(`${e}.500`,`${e}.200`)(t),a=`linear-gradient(
    to right,
    transparent 0%,
    ${Un(n,o)} 50%,
    transparent 100%
  )`;return{...!r&&s&&i,...r?{bgImage:a}:{bgColor:o}}},g9={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},v9=t=>({bg:_e("gray.100","whiteAlpha.300")(t)}),y9=t=>({transitionProperty:"common",transitionDuration:"slow",...m9(t)}),_9=ld(t=>({label:g9,filledTrack:y9(t),track:v9(t)})),b9={xs:ld({track:{h:"1"}}),sm:ld({track:{h:"2"}}),md:ld({track:{h:"3"}}),lg:ld({track:{h:"4"}})},w9=p9({sizes:b9,baseStyle:_9,defaultProps:{size:"md",colorScheme:"blue"}}),x9=t=>typeof t=="function";function Hn(t,...e){return x9(t)?t(...e):t}var{definePartsStyle:hm,defineMultiStyleConfig:S9}=ct(mB.keys),kd=be("checkbox-size"),E9=t=>{const{colorScheme:e}=t;return{w:kd.reference,h:kd.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:_e(`${e}.500`,`${e}.200`)(t),borderColor:_e(`${e}.500`,`${e}.200`)(t),color:_e("white","gray.900")(t),_hover:{bg:_e(`${e}.600`,`${e}.300`)(t),borderColor:_e(`${e}.600`,`${e}.300`)(t)},_disabled:{borderColor:_e("gray.200","transparent")(t),bg:_e("gray.200","whiteAlpha.300")(t),color:_e("gray.500","whiteAlpha.500")(t)}},_indeterminate:{bg:_e(`${e}.500`,`${e}.200`)(t),borderColor:_e(`${e}.500`,`${e}.200`)(t),color:_e("white","gray.900")(t)},_disabled:{bg:_e("gray.100","whiteAlpha.100")(t),borderColor:_e("gray.100","transparent")(t)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:_e("red.500","red.300")(t)}}},C9={_disabled:{cursor:"not-allowed"}},T9={userSelect:"none",_disabled:{opacity:.4}},I9={transitionProperty:"transform",transitionDuration:"normal"},k9=hm(t=>({icon:I9,container:C9,control:Hn(E9,t),label:T9})),P9={sm:hm({control:{[kd.variable]:"sizes.3"},label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:hm({control:{[kd.variable]:"sizes.4"},label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:hm({control:{[kd.variable]:"sizes.5"},label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},ug=S9({baseStyle:k9,sizes:P9,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:A9,definePartsStyle:fm}=ct(IB.keys),R9=t=>{var e;const n=(e=Hn(ug.baseStyle,t))==null?void 0:e.control;return{...n,borderRadius:"full",_checked:{...n==null?void 0:n._checked,_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}}}},j9=fm(t=>{var e,n,r,s;return{label:(n=(e=ug).baseStyle)==null?void 0:n.call(e,t).label,container:(s=(r=ug).baseStyle)==null?void 0:s.call(r,t).container,control:R9(t)}}),D9={md:fm({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:fm({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:fm({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},N9=A9({baseStyle:j9,sizes:D9,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:O9,definePartsStyle:M9}=ct(kB.keys),Tp=be("select-bg"),vT,L9={...(vT=Qe.baseStyle)==null?void 0:vT.field,appearance:"none",paddingBottom:"1px",lineHeight:"normal",bg:Tp.reference,[Tp.variable]:"colors.white",_dark:{[Tp.variable]:"colors.gray.700"},"> option, > optgroup":{bg:Tp.reference}},V9={width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}},F9=M9({field:L9,icon:V9}),Ip={paddingInlineEnd:"8"},yT,_T,bT,wT,xT,ST,ET,CT,$9={lg:{...(yT=Qe.sizes)==null?void 0:yT.lg,field:{...(_T=Qe.sizes)==null?void 0:_T.lg.field,...Ip}},md:{...(bT=Qe.sizes)==null?void 0:bT.md,field:{...(wT=Qe.sizes)==null?void 0:wT.md.field,...Ip}},sm:{...(xT=Qe.sizes)==null?void 0:xT.sm,field:{...(ST=Qe.sizes)==null?void 0:ST.sm.field,...Ip}},xs:{...(ET=Qe.sizes)==null?void 0:ET.xs,field:{...(CT=Qe.sizes)==null?void 0:CT.xs.field,...Ip},icon:{insetEnd:"1"}}},z9=O9({baseStyle:F9,sizes:$9,variants:Qe.variants,defaultProps:Qe.defaultProps}),b0=be("skeleton-start-color"),w0=be("skeleton-end-color"),B9={[b0.variable]:"colors.gray.100",[w0.variable]:"colors.gray.400",_dark:{[b0.variable]:"colors.gray.800",[w0.variable]:"colors.gray.600"},background:b0.reference,borderColor:w0.reference,opacity:.7,borderRadius:"sm"},U9={baseStyle:B9},x0=be("skip-link-bg"),W9={borderRadius:"md",fontWeight:"semibold",_focusVisible:{boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6",[x0.variable]:"colors.white",_dark:{[x0.variable]:"colors.gray.700"},bg:x0.reference}},H9={baseStyle:W9},{defineMultiStyleConfig:q9,definePartsStyle:jv}=ct(PB.keys),ph=be("slider-thumb-size"),mh=be("slider-track-size"),po=be("slider-bg"),G9=t=>{const{orientation:e}=t;return{display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"},...Fx({orientation:e,vertical:{h:"100%"},horizontal:{w:"100%"}})}},K9=t=>({...Fx({orientation:t.orientation,horizontal:{h:mh.reference},vertical:{w:mh.reference}}),overflow:"hidden",borderRadius:"sm",[po.variable]:"colors.gray.200",_dark:{[po.variable]:"colors.whiteAlpha.200"},_disabled:{[po.variable]:"colors.gray.300",_dark:{[po.variable]:"colors.whiteAlpha.300"}},bg:po.reference}),Q9=t=>{const{orientation:e}=t;return{...Fx({orientation:e,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}}),w:ph.reference,h:ph.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{bg:"gray.300"}}},Y9=t=>{const{colorScheme:e}=t;return{width:"inherit",height:"inherit",[po.variable]:`colors.${e}.500`,_dark:{[po.variable]:`colors.${e}.200`},bg:po.reference}},X9=jv(t=>({container:G9(t),track:K9(t),thumb:Q9(t),filledTrack:Y9(t)})),J9=jv({container:{[ph.variable]:"sizes.4",[mh.variable]:"sizes.1"}}),Z9=jv({container:{[ph.variable]:"sizes.3.5",[mh.variable]:"sizes.1"}}),eU=jv({container:{[ph.variable]:"sizes.2.5",[mh.variable]:"sizes.0.5"}}),tU={lg:J9,md:Z9,sm:eU},nU=q9({baseStyle:X9,sizes:tU,defaultProps:{size:"md",colorScheme:"blue"}}),wa=en("spinner-size"),rU={width:[wa.reference],height:[wa.reference]},sU={xs:{[wa.variable]:"sizes.3"},sm:{[wa.variable]:"sizes.4"},md:{[wa.variable]:"sizes.6"},lg:{[wa.variable]:"sizes.8"},xl:{[wa.variable]:"sizes.12"}},iU={baseStyle:rU,sizes:sU,defaultProps:{size:"md"}},{defineMultiStyleConfig:oU,definePartsStyle:rj}=ct(AB.keys),aU={fontWeight:"medium"},lU={opacity:.8,marginBottom:"2"},cU={verticalAlign:"baseline",fontWeight:"semibold"},uU={marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"},dU=rj({container:{},label:aU,helpText:lU,number:cU,icon:uU}),hU={md:rj({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},fU=oU({baseStyle:dU,sizes:hU,defaultProps:{size:"md"}}),S0=be("kbd-bg"),pU={[S0.variable]:"colors.gray.100",_dark:{[S0.variable]:"colors.whiteAlpha.100"},bg:S0.reference,borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"},mU={baseStyle:pU},gU={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},vU={baseStyle:gU},{defineMultiStyleConfig:yU,definePartsStyle:_U}=ct(wB.keys),bU={marginEnd:"2",display:"inline",verticalAlign:"text-bottom"},wU=_U({icon:bU}),xU=yU({baseStyle:wU}),{defineMultiStyleConfig:SU,definePartsStyle:EU}=ct(xB.keys),Ps=be("menu-bg"),E0=be("menu-shadow"),CU={[Ps.variable]:"#fff",[E0.variable]:"shadows.sm",_dark:{[Ps.variable]:"colors.gray.700",[E0.variable]:"shadows.dark-lg"},color:"inherit",minW:"3xs",py:"2",zIndex:1,borderRadius:"md",borderWidth:"1px",bg:Ps.reference,boxShadow:E0.reference},TU={py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{[Ps.variable]:"colors.gray.100",_dark:{[Ps.variable]:"colors.whiteAlpha.100"}},_active:{[Ps.variable]:"colors.gray.200",_dark:{[Ps.variable]:"colors.whiteAlpha.200"}},_expanded:{[Ps.variable]:"colors.gray.100",_dark:{[Ps.variable]:"colors.whiteAlpha.100"}},_disabled:{opacity:.4,cursor:"not-allowed"},bg:Ps.reference},IU={mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},kU={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0},PU={opacity:.6},AU={border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6},RU={transitionProperty:"common",transitionDuration:"normal"},jU=EU({button:RU,list:CU,item:TU,groupTitle:IU,icon:kU,command:PU,divider:AU}),DU=SU({baseStyle:jU}),{defineMultiStyleConfig:NU,definePartsStyle:Cb}=ct(SB.keys),C0=be("modal-bg"),T0=be("modal-shadow"),OU={bg:"blackAlpha.600",zIndex:"modal"},MU=t=>{const{isCentered:e,scrollBehavior:n}=t;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:e?"center":"flex-start",overflow:n==="inside"?"hidden":"auto",overscrollBehaviorY:"none"}},LU=t=>{const{isCentered:e,scrollBehavior:n}=t;return{borderRadius:"md",color:"inherit",my:e?"auto":"16",mx:e?"auto":void 0,zIndex:"modal",maxH:n==="inside"?"calc(100% - 7.5rem)":void 0,[C0.variable]:"colors.white",[T0.variable]:"shadows.lg",_dark:{[C0.variable]:"colors.gray.700",[T0.variable]:"shadows.dark-lg"},bg:C0.reference,boxShadow:T0.reference}},VU={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},FU={position:"absolute",top:"2",insetEnd:"3"},$U=t=>{const{scrollBehavior:e}=t;return{px:"6",py:"2",flex:"1",overflow:e==="inside"?"auto":void 0}},zU={px:"6",py:"4"},BU=Cb(t=>({overlay:OU,dialogContainer:Hn(MU,t),dialog:Hn(LU,t),header:VU,closeButton:FU,body:Hn($U,t),footer:zU}));function is(t){return Cb(t==="full"?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:t}})}var UU={xs:is("xs"),sm:is("sm"),md:is("md"),lg:is("lg"),xl:is("xl"),"2xl":is("2xl"),"3xl":is("3xl"),"4xl":is("4xl"),"5xl":is("5xl"),"6xl":is("6xl"),full:is("full")},WU=NU({baseStyle:BU,sizes:UU,defaultProps:{size:"md"}}),{defineMultiStyleConfig:HU,definePartsStyle:sj}=ct(EB.keys),zx=en("number-input-stepper-width"),ij=en("number-input-input-padding"),qU=di(zx).add("0.5rem").toString(),I0=en("number-input-bg"),k0=en("number-input-color"),P0=en("number-input-border-color"),GU={[zx.variable]:"sizes.6",[ij.variable]:qU},KU=t=>{var e,n;return(n=(e=Hn(Qe.baseStyle,t))==null?void 0:e.field)!=null?n:{}},QU={width:zx.reference},YU={borderStart:"1px solid",borderStartColor:P0.reference,color:k0.reference,bg:I0.reference,[k0.variable]:"colors.chakra-body-text",[P0.variable]:"colors.chakra-border-color",_dark:{[k0.variable]:"colors.whiteAlpha.800",[P0.variable]:"colors.whiteAlpha.300"},_active:{[I0.variable]:"colors.gray.200",_dark:{[I0.variable]:"colors.whiteAlpha.300"}},_disabled:{opacity:.4,cursor:"not-allowed"}},XU=sj(t=>{var e;return{root:GU,field:(e=Hn(KU,t))!=null?e:{},stepperGroup:QU,stepper:YU}});function kp(t){var e,n,r;const s=(e=Qe.sizes)==null?void 0:e[t],i={lg:"md",md:"md",sm:"sm",xs:"sm"},o=(r=(n=s.field)==null?void 0:n.fontSize)!=null?r:"md",a=J2.fontSizes[o];return sj({field:{...s.field,paddingInlineEnd:ij.reference,verticalAlign:"top"},stepper:{fontSize:di(a).multiply(.75).toString(),_first:{borderTopEndRadius:i[t]},_last:{borderBottomEndRadius:i[t],mt:"-1px",borderTopWidth:1}}})}var JU={xs:kp("xs"),sm:kp("sm"),md:kp("md"),lg:kp("lg")},ZU=HU({baseStyle:XU,sizes:JU,variants:Qe.variants,defaultProps:Qe.defaultProps}),TT,e8={...(TT=Qe.baseStyle)==null?void 0:TT.field,textAlign:"center"},t8={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}},IT,kT,n8={outline:t=>{var e,n,r;return(r=(n=Hn((e=Qe.variants)==null?void 0:e.outline,t))==null?void 0:n.field)!=null?r:{}},flushed:t=>{var e,n,r;return(r=(n=Hn((e=Qe.variants)==null?void 0:e.flushed,t))==null?void 0:n.field)!=null?r:{}},filled:t=>{var e,n,r;return(r=(n=Hn((e=Qe.variants)==null?void 0:e.filled,t))==null?void 0:n.field)!=null?r:{}},unstyled:(kT=(IT=Qe.variants)==null?void 0:IT.unstyled.field)!=null?kT:{}},r8={baseStyle:e8,sizes:t8,variants:n8,defaultProps:Qe.defaultProps},{defineMultiStyleConfig:s8,definePartsStyle:i8}=ct(CB.keys),Pp=en("popper-bg"),o8=en("popper-arrow-bg"),PT=en("popper-arrow-shadow-color"),a8={zIndex:10},l8={[Pp.variable]:"colors.white",bg:Pp.reference,[o8.variable]:Pp.reference,[PT.variable]:"colors.gray.200",_dark:{[Pp.variable]:"colors.gray.700",[PT.variable]:"colors.whiteAlpha.300"},width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focusVisible:{outline:0,boxShadow:"outline"}},c8={px:3,py:2,borderBottomWidth:"1px"},u8={px:3,py:2},d8={px:3,py:2,borderTopWidth:"1px"},h8={position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2},f8=i8({popper:a8,content:l8,header:c8,body:u8,footer:d8,closeButton:h8}),p8=s8({baseStyle:f8}),{definePartsStyle:Tb,defineMultiStyleConfig:m8}=ct(gB.keys),A0=be("drawer-bg"),R0=be("drawer-box-shadow");function Dl(t){return Tb(t==="full"?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:t}})}var g8={bg:"blackAlpha.600",zIndex:"modal"},v8={display:"flex",zIndex:"modal",justifyContent:"center"},y8=t=>{const{isFullHeight:e}=t;return{...e&&{height:"100vh"},zIndex:"modal",maxH:"100vh",color:"inherit",[A0.variable]:"colors.white",[R0.variable]:"shadows.lg",_dark:{[A0.variable]:"colors.gray.700",[R0.variable]:"shadows.dark-lg"},bg:A0.reference,boxShadow:R0.reference}},_8={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},b8={position:"absolute",top:"2",insetEnd:"3"},w8={px:"6",py:"2",flex:"1",overflow:"auto"},x8={px:"6",py:"4"},S8=Tb(t=>({overlay:g8,dialogContainer:v8,dialog:Hn(y8,t),header:_8,closeButton:b8,body:w8,footer:x8})),E8={xs:Dl("xs"),sm:Dl("md"),md:Dl("lg"),lg:Dl("2xl"),xl:Dl("4xl"),full:Dl("full")},C8=m8({baseStyle:S8,sizes:E8,defaultProps:{size:"xs"}}),{definePartsStyle:T8,defineMultiStyleConfig:I8}=ct(vB.keys),k8={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},P8={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},A8={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},R8=T8({preview:k8,input:P8,textarea:A8}),j8=I8({baseStyle:R8}),{definePartsStyle:D8,defineMultiStyleConfig:N8}=ct(yB.keys),wc=be("form-control-color"),O8={marginStart:"1",[wc.variable]:"colors.red.500",_dark:{[wc.variable]:"colors.red.300"},color:wc.reference},M8={mt:"2",[wc.variable]:"colors.gray.600",_dark:{[wc.variable]:"colors.whiteAlpha.600"},color:wc.reference,lineHeight:"normal",fontSize:"sm"},L8=D8({container:{width:"100%",position:"relative"},requiredIndicator:O8,helperText:M8}),V8=N8({baseStyle:L8}),{definePartsStyle:F8,defineMultiStyleConfig:$8}=ct(_B.keys),xc=be("form-error-color"),z8={[xc.variable]:"colors.red.500",_dark:{[xc.variable]:"colors.red.300"},color:xc.reference,mt:"2",fontSize:"sm",lineHeight:"normal"},B8={marginEnd:"0.5em",[xc.variable]:"colors.red.500",_dark:{[xc.variable]:"colors.red.300"},color:xc.reference},U8=F8({text:z8,icon:B8}),W8=$8({baseStyle:U8}),H8={fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}},q8={baseStyle:H8},G8={fontFamily:"heading",fontWeight:"bold"},K8={"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},Q8={baseStyle:G8,sizes:K8,defaultProps:{size:"xl"}},{defineMultiStyleConfig:Y8,definePartsStyle:X8}=ct(pB.keys),j0=be("breadcrumb-link-decor"),J8={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",outline:"none",color:"inherit",textDecoration:j0.reference,[j0.variable]:"none","&:not([aria-current=page])":{cursor:"pointer",_hover:{[j0.variable]:"underline"},_focusVisible:{boxShadow:"outline"}}},Z8=X8({link:J8}),eW=Y8({baseStyle:Z8}),tW={lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},oj=t=>{const{colorScheme:e,theme:n}=t;if(e==="gray")return{color:_e("gray.800","whiteAlpha.900")(t),_hover:{bg:_e("gray.100","whiteAlpha.200")(t)},_active:{bg:_e("gray.200","whiteAlpha.300")(t)}};const r=$c(`${e}.200`,.12)(n),s=$c(`${e}.200`,.24)(n);return{color:_e(`${e}.600`,`${e}.200`)(t),bg:"transparent",_hover:{bg:_e(`${e}.50`,r)(t)},_active:{bg:_e(`${e}.100`,s)(t)}}},nW=t=>{const{colorScheme:e}=t,n=_e("gray.200","whiteAlpha.300")(t);return{border:"1px solid",borderColor:e==="gray"?n:"currentColor",".chakra-button__group[data-attached][data-orientation=horizontal] > &:not(:last-of-type)":{marginEnd:"-1px"},".chakra-button__group[data-attached][data-orientation=vertical] > &:not(:last-of-type)":{marginBottom:"-1px"},...Hn(oj,t)}},rW={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},sW=t=>{var e;const{colorScheme:n}=t;if(n==="gray"){const l=_e("gray.100","whiteAlpha.200")(t);return{bg:l,color:_e("gray.800","whiteAlpha.900")(t),_hover:{bg:_e("gray.200","whiteAlpha.300")(t),_disabled:{bg:l}},_active:{bg:_e("gray.300","whiteAlpha.400")(t)}}}const{bg:r=`${n}.500`,color:s="white",hoverBg:i=`${n}.600`,activeBg:o=`${n}.700`}=(e=rW[n])!=null?e:{},a=_e(r,`${n}.200`)(t);return{bg:a,color:_e(s,"gray.800")(t),_hover:{bg:_e(i,`${n}.300`)(t),_disabled:{bg:a}},_active:{bg:_e(o,`${n}.400`)(t)}}},iW=t=>{const{colorScheme:e}=t;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:_e(`${e}.500`,`${e}.200`)(t),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:_e(`${e}.700`,`${e}.500`)(t)}}},oW={bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"},aW={ghost:oj,outline:nW,solid:sW,link:iW,unstyled:oW},lW={lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},cW={baseStyle:tW,variants:aW,sizes:lW,defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},{definePartsStyle:Da,defineMultiStyleConfig:uW}=ct(OB.keys),dg=be("card-bg"),wi=be("card-padding"),aj=be("card-shadow"),pm=be("card-radius"),lj=be("card-border-width","0"),cj=be("card-border-color"),dW=Da({container:{[dg.variable]:"colors.chakra-body-bg",backgroundColor:dg.reference,boxShadow:aj.reference,borderRadius:pm.reference,color:"chakra-body-text",borderWidth:lj.reference,borderColor:cj.reference},body:{padding:wi.reference,flex:"1 1 0%"},header:{padding:wi.reference},footer:{padding:wi.reference}}),hW={sm:Da({container:{[pm.variable]:"radii.base",[wi.variable]:"space.3"}}),md:Da({container:{[pm.variable]:"radii.md",[wi.variable]:"space.5"}}),lg:Da({container:{[pm.variable]:"radii.xl",[wi.variable]:"space.7"}})},fW={elevated:Da({container:{[aj.variable]:"shadows.base",_dark:{[dg.variable]:"colors.gray.700"}}}),outline:Da({container:{[lj.variable]:"1px",[cj.variable]:"colors.chakra-border-color"}}),filled:Da({container:{[dg.variable]:"colors.chakra-subtle-bg"}}),unstyled:{body:{[wi.variable]:0},header:{[wi.variable]:0},footer:{[wi.variable]:0}}},pW=uW({baseStyle:dW,variants:fW,sizes:hW,defaultProps:{variant:"elevated",size:"md"}}),Pd=en("close-button-size"),Ku=en("close-button-bg"),mW={w:[Pd.reference],h:[Pd.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{[Ku.variable]:"colors.blackAlpha.100",_dark:{[Ku.variable]:"colors.whiteAlpha.100"}},_active:{[Ku.variable]:"colors.blackAlpha.200",_dark:{[Ku.variable]:"colors.whiteAlpha.200"}},_focusVisible:{boxShadow:"outline"},bg:Ku.reference},gW={lg:{[Pd.variable]:"sizes.10",fontSize:"md"},md:{[Pd.variable]:"sizes.8",fontSize:"xs"},sm:{[Pd.variable]:"sizes.6",fontSize:"2xs"}},vW={baseStyle:mW,sizes:gW,defaultProps:{size:"md"}},{variants:yW,defaultProps:_W}=Id,bW={fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm",bg:Vt.bg.reference,color:Vt.color.reference,boxShadow:Vt.shadow.reference},wW={baseStyle:bW,variants:yW,defaultProps:_W},xW={w:"100%",mx:"auto",maxW:"prose",px:"4"},SW={baseStyle:xW},EW={opacity:.6,borderColor:"inherit"},CW={borderStyle:"solid"},TW={borderStyle:"dashed"},IW={solid:CW,dashed:TW},kW={baseStyle:EW,variants:IW,defaultProps:{variant:"solid"}},{definePartsStyle:PW,defineMultiStyleConfig:AW}=ct(dB.keys),RW={borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},jW={transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},DW={pt:"2",px:"4",pb:"5"},NW={fontSize:"1.25em"},OW=PW({container:RW,button:jW,panel:DW,icon:NW}),MW=AW({baseStyle:OW}),{definePartsStyle:Yh,defineMultiStyleConfig:LW}=ct(hB.keys),wr=be("alert-fg"),Ri=be("alert-bg"),VW=Yh({container:{bg:Ri.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:wr.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:wr.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function Bx(t){const{theme:e,colorScheme:n}=t,r=$c(`${n}.200`,.16)(e);return{light:`colors.${n}.100`,dark:r}}var FW=Yh(t=>{const{colorScheme:e}=t,n=Bx(t);return{container:{[wr.variable]:`colors.${e}.600`,[Ri.variable]:n.light,_dark:{[wr.variable]:`colors.${e}.200`,[Ri.variable]:n.dark}}}}),$W=Yh(t=>{const{colorScheme:e}=t,n=Bx(t);return{container:{[wr.variable]:`colors.${e}.600`,[Ri.variable]:n.light,_dark:{[wr.variable]:`colors.${e}.200`,[Ri.variable]:n.dark},paddingStart:"3",borderStartWidth:"4px",borderStartColor:wr.reference}}}),zW=Yh(t=>{const{colorScheme:e}=t,n=Bx(t);return{container:{[wr.variable]:`colors.${e}.600`,[Ri.variable]:n.light,_dark:{[wr.variable]:`colors.${e}.200`,[Ri.variable]:n.dark},pt:"2",borderTopWidth:"4px",borderTopColor:wr.reference}}}),BW=Yh(t=>{const{colorScheme:e}=t;return{container:{[wr.variable]:"colors.white",[Ri.variable]:`colors.${e}.600`,_dark:{[wr.variable]:"colors.gray.900",[Ri.variable]:`colors.${e}.200`},color:wr.reference}}}),UW={subtle:FW,"left-accent":$W,"top-accent":zW,solid:BW},WW=LW({baseStyle:VW,variants:UW,defaultProps:{variant:"subtle",colorScheme:"blue"}}),{definePartsStyle:uj,defineMultiStyleConfig:HW}=ct(fB.keys),Sc=be("avatar-border-color"),Ad=be("avatar-bg"),gh=be("avatar-font-size"),zc=be("avatar-size"),qW={borderRadius:"full",border:"0.2em solid",borderColor:Sc.reference,[Sc.variable]:"white",_dark:{[Sc.variable]:"colors.gray.800"}},GW={bg:Ad.reference,fontSize:gh.reference,width:zc.reference,height:zc.reference,lineHeight:"1",[Ad.variable]:"colors.gray.200",_dark:{[Ad.variable]:"colors.whiteAlpha.400"}},KW=t=>{const{name:e,theme:n}=t,r=e?t6({string:e}):"colors.gray.400",s=ZB(r)(n);let i="white";return s||(i="gray.800"),{bg:Ad.reference,fontSize:gh.reference,color:i,borderColor:Sc.reference,verticalAlign:"top",width:zc.reference,height:zc.reference,"&:not([data-loaded])":{[Ad.variable]:r},[Sc.variable]:"colors.white",_dark:{[Sc.variable]:"colors.gray.800"}}},QW={fontSize:gh.reference,lineHeight:"1"},YW=uj(t=>({badge:Hn(qW,t),excessLabel:Hn(GW,t),container:Hn(KW,t),label:QW}));function io(t){const e=t!=="100%"?ej[t]:void 0;return uj({container:{[zc.variable]:e??t,[gh.variable]:`calc(${e??t} / 2.5)`},excessLabel:{[zc.variable]:e??t,[gh.variable]:`calc(${e??t} / 2.5)`}})}var XW={"2xs":io(4),xs:io(6),sm:io(8),md:io(12),lg:io(16),xl:io(24),"2xl":io(32),full:io("100%")},JW=HW({baseStyle:YW,sizes:XW,defaultProps:{size:"md"}}),ZW={Accordion:MW,Alert:WW,Avatar:JW,Badge:Id,Breadcrumb:eW,Button:cW,Checkbox:ug,CloseButton:vW,Code:wW,Container:SW,Divider:kW,Drawer:C8,Editable:j8,Form:V8,FormError:W8,FormLabel:q8,Heading:Q8,Input:Qe,Kbd:mU,Link:vU,List:xU,Menu:DU,Modal:WU,NumberInput:ZU,PinInput:r8,Popover:p8,Progress:w9,Radio:N9,Select:z9,Skeleton:U9,SkipLink:H9,Slider:nU,Spinner:iU,Stat:fU,Switch:v6,Table:E6,Tabs:F6,Tag:J6,Textarea:u9,Tooltip:f9,Card:pW,Stepper:uB},e7={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-inverse-text":{_light:"white",_dark:"gray.800"},"chakra-subtle-bg":{_light:"gray.100",_dark:"gray.700"},"chakra-subtle-text":{_light:"gray.600",_dark:"gray.400"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},t7={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color"}}},n7="ltr",r7={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},s7={semanticTokens:e7,direction:n7,...aB,components:ZW,styles:t7,config:r7};function i7(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var o7=i7();function a7(t,e){const n={};return Object.keys(t).forEach(r=>{e.includes(r)||(n[r]=t[r])}),n}function l7(t,e,n,r){const s=typeof e=="string"?e.split("."):[e];for(r=0;r<s.length&&t;r+=1)t=t[s[r]];return t===void 0?n:t}var c7=t=>{const e=new WeakMap;return(r,s,i,o)=>{if(typeof r>"u")return t(r,s,i);e.has(r)||e.set(r,new Map);const a=e.get(r);if(a.has(s))return a.get(s);const l=t(r,s,i,o);return a.set(s,l),l}},dj=c7(l7);function hj(t,e){const n={};return Object.keys(t).forEach(r=>{const s=t[r];e(s,r,t)&&(n[r]=s)}),n}var fj=t=>hj(t,e=>e!=null);function u7(t){return typeof t=="function"}function pj(t,...e){return u7(t)?t(...e):t}function d7(...t){return function(n){t.some(r=>(r==null||r(n),n==null?void 0:n.defaultPrevented))}}var h7=typeof Element<"u",f7=typeof Map=="function",p7=typeof Set=="function",m7=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function mm(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,s;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!mm(t[r],e[r]))return!1;return!0}var i;if(f7&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(i=t.entries();!(r=i.next()).done;)if(!e.has(r.value[0]))return!1;for(i=t.entries();!(r=i.next()).done;)if(!mm(r.value[1],e.get(r.value[0])))return!1;return!0}if(p7&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(i=t.entries();!(r=i.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(m7&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[r]))return!1;if(h7&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((s[r]==="_owner"||s[r]==="__v"||s[r]==="__o")&&t.$$typeof)&&!mm(t[s[r]],e[s[r]]))return!1;return!0}return t!==t&&e!==e}var g7=function(e,n){try{return mm(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const v7=Xg(g7);function mj(t,e={}){var n;const{styleConfig:r,...s}=e,{theme:i,colorMode:o}=W2(),a=t?dj(i,`components.${t}`):void 0,l=r||a,c=Ms({theme:i,colorMode:o},(n=l==null?void 0:l.defaultProps)!=null?n:{},fj(a7(s,["children"]))),d=g.useRef({});if(l){const p=Mz(l)(c);v7(d.current,p)||(d.current=p)}return d.current}function Zs(t,e={}){return mj(t,e)}function _s(t,e={}){return mj(t,e)}var y7=new Set([...Ez,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),_7=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function b7(t){return _7.has(t)||!y7.has(t)}function w7(t,...e){if(t==null)throw new TypeError("Cannot convert undefined or null to object");const n={...t};for(const r of e)if(r!=null)for(const s in r)Object.prototype.hasOwnProperty.call(r,s)&&(s in n&&delete n[s],n[s]=r[s]);return n}function gj(t){const e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}var x7=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,S7=I2(function(t){return x7.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),E7=S7,C7=function(e){return e!=="theme"},AT=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?E7:C7},RT=function(e,n,r){var s;if(n){var i=n.shouldForwardProp;s=e.__emotion_forwardProp&&i?function(o){return e.__emotion_forwardProp(o)&&i(o)}:i}return typeof s!="function"&&r&&(s=e.__emotion_forwardProp),s},T7=function(e){var n=e.cache,r=e.serialized,s=e.isStringTag;return D2(n,r,s),J$(function(){return N2(n,r,s)}),null},I7=function t(e,n){var r=e.__emotion_real===e,s=r&&e.__emotion_base||e,i,o;n!==void 0&&(i=n.label,o=n.target);var a=RT(e,n,r),l=a||AT(s),c=!l("as");return function(){var d=arguments,f=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(i!==void 0&&f.push("label:"+i+";"),d[0]==null||d[0].raw===void 0)f.push.apply(f,d);else{f.push(d[0][0]);for(var p=d.length,m=1;m<p;m++)f.push(d[m],d[0][m])}var _=V2(function(v,S,x){var b=c&&v.as||s,w="",k=[],j=v;if(v.theme==null){j={};for(var O in v)j[O]=v[O];j.theme=g.useContext(hh)}typeof v.className=="string"?w=H$(S.registered,k,v.className):v.className!=null&&(w=v.className+" ");var C=Rx(f.concat(k),S.registered,j);w+=S.key+"-"+C.name,o!==void 0&&(w+=" "+o);var T=c&&a===void 0?AT(b):l,I={};for(var P in v)c&&P==="as"||T(P)&&(I[P]=v[P]);return I.className=w,I.ref=x,g.createElement(g.Fragment,null,g.createElement(T7,{cache:S,serialized:C,isStringTag:typeof b=="string"}),g.createElement(b,I))});return _.displayName=i!==void 0?i:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",_.defaultProps=e.defaultProps,_.__emotion_real=_,_.__emotion_base=s,_.__emotion_styles=f,_.__emotion_forwardProp=a,Object.defineProperty(_,"toString",{value:function(){return"."+o}}),_.withComponent=function(v,S){return t(v,qa({},n,S,{shouldForwardProp:RT(_,S,!0)})).apply(void 0,f)},_}},k7=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],hg=I7.bind();k7.forEach(function(t){hg[t]=hg(t)});var jT,P7=(jT=hg.default)!=null?jT:hg,A7=({baseStyle:t})=>e=>{const{theme:n,css:r,__css:s,sx:i,...o}=e,a=hj(o,(f,p)=>Tz(p)),l=pj(t,e),c=w7({},s,l,fj(a),i),d=X2(c)(e.theme);return r?[d,r]:d};function D0(t,e){const{baseStyle:n,...r}=e??{};r.shouldForwardProp||(r.shouldForwardProp=b7);const s=A7({baseStyle:n}),i=P7(t,r)(s);return nr.forwardRef(function(l,c){const{colorMode:d,forced:f}=Nx();return nr.createElement(i,{ref:c,"data-theme":f?d:void 0,...l})})}function R7(){const t=new Map;return new Proxy(D0,{apply(e,n,r){return D0(...r)},get(e,n){return t.has(n)||t.set(n,D0(n)),t.get(n)}})}var ce=R7();function ge(t){return g.forwardRef(t)}function vj(t={}){const{strict:e=!0,errorMessage:n="useContext: `context` is undefined. Seems you forgot to wrap component within the Provider",name:r}=t,s=g.createContext(void 0);s.displayName=r;function i(){var o;const a=g.useContext(s);if(!a&&e){const l=new Error(n);throw l.name="ContextError",(o=Error.captureStackTrace)==null||o.call(Error,l,i),l}return a}return[s.Provider,i,s]}function j7(t){const{cssVarsRoot:e,theme:n,children:r}=t,s=g.useMemo(()=>wz(n),[n]);return u.jsxs(t3,{theme:s,children:[u.jsx(D7,{root:e}),r]})}function D7({root:t=":host, :root"}){const e=[t,"[data-theme]"].join(",");return u.jsx(kv,{styles:n=>({[e]:n.__cssVars})})}vj({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "});function N7(t){return vj({name:`${t}StylesContext`,errorMessage:`useStyles: "styles" is undefined. Seems you forgot to wrap the components in "<${t} />" `})}function O7(){const{colorMode:t}=Nx();return u.jsx(kv,{styles:e=>{const n=dj(e,"styles.global"),r=pj(n,{theme:e,colorMode:t});return r?X2(r)(e):void 0}})}var Ux=g.createContext({getDocument(){return document},getWindow(){return window}});Ux.displayName="EnvironmentContext";function M7({defer:t}={}){const[,e]=g.useReducer(n=>n+1,0);return Fc(()=>{t&&e()},[t]),g.useContext(Ux)}function yj(t){const{children:e,environment:n,disabled:r}=t,s=g.useRef(null),i=g.useMemo(()=>n||{getDocument:()=>{var a,l;return(l=(a=s.current)==null?void 0:a.ownerDocument)!=null?l:document},getWindow:()=>{var a,l;return(l=(a=s.current)==null?void 0:a.ownerDocument.defaultView)!=null?l:window}},[n]),o=!r||!n;return u.jsxs(Ux.Provider,{value:i,children:[e,o&&u.jsx("span",{id:"__chakra_env",hidden:!0,ref:s})]})}yj.displayName="EnvironmentProvider";var L7=t=>{const{children:e,colorModeManager:n,portalZIndex:r,resetScope:s,resetCSS:i=!0,theme:o={},environment:a,cssVarsRoot:l,disableEnvironment:c,disableGlobalStyle:d}=t,f=u.jsx(yj,{environment:a,disabled:c,children:e});return u.jsx(j7,{theme:o,cssVarsRoot:l,children:u.jsxs(U2,{colorModeManager:n,options:o.config,children:[i?u.jsx(i3,{scope:s}):u.jsx(s3,{}),!d&&u.jsx(O7,{}),r?u.jsx(z2,{zIndex:r,children:f}):f]})})},V7=(t,e)=>t.find(n=>n.id===e);function DT(t,e){const n=_j(t,e),r=n?t[n].findIndex(s=>s.id===e):-1;return{position:n,index:r}}function _j(t,e){for(const[n,r]of Object.entries(t))if(V7(r,e))return n}function F7(t){const e=t.includes("right"),n=t.includes("left");let r="center";return e&&(r="flex-end"),n&&(r="flex-start"),{display:"flex",flexDirection:"column",alignItems:r}}function $7(t){const n=t==="top"||t==="bottom"?"0 auto":void 0,r=t.includes("top")?"env(safe-area-inset-top, 0px)":void 0,s=t.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,i=t.includes("left")?void 0:"env(safe-area-inset-right, 0px)",o=t.includes("right")?void 0:"env(safe-area-inset-left, 0px)";return{position:"fixed",zIndex:"var(--toast-z-index, 5500)",pointerEvents:"none",display:"flex",flexDirection:"column",margin:n,top:r,bottom:s,right:i,left:o}}function Do(t,e=[]){const n=g.useRef(t);return g.useEffect(()=>{n.current=t}),g.useCallback((...r)=>{var s;return(s=n.current)==null?void 0:s.call(n,...r)},e)}function z7(t,e){const n=Do(t);g.useEffect(()=>{if(e==null)return;let r=null;return r=window.setTimeout(()=>{n()},e),()=>{r&&window.clearTimeout(r)}},[e,n])}function vh(t,e){const n=g.useRef(!1),r=g.useRef(!1);g.useEffect(()=>{if(n.current&&r.current)return t();r.current=!0},e),g.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[])}const bj=g.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Dv=g.createContext({}),Xh=g.createContext(null),Nv=typeof document<"u",Wx=Nv?g.useLayoutEffect:g.useEffect,wj=g.createContext({strict:!1}),Hx=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),B7="framerAppearId",xj="data-"+Hx(B7),Sj={skipAnimations:!1,useManualTiming:!1};class NT{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function U7(t){let e=new NT,n=new NT,r=0,s=!1,i=!1;const o=new WeakSet,a={schedule:(l,c=!1,d=!1)=>{const f=d&&s,p=f?e:n;return c&&o.add(l),p.add(l)&&f&&s&&(r=e.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(s){i=!0;return}if(s=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const d=e.order[c];o.has(d)&&(a.schedule(d),t()),d(l)}s=!1,i&&(i=!1,a.process(l))}};return a}const Ap=["prepare","read","update","preRender","render","postRender"],W7=40;function Ej(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=Ap.reduce((f,p)=>(f[p]=U7(()=>n=!0),f),{}),o=f=>{i[f].process(s)},a=()=>{const f=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(f-s.timestamp,W7),1),s.timestamp=f,s.isProcessing=!0,Ap.forEach(o),s.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,s.isProcessing||t(a)};return{schedule:Ap.reduce((f,p)=>{const m=i[p];return f[p]=(_,v=!1,S=!1)=>(n||l(),m.schedule(_,v,S)),f},{}),cancel:f=>Ap.forEach(p=>i[p].cancel(f)),state:s,steps:i}}const{schedule:qx,cancel:ade}=Ej(queueMicrotask,!1);function H7(t,e,n,r){const{visualElement:s}=g.useContext(Dv),i=g.useContext(wj),o=g.useContext(Xh),a=g.useContext(bj).reducedMotion,l=g.useRef();r=r||i.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:s,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;g.useInsertionEffect(()=>{c&&c.update(n,o)});const d=g.useRef(!!(n[xj]&&!window.HandoffComplete));return Wx(()=>{c&&(qx.postRender(c.render),d.current&&c.animationState&&c.animationState.animateChanges())}),g.useEffect(()=>{c&&(c.updateFeatures(),!d.current&&c.animationState&&c.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),c}function ic(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function q7(t,e,n){return g.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ic(n)&&(n.current=r))},[e])}function yh(t){return typeof t=="string"||Array.isArray(t)}function Ov(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Gx=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Kx=["initial",...Gx];function Mv(t){return Ov(t.animate)||Kx.some(e=>yh(t[e]))}function Cj(t){return!!(Mv(t)||t.variants)}function G7(t,e){if(Mv(t)){const{initial:n,animate:r}=t;return{initial:n===!1||yh(n)?n:void 0,animate:yh(r)?r:void 0}}return t.inherit!==!1?e:{}}function K7(t){const{initial:e,animate:n}=G7(t,g.useContext(Dv));return g.useMemo(()=>({initial:e,animate:n}),[OT(e),OT(n)])}function OT(t){return Array.isArray(t)?t.join(" "):t}const MT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},_h={};for(const t in MT)_h[t]={isEnabled:e=>MT[t].some(n=>!!e[n])};function Q7(t){for(const e in t)_h[e]={..._h[e],...t[e]}}const Qx=g.createContext({}),Tj=g.createContext({}),Y7=Symbol.for("motionComponentSymbol");function X7({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&Q7(t);function i(a,l){let c;const d={...g.useContext(bj),...a,layoutId:J7(a)},{isStatic:f}=d,p=K7(a),m=r(a,f);if(!f&&Nv){p.visualElement=H7(s,m,d,e);const _=g.useContext(Tj),v=g.useContext(wj).strict;p.visualElement&&(c=p.visualElement.loadFeatures(d,v,t,_))}return g.createElement(Dv.Provider,{value:p},c&&p.visualElement?g.createElement(c,{visualElement:p.visualElement,...d}):null,n(s,a,q7(m,p.visualElement,l),m,f,p.visualElement))}const o=g.forwardRef(i);return o[Y7]=s,o}function J7({layoutId:t}){const e=g.useContext(Qx).id;return e&&t!==void 0?e+"-"+t:t}function Z7(t){function e(r,s={}){return X7(t(r,s))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,s)=>(n.has(s)||n.set(s,e(s)),n.get(s))})}const eH=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Yx(t){return typeof t!="string"||t.includes("-")?!1:!!(eH.indexOf(t)>-1||/[A-Z]/.test(t))}const fg={};function tH(t){Object.assign(fg,t)}const Jh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ll=new Set(Jh);function Ij(t,{layout:e,layoutId:n}){return ll.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!fg[t]||t==="opacity")}const ur=t=>!!(t&&t.getVelocity),nH={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},rH=Jh.length;function sH(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,s){let i="";for(let o=0;o<rH;o++){const a=Jh[o];if(t[a]!==void 0){const l=nH[a]||a;i+=`${l}(${t[a]}) `}}return e&&!t.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(t,r?"":i):n&&r&&(i="none"),i}const kj=t=>e=>typeof e=="string"&&e.startsWith(t),Pj=kj("--"),iH=kj("var(--"),pg=t=>iH(t)&&oH.test(t),oH=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)$/i,aH=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Fo=(t,e,n)=>n>e?e:n<t?t:n,lu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Rd={...lu,transform:t=>Fo(0,1,t)},Rp={...lu,default:1},jd=t=>Math.round(t*1e5)/1e5,Xx=/(-)?([\d]*\.?[\d])+/g,lH=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,cH=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Zh(t){return typeof t=="string"}const ef=t=>({test:e=>Zh(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ao=ef("deg"),Us=ef("%"),Ee=ef("px"),uH=ef("vh"),dH=ef("vw"),LT={...Us,parse:t=>Us.parse(t)/100,transform:t=>Us.transform(t*100)},VT={...lu,transform:Math.round},Aj={borderWidth:Ee,borderTopWidth:Ee,borderRightWidth:Ee,borderBottomWidth:Ee,borderLeftWidth:Ee,borderRadius:Ee,radius:Ee,borderTopLeftRadius:Ee,borderTopRightRadius:Ee,borderBottomRightRadius:Ee,borderBottomLeftRadius:Ee,width:Ee,maxWidth:Ee,height:Ee,maxHeight:Ee,size:Ee,top:Ee,right:Ee,bottom:Ee,left:Ee,padding:Ee,paddingTop:Ee,paddingRight:Ee,paddingBottom:Ee,paddingLeft:Ee,margin:Ee,marginTop:Ee,marginRight:Ee,marginBottom:Ee,marginLeft:Ee,rotate:ao,rotateX:ao,rotateY:ao,rotateZ:ao,scale:Rp,scaleX:Rp,scaleY:Rp,scaleZ:Rp,skew:ao,skewX:ao,skewY:ao,distance:Ee,translateX:Ee,translateY:Ee,translateZ:Ee,x:Ee,y:Ee,z:Ee,perspective:Ee,transformPerspective:Ee,opacity:Rd,originX:LT,originY:LT,originZ:Ee,zIndex:VT,fillOpacity:Rd,strokeOpacity:Rd,numOctaves:VT};function Jx(t,e,n,r){const{style:s,vars:i,transform:o,transformOrigin:a}=t;let l=!1,c=!1,d=!0;for(const f in e){const p=e[f];if(Pj(f)){i[f]=p;continue}const m=Aj[f],_=aH(p,m);if(ll.has(f)){if(l=!0,o[f]=_,!d)continue;p!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(c=!0,a[f]=_):s[f]=_}if(e.transform||(l||r?s.transform=sH(t.transform,n,d,r):s.transform&&(s.transform="none")),c){const{originX:f="50%",originY:p="50%",originZ:m=0}=a;s.transformOrigin=`${f} ${p} ${m}`}}const Zx=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Rj(t,e,n){for(const r in e)!ur(e[r])&&!Ij(r,n)&&(t[r]=e[r])}function hH({transformTemplate:t},e,n){return g.useMemo(()=>{const r=Zx();return Jx(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function fH(t,e,n){const r=t.style||{},s={};return Rj(s,r,t),Object.assign(s,hH(t,e,n)),s}function pH(t,e,n){const r={},s=fH(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}const mH=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function mg(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||mH.has(t)}let jj=t=>!mg(t);function gH(t){t&&(jj=e=>e.startsWith("on")?!mg(e):t(e))}try{gH(require("@emotion/is-prop-valid").default)}catch{}function vH(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(jj(s)||n===!0&&mg(s)||!e&&!mg(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function FT(t,e,n){return typeof t=="string"?t:Ee.transform(e+n*t)}function yH(t,e,n){const r=FT(e,t.x,t.width),s=FT(n,t.y,t.height);return`${r} ${s}`}const _H={offset:"stroke-dashoffset",array:"stroke-dasharray"},bH={offset:"strokeDashoffset",array:"strokeDasharray"};function wH(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?_H:bH;t[i.offset]=Ee.transform(-r);const o=Ee.transform(e),a=Ee.transform(n);t[i.array]=`${o} ${a}`}function eS(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},d,f,p){if(Jx(t,c,d,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:_,dimensions:v}=t;m.transform&&(v&&(_.transform=m.transform),delete m.transform),v&&(s!==void 0||i!==void 0||_.transform)&&(_.transformOrigin=yH(v,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),o!==void 0&&wH(m,o,a,l,!1)}const Dj=()=>({...Zx(),attrs:{}}),tS=t=>typeof t=="string"&&t.toLowerCase()==="svg";function xH(t,e,n,r){const s=g.useMemo(()=>{const i=Dj();return eS(i,e,{enableHardwareAcceleration:!1},tS(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};Rj(i,t.style,t),s.style={...i,...s.style}}return s}function SH(t=!1){return(n,r,s,{latestValues:i},o)=>{const l=(Yx(n)?xH:pH)(r,i,o,n),d={...vH(r,typeof n=="string",t),...l,ref:s},{children:f}=r,p=g.useMemo(()=>ur(f)?f.get():f,[f]);return g.createElement(n,{...d,children:p})}}function Nj(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const Oj=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Mj(t,e,n,r){Nj(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(Oj.has(s)?s:Hx(s),e.attrs[s])}function nS(t,e){const{style:n}=t,r={};for(const s in n)(ur(n[s])||e.style&&ur(e.style[s])||Ij(s,t))&&(r[s]=n[s]);return r}function Lj(t,e){const n=nS(t,e);for(const r in t)if(ur(t[r])||ur(e[r])){const s=Jh.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=t[r]}return n}function rS(t,e,n,r={},s={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),e}function Vj(t){const e=g.useRef(null);return e.current===null&&(e.current=t()),e.current}const gg=t=>Array.isArray(t),EH=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),CH=t=>gg(t)?t[t.length-1]||0:t;function gm(t){const e=ur(t)?t.get():t;return EH(e)?e.toValue():e}function TH({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,s,i){const o={latestValues:IH(r,s,i,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const Fj=t=>(e,n)=>{const r=g.useContext(Dv),s=g.useContext(Xh),i=()=>TH(t,e,r,s);return n?i():Vj(i)};function IH(t,e,n,r){const s={},i=r(t,{});for(const p in i)s[p]=gm(i[p]);let{initial:o,animate:a}=t;const l=Mv(t),c=Cj(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?a:o;return f&&typeof f!="boolean"&&!Ov(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const _=rS(t,m);if(!_)return;const{transitionEnd:v,transition:S,...x}=_;for(const b in x){let w=x[b];if(Array.isArray(w)){const k=d?w.length-1:0;w=w[k]}w!==null&&(s[b]=w)}for(const b in v)s[b]=v[b]}),s}const Ut=t=>t,{schedule:wt,cancel:ji,state:fn,steps:N0}=Ej(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ut,!0),kH={useVisualState:Fj({scrapeMotionValuesFromProps:Lj,createRenderState:Dj,onMount:(t,e,{renderState:n,latestValues:r})=>{wt.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),wt.render(()=>{eS(n,r,{enableHardwareAcceleration:!1},tS(e.tagName),t.transformTemplate),Mj(e,n)})}})},PH={useVisualState:Fj({scrapeMotionValuesFromProps:nS,createRenderState:Zx})};function AH(t,{forwardMotionProps:e=!1},n,r){return{...Yx(t)?kH:PH,preloadedFeatures:n,useRender:SH(e),createVisualElement:r,Component:t}}function mi(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const $j=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Lv(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const RH=t=>e=>$j(e)&&t(e,Lv(e));function xi(t,e,n,r){return mi(t,e,RH(n),r)}const jH=(t,e)=>n=>e(t(n)),Si=(...t)=>t.reduce(jH);function zj(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const $T=zj("dragHorizontal"),zT=zj("dragVertical");function Bj(t){let e=!1;if(t==="y")e=zT();else if(t==="x")e=$T();else{const n=$T(),r=zT();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function Uj(){const t=Bj(!0);return t?(t(),!1):!0}class Yo{constructor(e){this.isMounted=!1,this.node=e}update(){}}function BT(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),s=(i,o)=>{if(i.pointerType==="touch"||Uj())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&wt.update(()=>a[r](i,o))};return xi(t.current,n,s,{passive:!t.getProps()[r]})}class DH extends Yo{mount(){this.unmount=Si(BT(this.node,!0),BT(this.node,!1))}unmount(){}}class NH extends Yo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Si(mi(this.node.current,"focus",()=>this.onFocus()),mi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Wj=(t,e)=>e?t===e?!0:Wj(t,e.parentElement):!1;function O0(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Lv(n))}class OH extends Yo{constructor(){super(...arguments),this.removeStartListeners=Ut,this.removeEndListeners=Ut,this.removeAccessibleListeners=Ut,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=xi(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:d,globalTapTarget:f}=this.node.getProps();wt.update(()=>{!f&&!Wj(this.node.current,a.target)?d&&d(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=xi(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Si(i,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||O0("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&wt.update(()=>d(l,c))})};this.removeEndListeners(),this.removeEndListeners=mi(this.node.current,"keyup",o),O0("down",(a,l)=>{this.startPress(a,l)})},n=mi(this.node.current,"keydown",e),r=()=>{this.isPressing&&O0("cancel",(i,o)=>this.cancelPress(i,o))},s=mi(this.node.current,"blur",r);this.removeAccessibleListeners=Si(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&wt.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Uj()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&wt.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=xi(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=mi(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Si(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Ib=new WeakMap,M0=new WeakMap,MH=t=>{const e=Ib.get(t.target);e&&e(t)},LH=t=>{t.forEach(MH)};function VH({root:t,...e}){const n=t||document;M0.has(n)||M0.set(n,{});const r=M0.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(LH,{root:t,...e})),r[s]}function FH(t,e,n){const r=VH(e);return Ib.set(t,n),r.observe(t),()=>{Ib.delete(t),r.unobserve(t)}}const $H={some:0,all:1};class zH extends Yo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:$H[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=c?d:f;p&&p(l)};return FH(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(BH(e,n))&&this.startObserver()}unmount(){}}function BH({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const UH={inView:{Feature:zH},tap:{Feature:OH},focus:{Feature:NH},hover:{Feature:DH}};function Hj(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function WH(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function HH(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Vv(t,e,n){const r=t.getProps();return rS(r,e,n!==void 0?n:r.custom,WH(t),HH(t))}let sS=Ut;const Na=t=>t*1e3,Ei=t=>t/1e3,qH={current:!1},qj=t=>Array.isArray(t)&&typeof t[0]=="number";function Gj(t){return!!(!t||typeof t=="string"&&Kj[t]||qj(t)||Array.isArray(t)&&t.every(Gj))}const cd=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Kj={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cd([0,.65,.55,1]),circOut:cd([.55,0,1,.45]),backIn:cd([.31,.01,.66,-.59]),backOut:cd([.33,1.53,.69,.99])};function Qj(t){if(t)return qj(t)?cd(t):Array.isArray(t)?t.map(Qj):Kj[t]}function GH(t,e,n,{delay:r=0,duration:s,repeat:i=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const d=Qj(a);return Array.isArray(d)&&(c.easing=d),t.animate(c,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function KH(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const Yj=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,QH=1e-7,YH=12;function XH(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=Yj(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>QH&&++a<YH);return o}function tf(t,e,n,r){if(t===e&&n===r)return Ut;const s=i=>XH(i,0,1,t,n);return i=>i===0||i===1?i:Yj(s(i),e,r)}const JH=tf(.42,0,1,1),ZH=tf(0,0,.58,1),Xj=tf(.42,0,.58,1),eq=t=>Array.isArray(t)&&typeof t[0]!="number",Jj=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Zj=t=>e=>1-t(1-e),iS=t=>1-Math.sin(Math.acos(t)),eD=Zj(iS),tq=Jj(iS),tD=tf(.33,1.53,.69,.99),oS=Zj(tD),nq=Jj(oS),rq=t=>(t*=2)<1?.5*oS(t):.5*(2-Math.pow(2,-10*(t-1))),sq={linear:Ut,easeIn:JH,easeInOut:Xj,easeOut:ZH,circIn:iS,circInOut:tq,circOut:eD,backIn:oS,backInOut:nq,backOut:tD,anticipate:rq},UT=t=>{if(Array.isArray(t)){sS(t.length===4);const[e,n,r,s]=t;return tf(e,n,r,s)}else if(typeof t=="string")return sq[t];return t},bh=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Tt=(t,e,n)=>t+(e-t)*n;function L0(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function iq({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=L0(l,a,t+1/3),i=L0(l,a,t),o=L0(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}const aS=(t,e)=>n=>!!(Zh(n)&&cH.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),nD=(t,e,n)=>r=>{if(!Zh(r))return r;const[s,i,o,a]=r.match(Xx);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},oq=t=>Fo(0,255,t),V0={...lu,transform:t=>Math.round(oq(t))},Ta={test:aS("rgb","red"),parse:nD("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+V0.transform(t)+", "+V0.transform(e)+", "+V0.transform(n)+", "+jd(Rd.transform(r))+")"};function aq(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const kb={test:aS("#"),parse:aq,transform:Ta.transform},oc={test:aS("hsl","hue"),parse:nD("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Us.transform(jd(e))+", "+Us.transform(jd(n))+", "+jd(Rd.transform(r))+")"},F0=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},lq=[kb,Ta,oc],cq=t=>lq.find(e=>e.test(t));function WT(t){const e=cq(t);let n=e.parse(t);return e===oc&&(n=iq(n)),n}const HT=(t,e)=>{const n=WT(t),r=WT(e),s={...n};return i=>(s.red=F0(n.red,r.red,i),s.green=F0(n.green,r.green,i),s.blue=F0(n.blue,r.blue,i),s.alpha=Tt(n.alpha,r.alpha,i),Ta.transform(s))},Rn={test:t=>Ta.test(t)||kb.test(t)||oc.test(t),parse:t=>Ta.test(t)?Ta.parse(t):oc.test(t)?oc.parse(t):kb.parse(t),transform:t=>Zh(t)?t:t.hasOwnProperty("red")?Ta.transform(t):oc.transform(t)};function uq(t){var e,n;return isNaN(t)&&Zh(t)&&(((e=t.match(Xx))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(lH))===null||n===void 0?void 0:n.length)||0)>0}const rD="number",sD="color",dq="var",hq="var(",qT="${}",GT=/(var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\))|(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))|((-)?([\d]*\.?[\d])+)/gi;function vg(t){const e=t.toString(),n=e.match(GT)||[],r=[],s={color:[],number:[],var:[]},i=[];for(let l=0;l<n.length;l++){const c=n[l];Rn.test(c)?(s.color.push(l),i.push(sD),r.push(Rn.parse(c))):c.startsWith(hq)?(s.var.push(l),i.push(dq),r.push(c)):(s.number.push(l),i.push(rD),r.push(parseFloat(c)))}const a=e.replace(GT,qT).split(qT);return{values:r,split:a,indexes:s,types:i}}function iD(t){return vg(t).values}function oD(t){const{split:e,types:n}=vg(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===rD?i+=jd(s[o]):a===sD?i+=Rn.transform(s[o]):i+=s[o]}return i}}const fq=t=>typeof t=="number"?0:t;function pq(t){const e=iD(t);return oD(t)(e.map(fq))}const $o={test:uq,parse:iD,createTransformer:oD,getAnimatableNone:pq};function Pb(t,e){return n=>n>0?e:t}function mq(t,e){return n=>Tt(t,e,n)}function lS(t){return typeof t=="number"?mq:typeof t=="string"?pg(t)?Pb:Rn.test(t)?HT:yq:Array.isArray(t)?aD:typeof t=="object"?Rn.test(t)?HT:gq:Pb}function aD(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>lS(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function gq(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=lS(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function vq(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],a=t.indexes[o][s[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[i]=l,s[o]++}return r}const yq=(t,e)=>{const n=$o.createTransformer(e),r=vg(t),s=vg(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Si(aD(vq(r,s),s.values),n):Pb(t,e)};function lD(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Tt(t,e,n):lS(t)(t,e)}function _q(t,e,n){const r=[],s=n||lD,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Ut:e;a=Si(l,a)}r.push(a)}return r}function bq(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(sS(i===e.length),i===1)return()=>e[0];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=_q(e,r,s),a=o.length,l=c=>{let d=0;if(a>1)for(;d<t.length-2&&!(c<t[d+1]);d++);const f=bh(t[d],t[d+1],c);return o[d](f)};return n?c=>l(Fo(t[0],t[i-1],c)):l}function wq(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=bh(0,e,r);t.push(Tt(n,1,s))}}function xq(t){const e=[0];return wq(e,t.length-1),e}function Sq(t,e){return t.map(n=>n*e)}function Eq(t,e){return t.map(()=>e||Xj).splice(0,t.length-1)}function yg({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=eq(r)?r.map(UT):UT(r),i={done:!1,value:e[0]},o=Sq(n&&n.length===e.length?n:xq(e),t),a=bq(o,e,{ease:Array.isArray(s)?s:Eq(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}function cD(t,e){return e?t*(1e3/e):0}const Cq=5;function uD(t,e,n){const r=Math.max(e-Cq,0);return cD(n-t(r),e-r)}const $0=.001,Tq=.01,Iq=10,kq=.05,Pq=1;function Aq({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,i,o=1-e;o=Fo(kq,Pq,o),t=Fo(Tq,Iq,Ei(t)),o<1?(s=c=>{const d=c*o,f=d*t,p=d-n,m=Ab(c,o),_=Math.exp(-f);return $0-p/m*_},i=c=>{const f=c*o*t,p=f*n+n,m=Math.pow(o,2)*Math.pow(c,2)*t,_=Math.exp(-f),v=Ab(Math.pow(c,2),o);return(-s(c)+$0>0?-1:1)*((p-m)*_)/v}):(s=c=>{const d=Math.exp(-c*t),f=(c-n)*t+1;return-$0+d*f},i=c=>{const d=Math.exp(-c*t),f=(n-c)*(t*t);return d*f});const a=5/t,l=jq(s,i,a);if(t=Na(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const Rq=12;function jq(t,e,n){let r=n;for(let s=1;s<Rq;s++)r=r-t(r)/e(r);return r}function Ab(t,e){return t*Math.sqrt(1-e*e)}const Dq=["duration","bounce"],Nq=["stiffness","damping","mass"];function KT(t,e){return e.some(n=>t[n]!==void 0)}function Oq(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!KT(t,Nq)&&KT(t,Dq)){const n=Aq(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function dD({keyframes:t,restDelta:e,restSpeed:n,...r}){const s=t[0],i=t[t.length-1],o={done:!1,value:s},{stiffness:a,damping:l,mass:c,duration:d,velocity:f,isResolvedFromDuration:p}=Oq({...r,velocity:-Ei(r.velocity||0)}),m=f||0,_=l/(2*Math.sqrt(a*c)),v=i-s,S=Ei(Math.sqrt(a/c)),x=Math.abs(v)<5;n||(n=x?.01:2),e||(e=x?.005:.5);let b;if(_<1){const w=Ab(S,_);b=k=>{const j=Math.exp(-_*S*k);return i-j*((m+_*S*v)/w*Math.sin(w*k)+v*Math.cos(w*k))}}else if(_===1)b=w=>i-Math.exp(-S*w)*(v+(m+S*v)*w);else{const w=S*Math.sqrt(_*_-1);b=k=>{const j=Math.exp(-_*S*k),O=Math.min(w*k,300);return i-j*((m+_*S*v)*Math.sinh(O)+w*v*Math.cosh(O))/w}}return{calculatedDuration:p&&d||null,next:w=>{const k=b(w);if(p)o.done=w>=d;else{let j=m;w!==0&&(_<1?j=uD(b,w,k):j=0);const O=Math.abs(j)<=n,C=Math.abs(i-k)<=e;o.done=O&&C}return o.value=o.done?i:k,o}}}function QT({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const f=t[0],p={done:!1,value:f},m=T=>a!==void 0&&T<a||l!==void 0&&T>l,_=T=>a===void 0?l:l===void 0||Math.abs(a-T)<Math.abs(l-T)?a:l;let v=n*e;const S=f+v,x=o===void 0?S:o(S);x!==S&&(v=x-f);const b=T=>-v*Math.exp(-T/r),w=T=>x+b(T),k=T=>{const I=b(T),P=w(T);p.done=Math.abs(I)<=c,p.value=p.done?x:P};let j,O;const C=T=>{m(p.value)&&(j=T,O=dD({keyframes:[p.value,_(p.value)],velocity:uD(w,T,p.value),damping:s,stiffness:i,restDelta:c,restSpeed:d}))};return C(0),{calculatedDuration:null,next:T=>{let I=!1;return!O&&j===void 0&&(I=!0,k(T),C(T)),j!==void 0&&T>j?O.next(T-j):(!I&&k(T),p)}}}let vm;function Mq(){vm=void 0}const Oa={now:()=>(vm===void 0&&Oa.set(fn.isProcessing||Sj.useManualTiming?fn.timestamp:performance.now()),vm),set:t=>{vm=t,queueMicrotask(Mq)}},Lq=t=>{const e=({timestamp:n})=>t(n);return{start:()=>wt.update(e,!0),stop:()=>ji(e),now:()=>fn.isProcessing?fn.timestamp:Oa.now()}},YT=2e4;function XT(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<YT;)e+=n,r=t.next(e);return e>=YT?1/0:e}const Vq={decay:QT,inertia:QT,tween:yg,keyframes:yg,spring:dD},Fq=t=>t/100;function _g({autoplay:t=!0,delay:e=0,driver:n=Lq,keyframes:r,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:d,onUpdate:f,...p}){let m=1,_=!1,v,S;const x=()=>{S=new Promise(ue=>{v=ue})};x();let b;const w=Vq[s]||yg;let k;w!==yg&&typeof r[0]!="number"&&(k=Si(Fq,lD(r[0],r[1])),r=[0,100]);const j=w({...p,keyframes:r});let O;a==="mirror"&&(O=w({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let C="idle",T=null,I=null,P=null;j.calculatedDuration===null&&i&&(j.calculatedDuration=XT(j));const{calculatedDuration:N}=j;let M=1/0,R=1/0;N!==null&&(M=N+o,R=M*(i+1)-o);let $=0;const X=ue=>{if(I===null)return;m>0&&(I=Math.min(I,ue)),m<0&&(I=Math.min(ue-R/m,I)),T!==null?$=T:$=Math.round(ue-I)*m;const ve=$-e*(m>=0?1:-1),ie=m>=0?ve<0:ve>R;$=Math.max(ve,0),C==="finished"&&T===null&&($=R);let Se=$,Te=j;if(i){const Y=Math.min($,R)/M;let re=Math.floor(Y),Re=Y%1;!Re&&Y>=1&&(Re=1),Re===1&&re--,re=Math.min(re,i+1),!!(re%2)&&(a==="reverse"?(Re=1-Re,o&&(Re-=o/M)):a==="mirror"&&(Te=O)),Se=Fo(0,1,Re)*M}const Ne=ie?{done:!1,value:r[0]}:Te.next(Se);k&&(Ne.value=k(Ne.value));let{done:Me}=Ne;!ie&&N!==null&&(Me=m>=0?$>=R:$<=0);const q=T===null&&(C==="finished"||C==="running"&&Me);return f&&f(Ne.value),q&&G(),Ne},ne=()=>{b&&b.stop(),b=void 0},B=()=>{C="idle",ne(),v(),x(),I=P=null},G=()=>{C="finished",d&&d(),ne(),v()},ee=()=>{if(_)return;b||(b=n(X));const ue=b.now();l&&l(),T!==null?I=ue-T:(!I||C==="finished")&&(I=ue),C==="finished"&&x(),P=I,T=null,C="running",b.start()};t&&ee();const he={then(ue,ve){return S.then(ue,ve)},get time(){return Ei($)},set time(ue){ue=Na(ue),$=ue,T!==null||!b||m===0?T=ue:I=b.now()-ue/m},get duration(){const ue=j.calculatedDuration===null?XT(j):j.calculatedDuration;return Ei(ue)},get speed(){return m},set speed(ue){ue===m||!b||(m=ue,he.time=Ei($))},get state(){return C},play:ee,pause:()=>{C="paused",T=$},stop:()=>{_=!0,C!=="idle"&&(C="idle",c&&c(),B())},cancel:()=>{P!==null&&X(P),B()},complete:()=>{C="finished"},sample:ue=>(I=0,X(ue))};return he}function $q(t){let e;return()=>(e===void 0&&(e=t()),e)}const zq=$q(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Bq=new Set(["opacity","clipPath","filter","transform"]),jp=10,Uq=2e4,Wq=(t,e)=>e.type==="spring"||t==="backgroundColor"||!Gj(e.ease);function Hq(t,e,{onUpdate:n,onComplete:r,...s}){if(!(zq()&&Bq.has(e)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let o=!1,a,l,c=!1;const d=()=>{l=new Promise(w=>{a=w})};d();let{keyframes:f,duration:p=300,ease:m,times:_}=s;if(Wq(e,s)){const w=_g({...s,repeat:0,delay:0});let k={done:!1,value:f[0]};const j=[];let O=0;for(;!k.done&&O<Uq;)k=w.sample(O),j.push(k.value),O+=jp;_=void 0,f=j,p=O-jp,m="linear"}const v=GH(t.owner.current,e,f,{...s,duration:p,ease:m,times:_}),S=()=>{c=!1,v.cancel()},x=()=>{c=!0,wt.update(S),a(),d()};return v.onfinish=()=>{c||(t.set(KH(f,s)),r&&r(),x())},{then(w,k){return l.then(w,k)},attachTimeline(w){return v.timeline=w,v.onfinish=null,Ut},get time(){return Ei(v.currentTime||0)},set time(w){v.currentTime=Na(w)},get speed(){return v.playbackRate},set speed(w){v.playbackRate=w},get duration(){return Ei(p)},play:()=>{o||(v.play(),ji(S))},pause:()=>v.pause(),stop:()=>{if(o=!0,v.playState==="idle")return;const{currentTime:w}=v;if(w){const k=_g({...s,autoplay:!1});t.setWithVelocity(k.sample(w-jp).value,k.sample(w).value,jp)}x()},complete:()=>{c||v.finish()},cancel:x}}function qq({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const s=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Ut,pause:Ut,stop:Ut,then:i=>(i(),Promise.resolve()),cancel:Ut,complete:Ut});return e?_g({keyframes:[0,1],duration:0,delay:e,onComplete:s}):s()}const Gq={type:"spring",stiffness:500,damping:25,restSpeed:10},Kq=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Qq={type:"keyframes",duration:.8},Yq={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Xq=(t,{keyframes:e})=>e.length>2?Qq:ll.has(t)?t.startsWith("scale")?Kq(e[1]):Gq:Yq,Rb=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&($o.test(e)||e==="0")&&!e.startsWith("url(")),Jq=new Set(["brightness","contrast","saturate","opacity"]);function Zq(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Xx)||[];if(!r)return t;const s=n.replace(r,"");let i=Jq.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const eG=/([a-z-]*)\(.*?\)/g,jb={...$o,getAnimatableNone:t=>{const e=t.match(eG);return e?e.map(Zq).join(" "):t}},tG={...Aj,color:Rn,backgroundColor:Rn,outlineColor:Rn,fill:Rn,stroke:Rn,borderColor:Rn,borderTopColor:Rn,borderRightColor:Rn,borderBottomColor:Rn,borderLeftColor:Rn,filter:jb,WebkitFilter:jb},cS=t=>tG[t];function hD(t,e){let n=cS(t);return n!==jb&&(n=$o),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const fD=t=>/^0[^.\s]+$/.test(t);function nG(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||fD(t)}function rG(t,e,n,r){const s=Rb(e,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const l=[];for(let c=0;c<i.length;c++)i[c]===null&&(i[c]=c===0?o:i[c-1]),nG(i[c])&&l.push(c),typeof i[c]=="string"&&i[c]!=="none"&&i[c]!=="0"&&(a=i[c]);if(s&&l.length&&a)for(let c=0;c<l.length;c++){const d=l[c];i[d]=hD(e,a)}return i}function sG({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}function uS(t,e){return t[e]||t.default||t}const dS=(t,e,n,r={})=>s=>{const i=uS(r,t)||{},o=i.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Na(o);const l=rG(e,t,n,i),c=l[0],d=l[l.length-1],f=Rb(t,c),p=Rb(t,d);let m={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:_=>{e.set(_),i.onUpdate&&i.onUpdate(_)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(sG(i)||(m={...m,...Xq(t,m)}),m.duration&&(m.duration=Na(m.duration)),m.repeatDelay&&(m.repeatDelay=Na(m.repeatDelay)),!f||!p||qH.current||i.type===!1||Sj.skipAnimations)return qq(m);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const _=Hq(e,t,m);if(_)return _}return _g(m)};function bg(t){return!!(ur(t)&&t.add)}const pD=t=>/^\-?\d*\.?\d+$/.test(t);function hS(t,e){t.indexOf(e)===-1&&t.push(e)}function fS(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class pS{constructor(){this.subscriptions=[]}add(e){return hS(this.subscriptions,e),()=>fS(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const JT=30,iG=t=>!isNaN(parseFloat(t));class oG{constructor(e,n={}){this.version="11.0.5",this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=Oa.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.canTrackVelocity=iG(this.current),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Oa.now()}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new pS);const r=this.events[e].add(n);return e==="change"?()=>{r(),wt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Oa.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>JT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,JT);return cD(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Bc(t,e){return new oG(t,e)}const mD=t=>e=>e.test(t),aG={test:t=>t==="auto",parse:t=>t},gD=[lu,Ee,Us,ao,dH,uH,aG],Qu=t=>gD.find(mD(t)),lG=[...gD,Rn,$o],cG=t=>lG.find(mD(t));function uG(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Bc(n))}function dG(t,e){const n=Vv(t,e);let{transitionEnd:r={},transition:s={},...i}=n?t.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const o in i){const a=CH(i[o]);uG(t,o,a)}}function hG(t,e,n){var r,s;const i=Object.keys(e).filter(a=>!t.hasValue(a)),o=i.length;if(o)for(let a=0;a<o;a++){const l=i[a],c=e[l];let d=null;Array.isArray(c)&&(d=c[0]),d===null&&(d=(s=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&s!==void 0?s:e[l]),d!=null&&(typeof d=="string"&&(pD(d)||fD(d))?d=parseFloat(d):!cG(d)&&$o.test(c)&&(d=hD(l,c)),t.addValue(l,Bc(d,{owner:t})),n[l]===void 0&&(n[l]=d),d!==null&&t.setBaseTarget(l,d))}}function fG(t,e){return e?(e[t]||e.default||e).from:void 0}function pG(t,e,n){const r={};for(const s in t){const i=fG(s,e);if(i!==void 0)r[s]=i;else{const o=n.getValue(s);o&&(r[s]=o.get())}}return r}function mG({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function gG(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function vD(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(i=r);const c=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const f in a){const p=t.getValue(f),m=a[f];if(!p||m===void 0||d&&mG(d,f))continue;const _={delay:n,elapsed:0,...uS(i||{},f)};if(window.HandoffAppearAnimations){const x=t.getProps()[xj];if(x){const b=window.HandoffAppearAnimations(x,f,p,wt);b!==null&&(_.elapsed=b,_.isHandoff=!0)}}let v=!_.isHandoff&&!gG(p,m);if(_.type==="spring"&&(p.getVelocity()||_.velocity)&&(v=!1),p.animation&&(v=!1),v)continue;p.start(dS(f,p,m,t.shouldReduceMotion&&ll.has(f)?{type:!1}:_));const S=p.animation;bg(l)&&(l.add(f),S.then(()=>l.remove(f))),c.push(S)}return o&&Promise.all(c).then(()=>{o&&dG(t,o)}),c}function Db(t,e,n={}){const r=Vv(t,e,n.custom);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(vD(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:f}=s;return vG(t,e,c+l,d,f,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[l,c]=a==="beforeChildren"?[i,o]:[o,i];return l().then(()=>c())}else return Promise.all([i(),o(n.delay)])}function vG(t,e,n=0,r=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*r,l=s===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(yG).forEach((c,d)=>{c.notify("AnimationStart",e),o.push(Db(c,e,{...i,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function yG(t,e){return t.sortNodePosition(e)}function _G(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>Db(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=Db(t,e,n);else{const s=typeof e=="function"?Vv(t,e,n.custom):e;r=Promise.all(vD(t,s,n))}return r.then(()=>t.notify("AnimationComplete",e))}const bG=[...Gx].reverse(),wG=Gx.length;function xG(t){return e=>Promise.all(e.map(({animation:n,options:r})=>_G(t,n,r)))}function SG(t){let e=xG(t);const n=CG();let r=!0;const s=(l,c)=>{const d=Vv(t,c);if(d){const{transition:f,transitionEnd:p,...m}=d;l={...l,...m,...p}}return l};function i(l){e=l(t)}function o(l,c){const d=t.getProps(),f=t.getVariantContext(!0)||{},p=[],m=new Set;let _={},v=1/0;for(let x=0;x<wG;x++){const b=bG[x],w=n[b],k=d[b]!==void 0?d[b]:f[b],j=yh(k),O=b===c?w.isActive:null;O===!1&&(v=x);let C=k===f[b]&&k!==d[b]&&j;if(C&&r&&t.manuallyAnimateOnMount&&(C=!1),w.protectedKeys={..._},!w.isActive&&O===null||!k&&!w.prevProp||Ov(k)||typeof k=="boolean")continue;let I=EG(w.prevProp,k)||b===c&&w.isActive&&!C&&j||x>v&&j,P=!1;const N=Array.isArray(k)?k:[k];let M=N.reduce(s,{});O===!1&&(M={});const{prevResolvedValues:R={}}=w,$={...R,...M},X=ne=>{I=!0,m.has(ne)&&(P=!0,m.delete(ne)),w.needsAnimating[ne]=!0};for(const ne in $){const B=M[ne],G=R[ne];if(_.hasOwnProperty(ne))continue;let ee=!1;gg(B)&&gg(G)?ee=!Hj(B,G):ee=B!==G,ee?B!==void 0?X(ne):m.add(ne):B!==void 0&&m.has(ne)?X(ne):w.protectedKeys[ne]=!0}w.prevProp=k,w.prevResolvedValues=M,w.isActive&&(_={..._,...M}),r&&t.blockInitialAnimation&&(I=!1),I&&(!C||P)&&p.push(...N.map(ne=>({animation:ne,options:{type:b,...l}})))}if(m.size){const x={};m.forEach(b=>{const w=t.getBaseTarget(b);w!==void 0&&(x[b]=w)}),p.push({animation:x})}let S=!!p.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(p):Promise.resolve()}function a(l,c,d){var f;if(n[l].isActive===c)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(m=>{var _;return(_=m.animationState)===null||_===void 0?void 0:_.setActive(l,c)}),n[l].isActive=c;const p=o(d,l);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n}}function EG(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Hj(e,t):!1}function fa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function CG(){return{animate:fa(!0),whileInView:fa(),whileHover:fa(),whileTap:fa(),whileDrag:fa(),whileFocus:fa(),exit:fa()}}class TG extends Yo{constructor(e){super(e),e.animationState||(e.animationState=SG(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Ov(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let IG=0;class kG extends Yo{constructor(){super(...arguments),this.id=IG++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const PG={animation:{Feature:TG},exit:{Feature:kG}},ZT=(t,e)=>Math.abs(t-e);function AG(t,e){const n=ZT(t.x,e.x),r=ZT(t.y,e.y);return Math.sqrt(n**2+r**2)}class yD{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=B0(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=AG(f.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:_}=f,{timestamp:v}=fn;this.history.push({..._,timestamp:v});const{onStart:S,onMove:x}=this.handlers;p||(S&&S(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=z0(p,this.transformPagePoint),wt.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:m,onSessionEnd:_,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=B0(f.type==="pointercancel"?this.lastMoveEventInfo:z0(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,S),_&&_(f,S)},!$j(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=Lv(e),a=z0(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=fn;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,B0(a,this.history)),this.removeListeners=Si(xi(this.contextWindow,"pointermove",this.handlePointerMove),xi(this.contextWindow,"pointerup",this.handlePointerUp),xi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ji(this.updatePoint)}}function z0(t,e){return e?{point:e(t.point)}:t}function eI(t,e){return{x:t.x-e.x,y:t.y-e.y}}function B0({point:t},e){return{point:t,delta:eI(t,_D(e)),offset:eI(t,RG(e)),velocity:jG(e,.1)}}function RG(t){return t[0]}function _D(t){return t[t.length-1]}function jG(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=_D(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Na(e)));)n--;if(!r)return{x:0,y:0};const i=Ei(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Cr(t){return t.max-t.min}function Nb(t,e=0,n=.01){return Math.abs(t-e)<=n}function tI(t,e,n,r=.5){t.origin=r,t.originPoint=Tt(e.min,e.max,t.origin),t.scale=Cr(n)/Cr(e),(Nb(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Tt(n.min,n.max,t.origin)-t.originPoint,(Nb(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Dd(t,e,n,r){tI(t.x,e.x,n.x,r?r.originX:void 0),tI(t.y,e.y,n.y,r?r.originY:void 0)}function nI(t,e,n){t.min=n.min+e.min,t.max=t.min+Cr(e)}function DG(t,e,n){nI(t.x,e.x,n.x),nI(t.y,e.y,n.y)}function rI(t,e,n){t.min=e.min-n.min,t.max=t.min+Cr(e)}function Nd(t,e,n){rI(t.x,e.x,n.x),rI(t.y,e.y,n.y)}function NG(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Tt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Tt(n,t,r.max):Math.min(t,n)),t}function sI(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function OG(t,{top:e,left:n,bottom:r,right:s}){return{x:sI(t.x,n,s),y:sI(t.y,e,r)}}function iI(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function MG(t,e){return{x:iI(t.x,e.x),y:iI(t.y,e.y)}}function LG(t,e){let n=.5;const r=Cr(t),s=Cr(e);return s>r?n=bh(e.min,e.max-r,t.min):r>s&&(n=bh(t.min,t.max-s,e.min)),Fo(0,1,n)}function VG(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Ob=.35;function FG(t=Ob){return t===!1?t=0:t===!0&&(t=Ob),{x:oI(t,"left","right"),y:oI(t,"top","bottom")}}function oI(t,e,n){return{min:aI(t,e),max:aI(t,n)}}function aI(t,e){return typeof t=="number"?t:t[e]||0}const lI=()=>({translate:0,scale:1,origin:0,originPoint:0}),ac=()=>({x:lI(),y:lI()}),cI=()=>({min:0,max:0}),Nt=()=>({x:cI(),y:cI()});function Vr(t){return[t("x"),t("y")]}function bD({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function $G({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function zG(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function U0(t){return t===void 0||t===1}function Mb({scale:t,scaleX:e,scaleY:n}){return!U0(t)||!U0(e)||!U0(n)}function ga(t){return Mb(t)||wD(t)||t.z||t.rotate||t.rotateX||t.rotateY}function wD(t){return uI(t.x)||uI(t.y)}function uI(t){return t&&t!=="0%"}function wg(t,e,n){const r=t-n,s=e*r;return n+s}function dI(t,e,n,r,s){return s!==void 0&&(t=wg(t,s,r)),wg(t,n,r)+e}function Lb(t,e=0,n=1,r,s){t.min=dI(t.min,e,n,r,s),t.max=dI(t.max,e,n,r,s)}function xD(t,{x:e,y:n}){Lb(t.x,e.translate,e.scale,e.originPoint),Lb(t.y,n.translate,n.scale,n.originPoint)}function BG(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&lc(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,xD(t,o)),r&&ga(i.latestValues)&&lc(t,i.latestValues))}e.x=hI(e.x),e.y=hI(e.y)}function hI(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function uo(t,e){t.min=t.min+e,t.max=t.max+e}function fI(t,e,[n,r,s]){const i=e[s]!==void 0?e[s]:.5,o=Tt(t.min,t.max,i);Lb(t,e[n],e[r],o,e.scale)}const UG=["x","scaleX","originX"],WG=["y","scaleY","originY"];function lc(t,e){fI(t.x,e,UG),fI(t.y,e,WG)}function SD(t,e){return bD(zG(t.getBoundingClientRect(),e))}function HG(t,e,n){const r=SD(t,n),{scroll:s}=e;return s&&(uo(r.x,s.offset.x),uo(r.y,s.offset.y)),r}const ED=({current:t})=>t?t.ownerDocument.defaultView:null,qG=new WeakMap;class GG{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Nt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Lv(d,"page").point)},i=(d,f)=>{const{drag:p,dragPropagation:m,onDragStart:_}=this.getProps();if(p&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Bj(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Vr(S=>{let x=this.getAxisMotionValue(S).get()||0;if(Us.test(x)){const{projection:b}=this.visualElement;if(b&&b.layout){const w=b.layout.layoutBox[S];w&&(x=Cr(w)*(parseFloat(x)/100))}}this.originPoint[S]=x}),_&&wt.update(()=>_(d,f),!1,!0);const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:_,onDrag:v}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:S}=f;if(m&&this.currentDirection===null){this.currentDirection=KG(S),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",f.point,S),this.updateAxis("y",f.point,S),this.visualElement.render(),v&&v(d,f)},a=(d,f)=>this.stop(d,f),l=()=>Vr(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new yD(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:ED(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&wt.update(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Dp(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=NG(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&ic(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=OG(s.layoutBox,n):this.constraints=!1,this.elastic=FG(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Vr(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=VG(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ic(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=HG(r,s.root,this.visualElement.getTransformPagePoint());let o=MG(s.layout.layoutBox,i);if(n){const a=n($G(o));this.hasMutatedConstraints=!!a,a&&(o=bD(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Vr(d=>{if(!Dp(d,n,this.currentDirection))return;let f=l&&l[d]||{};o&&(f={min:0,max:0});const p=s?200:1e6,m=s?40:1e7,_={type:"inertia",velocity:r?e[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,_)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(dS(e,r,0,n))}stopAnimation(){Vr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Vr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Vr(n=>{const{drag:r}=this.getProps();if(!Dp(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-Tt(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ic(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Vr(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();s[o]=LG({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Vr(o=>{if(!Dp(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Tt(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;qG.set(this.visualElement,this);const e=this.visualElement.current,n=xi(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();ic(l)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const o=mi(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Vr(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Ob,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Dp(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function KG(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class QG extends Yo{constructor(e){super(e),this.removeGroupControls=Ut,this.removeListeners=Ut,this.controls=new GG(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ut}unmount(){this.removeGroupControls(),this.removeListeners()}}const pI=t=>(e,n)=>{t&&wt.update(()=>t(e,n))};class YG extends Yo{constructor(){super(...arguments),this.removePointerDownListener=Ut}onPointerDown(e){this.session=new yD(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ED(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:pI(e),onStart:pI(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&wt.update(()=>s(i,o))}}}mount(){this.removePointerDownListener=xi(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function CD(){const t=g.useContext(Xh);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=g.useId();return g.useEffect(()=>r(s),[]),!e&&n?[!1,()=>n&&n(s)]:[!0]}function XG(){return JG(g.useContext(Xh))}function JG(t){return t===null?!0:t.isPresent}const ym={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function mI(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Yu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ee.test(t))t=parseFloat(t);else return t;const n=mI(t,e.target.x),r=mI(t,e.target.y);return`${n}% ${r}%`}},ZG={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=$o.parse(t);if(s.length>5)return r;const i=$o.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=Tt(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};class eK extends nr.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;tH(tK),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),ym.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||wt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),qx.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function TD(t){const[e,n]=CD(),r=g.useContext(Qx);return nr.createElement(eK,{...t,layoutGroup:r,switchLayoutGroup:g.useContext(Tj),isPresent:e,safeToRemove:n})}const tK={borderRadius:{...Yu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Yu,borderTopRightRadius:Yu,borderBottomLeftRadius:Yu,borderBottomRightRadius:Yu,boxShadow:ZG},ID=["TopLeft","TopRight","BottomLeft","BottomRight"],nK=ID.length,gI=t=>typeof t=="string"?parseFloat(t):t,vI=t=>typeof t=="number"||Ee.test(t);function rK(t,e,n,r,s,i){s?(t.opacity=Tt(0,n.opacity!==void 0?n.opacity:1,sK(r)),t.opacityExit=Tt(e.opacity!==void 0?e.opacity:1,0,iK(r))):i&&(t.opacity=Tt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<nK;o++){const a=`border${ID[o]}Radius`;let l=yI(e,a),c=yI(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||vI(l)===vI(c)?(t[a]=Math.max(Tt(gI(l),gI(c),r),0),(Us.test(c)||Us.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Tt(e.rotate||0,n.rotate||0,r))}function yI(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const sK=kD(0,.5,eD),iK=kD(.5,.95,Ut);function kD(t,e,n){return r=>r<t?0:r>e?1:n(bh(t,e,r))}function _I(t,e){t.min=e.min,t.max=e.max}function Mr(t,e){_I(t.x,e.x),_I(t.y,e.y)}function bI(t,e,n,r,s){return t-=e,t=wg(t,1/n,r),s!==void 0&&(t=wg(t,1/s,r)),t}function oK(t,e=0,n=1,r=.5,s,i=t,o=t){if(Us.test(e)&&(e=parseFloat(e),e=Tt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Tt(i.min,i.max,r);t===i&&(a-=e),t.min=bI(t.min,e,n,a,s),t.max=bI(t.max,e,n,a,s)}function wI(t,e,[n,r,s],i,o){oK(t,e[n],e[r],e[s],e.scale,i,o)}const aK=["x","scaleX","originX"],lK=["y","scaleY","originY"];function xI(t,e,n,r){wI(t.x,e,aK,n?n.x:void 0,r?r.x:void 0),wI(t.y,e,lK,n?n.y:void 0,r?r.y:void 0)}function SI(t){return t.translate===0&&t.scale===1}function PD(t){return SI(t.x)&&SI(t.y)}function cK(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function AD(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function EI(t){return Cr(t.x)/Cr(t.y)}class uK{constructor(){this.members=[]}add(e){hS(this.members,e),e.scheduleRender()}remove(e){if(fS(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function CI(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y;if((s||i)&&(r=`translate3d(${s}px, ${i}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),d&&(r+=`rotateY(${d}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const dK=(t,e)=>t.depth-e.depth;class hK{constructor(){this.children=[],this.isDirty=!1}add(e){hS(this.children,e),this.isDirty=!0}remove(e){fS(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(dK),this.isDirty=!1,this.children.forEach(e)}}function fK(t,e){const n=Oa.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(ji(r),t(i-e))};return wt.read(r,!0),()=>ji(r)}function pK(t){window.MotionDebug&&window.MotionDebug.record(t)}function mK(t){return t instanceof SVGElement&&t.tagName!=="svg"}function gK(t,e,n){const r=ur(t)?t:Bc(t);return r.start(dS("",r,e,n)),r.animation}const TI=["","X","Y","Z"],vK={visibility:"hidden"},II=1e3;let yK=0;const va={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function RD({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=yK++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,va.totalNodes=va.resolvedTargetDeltas=va.recalculatedProjection=0,this.nodes.forEach(wK),this.nodes.forEach(TK),this.nodes.forEach(IK),this.nodes.forEach(xK),pK(va)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new hK)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new pS),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=mK(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let f;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=fK(p,250),ym.hasAnimatedSinceResize&&(ym.hasAnimatedSinceResize=!1,this.nodes.forEach(PI))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||jK,{onLayoutAnimationStart:S,onLayoutAnimationComplete:x}=d.getProps(),b=!this.targetLayout||!AD(this.targetLayout,_)||m,w=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||p&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const k={...uS(v,"layout"),onPlay:S,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k)}else p||PI(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ji(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(kK),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(kI);return}this.isUpdating||this.nodes.forEach(EK),this.isUpdating=!1,this.nodes.forEach(CK),this.nodes.forEach(_K),this.nodes.forEach(bK),this.clearAllSnapshots();const a=Oa.now();fn.delta=Fo(0,1e3/60,a-fn.timestamp),fn.timestamp=a,fn.isProcessing=!0,N0.update.process(fn),N0.preRender.process(fn),N0.render.process(fn),fn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,qx.read(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(SK),this.sharedNodes.forEach(PK)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,wt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){wt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Nt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!PD(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&(a||ga(this.latestValues)||d)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),DK(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Nt();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(uo(a.x,l.offset.x),uo(a.y,l.offset.y)),a}removeElementScroll(o){const a=Nt();Mr(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:d,options:f}=c;if(c!==this.root&&d&&f.layoutScroll){if(d.isRoot){Mr(a,o);const{scroll:p}=this.root;p&&(uo(a.x,-p.offset.x),uo(a.y,-p.offset.y))}uo(a.x,d.offset.x),uo(a.y,d.offset.y)}}return a}applyTransform(o,a=!1){const l=Nt();Mr(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&lc(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ga(d.latestValues)&&lc(l,d.latestValues)}return ga(this.latestValues)&&lc(l,this.latestValues),l}removeTransform(o){const a=Nt();Mr(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!ga(c.latestValues))continue;Mb(c.latestValues)&&c.updateSnapshot();const d=Nt(),f=c.measurePageBox();Mr(d,f),xI(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return ga(this.latestValues)&&xI(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==fn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=fn.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Nt(),this.relativeTargetOrigin=Nt(),Nd(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Mr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Nt(),this.targetWithTransforms=Nt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),DG(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Mr(this.target,this.layout.layoutBox),xD(this.target,this.targetDelta)):Mr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Nt(),this.relativeTargetOrigin=Nt(),Nd(this.relativeTargetOrigin,this.target,m.target),Mr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}va.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Mb(this.parent.latestValues)||wD(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===fn.timestamp&&(c=!1),c)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Mr(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;BG(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Nt());const{target:_}=a;if(!_){this.projectionTransform&&(this.projectionDelta=ac(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=ac(),this.projectionDeltaWithTransform=ac());const v=this.projectionTransform;Dd(this.projectionDelta,this.layoutCorrected,_,this.latestValues),this.projectionTransform=CI(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==p||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_)),va.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},f=ac();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Nt(),m=l?l.source:void 0,_=this.layout?this.layout.source:void 0,v=m!==_,S=this.getStack(),x=!S||S.members.length<=1,b=!!(v&&!x&&this.options.crossfade===!0&&!this.path.some(RK));this.animationProgress=0;let w;this.mixTargetDelta=k=>{const j=k/1e3;AI(f.x,o.x,j),AI(f.y,o.y,j),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Nd(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),AK(this.relativeTarget,this.relativeTargetOrigin,p,j),w&&cK(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Nt()),Mr(w,this.relativeTarget)),v&&(this.animationValues=d,rK(d,c,this.latestValues,j,b,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ji(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=wt.update(()=>{ym.hasAnimatedSinceResize=!0,this.currentAnimation=gK(0,II,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(II),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&jD(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Nt();const f=Cr(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const p=Cr(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}Mr(a,l),lc(a,d),Dd(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new uK),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let d=0;d<TI.length;d++){const f="rotate"+TI[d];l[f]&&(c[f]=l[f],o.setStaticValue(f,0))}o.render();for(const d in c)o.setStaticValue(d,c[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return vK;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=gm(o==null?void 0:o.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=gm(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ga(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=CI(this.projectionDeltaWithTransform,this.treeScale,p),d&&(c.transform=d(p,c.transform));const{x:m,y:_}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${_.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const v in fg){if(p[v]===void 0)continue;const{correct:S,applyTo:x}=fg[v],b=c.transform==="none"?p[v]:S(p[v],f);if(x){const w=x.length;for(let k=0;k<w;k++)c[x[k]]=b}else c[v]=b}return this.options.layoutId&&(c.pointerEvents=f===this?gm(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(kI),this.root.sharedNodes.clear()}}}function _K(t){t.updateLayout()}function bK(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?Vr(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],m=Cr(p);p.min=r[f].min,p.max=p.min+m}):jD(i,n.layoutBox,r)&&Vr(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],m=Cr(r[f]);p.max=p.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+m)});const a=ac();Dd(a,r,n.layoutBox);const l=ac();o?Dd(l,t.applyTransform(s,!0),n.measuredBox):Dd(l,r,n.layoutBox);const c=!PD(a);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:m}=f;if(p&&m){const _=Nt();Nd(_,n.layoutBox,p.layoutBox);const v=Nt();Nd(v,r,m.layoutBox),AD(_,v)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=_,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function wK(t){va.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function xK(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function SK(t){t.clearSnapshot()}function kI(t){t.clearMeasurements()}function EK(t){t.isLayoutDirty=!1}function CK(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function PI(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function TK(t){t.resolveTargetDelta()}function IK(t){t.calcProjection()}function kK(t){t.resetRotation()}function PK(t){t.removeLeadSnapshot()}function AI(t,e,n){t.translate=Tt(e.translate,0,n),t.scale=Tt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function RI(t,e,n,r){t.min=Tt(e.min,n.min,r),t.max=Tt(e.max,n.max,r)}function AK(t,e,n,r){RI(t.x,e.x,n.x,r),RI(t.y,e.y,n.y,r)}function RK(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const jK={duration:.45,ease:[.4,0,.1,1]},jI=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),DI=jI("applewebkit/")&&!jI("chrome/")?Math.round:Ut;function NI(t){t.min=DI(t.min),t.max=DI(t.max)}function DK(t){NI(t.x),NI(t.y)}function jD(t,e,n){return t==="position"||t==="preserve-aspect"&&!Nb(EI(e),EI(n),.2)}const NK=RD({attachResizeListener:(t,e)=>mi(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),W0={current:void 0},DD=RD({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!W0.current){const t=new NK({});t.mount(window),t.setOptions({layoutScroll:!0}),W0.current=t}return W0.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),OK={pan:{Feature:YG},drag:{Feature:QG,ProjectionNode:DD,MeasureLayout:TD}},MK=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function LK(t){const e=MK.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function Vb(t,e,n=1){const[r,s]=LK(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return pD(o)?parseFloat(o):o}else return pg(s)?Vb(s,e,n+1):s}function VK(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(s=>{const i=s.get();if(!pg(i))return;const o=Vb(i,r);o&&s.set(o)});for(const s in e){const i=e[s];if(!pg(i))continue;const o=Vb(i,r);o&&(e[s]=o,n||(n={}),n[s]===void 0&&(n[s]=i))}return{target:e,transitionEnd:n}}const FK=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),ND=t=>FK.has(t),$K=t=>Object.keys(t).some(ND),OI=t=>t===lu||t===Ee,MI=(t,e)=>parseFloat(t.split(", ")[e]),LI=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return MI(s[1],e);{const i=r.match(/^matrix\((.+)\)$/);return i?MI(i[1],t):0}},zK=new Set(["x","y","z"]),BK=Jh.filter(t=>!zK.has(t));function UK(t){const e=[];return BK.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Uc={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:LI(4,13),y:LI(5,14)};Uc.translateX=Uc.x;Uc.translateY=Uc.y;const WK=(t,e,n)=>{const r=e.measureViewportBox(),s=e.current,i=getComputedStyle(s),{display:o}=i,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{a[c]=Uc[c](r,i)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const d=e.getValue(c);d&&d.jump(a[c]),t[c]=Uc[c](l,i)}),t},HK=(t,e,n={},r={})=>{e={...e},r={...r};const s=Object.keys(e).filter(ND);let i=[],o=!1;const a=[];if(s.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let d=n[l],f=Qu(d);const p=e[l];let m;if(gg(p)){const _=p.length,v=p[0]===null?1:0;d=p[v],f=Qu(d);for(let S=v;S<_&&p[S]!==null;S++)m?sS(Qu(p[S])===m):m=Qu(p[S])}else m=Qu(p);if(f!==m)if(OI(f)&&OI(m)){const _=c.get();typeof _=="string"&&c.set(parseFloat(_)),typeof p=="string"?e[l]=parseFloat(p):Array.isArray(p)&&m===Ee&&(e[l]=p.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(d===0||p===0)?d===0?c.set(m.transform(d)):e[l]=f.transform(p):(o||(i=UK(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(p))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=WK(e,t,a);return i.length&&i.forEach(([d,f])=>{t.getValue(d).set(f)}),t.render(),Nv&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function qK(t,e,n,r){return $K(e)?HK(t,e,n,r):{target:e,transitionEnd:r}}const GK=(t,e,n,r)=>{const s=VK(t,e,r);return e=s.target,r=s.transitionEnd,qK(t,e,n,r)},Fb={current:null},OD={current:!1};function KK(){if(OD.current=!0,!!Nv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Fb.current=t.matches;t.addListener(e),e()}else Fb.current=!1}function QK(t,e,n){const{willChange:r}=e;for(const s in e){const i=e[s],o=n[s];if(ur(i))t.addValue(s,i),bg(r)&&r.add(s);else if(ur(o))t.addValue(s,Bc(i,{owner:t})),bg(r)&&r.remove(s);else if(o!==i)if(t.hasValue(s)){const a=t.getValue(s);!a.hasAnimated&&a.set(i)}else{const a=t.getStaticValue(s);t.addValue(s,Bc(a!==void 0?a:i,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const VI=new WeakMap,MD=Object.keys(_h),YK=MD.length,FI=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],XK=Kx.length;class JK{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>wt.render(this.render,!1,!0);const{latestValues:a,renderState:l}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=Mv(n),this.isVariantNode=Cj(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const p=d[f];a[f]!==void 0&&ur(p)&&(p.set(a[f],!1),bg(c)&&c.add(f))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,VI.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),OD.current||KK(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Fb.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){VI.delete(this.current),this.projection&&this.projection.unmount(),ji(this.notifyUpdate),ji(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=ll.has(e),s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&wt.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),i()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,s,i){let o,a;for(let l=0;l<YK;l++){const c=MD[l],{isEnabled:d,Feature:f,ProjectionNode:p,MeasureLayout:m}=_h[c];p&&(o=p),d(n)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),m&&(a=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:d,dragConstraints:f,layoutScroll:p,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!d||f&&ic(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:m})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Nt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<FI.length;r++){const s=FI[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=e["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=QK(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<XK;r++){const s=Kx[r],i=this.props[s];(yh(i)||i===!1)&&(n[s]=i)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Bc(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=rS(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!ur(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new pS),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class LD extends JK{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},s){const i=pG(r,e||{},this);if(s){hG(this,r,i);const o=GK(this,r,i,n);n=o.transitionEnd,r=o.target}return{transition:e,transitionEnd:n,...r}}}function ZK(t){return window.getComputedStyle(t)}class eQ extends LD{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(ll.has(n)){const r=cS(n);return r&&r.default||0}else{const r=ZK(e),s=(Pj(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return SD(e,n)}build(e,n,r,s){Jx(e,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,n){return nS(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ur(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,s){Nj(e,n,r,s)}}class tQ extends LD{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ll.has(n)){const r=cS(n);return r&&r.default||0}return n=Oj.has(n)?n:Hx(n),e.getAttribute(n)}measureInstanceViewportBox(){return Nt()}scrapeMotionValuesFromProps(e,n){return Lj(e,n)}build(e,n,r,s){eS(e,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,r,s){Mj(e,n,r,s)}mount(e){this.isSVGTag=tS(e.tagName),super.mount(e)}}const nQ=(t,e)=>Yx(t)?new tQ(e,{enableHardwareAcceleration:!1}):new eQ(e,{enableHardwareAcceleration:!0}),rQ={layout:{ProjectionNode:DD,MeasureLayout:TD}},sQ={...PG,...UH,...OK,...rQ},Xo=Z7((t,e)=>AH(t,e,sQ,nQ));function VD(){const t=g.useRef(!1);return Wx(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function iQ(){const t=VD(),[e,n]=g.useState(0),r=g.useCallback(()=>{t.current&&n(e+1)},[e]);return[g.useCallback(()=>wt.postRender(r),[r]),e]}class oQ extends g.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function aQ({children:t,isPresent:e}){const n=g.useId(),r=g.useRef(null),s=g.useRef({width:0,height:0,top:0,left:0});return g.useInsertionEffect(()=>{const{width:i,height:o,top:a,left:l}=s.current;if(e||!r.current||!i||!o)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),g.createElement(oQ,{isPresent:e,childRef:r,sizeRef:s},g.cloneElement(t,{ref:r}))}const H0=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=Vj(lQ),l=g.useId(),c=g.useMemo(()=>({id:l,initial:e,isPresent:n,custom:s,onExitComplete:d=>{a.set(d,!0);for(const f of a.values())if(!f)return;r&&r()},register:d=>(a.set(d,!1),()=>a.delete(d))}),i?void 0:[n]);return g.useMemo(()=>{a.forEach((d,f)=>a.set(f,!1))},[n]),g.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=g.createElement(aQ,{isPresent:n},t)),g.createElement(Xh.Provider,{value:c},t)};function lQ(){return new Map}function cQ(t){return g.useEffect(()=>()=>t(),[])}const ya=t=>t.key||"";function uQ(t,e){t.forEach(n=>{const r=ya(n);e.set(r,n)})}function dQ(t){const e=[];return g.Children.forEach(t,n=>{g.isValidElement(n)&&e.push(n)}),e}const cu=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const a=g.useContext(Qx).forceRender||iQ()[0],l=VD(),c=dQ(t);let d=c;const f=g.useRef(new Map).current,p=g.useRef(d),m=g.useRef(new Map).current,_=g.useRef(!0);if(Wx(()=>{_.current=!1,uQ(c,m),p.current=d}),cQ(()=>{_.current=!0,m.clear(),f.clear()}),_.current)return g.createElement(g.Fragment,null,d.map(b=>g.createElement(H0,{key:ya(b),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:o},b)));d=[...d];const v=p.current.map(ya),S=c.map(ya),x=v.length;for(let b=0;b<x;b++){const w=v[b];S.indexOf(w)===-1&&!f.has(w)&&f.set(w,void 0)}return o==="wait"&&f.size&&(d=[]),f.forEach((b,w)=>{if(S.indexOf(w)!==-1)return;const k=m.get(w);if(!k)return;const j=v.indexOf(w);let O=b;if(!O){const C=()=>{f.delete(w);const T=Array.from(m.keys()).filter(I=>!S.includes(I));if(T.forEach(I=>m.delete(I)),p.current=c.filter(I=>{const P=ya(I);return P===w||T.includes(P)}),!f.size){if(l.current===!1)return;a(),r&&r()}};O=g.createElement(H0,{key:ya(k),isPresent:!1,onExitComplete:C,custom:e,presenceAffectsLayout:i,mode:o},k),f.set(w,O)}d.splice(j,0,O)}),d=d.map(b=>{const w=b.key;return f.has(w)?b:g.createElement(H0,{key:ya(b),isPresent:!0,presenceAffectsLayout:i,mode:o},b)}),g.createElement(g.Fragment,null,f.size?d:d.map(b=>g.cloneElement(b)))};var hQ={initial:t=>{const{position:e}=t,n=["top","bottom"].includes(e)?"y":"x";let r=["top-right","bottom-right"].includes(e)?1:-1;return e==="bottom"&&(r=1),{opacity:0,[n]:r*24}},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},FD=g.memo(t=>{const{id:e,message:n,onCloseComplete:r,onRequestRemove:s,requestClose:i=!1,position:o="bottom",duration:a=5e3,containerStyle:l,motionVariants:c=hQ,toastSpacing:d="0.5rem"}=t,[f,p]=g.useState(a),m=XG();vh(()=>{m||r==null||r()},[m]),vh(()=>{p(a)},[a]);const _=()=>p(null),v=()=>p(a),S=()=>{m&&s()};g.useEffect(()=>{m&&i&&s()},[m,i,s]),z7(S,f);const x=g.useMemo(()=>({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:d,...l}),[l,d]),b=g.useMemo(()=>F7(o),[o]);return u.jsx(Xo.div,{layout:!0,className:"chakra-toast",variants:c,initial:"initial",animate:"animate",exit:"exit",onHoverStart:_,onHoverEnd:v,custom:{position:o},style:b,children:u.jsx(ce.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:x,children:us(n,{id:e,onClose:S})})})});FD.displayName="ToastComponent";function fQ(t,e){var n;const r=t??"bottom",i={"top-start":{ltr:"top-left",rtl:"top-right"},"top-end":{ltr:"top-right",rtl:"top-left"},"bottom-start":{ltr:"bottom-left",rtl:"bottom-right"},"bottom-end":{ltr:"bottom-right",rtl:"bottom-left"}}[r];return(n=i==null?void 0:i[e])!=null?n:r}var $I={path:u.jsxs("g",{stroke:"currentColor",strokeWidth:"1.5",children:[u.jsx("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),u.jsx("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),u.jsx("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},cl=ge((t,e)=>{const{as:n,viewBox:r,color:s="currentColor",focusable:i=!1,children:o,className:a,__css:l,...c}=t,d=Pe("chakra-icon",a),f=Zs("Icon",t),p={w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:s,...l,...f},m={ref:e,focusable:i,className:d,__css:p},_=r??$I.viewBox;if(n&&typeof n!="string")return u.jsx(ce.svg,{as:n,...m,...c});const v=o??$I.path;return u.jsx(ce.svg,{verticalAlign:"middle",viewBox:_,...m,...c,children:v})});cl.displayName="Icon";function ul(t){const{viewBox:e="0 0 24 24",d:n,displayName:r,defaultProps:s={}}=t,i=g.Children.toArray(t.path),o=ge((a,l)=>u.jsx(cl,{ref:l,viewBox:e,...s,...a,children:i.length?i:u.jsx("path",{fill:"currentColor",d:n})}));return o.displayName=r,o}function pQ(t){return u.jsx(cl,{viewBox:"0 0 24 24",...t,children:u.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})})}function mQ(t){return u.jsx(cl,{viewBox:"0 0 24 24",...t,children:u.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})})}function zI(t){return u.jsx(cl,{viewBox:"0 0 24 24",...t,children:u.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}var gQ=r3({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),mS=ge((t,e)=>{const n=Zs("Spinner",t),{label:r="Loading...",thickness:s="2px",speed:i="0.45s",emptyColor:o="transparent",className:a,...l}=Zt(t),c=Pe("chakra-spinner",a),d={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:s,borderBottomColor:o,borderLeftColor:o,animation:`${gQ} ${i} linear infinite`,...n};return u.jsx(ce.div,{ref:e,__css:d,className:c,...l,children:r&&u.jsx(ce.span,{srOnly:!0,children:r})})});mS.displayName="Spinner";var[vQ,gS]=Jt({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),[yQ,vS]=Jt({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),$D={info:{icon:mQ,colorScheme:"blue"},warning:{icon:zI,colorScheme:"orange"},success:{icon:pQ,colorScheme:"green"},error:{icon:zI,colorScheme:"red"},loading:{icon:mS,colorScheme:"blue"}};function _Q(t){return $D[t].colorScheme}function bQ(t){return $D[t].icon}var zD=ge(function(e,n){const r=vS(),{status:s}=gS(),i={display:"inline",...r.description};return u.jsx(ce.div,{ref:n,"data-status":s,...e,className:Pe("chakra-alert__desc",e.className),__css:i})});zD.displayName="AlertDescription";function BD(t){const{status:e}=gS(),n=bQ(e),r=vS(),s=e==="loading"?r.spinner:r.icon;return u.jsx(ce.span,{display:"inherit","data-status":e,...t,className:Pe("chakra-alert__icon",t.className),__css:s,children:t.children||u.jsx(n,{h:"100%",w:"100%"})})}BD.displayName="AlertIcon";var UD=ge(function(e,n){const r=vS(),{status:s}=gS();return u.jsx(ce.div,{ref:n,"data-status":s,...e,className:Pe("chakra-alert__title",e.className),__css:r.title})});UD.displayName="AlertTitle";var WD=ge(function(e,n){var r;const{status:s="info",addRole:i=!0,...o}=Zt(e),a=(r=e.colorScheme)!=null?r:_Q(s),l=_s("Alert",{...e,colorScheme:a}),c={width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",...l.container};return u.jsx(vQ,{value:{status:s},children:u.jsx(yQ,{value:l,children:u.jsx(ce.div,{"data-status":s,role:i?"alert":void 0,ref:n,...o,className:Pe("chakra-alert",e.className),__css:c})})})});WD.displayName="Alert";function wQ(t){return u.jsx(cl,{focusable:"false","aria-hidden":!0,...t,children:u.jsx("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})})}var yS=ge(function(e,n){const r=Zs("CloseButton",e),{children:s,isDisabled:i,__css:o,...a}=Zt(e),l={outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0};return u.jsx(ce.button,{type:"button","aria-label":"Close",ref:n,disabled:i,__css:{...l,...r,...o},...a,children:s||u.jsx(wQ,{width:"1em",height:"1em"})})});yS.displayName="CloseButton";var xQ={top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]},Ds=SQ(xQ);function SQ(t){let e=t;const n=new Set,r=s=>{e=s(e),n.forEach(i=>i())};return{getState:()=>e,subscribe:s=>(n.add(s),()=>{r(()=>t),n.delete(s)}),removeToast:(s,i)=>{r(o=>({...o,[i]:o[i].filter(a=>a.id!=s)}))},notify:(s,i)=>{const o=EQ(s,i),{position:a,id:l}=o;return r(c=>{var d,f;const m=a.includes("top")?[o,...(d=c[a])!=null?d:[]]:[...(f=c[a])!=null?f:[],o];return{...c,[a]:m}}),l},update:(s,i)=>{s&&r(o=>{const a={...o},{position:l,index:c}=DT(a,s);return l&&c!==-1&&(a[l][c]={...a[l][c],...i,message:HD(i)}),a})},closeAll:({positions:s}={})=>{r(i=>(s??["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce((l,c)=>(l[c]=i[c].map(d=>({...d,requestClose:!0})),l),{...i}))},close:s=>{r(i=>{const o=_j(i,s);return o?{...i,[o]:i[o].map(a=>a.id==s?{...a,requestClose:!0}:a)}:i})},isActive:s=>!!DT(Ds.getState(),s).position}}var BI=0;function EQ(t,e={}){var n,r;BI+=1;const s=(n=e.id)!=null?n:BI,i=(r=e.position)!=null?r:"bottom";return{id:s,message:t,position:i,duration:e.duration,onCloseComplete:e.onCloseComplete,onRequestRemove:()=>Ds.removeToast(String(s),i),status:e.status,requestClose:!1,containerStyle:e.containerStyle}}var CQ=t=>{const{status:e,variant:n="solid",id:r,title:s,isClosable:i,onClose:o,description:a,colorScheme:l,icon:c}=t,d=r?{root:`toast-${r}`,title:`toast-${r}-title`,description:`toast-${r}-description`}:void 0;return u.jsxs(WD,{addRole:!1,status:e,variant:n,id:d==null?void 0:d.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",colorScheme:l,children:[u.jsx(BD,{children:c}),u.jsxs(ce.div,{flex:"1",maxWidth:"100%",children:[s&&u.jsx(UD,{id:d==null?void 0:d.title,children:s}),a&&u.jsx(zD,{id:d==null?void 0:d.description,display:"block",children:a})]}),i&&u.jsx(yS,{size:"sm",onClick:o,position:"absolute",insetEnd:1,top:1})]})};function HD(t={}){const{render:e,toastComponent:n=CQ}=t;return s=>typeof e=="function"?e({...s,...t}):u.jsx(n,{...s,...t})}function TQ(t,e){const n=s=>{var i;return{...e,...s,position:fQ((i=s==null?void 0:s.position)!=null?i:e==null?void 0:e.position,t)}},r=s=>{const i=n(s),o=HD(i);return Ds.notify(o,i)};return r.update=(s,i)=>{Ds.update(s,n(i))},r.promise=(s,i)=>{const o=r({...i.loading,status:"loading",duration:null});s.then(a=>r.update(o,{status:"success",duration:5e3,...us(i.success,a)})).catch(a=>r.update(o,{status:"error",duration:5e3,...us(i.error,a)}))},r.closeAll=Ds.closeAll,r.close=Ds.close,r.isActive=Ds.isActive,r}var[IQ,kQ]=Jt({name:"ToastOptionsContext",strict:!1}),PQ=t=>{const e=g.useSyncExternalStore(Ds.subscribe,Ds.getState,Ds.getState),{motionVariants:n,component:r=FD,portalProps:s}=t,o=Object.keys(e).map(a=>{const l=e[a];return u.jsx("div",{role:"region","aria-live":"polite","aria-label":`Notifications-${a}`,id:`chakra-toast-manager-${a}`,style:$7(a),children:u.jsx(cu,{initial:!1,children:l.map(c=>u.jsx(r,{motionVariants:n,...c},c.id))})},a)});return u.jsx(au,{...s,children:o})};function Fn(t){const{theme:e}=W2(),n=kQ();return g.useMemo(()=>TQ(e.direction,{...n,...t}),[t,e.direction,n])}var AQ=t=>function({children:n,theme:r=t,toastOptions:s,...i}){return u.jsxs(L7,{theme:r,...i,children:[u.jsx(IQ,{value:s==null?void 0:s.defaultOptions,children:n}),u.jsx(PQ,{...s})]})},RQ=AQ(s7),jQ=Object.defineProperty,DQ=(t,e,n)=>e in t?jQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Rt=(t,e,n)=>(DQ(t,typeof e!="symbol"?e+"":e,n),n);function UI(t){return t.sort((e,n)=>{const r=e.compareDocumentPosition(n);if(r&Node.DOCUMENT_POSITION_FOLLOWING||r&Node.DOCUMENT_POSITION_CONTAINED_BY)return-1;if(r&Node.DOCUMENT_POSITION_PRECEDING||r&Node.DOCUMENT_POSITION_CONTAINS)return 1;if(r&Node.DOCUMENT_POSITION_DISCONNECTED||r&Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC)throw Error("Cannot sort the given nodes.");return 0})}var NQ=t=>typeof t=="object"&&"nodeType"in t&&t.nodeType===Node.ELEMENT_NODE;function WI(t,e,n){let r=t+1;return n&&r>=e&&(r=0),r}function HI(t,e,n){let r=t-1;return n&&r<0&&(r=e),r}var $b=typeof window<"u"?g.useLayoutEffect:g.useEffect,xg=t=>t,OQ=class{constructor(){Rt(this,"descendants",new Map),Rt(this,"register",t=>{if(t!=null)return NQ(t)?this.registerNode(t):e=>{this.registerNode(e,t)}}),Rt(this,"unregister",t=>{this.descendants.delete(t);const e=UI(Array.from(this.descendants.keys()));this.assignIndex(e)}),Rt(this,"destroy",()=>{this.descendants.clear()}),Rt(this,"assignIndex",t=>{this.descendants.forEach(e=>{const n=t.indexOf(e.node);e.index=n,e.node.dataset.index=e.index.toString()})}),Rt(this,"count",()=>this.descendants.size),Rt(this,"enabledCount",()=>this.enabledValues().length),Rt(this,"values",()=>Array.from(this.descendants.values()).sort((e,n)=>e.index-n.index)),Rt(this,"enabledValues",()=>this.values().filter(t=>!t.disabled)),Rt(this,"item",t=>{if(this.count()!==0)return this.values()[t]}),Rt(this,"enabledItem",t=>{if(this.enabledCount()!==0)return this.enabledValues()[t]}),Rt(this,"first",()=>this.item(0)),Rt(this,"firstEnabled",()=>this.enabledItem(0)),Rt(this,"last",()=>this.item(this.descendants.size-1)),Rt(this,"lastEnabled",()=>{const t=this.enabledValues().length-1;return this.enabledItem(t)}),Rt(this,"indexOf",t=>{var e,n;return t&&(n=(e=this.descendants.get(t))==null?void 0:e.index)!=null?n:-1}),Rt(this,"enabledIndexOf",t=>t==null?-1:this.enabledValues().findIndex(e=>e.node.isSameNode(t))),Rt(this,"next",(t,e=!0)=>{const n=WI(t,this.count(),e);return this.item(n)}),Rt(this,"nextEnabled",(t,e=!0)=>{const n=this.item(t);if(!n)return;const r=this.enabledIndexOf(n.node),s=WI(r,this.enabledCount(),e);return this.enabledItem(s)}),Rt(this,"prev",(t,e=!0)=>{const n=HI(t,this.count()-1,e);return this.item(n)}),Rt(this,"prevEnabled",(t,e=!0)=>{const n=this.item(t);if(!n)return;const r=this.enabledIndexOf(n.node),s=HI(r,this.enabledCount()-1,e);return this.enabledItem(s)}),Rt(this,"registerNode",(t,e)=>{if(!t||this.descendants.has(t))return;const n=Array.from(this.descendants.keys()).concat(t),r=UI(n);e!=null&&e.disabled&&(e.disabled=!!e.disabled);const s={node:t,index:-1,...e};this.descendants.set(t,s),this.assignIndex(r)})}};function MQ(t,e){if(t!=null){if(typeof t=="function"){t(e);return}try{t.current=e}catch{throw new Error(`Cannot assign value '${e}' to ref '${t}'`)}}}function dr(...t){return e=>{t.forEach(n=>{MQ(n,e)})}}function LQ(...t){return g.useMemo(()=>dr(...t),t)}function VQ(){const t=g.useRef(new OQ);return $b(()=>()=>t.current.destroy()),t.current}var[FQ,qD]=Jt({name:"DescendantsProvider",errorMessage:"useDescendantsContext must be used within DescendantsProvider"});function $Q(t){const e=qD(),[n,r]=g.useState(-1),s=g.useRef(null);$b(()=>()=>{s.current&&e.unregister(s.current)},[]),$b(()=>{if(!s.current)return;const o=Number(s.current.dataset.index);n!=o&&!Number.isNaN(o)&&r(o)});const i=xg(t?e.register(t):e.register);return{descendants:e,index:n,enabledIndex:e.enabledIndexOf(s.current),register:dr(i,s)}}function GD(){return[xg(FQ),()=>xg(qD()),()=>VQ(),s=>$Q(s)]}function zQ(t){const{value:e,defaultValue:n,onChange:r,shouldUpdate:s=(p,m)=>p!==m}=t,i=Do(r),o=Do(s),[a,l]=g.useState(n),c=e!==void 0,d=c?e:a,f=Do(p=>{const _=typeof p=="function"?p(d):p;o(d,_)&&(c||l(_),i(_))},[c,i,d,o]);return[d,f]}var qI={ease:[.25,.1,.25,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1]},Ma={enter:{duration:.2,ease:qI.easeOut},exit:{duration:.1,ease:qI.easeIn}},La={enter:(t,e)=>({...t,delay:typeof e=="number"?e:e==null?void 0:e.enter}),exit:(t,e)=>({...t,delay:typeof e=="number"?e:e==null?void 0:e.exit})},BQ={enter:({transition:t,transitionEnd:e,delay:n}={})=>{var r;return{opacity:1,transition:(r=t==null?void 0:t.enter)!=null?r:La.enter(Ma.enter,n),transitionEnd:e==null?void 0:e.enter}},exit:({transition:t,transitionEnd:e,delay:n}={})=>{var r;return{opacity:0,transition:(r=t==null?void 0:t.exit)!=null?r:La.exit(Ma.exit,n),transitionEnd:e==null?void 0:e.exit}}},KD={initial:"exit",animate:"enter",exit:"exit",variants:BQ},UQ=g.forwardRef(function(e,n){const{unmountOnExit:r,in:s,className:i,transition:o,transitionEnd:a,delay:l,...c}=e,d=s||r?"enter":"exit",f=r?s&&r:!0,p={transition:o,transitionEnd:a,delay:l};return u.jsx(cu,{custom:p,children:f&&u.jsx(Xo.div,{ref:n,className:Pe("chakra-fade",i),custom:p,...KD,animate:d,...c})})});UQ.displayName="Fade";var WQ={exit:({reverse:t,initialScale:e,transition:n,transitionEnd:r,delay:s})=>{var i;return{opacity:0,...t?{scale:e,transitionEnd:r==null?void 0:r.exit}:{transitionEnd:{scale:e,...r==null?void 0:r.exit}},transition:(i=n==null?void 0:n.exit)!=null?i:La.exit(Ma.exit,s)}},enter:({transitionEnd:t,transition:e,delay:n})=>{var r;return{opacity:1,scale:1,transition:(r=e==null?void 0:e.enter)!=null?r:La.enter(Ma.enter,n),transitionEnd:t==null?void 0:t.enter}}},QD={initial:"exit",animate:"enter",exit:"exit",variants:WQ},HQ=g.forwardRef(function(e,n){const{unmountOnExit:r,in:s,reverse:i=!0,initialScale:o=.95,className:a,transition:l,transitionEnd:c,delay:d,...f}=e,p=r?s&&r:!0,m=s||r?"enter":"exit",_={initialScale:o,reverse:i,transition:l,transitionEnd:c,delay:d};return u.jsx(cu,{custom:_,children:p&&u.jsx(Xo.div,{ref:n,className:Pe("chakra-offset-slide",a),...QD,animate:m,custom:_,...f})})});HQ.displayName="ScaleFade";var qQ={initial:({offsetX:t,offsetY:e,transition:n,transitionEnd:r,delay:s})=>{var i;return{opacity:0,x:t,y:e,transition:(i=n==null?void 0:n.exit)!=null?i:La.exit(Ma.exit,s),transitionEnd:r==null?void 0:r.exit}},enter:({transition:t,transitionEnd:e,delay:n})=>{var r;return{opacity:1,x:0,y:0,transition:(r=t==null?void 0:t.enter)!=null?r:La.enter(Ma.enter,n),transitionEnd:e==null?void 0:e.enter}},exit:({offsetY:t,offsetX:e,transition:n,transitionEnd:r,reverse:s,delay:i})=>{var o;const a={x:e,y:t};return{opacity:0,transition:(o=n==null?void 0:n.exit)!=null?o:La.exit(Ma.exit,i),...s?{...a,transitionEnd:r==null?void 0:r.exit}:{transitionEnd:{...a,...r==null?void 0:r.exit}}}}},ud={initial:"initial",animate:"enter",exit:"exit",variants:qQ},GQ=g.forwardRef(function(e,n){const{unmountOnExit:r,in:s,reverse:i=!0,className:o,offsetX:a=0,offsetY:l=8,transition:c,transitionEnd:d,delay:f,...p}=e,m=r?s&&r:!0,_=s||r?"enter":"exit",v={offsetX:a,offsetY:l,reverse:i,transition:c,transitionEnd:d,delay:f};return u.jsx(cu,{custom:v,children:m&&u.jsx(Xo.div,{ref:n,className:Pe("chakra-offset-slide",o),custom:v,...ud,animate:_,...p})})});GQ.displayName="SlideFade";var[KQ,QQ]=Jt({name:"AvatarStylesContext",hookName:"useAvatarStyles",providerName:"<Avatar/>"});function YQ(t){var e;const n=t.split(" "),r=(e=n[0])!=null?e:"",s=n.length>1?n[n.length-1]:"";return r&&s?`${r.charAt(0)}${s.charAt(0)}`:r.charAt(0)}function YD(t){const{name:e,getInitials:n,...r}=t,s=QQ();return u.jsx(ce.div,{role:"img","aria-label":e,...r,__css:s.label,children:e?n==null?void 0:n(e):null})}YD.displayName="AvatarName";var XD=t=>u.jsxs(ce.svg,{viewBox:"0 0 128 128",color:"#fff",width:"100%",height:"100%",className:"chakra-avatar__svg",...t,children:[u.jsx("path",{fill:"currentColor",d:"M103,102.1388 C93.094,111.92 79.3504,118 64.1638,118 C48.8056,118 34.9294,111.768 25,101.7892 L25,95.2 C25,86.8096 31.981,80 40.6,80 L87.4,80 C96.019,80 103,86.8096 103,95.2 L103,102.1388 Z"}),u.jsx("path",{fill:"currentColor",d:"M63.9961647,24 C51.2938136,24 41,34.2938136 41,46.9961647 C41,59.7061864 51.2938136,70 63.9961647,70 C76.6985159,70 87,59.7061864 87,46.9961647 C87,34.2938136 76.6985159,24 63.9961647,24"})]}),zb=ge(function(e,n){const{htmlWidth:r,htmlHeight:s,alt:i,...o}=e;return u.jsx("img",{width:r,height:s,ref:n,alt:i,...o})});zb.displayName="NativeImage";function JD(t){const{loading:e,src:n,srcSet:r,onLoad:s,onError:i,crossOrigin:o,sizes:a,ignoreFallback:l}=t,[c,d]=g.useState("pending");g.useEffect(()=>{d(n?"loading":"pending")},[n]);const f=g.useRef(),p=g.useCallback(()=>{if(!n)return;m();const _=new Image;_.src=n,o&&(_.crossOrigin=o),r&&(_.srcset=r),a&&(_.sizes=a),e&&(_.loading=e),_.onload=v=>{m(),d("loaded"),s==null||s(v)},_.onerror=v=>{m(),d("failed"),i==null||i(v)},f.current=_},[n,o,r,a,s,i,e]),m=()=>{f.current&&(f.current.onload=null,f.current.onerror=null,f.current=null)};return Fc(()=>{if(!l)return c==="loading"&&p(),()=>{m()}},[c,p,l]),l?"loaded":c}var XQ=(t,e)=>t!=="loaded"&&e==="beforeLoadOrError"||t==="failed"&&e==="onError";function JQ(t,e=[]){const n=Object.assign({},t);for(const r of e)r in n&&delete n[r];return n}var Fv=ge(function(e,n){const{fallbackSrc:r,fallback:s,src:i,srcSet:o,align:a,fit:l,loading:c,ignoreFallback:d,crossOrigin:f,fallbackStrategy:p="beforeLoadOrError",referrerPolicy:m,..._}=e,v=r!==void 0||s!==void 0,S=c!=null||d||!v,x=JD({...e,crossOrigin:f,ignoreFallback:S}),b=XQ(x,p),w={ref:n,objectFit:l,objectPosition:a,...S?_:JQ(_,["onError","onLoad"])};return b?s||u.jsx(ce.img,{as:zb,className:"chakra-image__placeholder",src:r,...w}):u.jsx(ce.img,{as:zb,src:i,srcSet:o,crossOrigin:f,loading:c,referrerPolicy:m,className:"chakra-image",...w})});Fv.displayName="Image";function ZD(t){const{src:e,srcSet:n,onError:r,onLoad:s,getInitials:i,name:o,borderRadius:a,loading:l,iconLabel:c,icon:d=u.jsx(XD,{}),ignoreFallback:f,referrerPolicy:p,crossOrigin:m}=t,v=JD({src:e,onError:r,crossOrigin:m,ignoreFallback:f})==="loaded";return!e||!v?o?u.jsx(YD,{className:"chakra-avatar__initials",getInitials:i,name:o}):g.cloneElement(d,{role:"img","aria-label":c}):u.jsx(ce.img,{src:e,srcSet:n,alt:o,onLoad:s,referrerPolicy:p,crossOrigin:m??void 0,className:"chakra-avatar__img",loading:l,__css:{width:"100%",height:"100%",objectFit:"cover",borderRadius:a}})}ZD.displayName="AvatarImage";var ZQ={display:"inline-flex",alignItems:"center",justifyContent:"center",textAlign:"center",textTransform:"uppercase",fontWeight:"medium",position:"relative",flexShrink:0},hr=ge((t,e)=>{const n=_s("Avatar",t),[r,s]=g.useState(!1),{src:i,srcSet:o,name:a,showBorder:l,borderRadius:c="full",onError:d,onLoad:f,getInitials:p=YQ,icon:m=u.jsx(XD,{}),iconLabel:_=" avatar",loading:v,children:S,borderColor:x,ignoreFallback:b,crossOrigin:w,referrerPolicy:k,...j}=Zt(t),O={borderRadius:c,borderWidth:l?"2px":void 0,...ZQ,...n.container};return x&&(O.borderColor=x),u.jsx(ce.span,{ref:e,...j,className:Pe("chakra-avatar",t.className),"data-loaded":Jn(r),__css:O,children:u.jsxs(KQ,{value:n,children:[u.jsx(ZD,{src:i,srcSet:o,loading:v,onLoad:Qt(f,()=>{s(!0)}),onError:d,getInitials:p,name:a,borderRadius:c,icon:m,iconLabel:_,ignoreFallback:b,crossOrigin:w,referrerPolicy:k}),S]})})});hr.displayName="Avatar";function $v(t){return g.Children.toArray(t).filter(e=>g.isValidElement(e))}var[eY,tY]=Jt({strict:!1,name:"ButtonGroupContext"}),nY={horizontal:{"> *:first-of-type:not(:last-of-type)":{borderEndRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderStartRadius:0}},vertical:{"> *:first-of-type:not(:last-of-type)":{borderBottomRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderTopRadius:0}}},rY={horizontal:t=>({"& > *:not(style) ~ *:not(style)":{marginStart:t}}),vertical:t=>({"& > *:not(style) ~ *:not(style)":{marginTop:t}})},eN=ge(function(e,n){const{size:r,colorScheme:s,variant:i,className:o,spacing:a="0.5rem",isAttached:l,isDisabled:c,orientation:d="horizontal",...f}=e,p=Pe("chakra-button__group",o),m=g.useMemo(()=>({size:r,colorScheme:s,variant:i,isDisabled:c}),[r,s,i,c]);let _={display:"inline-flex",...l?nY[d]:rY[d](a)};const v=d==="vertical";return u.jsx(eY,{value:m,children:u.jsx(ce.div,{ref:n,role:"group",__css:_,className:p,"data-attached":l?"":void 0,"data-orientation":d,flexDir:v?"column":void 0,...f})})});eN.displayName="ButtonGroup";function sY(t){const[e,n]=g.useState(!t);return{ref:g.useCallback(i=>{i&&n(i.tagName==="BUTTON")},[]),type:e?"button":void 0}}function Bb(t){const{children:e,className:n,...r}=t,s=g.isValidElement(e)?g.cloneElement(e,{"aria-hidden":!0,focusable:!1}):e,i=Pe("chakra-button__icon",n);return u.jsx(ce.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...r,className:i,children:s})}Bb.displayName="ButtonIcon";function Ub(t){const{label:e,placement:n,spacing:r="0.5rem",children:s=u.jsx(mS,{color:"currentColor",width:"1em",height:"1em"}),className:i,__css:o,...a}=t,l=Pe("chakra-button__spinner",i),c=n==="start"?"marginEnd":"marginStart",d=g.useMemo(()=>({display:"flex",alignItems:"center",position:e?"relative":"absolute",[c]:e?r:0,fontSize:"1em",lineHeight:"normal",...o}),[o,e,c,r]);return u.jsx(ce.div,{className:l,...a,__css:d,children:s})}Ub.displayName="ButtonSpinner";var se=ge((t,e)=>{const n=tY(),r=Zs("Button",{...n,...t}),{isDisabled:s=n==null?void 0:n.isDisabled,isLoading:i,isActive:o,children:a,leftIcon:l,rightIcon:c,loadingText:d,iconSpacing:f="0.5rem",type:p,spinner:m,spinnerPlacement:_="start",className:v,as:S,...x}=Zt(t),b=g.useMemo(()=>{const O={...r==null?void 0:r._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...r,...!!n&&{_focus:O}}},[r,n]),{ref:w,type:k}=sY(S),j={rightIcon:c,leftIcon:l,iconSpacing:f,children:a};return u.jsxs(ce.button,{ref:LQ(e,w),as:S,type:p??k,"data-active":Jn(o),"data-loading":Jn(i),__css:b,className:Pe("chakra-button",v),...x,disabled:s||i,children:[i&&_==="start"&&u.jsx(Ub,{className:"chakra-button__spinner--start",label:d,placement:"start",spacing:f,children:m}),i?d||u.jsx(ce.span,{opacity:0,children:u.jsx(GI,{...j})}):u.jsx(GI,{...j}),i&&_==="end"&&u.jsx(Ub,{className:"chakra-button__spinner--end",label:d,placement:"end",spacing:f,children:m})]})});se.displayName="Button";function GI(t){const{leftIcon:e,rightIcon:n,children:r,iconSpacing:s}=t;return u.jsxs(u.Fragment,{children:[e&&u.jsx(Bb,{marginEnd:s,children:e}),r,n&&u.jsx(Bb,{marginStart:s,children:n})]})}var wh=ge((t,e)=>{const{icon:n,children:r,isRound:s,"aria-label":i,...o}=t,a=n||r,l=g.isValidElement(a)?g.cloneElement(a,{"aria-hidden":!0,focusable:!1}):null;return u.jsx(se,{padding:"0",borderRadius:s?"full":void 0,ref:e,"aria-label":i,...o,children:l})});wh.displayName="IconButton";var[iY,tN]=N7("Card"),oY=ge(function(e,n){const{className:r,...s}=e,i=tN();return u.jsx(ce.div,{ref:n,className:Pe("chakra-card__body",r),__css:i.body,...s})}),aY=ge(function(e,n){const{className:r,...s}=e,i=tN();return u.jsx(ce.div,{ref:n,className:Pe("chakra-card__header",r),__css:i.header,...s})}),nN=ge(function(e,n){const{className:r,children:s,direction:i="column",justify:o,align:a,...l}=Zt(e),c=_s("Card",e);return u.jsx(ce.div,{ref:n,className:Pe("chakra-card",r),__css:{display:"flex",flexDirection:i,justifyContent:o,alignItems:a,position:"relative",minWidth:0,wordWrap:"break-word",...c.container},...l,children:u.jsx(iY,{value:c,children:s})})}),[lY,rN]=Jt({name:"FormControlStylesContext",errorMessage:`useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormControl />" `}),[cY,zv]=Jt({strict:!1,name:"FormControlContext"});function uY(t){const{id:e,isRequired:n,isInvalid:r,isDisabled:s,isReadOnly:i,...o}=t,a=g.useId(),l=e||`field-${a}`,c=`${l}-label`,d=`${l}-feedback`,f=`${l}-helptext`,[p,m]=g.useState(!1),[_,v]=g.useState(!1),[S,x]=g.useState(!1),b=g.useCallback((C={},T=null)=>({id:f,...C,ref:dr(T,I=>{I&&v(!0)})}),[f]),w=g.useCallback((C={},T=null)=>({...C,ref:T,"data-focus":Jn(S),"data-disabled":Jn(s),"data-invalid":Jn(r),"data-readonly":Jn(i),id:C.id!==void 0?C.id:c,htmlFor:C.htmlFor!==void 0?C.htmlFor:l}),[l,s,S,r,i,c]),k=g.useCallback((C={},T=null)=>({id:d,...C,ref:dr(T,I=>{I&&m(!0)}),"aria-live":"polite"}),[d]),j=g.useCallback((C={},T=null)=>({...C,...o,ref:T,role:"group","data-focus":Jn(S),"data-disabled":Jn(s),"data-invalid":Jn(r),"data-readonly":Jn(i)}),[o,s,S,r,i]),O=g.useCallback((C={},T=null)=>({...C,ref:T,role:"presentation","aria-hidden":!0,children:C.children||"*"}),[]);return{isRequired:!!n,isInvalid:!!r,isReadOnly:!!i,isDisabled:!!s,isFocused:!!S,onFocus:()=>x(!0),onBlur:()=>x(!1),hasFeedbackText:p,setHasFeedbackText:m,hasHelpText:_,setHasHelpText:v,id:l,labelId:c,feedbackId:d,helpTextId:f,htmlProps:o,getHelpTextProps:b,getErrorMessageProps:k,getRootProps:j,getLabelProps:w,getRequiredIndicatorProps:O}}var we=ge(function(e,n){const r=_s("Form",e),s=Zt(e),{getRootProps:i,htmlProps:o,...a}=uY(s),l=Pe("chakra-form-control",e.className);return u.jsx(cY,{value:a,children:u.jsx(lY,{value:r,children:u.jsx(ce.div,{...i({},n),className:l,__css:r.container})})})});we.displayName="FormControl";var dY=ge(function(e,n){const r=zv(),s=rN(),i=Pe("chakra-form__helper-text",e.className);return u.jsx(ce.div,{...r==null?void 0:r.getHelpTextProps(e,n),__css:s.helperText,className:i})});dY.displayName="FormHelperText";var Ce=ge(function(e,n){var r;const s=Zs("FormLabel",e),i=Zt(e),{className:o,children:a,requiredIndicator:l=u.jsx(sN,{}),optionalIndicator:c=null,...d}=i,f=zv(),p=(r=f==null?void 0:f.getLabelProps(d,n))!=null?r:{ref:n,...d};return u.jsxs(ce.label,{...p,className:Pe("chakra-form__label",i.className),__css:{display:"block",textAlign:"start",...s},children:[a,f!=null&&f.isRequired?l:c]})});Ce.displayName="FormLabel";var sN=ge(function(e,n){const r=zv(),s=rN();if(!(r!=null&&r.isRequired))return null;const i=Pe("chakra-form__required-indicator",e.className);return u.jsx(ce.span,{...r==null?void 0:r.getRequiredIndicatorProps(e,n),__css:s.requiredIndicator,className:i})});sN.displayName="RequiredIndicator";function _S(t){const{isDisabled:e,isInvalid:n,isReadOnly:r,isRequired:s,...i}=hY(t);return{...i,disabled:e,readOnly:r,required:s,"aria-invalid":m0(n),"aria-required":m0(s),"aria-readonly":m0(r)}}function hY(t){var e,n,r;const s=zv(),{id:i,disabled:o,readOnly:a,required:l,isRequired:c,isInvalid:d,isReadOnly:f,isDisabled:p,onFocus:m,onBlur:_,...v}=t,S=t["aria-describedby"]?[t["aria-describedby"]]:[];return s!=null&&s.hasFeedbackText&&(s!=null&&s.isInvalid)&&S.push(s.feedbackId),s!=null&&s.hasHelpText&&S.push(s.helpTextId),{...v,"aria-describedby":S.join(" ")||void 0,id:i??(s==null?void 0:s.id),isDisabled:(e=o??p)!=null?e:s==null?void 0:s.isDisabled,isReadOnly:(n=a??f)!=null?n:s==null?void 0:s.isReadOnly,isRequired:(r=l??c)!=null?r:s==null?void 0:s.isRequired,isInvalid:d??(s==null?void 0:s.isInvalid),onFocus:Qt(s==null?void 0:s.onFocus,m),onBlur:Qt(s==null?void 0:s.onBlur,_)}}function _m(t,e,n,r){const s=Do(n);return g.useEffect(()=>{const i=typeof t=="function"?t():t??document;if(!(!n||!i))return i.addEventListener(e,s,r),()=>{i.removeEventListener(e,s,r)}},[e,t,r,s,n]),()=>{const i=typeof t=="function"?t():t??document;i==null||i.removeEventListener(e,s,r)}}function fY(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var iN={exports:{}},pY="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",mY=pY,gY=mY;function oN(){}function aN(){}aN.resetWarningCache=oN;var vY=function(){function t(r,s,i,o,a,l){if(l!==gY){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:aN,resetWarningCache:oN};return n.PropTypes=n,n};iN.exports=vY();var yY=iN.exports;const Np=Xg(yY);var Wb="data-focus-lock",lN="data-focus-lock-disabled",_Y="data-no-focus-lock",bY="data-autofocus-inside",wY="data-no-autofocus";function q0(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function xY(t,e){var n=g.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var KI=new WeakMap;function cN(t,e){var n=xY(e||null,function(r){return t.forEach(function(s){return q0(s,r)})});return g.useLayoutEffect(function(){var r=KI.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||q0(a,null)}),i.forEach(function(a){s.has(a)||q0(a,o)})}KI.set(n,t)},[t]),n}var G0={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},Ns=function(){return Ns=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ns.apply(this,arguments)};function nf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function SY(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function uN(t){return t}function dN(t,e){e===void 0&&(e=uN);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return s}function bS(t,e){return e===void 0&&(e=uN),dN(t,e)}function hN(t){t===void 0&&(t={});var e=dN(null);return e.options=Ns({async:!0,ssr:!1},t),e}var fN=function(t){var e=t.sideCar,n=nf(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,Ns({},n))};fN.isSideCarExport=!0;function EY(t,e){return t.useMedium(e),fN}var pN=bS({},function(t){var e=t.target,n=t.currentTarget;return{target:e,currentTarget:n}}),mN=bS(),CY=bS(),TY=hN({async:!0,ssr:typeof document<"u"}),IY=g.createContext(void 0),kY=[],gN=g.forwardRef(function(e,n){var r,s=g.useState(),i=s[0],o=s[1],a=g.useRef(),l=g.useRef(!1),c=g.useRef(null),d=g.useState({}),f=d[1],p=e.children,m=e.disabled,_=m===void 0?!1:m,v=e.noFocusGuards,S=v===void 0?!1:v,x=e.persistentFocus,b=x===void 0?!1:x,w=e.crossFrame,k=w===void 0?!0:w,j=e.autoFocus,O=j===void 0?!0:j;e.allowTextSelection;var C=e.group,T=e.className,I=e.whiteList,P=e.hasPositiveIndices,N=e.shards,M=N===void 0?kY:N,R=e.as,$=R===void 0?"div":R,X=e.lockProps,ne=X===void 0?{}:X,B=e.sideCar,G=e.returnFocus,ee=G===void 0?!1:G,he=e.focusOptions,ue=e.onActivation,ve=e.onDeactivation,ie=g.useState({}),Se=ie[0],Te=g.useCallback(function(ln){var Kn=ln.captureFocusRestore;if(!c.current){var Rr,Qn=(Rr=document)==null?void 0:Rr.activeElement;c.current=Qn,Qn!==document.body&&(c.current=Kn(Qn))}a.current&&ue&&ue(a.current),l.current=!0,f()},[ue]),Ne=g.useCallback(function(){l.current=!1,ve&&ve(a.current),f()},[ve]),Me=g.useCallback(function(ln){var Kn=c.current;if(Kn){var Rr=(typeof Kn=="function"?Kn():Kn)||document.body,Qn=typeof ee=="function"?ee(Rr):ee;if(Qn){var tn=typeof Qn=="object"?Qn:void 0;c.current=null,ln?Promise.resolve().then(function(){return Rr.focus(tn)}):Rr.focus(tn)}}},[ee]),q=g.useCallback(function(ln){l.current&&pN.useMedium(ln)},[]),Y=mN.useMedium,re=g.useCallback(function(ln){a.current!==ln&&(a.current=ln,o(ln))},[]),Re=qa((r={},r[lN]=_&&"disabled",r[Wb]=C,r),ne),je=S!==!0,ut=je&&S!=="tail",Ar=cN([n,re]),Xr=g.useMemo(function(){return{observed:a,shards:M,enabled:!_,active:l.current}},[_,l.current,M,i]);return g.createElement(g.Fragment,null,je&&[g.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:_?-1:0,style:G0}),P?g.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:_?-1:1,style:G0}):null],!_&&g.createElement(B,{id:Se,sideCar:TY,observed:i,disabled:_,persistentFocus:b,crossFrame:k,autoFocus:O,whiteList:I,shards:M,onActivation:Te,onDeactivation:Ne,returnFocus:Me,focusOptions:he}),g.createElement($,qa({ref:Ar},Re,{className:T,onBlur:Y,onFocus:q}),g.createElement(IY.Provider,{value:Xr},p)),ut&&g.createElement("div",{"data-focus-guard":!0,tabIndex:_?-1:0,style:G0}))});gN.propTypes={};const vN=gN;function Hb(t,e){return Hb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Hb(t,e)}function PY(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Hb(t,e)}function xh(t){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xh(t)}function AY(t,e){if(xh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RY(t){var e=AY(t,"string");return xh(e)=="symbol"?e:String(e)}function jY(t,e,n){return e=RY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DY(t,e){function n(r){return r.displayName||r.name||"Component"}return function(s){var i=[],o;function a(){o=t(i.map(function(c){return c.props})),e(o)}var l=function(c){PY(d,c);function d(){return c.apply(this,arguments)||this}d.peek=function(){return o};var f=d.prototype;return f.componentDidMount=function(){i.push(this),a()},f.componentDidUpdate=function(){a()},f.componentWillUnmount=function(){var m=i.indexOf(this);i.splice(m,1),a()},f.render=function(){return nr.createElement(s,this.props)},d}(g.PureComponent);return jY(l,"displayName","SideEffect("+n(s)+")"),l}}var ei=function(t){for(var e=Array(t.length),n=0;n<t.length;++n)e[n]=t[n];return e},Ga=function(t){return Array.isArray(t)?t:[t]},yN=function(t){return Array.isArray(t)?t[0]:t},NY=function(t){if(t.nodeType!==Node.ELEMENT_NODE)return!1;var e=window.getComputedStyle(t,null);return!e||!e.getPropertyValue?!1:e.getPropertyValue("display")==="none"||e.getPropertyValue("visibility")==="hidden"},_N=function(t){return t.parentNode&&t.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?t.parentNode.host:t.parentNode},bN=function(t){return t===document||t&&t.nodeType===Node.DOCUMENT_NODE},OY=function(t){return t.hasAttribute("inert")},MY=function(t,e){return!t||bN(t)||!NY(t)&&!OY(t)&&e(_N(t))},wN=function(t,e){var n=t.get(e);if(n!==void 0)return n;var r=MY(e,wN.bind(void 0,t));return t.set(e,r),r},LY=function(t,e){return t&&!bN(t)?$Y(t)?e(_N(t)):!1:!0},xN=function(t,e){var n=t.get(e);if(n!==void 0)return n;var r=LY(e,xN.bind(void 0,t));return t.set(e,r),r},SN=function(t){return t.dataset},VY=function(t){return t.tagName==="BUTTON"},EN=function(t){return t.tagName==="INPUT"},CN=function(t){return EN(t)&&t.type==="radio"},FY=function(t){return!((EN(t)||VY(t))&&(t.type==="hidden"||t.disabled))},$Y=function(t){var e=t.getAttribute(wY);return![!0,"true",""].includes(e)},wS=function(t){var e;return!!(t&&(!((e=SN(t))===null||e===void 0)&&e.focusGuard))},qb=function(t){return!wS(t)},zY=function(t){return!!t},BY=function(t,e){var n=Math.max(0,t.tabIndex),r=Math.max(0,e.tabIndex),s=n-r,i=t.index-e.index;if(s){if(!n)return 1;if(!r)return-1}return s||i},UY=function(t){return t.tabIndex<0&&!t.hasAttribute("tabindex")?0:t.tabIndex},xS=function(t,e,n){return ei(t).map(function(r,s){var i=UY(r);return{node:r,index:s,tabIndex:n&&i===-1?(r.dataset||{}).focusGuard?0:-1:i}}).filter(function(r){return!e||r.tabIndex>=0}).sort(BY)},WY=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],SS=WY.join(","),HY="".concat(SS,", [data-focus-guard]"),TN=function(t,e){return ei((t.shadowRoot||t).children).reduce(function(n,r){return n.concat(r.matches(e?HY:SS)?[r]:[],TN(r))},[])},qY=function(t,e){var n;return t instanceof HTMLIFrameElement&&(!((n=t.contentDocument)===null||n===void 0)&&n.body)?Wc([t.contentDocument.body],e):[t]},Wc=function(t,e){return t.reduce(function(n,r){var s,i=TN(r,e),o=(s=[]).concat.apply(s,i.map(function(a){return qY(a,e)}));return n.concat(o,r.parentNode?ei(r.parentNode.querySelectorAll(SS)).filter(function(a){return a===r}):[])},[])},GY=function(t){var e=t.querySelectorAll("[".concat(bY,"]"));return ei(e).map(function(n){return Wc([n])}).reduce(function(n,r){return n.concat(r)},[])},ES=function(t,e){return ei(t).filter(function(n){return wN(e,n)}).filter(function(n){return FY(n)})},QI=function(t,e){return e===void 0&&(e=new Map),ei(t).filter(function(n){return xN(e,n)})},CS=function(t,e,n){return xS(ES(Wc(t,n),e),!0,n)},Sg=function(t,e){return xS(ES(Wc(t),e),!1)},KY=function(t,e){return ES(GY(t),e)},Va=function(t,e){return t.shadowRoot?Va(t.shadowRoot,e):Object.getPrototypeOf(t).contains!==void 0&&Object.getPrototypeOf(t).contains.call(t,e)?!0:ei(t.children).some(function(n){var r;if(n instanceof HTMLIFrameElement){var s=(r=n.contentDocument)===null||r===void 0?void 0:r.body;return s?Va(s,e):!1}return Va(n,e)})},QY=function(t){for(var e=new Set,n=t.length,r=0;r<n;r+=1)for(var s=r+1;s<n;s+=1){var i=t[r].compareDocumentPosition(t[s]);(i&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&e.add(s),(i&Node.DOCUMENT_POSITION_CONTAINS)>0&&e.add(r)}return t.filter(function(o,a){return!e.has(a)})},IN=function(t){return t.parentNode?IN(t.parentNode):t},TS=function(t){var e=Ga(t);return e.filter(Boolean).reduce(function(n,r){var s=r.getAttribute(Wb);return n.push.apply(n,s?QY(ei(IN(r).querySelectorAll("[".concat(Wb,'="').concat(s,'"]:not([').concat(lN,'="disabled"])')))):[r]),n},[])},YY=function(t){try{return t()}catch{return}},Sh=function(t){if(t===void 0&&(t=document),!(!t||!t.activeElement)){var e=t.activeElement;return e.shadowRoot?Sh(e.shadowRoot):e instanceof HTMLIFrameElement&&YY(function(){return e.contentWindow.document})?Sh(e.contentWindow.document):e}},XY=function(t,e){return t===e},JY=function(t,e){return!!ei(t.querySelectorAll("iframe")).some(function(n){return XY(n,e)})},kN=function(t,e){return e===void 0&&(e=Sh(yN(t).ownerDocument)),!e||e.dataset&&e.dataset.focusGuard?!1:TS(t).some(function(n){return Va(n,e)||JY(n,e)})},ZY=function(t){t===void 0&&(t=document);var e=Sh(t);return e?ei(t.querySelectorAll("[".concat(_Y,"]"))).some(function(n){return Va(n,e)}):!1},eX=function(t,e){return e.filter(CN).filter(function(n){return n.name===t.name}).filter(function(n){return n.checked})[0]||t},IS=function(t,e){return CN(t)&&t.name?eX(t,e):t},tX=function(t){var e=new Set;return t.forEach(function(n){return e.add(IS(n,t))}),t.filter(function(n){return e.has(n)})},YI=function(t){return t[0]&&t.length>1?IS(t[0],t):t[0]},XI=function(t,e){return t.indexOf(IS(e,t))},Gb="NEW_FOCUS",nX=function(t,e,n,r,s){var i=t.length,o=t[0],a=t[i-1],l=wS(r);if(!(r&&t.indexOf(r)>=0)){var c=r!==void 0?n.indexOf(r):-1,d=s?n.indexOf(s):c,f=s?t.indexOf(s):-1;if(c===-1)return f!==-1?f:Gb;if(f===-1)return Gb;var p=c-d,m=n.indexOf(o),_=n.indexOf(a),v=tX(n),S=r!==void 0?v.indexOf(r):-1,x=S-(s?v.indexOf(s):c);if(!p&&f>=0||e.length===0)return f;var b=XI(t,e[0]),w=XI(t,e[e.length-1]);if(c<=m&&l&&Math.abs(p)>1)return w;if(c>=_&&l&&Math.abs(p)>1)return b;if(p&&Math.abs(x)>1)return f;if(c<=m)return w;if(c>_)return b;if(p)return Math.abs(p)>1?f:(i+f+p)%i}},rX=function(t){return function(e){var n,r=(n=SN(e))===null||n===void 0?void 0:n.autofocus;return e.autofocus||r!==void 0&&r!=="false"||t.indexOf(e)>=0}},sX=function(t,e,n){var r=t.map(function(i){var o=i.node;return o}),s=QI(r.filter(rX(n)));return s&&s.length?YI(s):YI(QI(e))},Kb=function(t,e){return e===void 0&&(e=[]),e.push(t),t.parentNode&&Kb(t.parentNode.host||t.parentNode,e),e},K0=function(t,e){for(var n=Kb(t),r=Kb(e),s=0;s<n.length;s+=1){var i=n[s];if(r.indexOf(i)>=0)return i}return!1},PN=function(t,e,n){var r=Ga(t),s=Ga(e),i=r[0],o=!1;return s.filter(Boolean).forEach(function(a){o=K0(o||a,a)||o,n.filter(Boolean).forEach(function(l){var c=K0(i,l);c&&(!o||Va(c,o)?o=c:o=K0(c,o))})}),o},iX=function(t,e){return t.reduce(function(n,r){return n.concat(KY(r,e))},[])},oX=function(t,e){var n=new Map;return e.forEach(function(r){return n.set(r.node,r)}),t.map(function(r){return n.get(r)}).filter(zY)},aX=function(t,e){var n=Sh(Ga(t).length>0?document:yN(t).ownerDocument),r=TS(t).filter(qb),s=PN(n||t,t,r),i=new Map,o=Sg(r,i),a=o.filter(function(_){var v=_.node;return qb(v)});if(a[0]){var l=Sg([s],i).map(function(_){var v=_.node;return v}),c=oX(l,a),d=c.map(function(_){var v=_.node;return v}),f=c.filter(function(_){var v=_.tabIndex;return v>=0}).map(function(_){var v=_.node;return v}),p=nX(d,f,l,n,e);if(p===Gb){var m=sX(o,f,iX(r,i));if(m)return{node:m};console.warn("focus-lock: cannot find any node to move focus into");return}return p===void 0?p:c[p]}},lX=function(t){var e=TS(t).filter(qb),n=PN(t,t,e),r=xS(Wc([n],!0),!0,!0),s=Wc(e,!1);return r.map(function(i){var o=i.node,a=i.index;return{node:o,index:a,lockItem:s.indexOf(o)>=0,guard:wS(o)}})},kS=function(t,e){t&&("focus"in t&&t.focus(e),"contentWindow"in t&&t.contentWindow&&t.contentWindow.focus())},Q0=0,Y0=!1,AN=function(t,e,n){n===void 0&&(n={});var r=aX(t,e);if(!Y0&&r){if(Q0>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),Y0=!0,setTimeout(function(){Y0=!1},1);return}Q0++,kS(r.node,n.focusOptions),Q0--}};function Xu(t){if(!t)return null;var e=t?new WeakRef(t):null;return function(){return(e==null?void 0:e.deref())||null}}var cX=function(t){for(var e=[],n=t;n&&n!==document.body;)e.push({current:Xu(n),parent:Xu(n.parentElement),left:Xu(n.previousElementSibling),right:Xu(n.nextElementSibling)}),n=n.parentElement;return{element:Xu(t),stack:e,ownerDocument:t.ownerDocument}},uX=function(t){for(var e,n,r,s,i,o=t.stack,a=t.ownerDocument,l=new Map,c=0,d=o;c<d.length;c++){var f=d[c],p=(e=f.parent)===null||e===void 0?void 0:e.call(f);if(p&&a.contains(p)){for(var m=(n=f.left)===null||n===void 0?void 0:n.call(f),_=(r=f.right)===null||r===void 0?void 0:r.call(f),v=CS([p],l),S=(i=(s=m==null?void 0:m.nextElementSibling)!==null&&s!==void 0?s:_)!==null&&i!==void 0?i:m;S;){for(var x=0,b=v;x<b.length;x++){var w=b[x];if(S!=null&&S.contains(w.node))return w.node}S=S.nextElementSibling}if(v.length)return v[0].node}}},dX=function(t){var e=cX(t);return function(){return uX(e)}},hX=function(t,e,n){if(!t||!e)return console.error("no element or scope given"),{};var r=Ga(e);if(r.every(function(o){return!Va(o,t)}))return console.error("Active element is not contained in the scope"),{};var s=n?CS(r,new Map):Sg(r,new Map),i=s.findIndex(function(o){var a=o.node;return a===t});if(i!==-1)return{prev:s[i-1],next:s[i+1],first:s[0],last:s[s.length-1]}},fX=function(t,e){var n=e?CS(Ga(t),new Map):Sg(Ga(t),new Map);return{first:n[0],last:n[n.length-1]}},pX=function(t){return Object.assign({scope:document.body,cycle:!0,onlyTabbable:!0},t)},RN=function(t,e,n){e===void 0&&(e={});var r=pX(e),s=hX(t,r.scope,r.onlyTabbable);if(s){var i=n(s,r.cycle);i&&kS(i.node,r.focusOptions)}},mX=function(t,e){e===void 0&&(e={}),RN(t,e,function(n,r){var s=n.next,i=n.first;return s||r&&i})},gX=function(t,e){e===void 0&&(e={}),RN(t,e,function(n,r){var s=n.prev,i=n.last;return s||r&&i})},jN=function(t,e,n){var r,s=fX(t,(r=e.onlyTabbable)!==null&&r!==void 0?r:!0),i=s[n];i&&kS(i.node,e.focusOptions)},vX=function(t,e){e===void 0&&(e={}),jN(t,e,"first")},yX=function(t,e){e===void 0&&(e={}),jN(t,e,"last")};function PS(t){setTimeout(t,1)}var _X=function(e){return e&&"current"in e?e.current:e},bX=function(){return document&&document.activeElement===document.body},wX=function(){return bX()||ZY()},Ec=null,cc=null,Cc=null,Eh=!1,xX=function(){return!0},SX=function(e){return(Ec.whiteList||xX)(e)},EX=function(e,n){Cc={observerNode:e,portaledElement:n}},CX=function(e){return Cc&&Cc.portaledElement===e};function JI(t,e,n,r){var s=null,i=t;do{var o=r[i];if(o.guard)o.node.dataset.focusAutoGuard&&(s=o);else if(o.lockItem){if(i!==t)return;s=null}else break}while((i+=n)!==e);s&&(s.node.tabIndex=0)}var TX=function(e){return e?!!Eh:Eh==="meanwhile"},IX=function t(e,n,r){return n&&(n.host===e&&(!n.activeElement||r.contains(n.activeElement))||n.parentNode&&t(e,n.parentNode,r))},kX=function(e,n){return n.some(function(r){return IX(e,r,r)})},Eg=function(){var e=!1;if(Ec){var n=Ec,r=n.observed,s=n.persistentFocus,i=n.autoFocus,o=n.shards,a=n.crossFrame,l=n.focusOptions,c=r||Cc&&Cc.portaledElement,d=document&&document.activeElement;if(c){var f=[c].concat(o.map(_X).filter(Boolean));if((!d||SX(d))&&(s||TX(a)||!wX()||!cc&&i)&&(c&&!(kN(f)||d&&kX(d,f)||CX(d))&&(document&&!cc&&d&&!i?(d.blur&&d.blur(),document.body.focus()):(e=AN(f,cc,{focusOptions:l}),Cc={})),Eh=!1,cc=document&&document.activeElement),document&&d!==document.activeElement&&document.querySelector("[data-focus-auto-guard]")){var p=document&&document.activeElement,m=lX(f),_=m.map(function(v){var S=v.node;return S}).indexOf(p);_>-1&&(m.filter(function(v){var S=v.guard,x=v.node;return S&&x.dataset.focusAutoGuard}).forEach(function(v){var S=v.node;return S.removeAttribute("tabIndex")}),JI(_,m.length,1,m),JI(_,-1,-1,m))}}}return e},DN=function(e){Eg()&&e&&(e.stopPropagation(),e.preventDefault())},AS=function(){return PS(Eg)},PX=function(e){var n=e.target,r=e.currentTarget;r.contains(n)||EX(r,n)},AX=function(){return null},NN=function(){Eh="just",PS(function(){Eh="meanwhile"})},RX=function(){document.addEventListener("focusin",DN),document.addEventListener("focusout",AS),window.addEventListener("blur",NN)},jX=function(){document.removeEventListener("focusin",DN),document.removeEventListener("focusout",AS),window.removeEventListener("blur",NN)};function DX(t){return t.filter(function(e){var n=e.disabled;return!n})}var ON={moveFocusInside:AN,focusInside:kN,focusNextElement:mX,focusPrevElement:gX,focusFirstElement:vX,focusLastElement:yX,captureFocusRestore:dX};function NX(t){var e=t.slice(-1)[0];e&&!Ec&&RX();var n=Ec,r=n&&e&&e.id===n.id;Ec=e,n&&!r&&(n.onDeactivation(),t.filter(function(s){var i=s.id;return i===n.id}).length||n.returnFocus(!e)),e?(cc=null,(!r||n.observed!==e.observed)&&e.onActivation(ON),Eg(),PS(Eg)):(jX(),cc=null)}pN.assignSyncMedium(PX);mN.assignMedium(AS);CY.assignMedium(function(t){return t(ON)});const OX=DY(DX,NX)(AX);var Qb=g.forwardRef(function(e,n){return g.createElement(vN,qa({sideCar:OX,ref:n},e))}),MN=vN.propTypes||{};MN.sideCar;fY(MN,["sideCar"]);Qb.propTypes={};function LN(t){return t!=null&&typeof t=="object"&&"nodeType"in t&&t.nodeType===Node.ELEMENT_NODE}function RS(t){var e;if(!LN(t))return!1;const n=(e=t.ownerDocument.defaultView)!=null?e:window;return t instanceof n.HTMLElement}function MX(t){var e,n;return(n=(e=VN(t))==null?void 0:e.defaultView)!=null?n:window}function VN(t){return LN(t)?t.ownerDocument:document}function LX(t){return VN(t).activeElement}function VX(t){const e=t.ownerDocument.defaultView||window,{overflow:n,overflowX:r,overflowY:s}=e.getComputedStyle(t);return/auto|scroll|overlay|hidden/.test(n+s+r)}function FX(t){return t.localName==="html"?t:t.assignedSlot||t.parentElement||t.ownerDocument.documentElement}function FN(t){return["html","body","#document"].includes(t.localName)?t.ownerDocument.body:RS(t)&&VX(t)?t:FN(FX(t))}var $N=t=>t.hasAttribute("tabindex"),$X=t=>$N(t)&&t.tabIndex===-1;function zX(t){return!!t.getAttribute("disabled")||!!t.getAttribute("aria-disabled")}function zN(t){return t.parentElement&&zN(t.parentElement)?!0:t.hidden}function BX(t){const e=t.getAttribute("contenteditable");return e!=="false"&&e!=null}function BN(t){if(!RS(t)||zN(t)||zX(t))return!1;const{localName:e}=t;if(["input","select","textarea","button"].indexOf(e)>=0)return!0;const r={a:()=>t.hasAttribute("href"),audio:()=>t.hasAttribute("controls"),video:()=>t.hasAttribute("controls")};return e in r?r[e]():BX(t)?!0:$N(t)}function UX(t){return t?RS(t)&&BN(t)&&!$X(t):!1}var WX=["input:not(:disabled):not([disabled])","select:not(:disabled):not([disabled])","textarea:not(:disabled):not([disabled])","embed","iframe","object","a[href]","area[href]","button:not(:disabled):not([disabled])","[tabindex]","audio[controls]","video[controls]","*[tabindex]:not([aria-disabled])","*[contenteditable]"],HX=WX.join(),qX=t=>t.offsetWidth>0&&t.offsetHeight>0;function GX(t){const e=Array.from(t.querySelectorAll(HX));return e.unshift(t),e.filter(n=>BN(n)&&qX(n))}var ZI,KX=(ZI=Qb.default)!=null?ZI:Qb,UN=t=>{const{initialFocusRef:e,finalFocusRef:n,contentRef:r,restoreFocus:s,children:i,isDisabled:o,autoFocus:a,persistentFocus:l,lockFocusAcrossFrames:c}=t,d=g.useCallback(()=>{e!=null&&e.current?e.current.focus():r!=null&&r.current&&GX(r.current).length===0&&requestAnimationFrame(()=>{var _;(_=r.current)==null||_.focus()})},[e,r]),f=g.useCallback(()=>{var m;(m=n==null?void 0:n.current)==null||m.focus()},[n]),p=s&&!n;return u.jsx(KX,{crossFrame:c,persistentFocus:l,autoFocus:a,disabled:o,onActivation:d,onDeactivation:f,returnFocus:p,children:i})};UN.displayName="FocusLock";var QX=o7?g.useLayoutEffect:g.useEffect;function ek(t,e=[]){const n=g.useRef(t);return QX(()=>{n.current=t}),g.useCallback((...r)=>{var s;return(s=n.current)==null?void 0:s.call(n,...r)},e)}function YX(t,e){const n=g.useId();return g.useMemo(()=>t||[e,n].filter(Boolean).join("-"),[t,e,n])}function XX(t,e){const n=t!==void 0;return[n,n&&typeof t<"u"?t:e]}function bm(t={}){const{onClose:e,onOpen:n,isOpen:r,id:s}=t,i=ek(n),o=ek(e),[a,l]=g.useState(t.defaultIsOpen||!1),[c,d]=XX(r,a),f=YX(s,"disclosure"),p=g.useCallback(()=>{c||l(!1),o==null||o()},[c,o]),m=g.useCallback(()=>{c||l(!0),i==null||i()},[c,i]),_=g.useCallback(()=>{(d?p:m)()},[d,m,p]);return{isOpen:!!d,onOpen:m,onClose:p,onToggle:_,isControlled:c,getButtonProps:(v={})=>({...v,"aria-expanded":d,"aria-controls":f,onClick:d7(v.onClick,_)}),getDisclosureProps:(v={})=>({...v,hidden:!d,id:f})}}var[JX,ZX]=Jt({name:"InputGroupStylesContext",errorMessage:`useInputGroupStyles returned is 'undefined'. Seems you forgot to wrap the components in "<InputGroup />" `}),Bv=ge(function(e,n){const r=_s("Input",e),{children:s,className:i,...o}=Zt(e),a=Pe("chakra-input__group",i),l={},c=$v(s),d=r.field;c.forEach(p=>{var m,_;r&&(d&&p.type.id==="InputLeftElement"&&(l.paddingStart=(m=d.height)!=null?m:d.h),d&&p.type.id==="InputRightElement"&&(l.paddingEnd=(_=d.height)!=null?_:d.h),p.type.id==="InputRightAddon"&&(l.borderEndRadius=0),p.type.id==="InputLeftAddon"&&(l.borderStartRadius=0))});const f=c.map(p=>{var m,_;const v=gj({size:((m=p.props)==null?void 0:m.size)||e.size,variant:((_=p.props)==null?void 0:_.variant)||e.variant});return p.type.id!=="Input"?g.cloneElement(p,v):g.cloneElement(p,Object.assign(v,l,p.props))});return u.jsx(ce.div,{className:a,ref:n,__css:{width:"100%",display:"flex",position:"relative",isolation:"isolate",...r.group},"data-group":!0,...o,children:u.jsx(JX,{value:r,children:f})})});Bv.displayName="InputGroup";var eJ=ce("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),Uv=ge(function(e,n){var r,s;const{placement:i="left",...o}=e,a=ZX(),l=a.field,d={[i==="left"?"insetStart":"insetEnd"]:"0",width:(r=l==null?void 0:l.height)!=null?r:l==null?void 0:l.h,height:(s=l==null?void 0:l.height)!=null?s:l==null?void 0:l.h,fontSize:l==null?void 0:l.fontSize,...a.element};return u.jsx(eJ,{ref:n,__css:d,...o})});Uv.id="InputElement";Uv.displayName="InputElement";var jS=ge(function(e,n){const{className:r,...s}=e,i=Pe("chakra-input__left-element",r);return u.jsx(Uv,{ref:n,placement:"left",className:i,...s})});jS.id="InputLeftElement";jS.displayName="InputLeftElement";var WN=ge(function(e,n){const{className:r,...s}=e,i=Pe("chakra-input__right-element",r);return u.jsx(Uv,{ref:n,placement:"right",className:i,...s})});WN.id="InputRightElement";WN.displayName="InputRightElement";var De=ge(function(e,n){const{htmlSize:r,...s}=e,i=_s("Input",s),o=Zt(s),a=_S(o),l=Pe("chakra-input",e.className);return u.jsx(ce.input,{size:r,...a,__css:i.field,ref:n,className:l})});De.displayName="Input";De.id="Input";var[tJ,HN]=Jt({name:"ListStylesContext",errorMessage:`useListStyles returned is 'undefined'. Seems you forgot to wrap the components in "<List />" `}),Wv=ge(function(e,n){const r=_s("List",e),{children:s,styleType:i="none",stylePosition:o,spacing:a,...l}=Zt(e),c=$v(s),f=a?{["& > *:not(style) ~ *:not(style)"]:{mt:a}}:{};return u.jsx(tJ,{value:r,children:u.jsx(ce.ul,{ref:n,listStyleType:i,listStylePosition:o,role:"list",__css:{...r.container,...f},...l,children:c})})});Wv.displayName="List";var nJ=ge((t,e)=>{const{as:n,...r}=t;return u.jsx(Wv,{ref:e,as:"ol",styleType:"decimal",marginStart:"1em",...r})});nJ.displayName="OrderedList";var rJ=ge(function(e,n){const{as:r,...s}=e;return u.jsx(Wv,{ref:n,as:"ul",styleType:"initial",marginStart:"1em",...s})});rJ.displayName="UnorderedList";var qN=ge(function(e,n){const r=HN();return u.jsx(ce.li,{ref:n,...e,__css:r.item})});qN.displayName="ListItem";var sJ=ge(function(e,n){const r=HN();return u.jsx(cl,{ref:n,role:"presentation",...e,__css:r.icon})});sJ.displayName="ListIcon";var GN=Object.freeze(["base","sm","md","lg","xl","2xl"]);function iJ(t,e){return Array.isArray(t)?t.map(n=>n===null?null:e(n)):br(t)?Object.keys(t).reduce((n,r)=>(n[r]=e(t[r]),n),{}):t!=null?e(t):null}function oJ(t,e=GN){const n={};return t.forEach((r,s)=>{const i=e[s];r!=null&&(n[i]=r)}),n}var Os=ce("div",{baseStyle:{flex:1,justifySelf:"stretch",alignSelf:"stretch"}});Os.displayName="Spacer";var H=ge(function(e,n){const r=Zs("Text",e),{className:s,align:i,decoration:o,casing:a,...l}=Zt(e),c=gj({textAlign:e.align,textDecoration:e.decoration,textTransform:e.casing});return u.jsx(ce.p,{ref:n,className:Pe("chakra-text",e.className),...c,...l,__css:r})});H.displayName="Text";var KN=t=>u.jsx(ce.div,{className:"chakra-stack__item",...t,__css:{display:"inline-block",flex:"0 0 auto",minWidth:0,...t.__css}});KN.displayName="StackItem";function aJ(t){const{spacing:e,direction:n}=t,r={column:{my:e,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:e,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:e,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:e,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":iJ(n,s=>r[s])}}var DS=ge((t,e)=>{const{isInline:n,direction:r,align:s,justify:i,spacing:o="0.5rem",wrap:a,children:l,divider:c,className:d,shouldWrapChildren:f,...p}=t,m=n?"row":r??"column",_=g.useMemo(()=>aJ({spacing:o,direction:m}),[o,m]),v=!!c,S=!f&&!v,x=g.useMemo(()=>{const w=$v(l);return S?w:w.map((k,j)=>{const O=typeof k.key<"u"?k.key:j,C=j+1===w.length,I=f?u.jsx(KN,{children:k},O):k;if(!v)return I;const P=g.cloneElement(c,{__css:_}),N=C?null:P;return u.jsxs(g.Fragment,{children:[I,N]},O)})},[c,_,v,S,f,l]),b=Pe("chakra-stack",d);return u.jsx(ce.div,{ref:e,display:"flex",alignItems:s,justifyContent:i,flexDirection:m,flexWrap:a,gap:v?void 0:o,className:b,...p,children:x})});DS.displayName="Stack";var QN=ge((t,e)=>u.jsx(DS,{align:"center",...t,direction:"column",ref:e}));QN.displayName="VStack";var YN=ge(function(e,n){const r=Zs("Heading",e),{className:s,...i}=Zt(e);return u.jsx(ce.h2,{ref:n,className:Pe("chakra-heading",e.className),...i,__css:r})});YN.displayName="Heading";var U=ce("div");U.displayName="Box";var XN=ge(function(e,n){const{size:r,centerContent:s=!0,...i}=e,o=s?{display:"flex",alignItems:"center",justifyContent:"center"}:{};return u.jsx(U,{ref:n,boxSize:r,__css:{...o,flexShrink:0,flexGrow:0},...i})});XN.displayName="Square";var lJ=ge(function(e,n){const{size:r,...s}=e;return u.jsx(XN,{size:r,ref:n,borderRadius:"9999px",...s})});lJ.displayName="Circle";var Xt=ge(function(e,n){const{borderLeftWidth:r,borderBottomWidth:s,borderTopWidth:i,borderRightWidth:o,borderWidth:a,borderStyle:l,borderColor:c,...d}=Zs("Divider",e),{className:f,orientation:p="horizontal",__css:m,..._}=Zt(e),v={vertical:{borderLeftWidth:r||o||a||"1px",height:"100%"},horizontal:{borderBottomWidth:s||i||a||"1px",width:"100%"}};return u.jsx(ce.hr,{ref:n,"aria-orientation":p,..._,__css:{...d,border:"0",borderColor:c,borderStyle:l,...v[p],...m},className:Pe("chakra-divider",f)})});Xt.displayName="Divider";var me=ge(function(e,n){const{direction:r,align:s,justify:i,wrap:o,basis:a,grow:l,shrink:c,...d}=e,f={display:"flex",flexDirection:r,alignItems:s,justifyContent:i,flexWrap:o,flexBasis:a,flexGrow:l,flexShrink:c};return u.jsx(ce.div,{ref:n,__css:f,...d})});me.displayName="Flex";function cJ(t,e={}){const{ssr:n=!0,fallback:r}=e,{getWindow:s}=M7(),i=Array.isArray(t)?t:[t];let o=Array.isArray(r)?r:[r];o=o.filter(c=>c!=null);const[a,l]=g.useState(()=>i.map((c,d)=>({media:c,matches:n?!!o[d]:s().matchMedia(c).matches})));return g.useEffect(()=>{const c=s();l(i.map(p=>({media:p,matches:c.matchMedia(p).matches})));const d=i.map(p=>c.matchMedia(p)),f=p=>{l(m=>m.slice().map(_=>_.media===p.media?{..._,matches:p.matches}:_))};return d.forEach(p=>{typeof p.addListener=="function"?p.addListener(f):p.addEventListener("change",f)}),()=>{d.forEach(p=>{typeof p.removeListener=="function"?p.removeListener(f):p.removeEventListener("change",f)})}},[s]),a.map(c=>c.matches)}function uJ(t,e,n=GN){let r=Object.keys(t).indexOf(e);if(r!==-1)return t[e];let s=n.indexOf(e);for(;s>=0;){const i=n[s];if(t.hasOwnProperty(i)){r=s;break}s-=1}if(r!==-1){const i=n[r];return t[i]}}function dJ(t){var e,n;const r=br(t)?t:{fallback:t??"base"},i=Qh().__breakpoints.details.map(({minMaxQuery:c,breakpoint:d})=>({breakpoint:d,query:c.replace("@media screen and ","")})),o=i.map(c=>c.breakpoint===r.fallback),l=cJ(i.map(c=>c.query),{fallback:o,ssr:r.ssr}).findIndex(c=>c==!0);return(n=(e=i[l])==null?void 0:e.breakpoint)!=null?n:r.fallback}function Di(t,e){var n;const r=br(e)?e:{fallback:e??"base"},s=dJ(r),i=Qh();if(!s)return;const o=Array.from(((n=i.__breakpoints)==null?void 0:n.keys)||[]),a=Array.isArray(t)?Object.fromEntries(Object.entries(oJ(t,o)).map(([l,c])=>[l,c])):t;return uJ(a,s,o)}function hJ(t){const{key:e}=t;return e.length===1||e.length>1&&/[^a-zA-Z0-9]/.test(e)}function fJ(t={}){const{timeout:e=300,preventDefault:n=()=>!0}=t,[r,s]=g.useState([]),i=g.useRef(),o=()=>{i.current&&(clearTimeout(i.current),i.current=null)},a=()=>{o(),i.current=setTimeout(()=>{s([]),i.current=null},e)};g.useEffect(()=>o,[]);function l(c){return d=>{if(d.key==="Backspace"){const f=[...r];f.pop(),s(f);return}if(hJ(d)){const f=r.concat(d.key);n(d)&&(d.preventDefault(),d.stopPropagation()),s(f),c(f.join("")),a()}}}return l}function pJ(t,e,n,r){if(e==null)return r;if(!r)return t.find(o=>n(o).toLowerCase().startsWith(e.toLowerCase()));const s=t.filter(i=>n(i).toLowerCase().startsWith(e.toLowerCase()));if(s.length>0){let i;return s.includes(r)?(i=s.indexOf(r)+1,i===s.length&&(i=0),s[i]):(i=t.indexOf(s[0]),t[i])}return r}function mJ(){const t=g.useRef(new Map),e=t.current,n=g.useCallback((s,i,o,a)=>{t.current.set(o,{type:i,el:s,options:a}),s.addEventListener(i,o,a)},[]),r=g.useCallback((s,i,o,a)=>{s.removeEventListener(i,o,a),t.current.delete(o)},[]);return g.useEffect(()=>()=>{e.forEach((s,i)=>{r(s.el,s.type,i,s.options)})},[r,e]),{add:n,remove:r}}function X0(t){const e=t.target,{tagName:n,isContentEditable:r}=e;return n!=="INPUT"&&n!=="TEXTAREA"&&r!==!0}function JN(t={}){const{ref:e,isDisabled:n,isFocusable:r,clickOnEnter:s=!0,clickOnSpace:i=!0,onMouseDown:o,onMouseUp:a,onClick:l,onKeyDown:c,onKeyUp:d,tabIndex:f,onMouseOver:p,onMouseLeave:m,..._}=t,[v,S]=g.useState(!0),[x,b]=g.useState(!1),w=mJ(),k=B=>{B&&B.tagName!=="BUTTON"&&S(!1)},j=v?f:f||0,O=n&&!r,C=g.useCallback(B=>{if(n){B.stopPropagation(),B.preventDefault();return}B.currentTarget.focus(),l==null||l(B)},[n,l]),T=g.useCallback(B=>{x&&X0(B)&&(B.preventDefault(),B.stopPropagation(),b(!1),w.remove(document,"keyup",T,!1))},[x,w]),I=g.useCallback(B=>{if(c==null||c(B),n||B.defaultPrevented||B.metaKey||!X0(B.nativeEvent)||v)return;const G=s&&B.key==="Enter";i&&B.key===" "&&(B.preventDefault(),b(!0)),G&&(B.preventDefault(),B.currentTarget.click()),w.add(document,"keyup",T,!1)},[n,v,c,s,i,w,T]),P=g.useCallback(B=>{if(d==null||d(B),n||B.defaultPrevented||B.metaKey||!X0(B.nativeEvent)||v)return;i&&B.key===" "&&(B.preventDefault(),b(!1),B.currentTarget.click())},[i,v,n,d]),N=g.useCallback(B=>{B.button===0&&(b(!1),w.remove(document,"mouseup",N,!1))},[w]),M=g.useCallback(B=>{if(B.button!==0)return;if(n){B.stopPropagation(),B.preventDefault();return}v||b(!0),B.currentTarget.focus({preventScroll:!0}),w.add(document,"mouseup",N,!1),o==null||o(B)},[n,v,o,w,N]),R=g.useCallback(B=>{B.button===0&&(v||b(!1),a==null||a(B))},[a,v]),$=g.useCallback(B=>{if(n){B.preventDefault();return}p==null||p(B)},[n,p]),X=g.useCallback(B=>{x&&(B.preventDefault(),b(!1)),m==null||m(B)},[x,m]),ne=dr(e,k);return v?{..._,ref:ne,type:"button","aria-disabled":O?void 0:n,disabled:O,onClick:C,onMouseDown:o,onMouseUp:a,onKeyUp:d,onKeyDown:c,onMouseOver:p,onMouseLeave:m}:{..._,ref:ne,role:"button","data-active":Jn(x),"aria-disabled":n?"true":void 0,tabIndex:O?void 0:j,onClick:C,onMouseDown:M,onMouseUp:R,onKeyUp:P,onKeyDown:I,onMouseOver:$,onMouseLeave:X}}function gJ(t){const e=t.current;if(!e)return!1;const n=LX(e);return!n||e.contains(n)?!1:!!UX(n)}function vJ(t,e){const{shouldFocus:n,visible:r,focusRef:s}=e,i=n&&!r;vh(()=>{if(!i||gJ(t))return;const o=(s==null?void 0:s.current)||t.current;let a;if(o)return a=requestAnimationFrame(()=>{o.focus({preventScroll:!0})}),()=>{cancelAnimationFrame(a)}},[i,t,s])}var Nl=(t,e)=>({var:t,varRef:e?`var(${t}, ${e})`:`var(${t})`}),gn={arrowShadowColor:Nl("--popper-arrow-shadow-color"),arrowSize:Nl("--popper-arrow-size","8px"),arrowSizeHalf:Nl("--popper-arrow-size-half"),arrowBg:Nl("--popper-arrow-bg"),transformOrigin:Nl("--popper-transform-origin"),arrowOffset:Nl("--popper-arrow-offset")};function yJ(t){if(t.includes("top"))return"1px 1px 0px 0 var(--popper-arrow-shadow-color)";if(t.includes("bottom"))return"-1px -1px 0px 0 var(--popper-arrow-shadow-color)";if(t.includes("right"))return"-1px 1px 0px 0 var(--popper-arrow-shadow-color)";if(t.includes("left"))return"1px -1px 0px 0 var(--popper-arrow-shadow-color)"}var _J={top:"bottom center","top-start":"bottom left","top-end":"bottom right",bottom:"top center","bottom-start":"top left","bottom-end":"top right",left:"right center","left-start":"right top","left-end":"right bottom",right:"left center","right-start":"left top","right-end":"left bottom"},bJ=t=>_J[t],tk={scroll:!0,resize:!0};function wJ(t){let e;return typeof t=="object"?e={enabled:!0,options:{...tk,...t}}:e={enabled:t,options:tk},e}var xJ={name:"matchWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:({state:t})=>{t.styles.popper.width=`${t.rects.reference.width}px`},effect:({state:t})=>()=>{const e=t.elements.reference;t.elements.popper.style.width=`${e.offsetWidth}px`}},SJ={name:"transformOrigin",enabled:!0,phase:"write",fn:({state:t})=>{nk(t)},effect:({state:t})=>()=>{nk(t)}},nk=t=>{t.elements.popper.style.setProperty(gn.transformOrigin.var,bJ(t.placement))},EJ={name:"positionArrow",enabled:!0,phase:"afterWrite",fn:({state:t})=>{CJ(t)}},CJ=t=>{var e;if(!t.placement)return;const n=TJ(t.placement);if((e=t.elements)!=null&&e.arrow&&n){Object.assign(t.elements.arrow.style,{[n.property]:n.value,width:gn.arrowSize.varRef,height:gn.arrowSize.varRef,zIndex:-1});const r={[gn.arrowSizeHalf.var]:`calc(${gn.arrowSize.varRef} / 2 - 1px)`,[gn.arrowOffset.var]:`calc(${gn.arrowSizeHalf.varRef} * -1)`};for(const s in r)t.elements.arrow.style.setProperty(s,r[s])}},TJ=t=>{if(t.startsWith("top"))return{property:"bottom",value:gn.arrowOffset.varRef};if(t.startsWith("bottom"))return{property:"top",value:gn.arrowOffset.varRef};if(t.startsWith("left"))return{property:"right",value:gn.arrowOffset.varRef};if(t.startsWith("right"))return{property:"left",value:gn.arrowOffset.varRef}},IJ={name:"innerArrow",enabled:!0,phase:"main",requires:["arrow"],fn:({state:t})=>{rk(t)},effect:({state:t})=>()=>{rk(t)}},rk=t=>{if(!t.elements.arrow)return;const e=t.elements.arrow.querySelector("[data-popper-arrow-inner]");if(!e)return;const n=yJ(t.placement);n&&e.style.setProperty("--popper-arrow-default-shadow",n),Object.assign(e.style,{transform:"rotate(45deg)",background:gn.arrowBg.varRef,top:0,left:0,width:"100%",height:"100%",position:"absolute",zIndex:"inherit",boxShadow:"var(--popper-arrow-shadow, var(--popper-arrow-default-shadow))"})},kJ={"start-start":{ltr:"left-start",rtl:"right-start"},"start-end":{ltr:"left-end",rtl:"right-end"},"end-start":{ltr:"right-start",rtl:"left-start"},"end-end":{ltr:"right-end",rtl:"left-end"},start:{ltr:"left",rtl:"right"},end:{ltr:"right",rtl:"left"}},PJ={"auto-start":"auto-end","auto-end":"auto-start","top-start":"top-end","top-end":"top-start","bottom-start":"bottom-end","bottom-end":"bottom-start"};function AJ(t,e="ltr"){var n,r;const s=((n=kJ[t])==null?void 0:n[e])||t;return e==="ltr"?s:(r=PJ[t])!=null?r:s}var or="top",Kr="bottom",Qr="right",ar="left",NS="auto",rf=[or,Kr,Qr,ar],Hc="start",Ch="end",RJ="clippingParents",ZN="viewport",Ju="popper",jJ="reference",sk=rf.reduce(function(t,e){return t.concat([e+"-"+Hc,e+"-"+Ch])},[]),eO=[].concat(rf,[NS]).reduce(function(t,e){return t.concat([e,e+"-"+Hc,e+"-"+Ch])},[]),DJ="beforeRead",NJ="read",OJ="afterRead",MJ="beforeMain",LJ="main",VJ="afterMain",FJ="beforeWrite",$J="write",zJ="afterWrite",BJ=[DJ,NJ,OJ,MJ,LJ,VJ,FJ,$J,zJ];function Qs(t){return t?(t.nodeName||"").toLowerCase():null}function Tr(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Ka(t){var e=Tr(t).Element;return t instanceof e||t instanceof Element}function Ur(t){var e=Tr(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function OS(t){if(typeof ShadowRoot>"u")return!1;var e=Tr(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function UJ(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},s=e.attributes[n]||{},i=e.elements[n];!Ur(i)||!Qs(i)||(Object.assign(i.style,r),Object.keys(s).forEach(function(o){var a=s[o];a===!1?i.removeAttribute(o):i.setAttribute(o,a===!0?"":a)}))})}function WJ(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var s=e.elements[r],i=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=o.reduce(function(l,c){return l[c]="",l},{});!Ur(s)||!Qs(s)||(Object.assign(s.style,a),Object.keys(i).forEach(function(l){s.removeAttribute(l)}))})}}const HJ={name:"applyStyles",enabled:!0,phase:"write",fn:UJ,effect:WJ,requires:["computeStyles"]};function Ws(t){return t.split("-")[0]}var Fa=Math.max,Cg=Math.min,qc=Math.round;function Yb(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function tO(){return!/^((?!chrome|android).)*safari/i.test(Yb())}function Gc(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),s=1,i=1;e&&Ur(t)&&(s=t.offsetWidth>0&&qc(r.width)/t.offsetWidth||1,i=t.offsetHeight>0&&qc(r.height)/t.offsetHeight||1);var o=Ka(t)?Tr(t):window,a=o.visualViewport,l=!tO()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/s,d=(r.top+(l&&a?a.offsetTop:0))/i,f=r.width/s,p=r.height/i;return{width:f,height:p,top:d,right:c+f,bottom:d+p,left:c,x:c,y:d}}function MS(t){var e=Gc(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function nO(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&OS(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ni(t){return Tr(t).getComputedStyle(t)}function qJ(t){return["table","td","th"].indexOf(Qs(t))>=0}function Jo(t){return((Ka(t)?t.ownerDocument:t.document)||window.document).documentElement}function Hv(t){return Qs(t)==="html"?t:t.assignedSlot||t.parentNode||(OS(t)?t.host:null)||Jo(t)}function ik(t){return!Ur(t)||Ni(t).position==="fixed"?null:t.offsetParent}function GJ(t){var e=/firefox/i.test(Yb()),n=/Trident/i.test(Yb());if(n&&Ur(t)){var r=Ni(t);if(r.position==="fixed")return null}var s=Hv(t);for(OS(s)&&(s=s.host);Ur(s)&&["html","body"].indexOf(Qs(s))<0;){var i=Ni(s);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return s;s=s.parentNode}return null}function sf(t){for(var e=Tr(t),n=ik(t);n&&qJ(n)&&Ni(n).position==="static";)n=ik(n);return n&&(Qs(n)==="html"||Qs(n)==="body"&&Ni(n).position==="static")?e:n||GJ(t)||e}function LS(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Od(t,e,n){return Fa(t,Cg(e,n))}function KJ(t,e,n){var r=Od(t,e,n);return r>n?n:r}function rO(){return{top:0,right:0,bottom:0,left:0}}function sO(t){return Object.assign({},rO(),t)}function iO(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var QJ=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,sO(typeof e!="number"?e:iO(e,rf))};function YJ(t){var e,n=t.state,r=t.name,s=t.options,i=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Ws(n.placement),l=LS(a),c=[ar,Qr].indexOf(a)>=0,d=c?"height":"width";if(!(!i||!o)){var f=QJ(s.padding,n),p=MS(i),m=l==="y"?or:ar,_=l==="y"?Kr:Qr,v=n.rects.reference[d]+n.rects.reference[l]-o[l]-n.rects.popper[d],S=o[l]-n.rects.reference[l],x=sf(i),b=x?l==="y"?x.clientHeight||0:x.clientWidth||0:0,w=v/2-S/2,k=f[m],j=b-p[d]-f[_],O=b/2-p[d]/2+w,C=Od(k,O,j),T=l;n.modifiersData[r]=(e={},e[T]=C,e.centerOffset=C-O,e)}}function XJ(t){var e=t.state,n=t.options,r=n.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||nO(e.elements.popper,s)&&(e.elements.arrow=s))}const JJ={name:"arrow",enabled:!0,phase:"main",fn:YJ,effect:XJ,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Kc(t){return t.split("-")[1]}var ZJ={top:"auto",right:"auto",bottom:"auto",left:"auto"};function eZ(t,e){var n=t.x,r=t.y,s=e.devicePixelRatio||1;return{x:qc(n*s)/s||0,y:qc(r*s)/s||0}}function ok(t){var e,n=t.popper,r=t.popperRect,s=t.placement,i=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,d=t.roundOffsets,f=t.isFixed,p=o.x,m=p===void 0?0:p,_=o.y,v=_===void 0?0:_,S=typeof d=="function"?d({x:m,y:v}):{x:m,y:v};m=S.x,v=S.y;var x=o.hasOwnProperty("x"),b=o.hasOwnProperty("y"),w=ar,k=or,j=window;if(c){var O=sf(n),C="clientHeight",T="clientWidth";if(O===Tr(n)&&(O=Jo(n),Ni(O).position!=="static"&&a==="absolute"&&(C="scrollHeight",T="scrollWidth")),O=O,s===or||(s===ar||s===Qr)&&i===Ch){k=Kr;var I=f&&O===j&&j.visualViewport?j.visualViewport.height:O[C];v-=I-r.height,v*=l?1:-1}if(s===ar||(s===or||s===Kr)&&i===Ch){w=Qr;var P=f&&O===j&&j.visualViewport?j.visualViewport.width:O[T];m-=P-r.width,m*=l?1:-1}}var N=Object.assign({position:a},c&&ZJ),M=d===!0?eZ({x:m,y:v},Tr(n)):{x:m,y:v};if(m=M.x,v=M.y,l){var R;return Object.assign({},N,(R={},R[k]=b?"0":"",R[w]=x?"0":"",R.transform=(j.devicePixelRatio||1)<=1?"translate("+m+"px, "+v+"px)":"translate3d("+m+"px, "+v+"px, 0)",R))}return Object.assign({},N,(e={},e[k]=b?v+"px":"",e[w]=x?m+"px":"",e.transform="",e))}function tZ(t){var e=t.state,n=t.options,r=n.gpuAcceleration,s=r===void 0?!0:r,i=n.adaptive,o=i===void 0?!0:i,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:Ws(e.placement),variation:Kc(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,ok(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,ok(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const nZ={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:tZ,data:{}};var Op={passive:!0};function rZ(t){var e=t.state,n=t.instance,r=t.options,s=r.scroll,i=s===void 0?!0:s,o=r.resize,a=o===void 0?!0:o,l=Tr(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&c.forEach(function(d){d.addEventListener("scroll",n.update,Op)}),a&&l.addEventListener("resize",n.update,Op),function(){i&&c.forEach(function(d){d.removeEventListener("scroll",n.update,Op)}),a&&l.removeEventListener("resize",n.update,Op)}}const sZ={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:rZ,data:{}};var iZ={left:"right",right:"left",bottom:"top",top:"bottom"};function wm(t){return t.replace(/left|right|bottom|top/g,function(e){return iZ[e]})}var oZ={start:"end",end:"start"};function ak(t){return t.replace(/start|end/g,function(e){return oZ[e]})}function VS(t){var e=Tr(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function FS(t){return Gc(Jo(t)).left+VS(t).scrollLeft}function aZ(t,e){var n=Tr(t),r=Jo(t),s=n.visualViewport,i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;var c=tO();(c||!c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a+FS(t),y:l}}function lZ(t){var e,n=Jo(t),r=VS(t),s=(e=t.ownerDocument)==null?void 0:e.body,i=Fa(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=Fa(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-r.scrollLeft+FS(t),l=-r.scrollTop;return Ni(s||n).direction==="rtl"&&(a+=Fa(n.clientWidth,s?s.clientWidth:0)-i),{width:i,height:o,x:a,y:l}}function $S(t){var e=Ni(t),n=e.overflow,r=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function oO(t){return["html","body","#document"].indexOf(Qs(t))>=0?t.ownerDocument.body:Ur(t)&&$S(t)?t:oO(Hv(t))}function Md(t,e){var n;e===void 0&&(e=[]);var r=oO(t),s=r===((n=t.ownerDocument)==null?void 0:n.body),i=Tr(r),o=s?[i].concat(i.visualViewport||[],$S(r)?r:[]):r,a=e.concat(o);return s?a:a.concat(Md(Hv(o)))}function Xb(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function cZ(t,e){var n=Gc(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function lk(t,e,n){return e===ZN?Xb(aZ(t,n)):Ka(e)?cZ(e,n):Xb(lZ(Jo(t)))}function uZ(t){var e=Md(Hv(t)),n=["absolute","fixed"].indexOf(Ni(t).position)>=0,r=n&&Ur(t)?sf(t):t;return Ka(r)?e.filter(function(s){return Ka(s)&&nO(s,r)&&Qs(s)!=="body"}):[]}function dZ(t,e,n,r){var s=e==="clippingParents"?uZ(t):[].concat(e),i=[].concat(s,[n]),o=i[0],a=i.reduce(function(l,c){var d=lk(t,c,r);return l.top=Fa(d.top,l.top),l.right=Cg(d.right,l.right),l.bottom=Cg(d.bottom,l.bottom),l.left=Fa(d.left,l.left),l},lk(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function aO(t){var e=t.reference,n=t.element,r=t.placement,s=r?Ws(r):null,i=r?Kc(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(s){case or:l={x:o,y:e.y-n.height};break;case Kr:l={x:o,y:e.y+e.height};break;case Qr:l={x:e.x+e.width,y:a};break;case ar:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=s?LS(s):null;if(c!=null){var d=c==="y"?"height":"width";switch(i){case Hc:l[c]=l[c]-(e[d]/2-n[d]/2);break;case Ch:l[c]=l[c]+(e[d]/2-n[d]/2);break}}return l}function Th(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=r===void 0?t.placement:r,i=n.strategy,o=i===void 0?t.strategy:i,a=n.boundary,l=a===void 0?RJ:a,c=n.rootBoundary,d=c===void 0?ZN:c,f=n.elementContext,p=f===void 0?Ju:f,m=n.altBoundary,_=m===void 0?!1:m,v=n.padding,S=v===void 0?0:v,x=sO(typeof S!="number"?S:iO(S,rf)),b=p===Ju?jJ:Ju,w=t.rects.popper,k=t.elements[_?b:p],j=dZ(Ka(k)?k:k.contextElement||Jo(t.elements.popper),l,d,o),O=Gc(t.elements.reference),C=aO({reference:O,element:w,strategy:"absolute",placement:s}),T=Xb(Object.assign({},w,C)),I=p===Ju?T:O,P={top:j.top-I.top+x.top,bottom:I.bottom-j.bottom+x.bottom,left:j.left-I.left+x.left,right:I.right-j.right+x.right},N=t.modifiersData.offset;if(p===Ju&&N){var M=N[s];Object.keys(P).forEach(function(R){var $=[Qr,Kr].indexOf(R)>=0?1:-1,X=[or,Kr].indexOf(R)>=0?"y":"x";P[R]+=M[X]*$})}return P}function hZ(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=n.boundary,i=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?eO:l,d=Kc(r),f=d?a?sk:sk.filter(function(_){return Kc(_)===d}):rf,p=f.filter(function(_){return c.indexOf(_)>=0});p.length===0&&(p=f);var m=p.reduce(function(_,v){return _[v]=Th(t,{placement:v,boundary:s,rootBoundary:i,padding:o})[Ws(v)],_},{});return Object.keys(m).sort(function(_,v){return m[_]-m[v]})}function fZ(t){if(Ws(t)===NS)return[];var e=wm(t);return[ak(t),e,ak(e)]}function pZ(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var s=n.mainAxis,i=s===void 0?!0:s,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,d=n.boundary,f=n.rootBoundary,p=n.altBoundary,m=n.flipVariations,_=m===void 0?!0:m,v=n.allowedAutoPlacements,S=e.options.placement,x=Ws(S),b=x===S,w=l||(b||!_?[wm(S)]:fZ(S)),k=[S].concat(w).reduce(function(Se,Te){return Se.concat(Ws(Te)===NS?hZ(e,{placement:Te,boundary:d,rootBoundary:f,padding:c,flipVariations:_,allowedAutoPlacements:v}):Te)},[]),j=e.rects.reference,O=e.rects.popper,C=new Map,T=!0,I=k[0],P=0;P<k.length;P++){var N=k[P],M=Ws(N),R=Kc(N)===Hc,$=[or,Kr].indexOf(M)>=0,X=$?"width":"height",ne=Th(e,{placement:N,boundary:d,rootBoundary:f,altBoundary:p,padding:c}),B=$?R?Qr:ar:R?Kr:or;j[X]>O[X]&&(B=wm(B));var G=wm(B),ee=[];if(i&&ee.push(ne[M]<=0),a&&ee.push(ne[B]<=0,ne[G]<=0),ee.every(function(Se){return Se})){I=N,T=!1;break}C.set(N,ee)}if(T)for(var he=_?3:1,ue=function(Te){var Ne=k.find(function(Me){var q=C.get(Me);if(q)return q.slice(0,Te).every(function(Y){return Y})});if(Ne)return I=Ne,"break"},ve=he;ve>0;ve--){var ie=ue(ve);if(ie==="break")break}e.placement!==I&&(e.modifiersData[r]._skip=!0,e.placement=I,e.reset=!0)}}const mZ={name:"flip",enabled:!0,phase:"main",fn:pZ,requiresIfExists:["offset"],data:{_skip:!1}};function ck(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function uk(t){return[or,Qr,Kr,ar].some(function(e){return t[e]>=0})}function gZ(t){var e=t.state,n=t.name,r=e.rects.reference,s=e.rects.popper,i=e.modifiersData.preventOverflow,o=Th(e,{elementContext:"reference"}),a=Th(e,{altBoundary:!0}),l=ck(o,r),c=ck(a,s,i),d=uk(l),f=uk(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":f})}const vZ={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:gZ};function yZ(t,e,n){var r=Ws(t),s=[ar,or].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=i[0],a=i[1];return o=o||0,a=(a||0)*s,[ar,Qr].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function _Z(t){var e=t.state,n=t.options,r=t.name,s=n.offset,i=s===void 0?[0,0]:s,o=eO.reduce(function(d,f){return d[f]=yZ(f,e.rects,i),d},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=o}const bZ={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:_Z};function wZ(t){var e=t.state,n=t.name;e.modifiersData[n]=aO({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const xZ={name:"popperOffsets",enabled:!0,phase:"read",fn:wZ,data:{}};function SZ(t){return t==="x"?"y":"x"}function EZ(t){var e=t.state,n=t.options,r=t.name,s=n.mainAxis,i=s===void 0?!0:s,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,d=n.altBoundary,f=n.padding,p=n.tether,m=p===void 0?!0:p,_=n.tetherOffset,v=_===void 0?0:_,S=Th(e,{boundary:l,rootBoundary:c,padding:f,altBoundary:d}),x=Ws(e.placement),b=Kc(e.placement),w=!b,k=LS(x),j=SZ(k),O=e.modifiersData.popperOffsets,C=e.rects.reference,T=e.rects.popper,I=typeof v=="function"?v(Object.assign({},e.rects,{placement:e.placement})):v,P=typeof I=="number"?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),N=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,M={x:0,y:0};if(O){if(i){var R,$=k==="y"?or:ar,X=k==="y"?Kr:Qr,ne=k==="y"?"height":"width",B=O[k],G=B+S[$],ee=B-S[X],he=m?-T[ne]/2:0,ue=b===Hc?C[ne]:T[ne],ve=b===Hc?-T[ne]:-C[ne],ie=e.elements.arrow,Se=m&&ie?MS(ie):{width:0,height:0},Te=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:rO(),Ne=Te[$],Me=Te[X],q=Od(0,C[ne],Se[ne]),Y=w?C[ne]/2-he-q-Ne-P.mainAxis:ue-q-Ne-P.mainAxis,re=w?-C[ne]/2+he+q+Me+P.mainAxis:ve+q+Me+P.mainAxis,Re=e.elements.arrow&&sf(e.elements.arrow),je=Re?k==="y"?Re.clientTop||0:Re.clientLeft||0:0,ut=(R=N==null?void 0:N[k])!=null?R:0,Ar=B+Y-ut-je,Xr=B+re-ut,ln=Od(m?Cg(G,Ar):G,B,m?Fa(ee,Xr):ee);O[k]=ln,M[k]=ln-B}if(a){var Kn,Rr=k==="x"?or:ar,Qn=k==="x"?Kr:Qr,tn=O[j],jr=j==="y"?"height":"width",ws=tn+S[Rr],Yn=tn-S[Qn],xs=[or,ar].indexOf(x)!==-1,ti=(Kn=N==null?void 0:N[j])!=null?Kn:0,Gi=xs?ws:tn-C[jr]-T[jr]-ti+P.altAxis,Dt=xs?tn+C[jr]+T[jr]-ti-P.altAxis:Yn,Et=m&&xs?KJ(Gi,tn,Dt):Od(m?Gi:ws,tn,m?Dt:Yn);O[j]=Et,M[j]=Et-tn}e.modifiersData[r]=M}}const CZ={name:"preventOverflow",enabled:!0,phase:"main",fn:EZ,requiresIfExists:["offset"]};function TZ(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function IZ(t){return t===Tr(t)||!Ur(t)?VS(t):TZ(t)}function kZ(t){var e=t.getBoundingClientRect(),n=qc(e.width)/t.offsetWidth||1,r=qc(e.height)/t.offsetHeight||1;return n!==1||r!==1}function PZ(t,e,n){n===void 0&&(n=!1);var r=Ur(e),s=Ur(e)&&kZ(e),i=Jo(e),o=Gc(t,s,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Qs(e)!=="body"||$S(i))&&(a=IZ(e)),Ur(e)?(l=Gc(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):i&&(l.x=FS(i))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function AZ(t){var e=new Map,n=new Set,r=[];t.forEach(function(i){e.set(i.name,i)});function s(i){n.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&s(l)}}),r.push(i)}return t.forEach(function(i){n.has(i.name)||s(i)}),r}function RZ(t){var e=AZ(t);return BJ.reduce(function(n,r){return n.concat(e.filter(function(s){return s.phase===r}))},[])}function jZ(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function DZ(t){var e=t.reduce(function(n,r){var s=n[r.name];return n[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var dk={placement:"bottom",modifiers:[],strategy:"absolute"};function hk(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function NZ(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,s=e.defaultOptions,i=s===void 0?dk:s;return function(a,l,c){c===void 0&&(c=i);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},dk,i),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},f=[],p=!1,m={state:d,setOptions:function(x){var b=typeof x=="function"?x(d.options):x;v(),d.options=Object.assign({},i,d.options,b),d.scrollParents={reference:Ka(a)?Md(a):a.contextElement?Md(a.contextElement):[],popper:Md(l)};var w=RZ(DZ([].concat(r,d.options.modifiers)));return d.orderedModifiers=w.filter(function(k){return k.enabled}),_(),m.update()},forceUpdate:function(){if(!p){var x=d.elements,b=x.reference,w=x.popper;if(hk(b,w)){d.rects={reference:PZ(b,sf(w),d.options.strategy==="fixed"),popper:MS(w)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(P){return d.modifiersData[P.name]=Object.assign({},P.data)});for(var k=0;k<d.orderedModifiers.length;k++){if(d.reset===!0){d.reset=!1,k=-1;continue}var j=d.orderedModifiers[k],O=j.fn,C=j.options,T=C===void 0?{}:C,I=j.name;typeof O=="function"&&(d=O({state:d,options:T,name:I,instance:m})||d)}}}},update:jZ(function(){return new Promise(function(S){m.forceUpdate(),S(d)})}),destroy:function(){v(),p=!0}};if(!hk(a,l))return m;m.setOptions(c).then(function(S){!p&&c.onFirstUpdate&&c.onFirstUpdate(S)});function _(){d.orderedModifiers.forEach(function(S){var x=S.name,b=S.options,w=b===void 0?{}:b,k=S.effect;if(typeof k=="function"){var j=k({state:d,name:x,instance:m,options:w}),O=function(){};f.push(j||O)}})}function v(){f.forEach(function(S){return S()}),f=[]}return m}}var OZ=[sZ,xZ,nZ,HJ,bZ,mZ,CZ,JJ,vZ],MZ=NZ({defaultModifiers:OZ});function lO(t={}){const{enabled:e=!0,modifiers:n,placement:r="bottom",strategy:s="absolute",arrowPadding:i=8,eventListeners:o=!0,offset:a,gutter:l=8,flip:c=!0,boundary:d="clippingParents",preventOverflow:f=!0,matchWidth:p,direction:m="ltr"}=t,_=g.useRef(null),v=g.useRef(null),S=g.useRef(null),x=AJ(r,m),b=g.useRef(()=>{}),w=g.useCallback(()=>{var P;!e||!_.current||!v.current||((P=b.current)==null||P.call(b),S.current=MZ(_.current,v.current,{placement:x,modifiers:[IJ,EJ,SJ,{...xJ,enabled:!!p},{name:"eventListeners",...wJ(o)},{name:"arrow",options:{padding:i}},{name:"offset",options:{offset:a??[0,l]}},{name:"flip",enabled:!!c,options:{padding:8}},{name:"preventOverflow",enabled:!!f,options:{boundary:d}},...n??[]],strategy:s}),S.current.forceUpdate(),b.current=S.current.destroy)},[x,e,n,p,o,i,a,l,c,f,d,s]);g.useEffect(()=>()=>{var P;!_.current&&!v.current&&((P=S.current)==null||P.destroy(),S.current=null)},[]);const k=g.useCallback(P=>{_.current=P,w()},[w]),j=g.useCallback((P={},N=null)=>({...P,ref:dr(k,N)}),[k]),O=g.useCallback(P=>{v.current=P,w()},[w]),C=g.useCallback((P={},N=null)=>({...P,ref:dr(O,N),style:{...P.style,position:s,minWidth:p?void 0:"max-content",inset:"0 auto auto 0"}}),[s,O,p]),T=g.useCallback((P={},N=null)=>{const{size:M,shadowColor:R,bg:$,style:X,...ne}=P;return{...ne,ref:N,"data-popper-arrow":"",style:LZ(P)}},[]),I=g.useCallback((P={},N=null)=>({...P,ref:N,"data-popper-arrow-inner":""}),[]);return{update(){var P;(P=S.current)==null||P.update()},forceUpdate(){var P;(P=S.current)==null||P.forceUpdate()},transformOrigin:gn.transformOrigin.varRef,referenceRef:k,popperRef:O,getPopperProps:C,getArrowProps:T,getArrowInnerProps:I,getReferenceProps:j}}function LZ(t){const{size:e,shadowColor:n,bg:r,style:s}=t,i={...s,position:"absolute"};return e&&(i["--popper-arrow-size"]=e),n&&(i["--popper-arrow-shadow-color"]=n),r&&(i["--popper-arrow-bg"]=r),i}function cO(t={}){const{onClose:e,onOpen:n,isOpen:r,id:s}=t,i=Do(n),o=Do(e),[a,l]=g.useState(t.defaultIsOpen||!1),c=r!==void 0?r:a,d=r!==void 0,f=g.useId(),p=s??`disclosure-${f}`,m=g.useCallback(()=>{d||l(!1),o==null||o()},[d,o]),_=g.useCallback(()=>{d||l(!0),i==null||i()},[d,i]),v=g.useCallback(()=>{c?m():_()},[c,_,m]);function S(b={}){return{...b,"aria-expanded":c,"aria-controls":p,onClick(w){var k;(k=b.onClick)==null||k.call(b,w),v()}}}function x(b={}){return{...b,hidden:!c,id:p}}return{isOpen:c,onOpen:_,onClose:m,onToggle:v,isControlled:d,getButtonProps:S,getDisclosureProps:x}}function VZ(t){const{ref:e,handler:n,enabled:r=!0}=t,s=Do(n),o=g.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}).current;g.useEffect(()=>{if(!r)return;const a=f=>{J0(f,e)&&(o.isPointerDown=!0)},l=f=>{if(o.ignoreEmulatedMouseEvents){o.ignoreEmulatedMouseEvents=!1;return}o.isPointerDown&&n&&J0(f,e)&&(o.isPointerDown=!1,s(f))},c=f=>{o.ignoreEmulatedMouseEvents=!0,n&&o.isPointerDown&&J0(f,e)&&(o.isPointerDown=!1,s(f))},d=uO(e.current);return d.addEventListener("mousedown",a,!0),d.addEventListener("mouseup",l,!0),d.addEventListener("touchstart",a,!0),d.addEventListener("touchend",c,!0),()=>{d.removeEventListener("mousedown",a,!0),d.removeEventListener("mouseup",l,!0),d.removeEventListener("touchstart",a,!0),d.removeEventListener("touchend",c,!0)}},[n,e,s,o,r])}function J0(t,e){var n;const r=t.target;return r&&!uO(r).contains(r)?!1:!((n=e.current)!=null&&n.contains(r))}function uO(t){var e;return(e=t==null?void 0:t.ownerDocument)!=null?e:document}function FZ(t){const{isOpen:e,ref:n}=t,[r,s]=g.useState(e),[i,o]=g.useState(!1);return g.useEffect(()=>{i||(s(e),o(!0))},[e,i,r]),_m(()=>n.current,"animationend",()=>{s(e)}),{present:!(e?!1:!r),onComplete(){var l;const c=MX(n.current),d=new c.CustomEvent("animationend",{bubbles:!0});(l=n.current)==null||l.dispatchEvent(d)}}}function dO(t){const{wasSelected:e,enabled:n,isSelected:r,mode:s="unmount"}=t;return!!(!n||r||s==="keepMounted"&&e)}var[$Z,zZ,BZ,UZ]=GD(),[WZ,of]=Jt({strict:!1,name:"MenuContext"});function HZ(t,...e){const n=g.useId(),r=t||n;return g.useMemo(()=>e.map(s=>`${s}-${r}`),[r,e])}function hO(t){var e;return(e=t==null?void 0:t.ownerDocument)!=null?e:document}function fk(t){return hO(t).activeElement===t}function qZ(t={}){const{id:e,closeOnSelect:n=!0,closeOnBlur:r=!0,initialFocusRef:s,autoSelect:i=!0,isLazy:o,isOpen:a,defaultIsOpen:l,onClose:c,onOpen:d,placement:f="bottom-start",lazyBehavior:p="unmount",direction:m,computePositionOnMount:_=!1,...v}=t,S=g.useRef(null),x=g.useRef(null),b=BZ(),w=g.useCallback(()=>{requestAnimationFrame(()=>{var ie;(ie=S.current)==null||ie.focus({preventScroll:!1})})},[]),k=g.useCallback(()=>{const ie=setTimeout(()=>{var Se;if(s)(Se=s.current)==null||Se.focus();else{const Te=b.firstEnabled();Te&&R(Te.index)}});G.current.add(ie)},[b,s]),j=g.useCallback(()=>{const ie=setTimeout(()=>{const Se=b.lastEnabled();Se&&R(Se.index)});G.current.add(ie)},[b]),O=g.useCallback(()=>{d==null||d(),i?k():w()},[i,k,w,d]),{isOpen:C,onOpen:T,onClose:I,onToggle:P}=cO({isOpen:a,defaultIsOpen:l,onClose:c,onOpen:O});VZ({enabled:C&&r,ref:S,handler:ie=>{var Se;(Se=x.current)!=null&&Se.contains(ie.target)||I()}});const N=lO({...v,enabled:C||_,placement:f,direction:m}),[M,R]=g.useState(-1);vh(()=>{C||R(-1)},[C]),vJ(S,{focusRef:x,visible:C,shouldFocus:!0});const $=FZ({isOpen:C,ref:S}),[X,ne]=HZ(e,"menu-button","menu-list"),B=g.useCallback(()=>{T(),w()},[T,w]),G=g.useRef(new Set([]));g.useEffect(()=>{const ie=G.current;return()=>{ie.forEach(Se=>clearTimeout(Se)),ie.clear()}},[]);const ee=g.useCallback(()=>{T(),k()},[k,T]),he=g.useCallback(()=>{T(),j()},[T,j]),ue=g.useCallback(()=>{var ie,Se;const Te=hO(S.current),Ne=(ie=S.current)==null?void 0:ie.contains(Te.activeElement);if(!(C&&!Ne))return;const q=(Se=b.item(M))==null?void 0:Se.node;q==null||q.focus({preventScroll:!0})},[C,M,b]),ve=g.useRef(null);return{openAndFocusMenu:B,openAndFocusFirstItem:ee,openAndFocusLastItem:he,onTransitionEnd:ue,unstable__animationState:$,descendants:b,popper:N,buttonId:X,menuId:ne,forceUpdate:N.forceUpdate,orientation:"vertical",isOpen:C,onToggle:P,onOpen:T,onClose:I,menuRef:S,buttonRef:x,focusedIndex:M,closeOnSelect:n,closeOnBlur:r,autoSelect:i,setFocusedIndex:R,isLazy:o,lazyBehavior:p,initialFocusRef:s,rafId:ve}}function GZ(t={},e=null){const n=of(),{onToggle:r,popper:s,openAndFocusFirstItem:i,openAndFocusLastItem:o}=n,a=g.useCallback(l=>{const c=l.key,f={Enter:i,ArrowDown:i,ArrowUp:o}[c];f&&(l.preventDefault(),l.stopPropagation(),f(l))},[i,o]);return{...t,ref:dr(n.buttonRef,e,s.referenceRef),id:n.buttonId,"data-active":Jn(n.isOpen),"aria-expanded":n.isOpen,"aria-haspopup":"menu","aria-controls":n.menuId,onClick:Qt(t.onClick,r),onKeyDown:Qt(t.onKeyDown,a)}}function Jb(t){var e;return XZ(t)&&!!((e=t==null?void 0:t.getAttribute("role"))!=null&&e.startsWith("menuitem"))}function KZ(t={},e=null){const n=of();if(!n)throw new Error("useMenuContext: context is undefined. Seems you forgot to wrap component within <Menu>");const{focusedIndex:r,setFocusedIndex:s,menuRef:i,isOpen:o,onClose:a,menuId:l,isLazy:c,lazyBehavior:d,unstable__animationState:f}=n,p=zZ(),m=fJ({preventDefault:x=>x.key!==" "&&Jb(x.target)}),_=g.useCallback(x=>{if(!x.currentTarget.contains(x.target))return;const b=x.key,k={Tab:O=>O.preventDefault(),Escape:a,ArrowDown:()=>{const O=p.nextEnabled(r);O&&s(O.index)},ArrowUp:()=>{const O=p.prevEnabled(r);O&&s(O.index)}}[b];if(k){x.preventDefault(),k(x);return}const j=m(O=>{const C=pJ(p.values(),O,T=>{var I,P;return(P=(I=T==null?void 0:T.node)==null?void 0:I.textContent)!=null?P:""},p.item(r));if(C){const T=p.indexOf(C.node);s(T)}});Jb(x.target)&&j(x)},[p,r,m,a,s]),v=g.useRef(!1);o&&(v.current=!0);const S=dO({wasSelected:v.current,enabled:c,mode:d,isSelected:f.present});return{...t,ref:dr(i,e),children:S?t.children:null,tabIndex:-1,role:"menu",id:l,style:{...t.style,transformOrigin:"var(--popper-transform-origin)"},"aria-orientation":"vertical",onKeyDown:Qt(t.onKeyDown,_)}}function QZ(t={}){const{popper:e,isOpen:n}=of();return e.getPopperProps({...t,style:{visibility:n?"visible":"hidden",...t.style}})}function YZ(t={},e=null){const{onMouseEnter:n,onMouseMove:r,onMouseLeave:s,onClick:i,onFocus:o,isDisabled:a,isFocusable:l,closeOnSelect:c,type:d,...f}=t,p=of(),{setFocusedIndex:m,focusedIndex:_,closeOnSelect:v,onClose:S,menuRef:x,isOpen:b,menuId:w,rafId:k}=p,j=g.useRef(null),O=`${w}-menuitem-${g.useId()}`,{index:C,register:T}=UZ({disabled:a&&!l}),I=g.useCallback(B=>{n==null||n(B),!a&&m(C)},[m,C,a,n]),P=g.useCallback(B=>{r==null||r(B),j.current&&!fk(j.current)&&I(B)},[I,r]),N=g.useCallback(B=>{s==null||s(B),!a&&m(-1)},[m,a,s]),M=g.useCallback(B=>{i==null||i(B),Jb(B.currentTarget)&&(c??v)&&S()},[S,i,v,c]),R=g.useCallback(B=>{o==null||o(B),m(C)},[m,o,C]),$=C===_,X=a&&!l;vh(()=>{if(b)return $&&!X&&j.current?(k.current&&cancelAnimationFrame(k.current),k.current=requestAnimationFrame(()=>{var B;(B=j.current)==null||B.focus({preventScroll:!0}),k.current=null})):x.current&&!fk(x.current)&&x.current.focus({preventScroll:!0}),()=>{k.current&&cancelAnimationFrame(k.current)}},[$,X,x,b]);const ne=JN({onClick:M,onFocus:R,onMouseEnter:I,onMouseMove:P,onMouseLeave:N,ref:dr(T,j,e),isDisabled:a,isFocusable:l});return{...f,...ne,type:d??ne.type,id:O,role:"menuitem",tabIndex:$?0:-1}}function XZ(t){var e;if(!JZ(t))return!1;const n=(e=t.ownerDocument.defaultView)!=null?e:window;return t instanceof n.HTMLElement}function JZ(t){return t!=null&&typeof t=="object"&&"nodeType"in t&&t.nodeType===Node.ELEMENT_NODE}var[ZZ,uu]=Jt({name:"MenuStylesContext",errorMessage:`useMenuStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Menu />" `}),zS=t=>{const{children:e}=t,n=_s("Menu",t),r=Zt(t),{direction:s}=Qh(),{descendants:i,...o}=qZ({...r,direction:s}),a=g.useMemo(()=>o,[o]),{isOpen:l,onClose:c,forceUpdate:d}=a;return u.jsx($Z,{value:i,children:u.jsx(WZ,{value:a,children:u.jsx(ZZ,{value:n,children:us(e,{isOpen:l,onClose:c,forceUpdate:d})})})})};zS.displayName="Menu";var fO=ge((t,e)=>{const n=uu();return u.jsx(ce.span,{ref:e,...t,__css:n.command,className:"chakra-menu__command"})});fO.displayName="MenuCommand";var eee=ge((t,e)=>{const{type:n,...r}=t,s=uu(),i=r.as||n?n??void 0:"button",o=g.useMemo(()=>({textDecoration:"none",color:"inherit",userSelect:"none",display:"flex",width:"100%",alignItems:"center",textAlign:"start",flex:"0 0 auto",outline:0,...s.item}),[s.item]);return u.jsx(ce.button,{ref:e,type:i,...r,__css:o})}),pO=t=>{const{className:e,children:n,...r}=t,s=uu(),i=g.Children.only(n),o=g.isValidElement(i)?g.cloneElement(i,{focusable:"false","aria-hidden":!0,className:Pe("chakra-menu__icon",i.props.className)}):null,a=Pe("chakra-menu__icon-wrapper",e);return u.jsx(ce.span,{className:a,...r,__css:s.icon,children:o})};pO.displayName="MenuIcon";var uc=ge((t,e)=>{const{icon:n,iconSpacing:r="0.75rem",command:s,commandSpacing:i="0.75rem",children:o,...a}=t,l=YZ(a,e),d=n||s?u.jsx("span",{style:{pointerEvents:"none",flex:1},children:o}):o;return u.jsxs(eee,{...l,className:Pe("chakra-menu__menuitem",l.className),children:[n&&u.jsx(pO,{fontSize:"0.8em",marginEnd:r,children:n}),d,s&&u.jsx(fO,{marginStart:i,children:s})]})});uc.displayName="MenuItem";var tee={enter:{visibility:"visible",opacity:1,scale:1,transition:{duration:.2,ease:[.4,0,.2,1]}},exit:{transitionEnd:{visibility:"hidden"},opacity:0,scale:.8,transition:{duration:.1,easings:"easeOut"}}},nee=ce(Xo.div),BS=ge(function(e,n){var r,s;const{rootProps:i,motionProps:o,...a}=e,{isOpen:l,onTransitionEnd:c,unstable__animationState:d}=of(),f=KZ(a,n),p=QZ(i),m=uu();return u.jsx(ce.div,{...p,__css:{zIndex:(s=e.zIndex)!=null?s:(r=m.list)==null?void 0:r.zIndex},children:u.jsx(nee,{variants:tee,initial:!1,animate:l?"enter":"exit",__css:{outline:0,...m.list},...o,className:Pe("chakra-menu__menu-list",f.className),...f,onUpdate:c,onAnimationComplete:_3(d.onComplete,f.onAnimationComplete)})})});BS.displayName="MenuList";var ree=ge((t,e)=>{const n=uu();return u.jsx(ce.button,{ref:e,...t,__css:{display:"inline-flex",appearance:"none",alignItems:"center",outline:0,...n.button}})}),US=ge((t,e)=>{const{children:n,as:r,...s}=t,i=GZ(s,e),o=r||ree;return u.jsx(o,{...i,className:Pe("chakra-menu__menu-button",t.className),children:u.jsx(ce.span,{__css:{pointerEvents:"none",flex:"1 1 auto",minW:0},children:t.children})})});US.displayName="MenuButton";var Zb=t=>{const{className:e,...n}=t,r=uu();return u.jsx(ce.hr,{"aria-orientation":"horizontal",className:Pe("chakra-menu__divider",e),...n,__css:r.divider})};Zb.displayName="MenuDivider";var see={slideInBottom:{...ud,custom:{offsetY:16,reverse:!0}},slideInRight:{...ud,custom:{offsetX:16,reverse:!0}},slideInTop:{...ud,custom:{offsetY:-16,reverse:!0}},slideInLeft:{...ud,custom:{offsetX:-16,reverse:!0}},scale:{...QD,custom:{initialScale:.95,reverse:!0}},none:{}},iee=ce(Xo.section),oee=t=>see[t||"none"],mO=g.forwardRef((t,e)=>{const{preset:n,motionProps:r=oee(n),...s}=t;return u.jsx(iee,{ref:e,...r,...s})});mO.displayName="ModalTransition";var aee=Object.defineProperty,lee=(t,e,n)=>e in t?aee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,cee=(t,e,n)=>(lee(t,typeof e!="symbol"?e+"":e,n),n),uee=class{constructor(){cee(this,"modals"),this.modals=new Map}add(t){return this.modals.set(t,this.modals.size+1),this.modals.size}remove(t){this.modals.delete(t)}isTopModal(t){return t?this.modals.get(t)===this.modals.size:!1}},ew=new uee;function gO(t,e){const[n,r]=g.useState(0);return g.useEffect(()=>{const s=t.current;if(s){if(e){const i=ew.add(s);r(i)}return()=>{ew.remove(s),r(0)}}},[e,t]),n}var dee=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ol=new WeakMap,Mp=new WeakMap,Lp={},Z0=0,vO=function(t){return t&&(t.host||vO(t.parentNode))},hee=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=vO(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},fee=function(t,e,n,r){var s=hee(e,Array.isArray(t)?t:[t]);Lp[n]||(Lp[n]=new WeakMap);var i=Lp[n],o=[],a=new Set,l=new Set(s),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};s.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))d(p);else{var m=p.getAttribute(r),_=m!==null&&m!=="false",v=(Ol.get(p)||0)+1,S=(i.get(p)||0)+1;Ol.set(p,v),i.set(p,S),o.push(p),v===1&&_&&Mp.set(p,!0),S===1&&p.setAttribute(n,"true"),_||p.setAttribute(r,"true")}})};return d(e),a.clear(),Z0++,function(){o.forEach(function(f){var p=Ol.get(f)-1,m=i.get(f)-1;Ol.set(f,p),i.set(f,m),p||(Mp.has(f)||f.removeAttribute(r),Mp.delete(f)),m||f.removeAttribute(n)}),Z0--,Z0||(Ol=new WeakMap,Ol=new WeakMap,Mp=new WeakMap,Lp={})}},pee=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=e||dee(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),fee(r,s,n,"aria-hidden")):function(){return null}};function mee(t){const{isOpen:e,onClose:n,id:r,closeOnOverlayClick:s=!0,closeOnEsc:i=!0,useInert:o=!0,onOverlayClick:a,onEsc:l}=t,c=g.useRef(null),d=g.useRef(null),[f,p,m]=vee(r,"chakra-modal","chakra-modal--header","chakra-modal--body");gee(c,e&&o);const _=gO(c,e),v=g.useRef(null),S=g.useCallback(I=>{v.current=I.target},[]),x=g.useCallback(I=>{I.key==="Escape"&&(I.stopPropagation(),i&&(n==null||n()),l==null||l())},[i,n,l]),[b,w]=g.useState(!1),[k,j]=g.useState(!1),O=g.useCallback((I={},P=null)=>({role:"dialog",...I,ref:dr(P,c),id:f,tabIndex:-1,"aria-modal":!0,"aria-labelledby":b?p:void 0,"aria-describedby":k?m:void 0,onClick:Qt(I.onClick,N=>N.stopPropagation())}),[m,k,f,p,b]),C=g.useCallback(I=>{I.stopPropagation(),v.current===I.target&&ew.isTopModal(c.current)&&(s&&(n==null||n()),a==null||a())},[n,s,a]),T=g.useCallback((I={},P=null)=>({...I,ref:dr(P,d),onClick:Qt(I.onClick,C),onKeyDown:Qt(I.onKeyDown,x),onMouseDown:Qt(I.onMouseDown,S)}),[x,S,C]);return{isOpen:e,onClose:n,headerId:p,bodyId:m,setBodyMounted:j,setHeaderMounted:w,dialogRef:c,overlayRef:d,getDialogProps:O,getDialogContainerProps:T,index:_}}function gee(t,e){const n=t.current;g.useEffect(()=>{if(!(!t.current||!e))return pee(t.current)},[e,t,n])}function vee(t,...e){const n=g.useId(),r=t||n;return g.useMemo(()=>e.map(s=>`${s}-${r}`),[r,e])}var[yee,du]=Jt({name:"ModalStylesContext",errorMessage:`useModalStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Modal />" `}),[_ee,Qa]=Jt({strict:!0,name:"ModalContext",errorMessage:"useModalContext: `context` is undefined. Seems you forgot to wrap modal components in `<Modal />`"}),mt=t=>{const e={scrollBehavior:"outside",autoFocus:!0,trapFocus:!0,returnFocusOnClose:!0,blockScrollOnMount:!0,allowPinchZoom:!1,motionPreset:"scale",lockFocusAcrossFrames:!0,...t},{portalProps:n,children:r,autoFocus:s,trapFocus:i,initialFocusRef:o,finalFocusRef:a,returnFocusOnClose:l,blockScrollOnMount:c,allowPinchZoom:d,preserveScrollBarGap:f,motionPreset:p,lockFocusAcrossFrames:m,onCloseComplete:_}=e,v=_s("Modal",e),x={...mee(e),autoFocus:s,trapFocus:i,initialFocusRef:o,finalFocusRef:a,returnFocusOnClose:l,blockScrollOnMount:c,allowPinchZoom:d,preserveScrollBarGap:f,motionPreset:p,lockFocusAcrossFrames:m};return u.jsx(_ee,{value:x,children:u.jsx(yee,{value:v,children:u.jsx(cu,{onExitComplete:_,children:x.isOpen&&u.jsx(au,{...n,children:r})})})})};mt.displayName="Modal";var xm="right-scroll-bar-position",Sm="width-before-scroll-bar",bee="with-scroll-bars-hidden",wee="--removed-body-scroll-bar-size",yO=hN(),e_=function(){},qv=g.forwardRef(function(t,e){var n=g.useRef(null),r=g.useState({onScrollCapture:e_,onWheelCapture:e_,onTouchMoveCapture:e_}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,f=t.shards,p=t.sideCar,m=t.noIsolation,_=t.inert,v=t.allowPinchZoom,S=t.as,x=S===void 0?"div":S,b=t.gapMode,w=nf(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=p,j=cN([n,e]),O=Ns(Ns({},w),s);return g.createElement(g.Fragment,null,d&&g.createElement(k,{sideCar:yO,removeScrollBar:c,shards:f,noIsolation:m,inert:_,setCallbacks:i,allowPinchZoom:!!v,lockRef:n,gapMode:b}),o?g.cloneElement(g.Children.only(a),Ns(Ns({},O),{ref:j})):g.createElement(x,Ns({},O,{className:l,ref:j}),a))});qv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};qv.classNames={fullWidth:Sm,zeroRight:xm};var xee=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function See(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=xee();return e&&t.setAttribute("nonce",e),t}function Eee(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Cee(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Tee=function(){var t=0,e=null;return{add:function(n){t==0&&(e=See())&&(Eee(e,n),Cee(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Iee=function(){var t=Tee();return function(e,n){g.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},_O=function(){var t=Iee(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},kee={left:0,top:0,right:0,gap:0},t_=function(t){return parseInt(t||"",10)||0},Pee=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[t_(n),t_(r),t_(s)]},Aee=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return kee;var e=Pee(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Ree=_O(),jee=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(bee,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(xm,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Sm,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(xm," .").concat(xm,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Sm," .").concat(Sm,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body {
    `).concat(wee,": ").concat(a,`px;
  }
`)},Dee=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r,i=g.useMemo(function(){return Aee(s)},[s]);return g.createElement(Ree,{styles:jee(i,!e,s,n?"":"!important")})},tw=!1;if(typeof window<"u")try{var Vp=Object.defineProperty({},"passive",{get:function(){return tw=!0,!0}});window.addEventListener("test",Vp,Vp),window.removeEventListener("test",Vp,Vp)}catch{tw=!1}var Ml=tw?{passive:!1}:!1,Nee=function(t){return t.tagName==="TEXTAREA"},bO=function(t,e){var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Nee(t)&&n[e]==="visible")},Oee=function(t){return bO(t,"overflowY")},Mee=function(t){return bO(t,"overflowX")},pk=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=wO(t,r);if(s){var i=xO(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Lee=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Vee=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},wO=function(t,e){return t==="v"?Oee(e):Mee(e)},xO=function(t,e){return t==="v"?Lee(e):Vee(e)},Fee=function(t,e){return t==="h"&&e==="rtl"?-1:1},$ee=function(t,e,n,r,s){var i=Fee(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,d=o>0,f=0,p=0;do{var m=xO(t,a),_=m[0],v=m[1],S=m[2],x=v-S-i*_;(_||x)&&wO(t,a)&&(f+=x,p+=_),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(s&&Math.abs(f)<1||!s&&o>f)||!d&&(s&&Math.abs(p)<1||!s&&-o>p))&&(c=!0),c},Fp=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},mk=function(t){return[t.deltaX,t.deltaY]},gk=function(t){return t&&"current"in t?t.current:t},zee=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Bee=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Uee=0,Ll=[];function Wee(t){var e=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),s=g.useState(Uee++)[0],i=g.useState(_O)[0],o=g.useRef(t);g.useEffect(function(){o.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=SY([t.lockRef.current],(t.shards||[]).map(gk),!0).filter(Boolean);return v.forEach(function(S){return S.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=g.useCallback(function(v,S){if("touches"in v&&v.touches.length===2)return!o.current.allowPinchZoom;var x=Fp(v),b=n.current,w="deltaX"in v?v.deltaX:b[0]-x[0],k="deltaY"in v?v.deltaY:b[1]-x[1],j,O=v.target,C=Math.abs(w)>Math.abs(k)?"h":"v";if("touches"in v&&C==="h"&&O.type==="range")return!1;var T=pk(C,O);if(!T)return!0;if(T?j=C:(j=C==="v"?"h":"v",T=pk(C,O)),!T)return!1;if(!r.current&&"changedTouches"in v&&(w||k)&&(r.current=j),!j)return!0;var I=r.current||j;return $ee(I,S,v,I==="h"?w:k,!0)},[]),l=g.useCallback(function(v){var S=v;if(!(!Ll.length||Ll[Ll.length-1]!==i)){var x="deltaY"in S?mk(S):Fp(S),b=e.current.filter(function(j){return j.name===S.type&&(j.target===S.target||S.target===j.shadowParent)&&zee(j.delta,x)})[0];if(b&&b.should){S.cancelable&&S.preventDefault();return}if(!b){var w=(o.current.shards||[]).map(gk).filter(Boolean).filter(function(j){return j.contains(S.target)}),k=w.length>0?a(S,w[0]):!o.current.noIsolation;k&&S.cancelable&&S.preventDefault()}}},[]),c=g.useCallback(function(v,S,x,b){var w={name:v,delta:S,target:x,should:b,shadowParent:Hee(x)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(k){return k!==w})},1)},[]),d=g.useCallback(function(v){n.current=Fp(v),r.current=void 0},[]),f=g.useCallback(function(v){c(v.type,mk(v),v.target,a(v,t.lockRef.current))},[]),p=g.useCallback(function(v){c(v.type,Fp(v),v.target,a(v,t.lockRef.current))},[]);g.useEffect(function(){return Ll.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",l,Ml),document.addEventListener("touchmove",l,Ml),document.addEventListener("touchstart",d,Ml),function(){Ll=Ll.filter(function(v){return v!==i}),document.removeEventListener("wheel",l,Ml),document.removeEventListener("touchmove",l,Ml),document.removeEventListener("touchstart",d,Ml)}},[]);var m=t.removeScrollBar,_=t.inert;return g.createElement(g.Fragment,null,_?g.createElement(i,{styles:Bee(s)}):null,m?g.createElement(Dee,{gapMode:t.gapMode}):null)}function Hee(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const qee=EY(yO,Wee);var SO=g.forwardRef(function(t,e){return g.createElement(qv,Ns({},t,{ref:e,sideCar:qee}))});SO.classNames=qv.classNames;const Gee=SO;function Kee(t){const{autoFocus:e,trapFocus:n,dialogRef:r,initialFocusRef:s,blockScrollOnMount:i,allowPinchZoom:o,finalFocusRef:a,returnFocusOnClose:l,preserveScrollBarGap:c,lockFocusAcrossFrames:d,isOpen:f}=Qa(),[p,m]=CD();g.useEffect(()=>{!p&&m&&setTimeout(m)},[p,m]);const _=gO(r,f);return u.jsx(UN,{autoFocus:e,isDisabled:!n,initialFocusRef:s,finalFocusRef:a,restoreFocus:l,contentRef:r,lockFocusAcrossFrames:d,children:u.jsx(Gee,{removeScrollBar:!c,allowPinchZoom:o,enabled:_===1&&i,forwardProps:!0,children:t.children})})}var gt=ge((t,e)=>{const{className:n,children:r,containerProps:s,motionProps:i,...o}=t,{getDialogProps:a,getDialogContainerProps:l}=Qa(),c=a(o,e),d=l(s),f=Pe("chakra-modal__content",n),p=du(),m={display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,...p.dialog},_={display:"flex",width:"100vw",height:"$100vh",position:"fixed",left:0,top:0,...p.dialogContainer},{motionPreset:v}=Qa();return u.jsx(Kee,{children:u.jsx(ce.div,{...d,className:"chakra-modal__content-container",tabIndex:-1,__css:_,children:u.jsx(mO,{preset:v,motionProps:i,className:f,...c,__css:m,children:r})})})});gt.displayName="ModalContent";function Qee(t){const{leastDestructiveRef:e,...n}=t;return u.jsx(mt,{...n,initialFocusRef:e})}var Yee=ge((t,e)=>u.jsx(gt,{ref:e,role:"alertdialog",...t})),Ft=ge((t,e)=>{const{className:n,...r}=t,s=Pe("chakra-modal__footer",n),o={display:"flex",alignItems:"center",justifyContent:"flex-end",...du().footer};return u.jsx(ce.footer,{ref:e,...r,__css:o,className:s})});Ft.displayName="ModalFooter";var vt=ge((t,e)=>{const{className:n,...r}=t,{headerId:s,setHeaderMounted:i}=Qa();g.useEffect(()=>(i(!0),()=>i(!1)),[i]);const o=Pe("chakra-modal__header",n),l={flex:0,...du().header};return u.jsx(ce.header,{ref:e,className:o,id:s,...r,__css:l})});vt.displayName="ModalHeader";var Xee=ce(Xo.div),yt=ge((t,e)=>{const{className:n,transition:r,motionProps:s,...i}=t,o=Pe("chakra-modal__overlay",n),l={pos:"fixed",left:"0",top:"0",w:"100vw",h:"100vh",...du().overlay},{motionPreset:c}=Qa(),f=s||(c==="none"?{}:KD);return u.jsx(Xee,{...f,__css:l,ref:e,className:o,...i})});yt.displayName="ModalOverlay";var _t=ge((t,e)=>{const{className:n,...r}=t,{bodyId:s,setBodyMounted:i}=Qa();g.useEffect(()=>(i(!0),()=>i(!1)),[i]);const o=Pe("chakra-modal__body",n),a=du();return u.jsx(ce.div,{ref:e,className:o,id:s,...r,__css:a.body})});_t.displayName="ModalBody";var St=ge((t,e)=>{const{onClick:n,className:r,...s}=t,{onClose:i}=Qa(),o=Pe("chakra-modal__close-btn",r),a=du();return u.jsx(yS,{ref:e,__css:a.closeButton,className:o,onClick:Qt(n,l=>{l.stopPropagation(),i()}),...s})});St.displayName="ModalCloseButton";var EO=ge(function(e,n){const{children:r,placeholder:s,className:i,...o}=e;return u.jsxs(ce.select,{...o,ref:n,className:Pe("chakra-select",i),children:[s&&u.jsx("option",{value:"",children:s}),r]})});EO.displayName="SelectField";function Jee(t,e){const n={},r={};for(const[s,i]of Object.entries(t))e.includes(s)?n[s]=i:r[s]=i;return[n,r]}var Oi=ge((t,e)=>{var n;const r=_s("Select",t),{rootProps:s,placeholder:i,icon:o,color:a,height:l,h:c,minH:d,minHeight:f,iconColor:p,iconSize:m,..._}=Zt(t),[v,S]=Jee(_,Sz),x=_S(S),b={width:"100%",height:"fit-content",position:"relative",color:a},w={paddingEnd:"2rem",...r.field,_focus:{zIndex:"unset",...(n=r.field)==null?void 0:n._focus}};return u.jsxs(ce.div,{className:"chakra-select__wrapper",__css:b,...v,...s,children:[u.jsx(EO,{ref:e,height:c??l,minH:d??f,placeholder:i,...x,__css:w,children:t.children}),u.jsx(CO,{"data-disabled":Jn(x.disabled),...(p||a)&&{color:p||a},__css:r.icon,...m&&{fontSize:m},children:o})]})});Oi.displayName="Select";var Zee=t=>u.jsx("svg",{viewBox:"0 0 24 24",...t,children:u.jsx("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})}),ete=ce("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),CO=t=>{const{children:e=u.jsx(Zee,{}),...n}=t,r=g.cloneElement(e,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return u.jsx(ete,{...n,className:"chakra-select__icon-wrapper",children:g.isValidElement(e)?r:null})};CO.displayName="SelectIcon";var[tte,nte,rte,ste]=GD();function ite(t){var e;const{defaultIndex:n,onChange:r,index:s,isManual:i,isLazy:o,lazyBehavior:a="unmount",orientation:l="horizontal",direction:c="ltr",...d}=t,[f,p]=g.useState(n??0),[m,_]=zQ({defaultValue:n??0,value:s,onChange:r});g.useEffect(()=>{s!=null&&p(s)},[s]);const v=rte(),S=g.useId();return{id:`tabs-${(e=t.id)!=null?e:S}`,selectedIndex:m,focusedIndex:f,setSelectedIndex:_,setFocusedIndex:p,isManual:i,isLazy:o,lazyBehavior:a,orientation:l,descendants:v,direction:c,htmlProps:d}}var[ote,Gv]=Jt({name:"TabsContext",errorMessage:"useTabsContext: `context` is undefined. Seems you forgot to wrap all tabs components within <Tabs />"});function ate(t){const{focusedIndex:e,orientation:n,direction:r}=Gv(),s=nte(),i=g.useCallback(o=>{const a=()=>{var b;const w=s.nextEnabled(e);w&&((b=w.node)==null||b.focus())},l=()=>{var b;const w=s.prevEnabled(e);w&&((b=w.node)==null||b.focus())},c=()=>{var b;const w=s.firstEnabled();w&&((b=w.node)==null||b.focus())},d=()=>{var b;const w=s.lastEnabled();w&&((b=w.node)==null||b.focus())},f=n==="horizontal",p=n==="vertical",m=o.key,_=r==="ltr"?"ArrowLeft":"ArrowRight",v=r==="ltr"?"ArrowRight":"ArrowLeft",x={[_]:()=>f&&l(),[v]:()=>f&&a(),ArrowDown:()=>p&&a(),ArrowUp:()=>p&&l(),Home:c,End:d}[m];x&&(o.preventDefault(),x(o))},[s,e,n,r]);return{...t,role:"tablist","aria-orientation":n,onKeyDown:Qt(t.onKeyDown,i)}}function lte(t){const{isDisabled:e=!1,isFocusable:n=!1,...r}=t,{setSelectedIndex:s,isManual:i,id:o,setFocusedIndex:a,selectedIndex:l}=Gv(),{index:c,register:d}=ste({disabled:e&&!n}),f=c===l,p=()=>{s(c)},m=()=>{a(c),!i&&!(e&&n)&&s(c)};return{...JN({...r,ref:dr(d,t.ref),isDisabled:e,isFocusable:n,onClick:Qt(t.onClick,p)}),id:TO(o,c),role:"tab",tabIndex:f?0:-1,type:"button","aria-selected":f,"aria-controls":IO(o,c),onFocus:e?void 0:Qt(t.onFocus,m)}}var[cte,ute]=Jt({});function dte(t){const e=Gv(),{id:n,selectedIndex:r}=e,i=$v(t.children).map((o,a)=>g.createElement(cte,{key:a,value:{isSelected:a===r,id:IO(n,a),tabId:TO(n,a),selectedIndex:r}},o));return{...t,children:i}}function hte(t){const{children:e,...n}=t,{isLazy:r,lazyBehavior:s}=Gv(),{isSelected:i,id:o,tabId:a}=ute(),l=g.useRef(!1);i&&(l.current=!0);const c=dO({wasSelected:l.current,isSelected:i,enabled:r,mode:s});return{tabIndex:0,...n,children:c?e:null,role:"tabpanel","aria-labelledby":a,hidden:!i,id:o}}function TO(t,e){return`${t}--tab-${e}`}function IO(t,e){return`${t}--tabpanel-${e}`}var[fte,Kv]=Jt({name:"TabsStylesContext",errorMessage:`useTabsStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Tabs />" `}),af=ge(function(e,n){const r=_s("Tabs",e),{children:s,className:i,...o}=Zt(e),{htmlProps:a,descendants:l,...c}=ite(o),d=g.useMemo(()=>c,[c]),{isFitted:f,...p}=a,m={position:"relative",...r.root};return u.jsx(tte,{value:l,children:u.jsx(ote,{value:d,children:u.jsx(fte,{value:r,children:u.jsx(ce.div,{className:Pe("chakra-tabs",i),ref:n,...p,__css:m,children:s})})})})});af.displayName="Tabs";var lf=ge(function(e,n){const r=ate({...e,ref:n}),i={display:"flex",...Kv().tablist};return u.jsx(ce.div,{...r,className:Pe("chakra-tabs__tablist",e.className),__css:i})});lf.displayName="TabList";var Mi=ge(function(e,n){const r=hte({...e,ref:n}),s=Kv();return u.jsx(ce.div,{outline:"0",...r,className:Pe("chakra-tabs__tab-panel",e.className),__css:s.tabpanel})});Mi.displayName="TabPanel";var cf=ge(function(e,n){const r=dte(e),s=Kv();return u.jsx(ce.div,{...r,width:"100%",ref:n,className:Pe("chakra-tabs__tab-panels",e.className),__css:s.tabpanels})});cf.displayName="TabPanels";var Li=ge(function(e,n){const r=Kv(),s=lte({...e,ref:n}),i={outline:"0",display:"flex",alignItems:"center",justifyContent:"center",...r.tab};return u.jsx(ce.button,{...s,className:Pe("chakra-tabs__tab",e.className),__css:i})});Li.displayName="Tab";function pte(t,e=[]){const n=Object.assign({},t);for(const r of e)r in n&&delete n[r];return n}var mte=["h","minH","height","minHeight"],Qv=ge((t,e)=>{const n=Zs("Textarea",t),{className:r,rows:s,...i}=Zt(t),o=_S(i),a=s?pte(n,mte):n;return u.jsx(ce.textarea,{ref:e,rows:s,...o,className:Pe("chakra-textarea",r),__css:a})});Qv.displayName="Textarea";var gte={exit:{scale:.85,opacity:0,transition:{opacity:{duration:.15,easings:"easeInOut"},scale:{duration:.2,easings:"easeInOut"}}},enter:{scale:1,opacity:1,transition:{opacity:{easings:"easeOut",duration:.2},scale:{duration:.2,ease:[.175,.885,.4,1.1]}}}},nw=t=>{var e;return((e=t.current)==null?void 0:e.ownerDocument)||document},Em=t=>{var e,n;return((n=(e=t.current)==null?void 0:e.ownerDocument)==null?void 0:n.defaultView)||window};function vte(t={}){const{openDelay:e=0,closeDelay:n=0,closeOnClick:r=!0,closeOnMouseDown:s,closeOnScroll:i,closeOnPointerDown:o=s,closeOnEsc:a=!0,onOpen:l,onClose:c,placement:d,id:f,isOpen:p,defaultIsOpen:m,arrowSize:_=10,arrowShadowColor:v,arrowPadding:S,modifiers:x,isDisabled:b,gutter:w,offset:k,direction:j,...O}=t,{isOpen:C,onOpen:T,onClose:I}=cO({isOpen:p,defaultIsOpen:m,onOpen:l,onClose:c}),{referenceRef:P,getPopperProps:N,getArrowInnerProps:M,getArrowProps:R}=lO({enabled:C,placement:d,arrowPadding:S,modifiers:x,gutter:w,offset:k,direction:j}),$=g.useId(),ne=`tooltip-${f??$}`,B=g.useRef(null),G=g.useRef(),ee=g.useCallback(()=>{G.current&&(clearTimeout(G.current),G.current=void 0)},[]),he=g.useRef(),ue=g.useCallback(()=>{he.current&&(clearTimeout(he.current),he.current=void 0)},[]),ve=g.useCallback(()=>{ue(),I()},[I,ue]),ie=yte(B,ve),Se=g.useCallback(()=>{if(!b&&!G.current){C&&ie();const je=Em(B);G.current=je.setTimeout(T,e)}},[ie,b,C,T,e]),Te=g.useCallback(()=>{ee();const je=Em(B);he.current=je.setTimeout(ve,n)},[n,ve,ee]),Ne=g.useCallback(()=>{C&&r&&Te()},[r,Te,C]),Me=g.useCallback(()=>{C&&o&&Te()},[o,Te,C]),q=g.useCallback(je=>{C&&je.key==="Escape"&&Te()},[C,Te]);_m(()=>nw(B),"keydown",a?q:void 0),_m(()=>{if(!i)return null;const je=B.current;if(!je)return null;const ut=FN(je);return ut.localName==="body"?Em(B):ut},"scroll",()=>{C&&i&&ve()},{passive:!0,capture:!0}),g.useEffect(()=>{b&&(ee(),C&&I())},[b,C,I,ee]),g.useEffect(()=>()=>{ee(),ue()},[ee,ue]),_m(()=>B.current,"pointerleave",Te);const Y=g.useCallback((je={},ut=null)=>({...je,ref:dr(B,ut,P),onPointerEnter:Qt(je.onPointerEnter,Xr=>{Xr.pointerType!=="touch"&&Se()}),onClick:Qt(je.onClick,Ne),onPointerDown:Qt(je.onPointerDown,Me),onFocus:Qt(je.onFocus,Se),onBlur:Qt(je.onBlur,Te),"aria-describedby":C?ne:void 0}),[Se,Te,Me,C,ne,Ne,P]),re=g.useCallback((je={},ut=null)=>N({...je,style:{...je.style,[gn.arrowSize.var]:_?`${_}px`:void 0,[gn.arrowShadowColor.var]:v}},ut),[N,_,v]),Re=g.useCallback((je={},ut=null)=>{const Ar={...je.style,position:"relative",transformOrigin:gn.transformOrigin.varRef};return{ref:ut,...O,...je,id:ne,role:"tooltip",style:Ar}},[O,ne]);return{isOpen:C,show:Se,hide:Te,getTriggerProps:Y,getTooltipProps:Re,getTooltipPositionerProps:re,getArrowProps:R,getArrowInnerProps:M}}var n_="chakra-ui:close-tooltip";function yte(t,e){return g.useEffect(()=>{const n=nw(t);return n.addEventListener(n_,e),()=>n.removeEventListener(n_,e)},[e,t]),()=>{const n=nw(t),r=Em(t);n.dispatchEvent(new r.CustomEvent(n_))}}function _te(t,e=[]){const n=Object.assign({},t);for(const r of e)r in n&&delete n[r];return n}function bte(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}var wte=ce(Xo.div),Ls=ge((t,e)=>{var n,r;const s=Zs("Tooltip",t),i=Zt(t),o=Qh(),{children:a,label:l,shouldWrapChildren:c,"aria-label":d,hasArrow:f,bg:p,portalProps:m,background:_,backgroundColor:v,bgColor:S,motionProps:x,...b}=i,w=(r=(n=_??v)!=null?n:p)!=null?r:S;if(w){s.bg=w;const N=Lz(o,"colors",w);s[gn.arrowBg.var]=N}const k=vte({...b,direction:o.direction}),j=typeof a=="string"||c;let O;if(j)O=u.jsx(ce.span,{display:"inline-block",tabIndex:0,...k.getTriggerProps(),children:a});else{const N=g.Children.only(a);O=g.cloneElement(N,k.getTriggerProps(N.props,N.ref))}const C=!!d,T=k.getTooltipProps({},e),I=C?_te(T,["role","id"]):T,P=bte(T,["role","id"]);return l?u.jsxs(u.Fragment,{children:[O,u.jsx(cu,{children:k.isOpen&&u.jsx(au,{...m,children:u.jsx(ce.div,{...k.getTooltipPositionerProps(),__css:{zIndex:s.zIndex,pointerEvents:"none"},children:u.jsxs(wte,{variants:gte,initial:"exit",animate:"enter",exit:"exit",...x,...I,__css:s,children:[l,C&&u.jsx(ce.span,{srOnly:!0,...P,children:d}),f&&u.jsx(ce.div,{"data-popper-arrow":!0,className:"chakra-tooltip__arrow-wrapper",children:u.jsx(ce.div,{"data-popper-arrow-inner":!0,className:"chakra-tooltip__arrow",__css:{bg:s.bg}})})]})})})})]}):u.jsx(u.Fragment,{children:a})});Ls.displayName="Tooltip";var kO={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},vk=nr.createContext&&nr.createContext(kO),xte=["attr","size","title"];function Ste(t,e){if(t==null)return{};var n=Ete(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ete(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Tg(){return Tg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tg.apply(this,arguments)}function yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ig(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yk(Object(n),!0).forEach(function(r){Cte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cte(t,e,n){return e=Tte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tte(t){var e=Ite(t,"string");return typeof e=="symbol"?e:String(e)}function Ite(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PO(t){return t&&t.map((e,n)=>nr.createElement(e.tag,Ig({key:n},e.attr),PO(e.child)))}function kte(t){return e=>nr.createElement(Pte,Tg({attr:Ig({},t.attr)},e),PO(t.child))}function Pte(t){var e=n=>{var{attr:r,size:s,title:i}=t,o=Ste(t,xte),a=s||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),nr.createElement("svg",Tg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Ig(Ig({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&nr.createElement("title",null,i),t.children)};return vk!==void 0?nr.createElement(vk.Consumer,null,n=>e(n)):e(kO)}function Qc(t){return kte({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M294.1 256L167 129c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.3 34 0L345 239c9.1 9.1 9.3 23.7.7 33.1L201.1 417c-4.7 4.7-10.9 7-17 7s-12.3-2.3-17-7c-9.4-9.4-9.4-24.6 0-33.9l127-127.1z"},child:[]}]})(t)}var _k={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Ate=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},RO={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,d=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(p=64)),r.push(n[d],n[f],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(AO(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Ate(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||f==null)throw new Rte;const p=i<<2|a>>4;if(r.push(p),c!==64){const m=a<<4&240|c>>2;if(r.push(m),f!==64){const _=c<<6&192|f;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Rte extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jte=function(t){const e=AO(t);return RO.encodeByteArray(e,!0)},kg=function(t){return jte(t).replace(/\./g,"")},jO=function(t){try{return RO.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dte(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nte=()=>Dte().__FIREBASE_DEFAULTS__,Ote=()=>{if(typeof process>"u"||typeof _k>"u")return;const t=_k.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Mte=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&jO(t[1]);return e&&JSON.parse(e)},Yv=()=>{try{return Nte()||Ote()||Mte()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},DO=t=>{var e,n;return(n=(e=Yv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Lte=t=>{const e=DO(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},NO=()=>{var t;return(t=Yv())===null||t===void 0?void 0:t.config},OO=t=>{var e;return(e=Yv())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vte{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fte(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[kg(JSON.stringify(n)),kg(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $te(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vn())}function zte(){var t;const e=(t=Yv())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function MO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Bte(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ute(){const t=Vn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Wte(){return!zte()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function LO(){try{return typeof indexedDB=="object"}catch{return!1}}function VO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function Hte(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qte="FirebaseError";class bs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=qte,Object.setPrototypeOf(this,bs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dl.prototype.create)}}class dl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?Gte(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new bs(s,a,r)}}function Gte(t,e){return t.replace(Kte,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Kte=/\{\$([^}]+)}/g;function Qte(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ih(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(bk(i)&&bk(o)){if(!Ih(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function bk(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function dd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function hd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Yte(t,e){const n=new Xte(t,e);return n.subscribe.bind(n)}class Xte{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Jte(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=r_),s.error===void 0&&(s.error=r_),s.complete===void 0&&(s.complete=r_);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Jte(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function r_(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zte=1e3,ene=2,tne=4*60*60*1e3,nne=.5;function wk(t,e=Zte,n=ene){const r=e*Math.pow(n,t),s=Math.round(nne*r*(Math.random()-.5)*2);return Math.min(tne,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(t){return t&&t._delegate?t._delegate:t}class ps{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rne{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Vte;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ine(e))try{this.getOrInitializeService({instanceIdentifier:_a})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=_a){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_a){return this.instances.has(e)}getOptions(e=_a){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:sne(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_a){return this.component?this.component.multipleInstances?e:_a:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sne(t){return t===_a?void 0:t}function ine(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class one{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new rne(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ze||(ze={}));const ane={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},lne=ze.INFO,cne={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},une=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=cne[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xv{constructor(e){this.name=e,this._logLevel=lne,this._logHandler=une,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ane[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const dne=(t,e)=>e.some(n=>t instanceof n);let xk,Sk;function hne(){return xk||(xk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fne(){return Sk||(Sk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FO=new WeakMap,rw=new WeakMap,$O=new WeakMap,s_=new WeakMap,WS=new WeakMap;function pne(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(No(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&FO.set(n,t)}).catch(()=>{}),WS.set(e,t),e}function mne(t){if(rw.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});rw.set(t,e)}let sw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return rw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$O.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return No(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function gne(t){sw=t(sw)}function vne(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(i_(this),e,...n);return $O.set(r,e.sort?e.sort():[e]),No(r)}:fne().includes(t)?function(...e){return t.apply(i_(this),e),No(FO.get(this))}:function(...e){return No(t.apply(i_(this),e))}}function yne(t){return typeof t=="function"?vne(t):(t instanceof IDBTransaction&&mne(t),dne(t,hne())?new Proxy(t,sw):t)}function No(t){if(t instanceof IDBRequest)return pne(t);if(s_.has(t))return s_.get(t);const e=yne(t);return e!==t&&(s_.set(t,e),WS.set(e,t)),e}const i_=t=>WS.get(t);function zO(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=No(o);return r&&o.addEventListener("upgradeneeded",l=>{r(No(o.result),l.oldVersion,l.newVersion,No(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const _ne=["get","getKey","getAll","getAllKeys","count"],bne=["put","add","delete","clear"],o_=new Map;function Ek(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(o_.get(e))return o_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=bne.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||_ne.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return o_.set(e,i),i}gne(t=>({...t,get:(e,n,r)=>Ek(e,n)||t.get(e,n,r),has:(e,n)=>!!Ek(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wne{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(xne(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function xne(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const iw="@firebase/app",Ck="0.10.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=new Xv("@firebase/app"),Sne="@firebase/app-compat",Ene="@firebase/analytics-compat",Cne="@firebase/analytics",Tne="@firebase/app-check-compat",Ine="@firebase/app-check",kne="@firebase/auth",Pne="@firebase/auth-compat",Ane="@firebase/database",Rne="@firebase/database-compat",jne="@firebase/functions",Dne="@firebase/functions-compat",Nne="@firebase/installations",One="@firebase/installations-compat",Mne="@firebase/messaging",Lne="@firebase/messaging-compat",Vne="@firebase/performance",Fne="@firebase/performance-compat",$ne="@firebase/remote-config",zne="@firebase/remote-config-compat",Bne="@firebase/storage",Une="@firebase/storage-compat",Wne="@firebase/firestore",Hne="@firebase/vertexai-preview",qne="@firebase/firestore-compat",Gne="firebase",Kne="10.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow="[DEFAULT]",Qne={[iw]:"fire-core",[Sne]:"fire-core-compat",[Cne]:"fire-analytics",[Ene]:"fire-analytics-compat",[Ine]:"fire-app-check",[Tne]:"fire-app-check-compat",[kne]:"fire-auth",[Pne]:"fire-auth-compat",[Ane]:"fire-rtdb",[Rne]:"fire-rtdb-compat",[jne]:"fire-fn",[Dne]:"fire-fn-compat",[Nne]:"fire-iid",[One]:"fire-iid-compat",[Mne]:"fire-fcm",[Lne]:"fire-fcm-compat",[Vne]:"fire-perf",[Fne]:"fire-perf-compat",[$ne]:"fire-rc",[zne]:"fire-rc-compat",[Bne]:"fire-gcs",[Une]:"fire-gcs-compat",[Wne]:"fire-fst",[qne]:"fire-fst-compat",[Hne]:"fire-vertex","fire-js":"fire-js",[Gne]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pg=new Map,Yne=new Map,aw=new Map;function Tk(t,e){try{t.container.addComponent(e)}catch(n){Vi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ys(t){const e=t.name;if(aw.has(e))return Vi.debug(`There were multiple attempts to register component ${e}.`),!1;aw.set(e,t);for(const n of Pg.values())Tk(n,t);for(const n of Yne.values())Tk(n,t);return!0}function hl(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Vs(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xne={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Oo=new dl("app","Firebase",Xne);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jne{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Oo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hu=Kne;function BO(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ow,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Oo.create("bad-app-name",{appName:String(s)});if(n||(n=NO()),!n)throw Oo.create("no-options");const i=Pg.get(s);if(i){if(Ih(n,i.options)&&Ih(r,i.config))return i;throw Oo.create("duplicate-app",{appName:s})}const o=new one(s);for(const l of aw.values())o.addComponent(l);const a=new Jne(n,r,o);return Pg.set(s,a),a}function HS(t=ow){const e=Pg.get(t);if(!e&&t===ow&&NO())return BO();if(!e)throw Oo.create("no-app",{appName:t});return e}function Wr(t,e,n){var r;let s=(r=Qne[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vi.warn(a.join(" "));return}Ys(new ps(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zne="firebase-heartbeat-database",ere=1,kh="firebase-heartbeat-store";let a_=null;function UO(){return a_||(a_=zO(Zne,ere,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(kh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Oo.create("idb-open",{originalErrorMessage:t.message})})),a_}async function tre(t){try{const n=(await UO()).transaction(kh),r=await n.objectStore(kh).get(WO(t));return await n.done,r}catch(e){if(e instanceof bs)Vi.warn(e.message);else{const n=Oo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Vi.warn(n.message)}}}async function Ik(t,e){try{const r=(await UO()).transaction(kh,"readwrite");await r.objectStore(kh).put(e,WO(t)),await r.done}catch(n){if(n instanceof bs)Vi.warn(n.message);else{const r=Oo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Vi.warn(r.message)}}}function WO(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nre=1024,rre=30*24*60*60*1e3;class sre{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ore(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=kk();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=rre}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Vi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=kk(),{heartbeatsToSend:r,unsentEntries:s}=ire(this._heartbeatsCache.heartbeats),i=kg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Vi.warn(n),""}}}function kk(){return new Date().toISOString().substring(0,10)}function ire(t,e=nre){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Pk(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Pk(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ore{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LO()?VO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await tre(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Ik(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Ik(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Pk(t){return kg(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function are(t){Ys(new ps("platform-logger",e=>new wne(e),"PRIVATE")),Ys(new ps("heartbeat",e=>new sre(e),"PRIVATE")),Wr(iw,Ck,t),Wr(iw,Ck,"esm2017"),Wr("fire-js","")}are("");var Ak=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $a,HO;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,T){function I(){}I.prototype=T.prototype,C.D=T.prototype,C.prototype=new I,C.prototype.constructor=C,C.C=function(P,N,M){for(var R=Array(arguments.length-2),$=2;$<arguments.length;$++)R[$-2]=arguments[$];return T.prototype[N].apply(P,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,T,I){I||(I=0);var P=Array(16);if(typeof T=="string")for(var N=0;16>N;++N)P[N]=T.charCodeAt(I++)|T.charCodeAt(I++)<<8|T.charCodeAt(I++)<<16|T.charCodeAt(I++)<<24;else for(N=0;16>N;++N)P[N]=T[I++]|T[I++]<<8|T[I++]<<16|T[I++]<<24;T=C.g[0],I=C.g[1],N=C.g[2];var M=C.g[3],R=T+(M^I&(N^M))+P[0]+3614090360&4294967295;T=I+(R<<7&4294967295|R>>>25),R=M+(N^T&(I^N))+P[1]+3905402710&4294967295,M=T+(R<<12&4294967295|R>>>20),R=N+(I^M&(T^I))+P[2]+606105819&4294967295,N=M+(R<<17&4294967295|R>>>15),R=I+(T^N&(M^T))+P[3]+3250441966&4294967295,I=N+(R<<22&4294967295|R>>>10),R=T+(M^I&(N^M))+P[4]+4118548399&4294967295,T=I+(R<<7&4294967295|R>>>25),R=M+(N^T&(I^N))+P[5]+1200080426&4294967295,M=T+(R<<12&4294967295|R>>>20),R=N+(I^M&(T^I))+P[6]+2821735955&4294967295,N=M+(R<<17&4294967295|R>>>15),R=I+(T^N&(M^T))+P[7]+4249261313&4294967295,I=N+(R<<22&4294967295|R>>>10),R=T+(M^I&(N^M))+P[8]+1770035416&4294967295,T=I+(R<<7&4294967295|R>>>25),R=M+(N^T&(I^N))+P[9]+2336552879&4294967295,M=T+(R<<12&4294967295|R>>>20),R=N+(I^M&(T^I))+P[10]+4294925233&4294967295,N=M+(R<<17&4294967295|R>>>15),R=I+(T^N&(M^T))+P[11]+2304563134&4294967295,I=N+(R<<22&4294967295|R>>>10),R=T+(M^I&(N^M))+P[12]+1804603682&4294967295,T=I+(R<<7&4294967295|R>>>25),R=M+(N^T&(I^N))+P[13]+4254626195&4294967295,M=T+(R<<12&4294967295|R>>>20),R=N+(I^M&(T^I))+P[14]+2792965006&4294967295,N=M+(R<<17&4294967295|R>>>15),R=I+(T^N&(M^T))+P[15]+1236535329&4294967295,I=N+(R<<22&4294967295|R>>>10),R=T+(N^M&(I^N))+P[1]+4129170786&4294967295,T=I+(R<<5&4294967295|R>>>27),R=M+(I^N&(T^I))+P[6]+3225465664&4294967295,M=T+(R<<9&4294967295|R>>>23),R=N+(T^I&(M^T))+P[11]+643717713&4294967295,N=M+(R<<14&4294967295|R>>>18),R=I+(M^T&(N^M))+P[0]+3921069994&4294967295,I=N+(R<<20&4294967295|R>>>12),R=T+(N^M&(I^N))+P[5]+3593408605&4294967295,T=I+(R<<5&4294967295|R>>>27),R=M+(I^N&(T^I))+P[10]+38016083&4294967295,M=T+(R<<9&4294967295|R>>>23),R=N+(T^I&(M^T))+P[15]+3634488961&4294967295,N=M+(R<<14&4294967295|R>>>18),R=I+(M^T&(N^M))+P[4]+3889429448&4294967295,I=N+(R<<20&4294967295|R>>>12),R=T+(N^M&(I^N))+P[9]+568446438&4294967295,T=I+(R<<5&4294967295|R>>>27),R=M+(I^N&(T^I))+P[14]+3275163606&4294967295,M=T+(R<<9&4294967295|R>>>23),R=N+(T^I&(M^T))+P[3]+4107603335&4294967295,N=M+(R<<14&4294967295|R>>>18),R=I+(M^T&(N^M))+P[8]+1163531501&4294967295,I=N+(R<<20&4294967295|R>>>12),R=T+(N^M&(I^N))+P[13]+2850285829&4294967295,T=I+(R<<5&4294967295|R>>>27),R=M+(I^N&(T^I))+P[2]+4243563512&4294967295,M=T+(R<<9&4294967295|R>>>23),R=N+(T^I&(M^T))+P[7]+1735328473&4294967295,N=M+(R<<14&4294967295|R>>>18),R=I+(M^T&(N^M))+P[12]+2368359562&4294967295,I=N+(R<<20&4294967295|R>>>12),R=T+(I^N^M)+P[5]+4294588738&4294967295,T=I+(R<<4&4294967295|R>>>28),R=M+(T^I^N)+P[8]+2272392833&4294967295,M=T+(R<<11&4294967295|R>>>21),R=N+(M^T^I)+P[11]+1839030562&4294967295,N=M+(R<<16&4294967295|R>>>16),R=I+(N^M^T)+P[14]+4259657740&4294967295,I=N+(R<<23&4294967295|R>>>9),R=T+(I^N^M)+P[1]+2763975236&4294967295,T=I+(R<<4&4294967295|R>>>28),R=M+(T^I^N)+P[4]+1272893353&4294967295,M=T+(R<<11&4294967295|R>>>21),R=N+(M^T^I)+P[7]+4139469664&4294967295,N=M+(R<<16&4294967295|R>>>16),R=I+(N^M^T)+P[10]+3200236656&4294967295,I=N+(R<<23&4294967295|R>>>9),R=T+(I^N^M)+P[13]+681279174&4294967295,T=I+(R<<4&4294967295|R>>>28),R=M+(T^I^N)+P[0]+3936430074&4294967295,M=T+(R<<11&4294967295|R>>>21),R=N+(M^T^I)+P[3]+3572445317&4294967295,N=M+(R<<16&4294967295|R>>>16),R=I+(N^M^T)+P[6]+76029189&4294967295,I=N+(R<<23&4294967295|R>>>9),R=T+(I^N^M)+P[9]+3654602809&4294967295,T=I+(R<<4&4294967295|R>>>28),R=M+(T^I^N)+P[12]+3873151461&4294967295,M=T+(R<<11&4294967295|R>>>21),R=N+(M^T^I)+P[15]+530742520&4294967295,N=M+(R<<16&4294967295|R>>>16),R=I+(N^M^T)+P[2]+3299628645&4294967295,I=N+(R<<23&4294967295|R>>>9),R=T+(N^(I|~M))+P[0]+4096336452&4294967295,T=I+(R<<6&4294967295|R>>>26),R=M+(I^(T|~N))+P[7]+1126891415&4294967295,M=T+(R<<10&4294967295|R>>>22),R=N+(T^(M|~I))+P[14]+2878612391&4294967295,N=M+(R<<15&4294967295|R>>>17),R=I+(M^(N|~T))+P[5]+4237533241&4294967295,I=N+(R<<21&4294967295|R>>>11),R=T+(N^(I|~M))+P[12]+1700485571&4294967295,T=I+(R<<6&4294967295|R>>>26),R=M+(I^(T|~N))+P[3]+2399980690&4294967295,M=T+(R<<10&4294967295|R>>>22),R=N+(T^(M|~I))+P[10]+4293915773&4294967295,N=M+(R<<15&4294967295|R>>>17),R=I+(M^(N|~T))+P[1]+2240044497&4294967295,I=N+(R<<21&4294967295|R>>>11),R=T+(N^(I|~M))+P[8]+1873313359&4294967295,T=I+(R<<6&4294967295|R>>>26),R=M+(I^(T|~N))+P[15]+4264355552&4294967295,M=T+(R<<10&4294967295|R>>>22),R=N+(T^(M|~I))+P[6]+2734768916&4294967295,N=M+(R<<15&4294967295|R>>>17),R=I+(M^(N|~T))+P[13]+1309151649&4294967295,I=N+(R<<21&4294967295|R>>>11),R=T+(N^(I|~M))+P[4]+4149444226&4294967295,T=I+(R<<6&4294967295|R>>>26),R=M+(I^(T|~N))+P[11]+3174756917&4294967295,M=T+(R<<10&4294967295|R>>>22),R=N+(T^(M|~I))+P[2]+718787259&4294967295,N=M+(R<<15&4294967295|R>>>17),R=I+(M^(N|~T))+P[9]+3951481745&4294967295,C.g[0]=C.g[0]+T&4294967295,C.g[1]=C.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+M&4294967295}r.prototype.u=function(C,T){T===void 0&&(T=C.length);for(var I=T-this.blockSize,P=this.B,N=this.h,M=0;M<T;){if(N==0)for(;M<=I;)s(this,C,M),M+=this.blockSize;if(typeof C=="string"){for(;M<T;)if(P[N++]=C.charCodeAt(M++),N==this.blockSize){s(this,P),N=0;break}}else for(;M<T;)if(P[N++]=C[M++],N==this.blockSize){s(this,P),N=0;break}}this.h=N,this.o+=T},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var T=1;T<C.length-8;++T)C[T]=0;var I=8*this.o;for(T=C.length-8;T<C.length;++T)C[T]=I&255,I/=256;for(this.u(C),C=Array(16),T=I=0;4>T;++T)for(var P=0;32>P;P+=8)C[I++]=this.g[T]>>>P&255;return C};function i(C,T){var I=a;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=T(C)}function o(C,T){this.h=T;for(var I=[],P=!0,N=C.length-1;0<=N;N--){var M=C[N]|0;P&&M==T||(I[N]=M,P=!1)}this.g=I}var a={};function l(C){return-128<=C&&128>C?i(C,function(T){return new o([T|0],0>T?-1:0)}):new o([C|0],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return f;if(0>C)return S(c(-C));for(var T=[],I=1,P=0;C>=I;P++)T[P]=C/I|0,I*=4294967296;return new o(T,0)}function d(C,T){if(C.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(C.charAt(0)=="-")return S(d(C.substring(1),T));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(T,8)),P=f,N=0;N<C.length;N+=8){var M=Math.min(8,C.length-N),R=parseInt(C.substring(N,N+M),T);8>M?(M=c(Math.pow(T,M)),P=P.j(M).add(c(R))):(P=P.j(I),P=P.add(c(R)))}return P}var f=l(0),p=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(v(this))return-S(this).m();for(var C=0,T=1,I=0;I<this.g.length;I++){var P=this.i(I);C+=(0<=P?P:4294967296+P)*T,T*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(_(this))return"0";if(v(this))return"-"+S(this).toString(C);for(var T=c(Math.pow(C,6)),I=this,P="";;){var N=k(I,T).g;I=x(I,N.j(T));var M=((0<I.g.length?I.g[0]:I.h)>>>0).toString(C);if(I=N,_(I))return M+P;for(;6>M.length;)M="0"+M;P=M+P}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function _(C){if(C.h!=0)return!1;for(var T=0;T<C.g.length;T++)if(C.g[T]!=0)return!1;return!0}function v(C){return C.h==-1}t.l=function(C){return C=x(this,C),v(C)?-1:_(C)?0:1};function S(C){for(var T=C.g.length,I=[],P=0;P<T;P++)I[P]=~C.g[P];return new o(I,~C.h).add(p)}t.abs=function(){return v(this)?S(this):this},t.add=function(C){for(var T=Math.max(this.g.length,C.g.length),I=[],P=0,N=0;N<=T;N++){var M=P+(this.i(N)&65535)+(C.i(N)&65535),R=(M>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);P=R>>>16,M&=65535,R&=65535,I[N]=R<<16|M}return new o(I,I[I.length-1]&-2147483648?-1:0)};function x(C,T){return C.add(S(T))}t.j=function(C){if(_(this)||_(C))return f;if(v(this))return v(C)?S(this).j(S(C)):S(S(this).j(C));if(v(C))return S(this.j(S(C)));if(0>this.l(m)&&0>C.l(m))return c(this.m()*C.m());for(var T=this.g.length+C.g.length,I=[],P=0;P<2*T;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(var N=0;N<C.g.length;N++){var M=this.i(P)>>>16,R=this.i(P)&65535,$=C.i(N)>>>16,X=C.i(N)&65535;I[2*P+2*N]+=R*X,b(I,2*P+2*N),I[2*P+2*N+1]+=M*X,b(I,2*P+2*N+1),I[2*P+2*N+1]+=R*$,b(I,2*P+2*N+1),I[2*P+2*N+2]+=M*$,b(I,2*P+2*N+2)}for(P=0;P<T;P++)I[P]=I[2*P+1]<<16|I[2*P];for(P=T;P<2*T;P++)I[P]=0;return new o(I,0)};function b(C,T){for(;(C[T]&65535)!=C[T];)C[T+1]+=C[T]>>>16,C[T]&=65535,T++}function w(C,T){this.g=C,this.h=T}function k(C,T){if(_(T))throw Error("division by zero");if(_(C))return new w(f,f);if(v(C))return T=k(S(C),T),new w(S(T.g),S(T.h));if(v(T))return T=k(C,S(T)),new w(S(T.g),T.h);if(30<C.g.length){if(v(C)||v(T))throw Error("slowDivide_ only works with positive integers.");for(var I=p,P=T;0>=P.l(C);)I=j(I),P=j(P);var N=O(I,1),M=O(P,1);for(P=O(P,2),I=O(I,2);!_(P);){var R=M.add(P);0>=R.l(C)&&(N=N.add(I),M=R),P=O(P,1),I=O(I,1)}return T=x(C,N.j(T)),new w(N,T)}for(N=f;0<=C.l(T);){for(I=Math.max(1,Math.floor(C.m()/T.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),M=c(I),R=M.j(T);v(R)||0<R.l(C);)I-=P,M=c(I),R=M.j(T);_(M)&&(M=p),N=N.add(M),C=x(C,R)}return new w(N,C)}t.A=function(C){return k(this,C).h},t.and=function(C){for(var T=Math.max(this.g.length,C.g.length),I=[],P=0;P<T;P++)I[P]=this.i(P)&C.i(P);return new o(I,this.h&C.h)},t.or=function(C){for(var T=Math.max(this.g.length,C.g.length),I=[],P=0;P<T;P++)I[P]=this.i(P)|C.i(P);return new o(I,this.h|C.h)},t.xor=function(C){for(var T=Math.max(this.g.length,C.g.length),I=[],P=0;P<T;P++)I[P]=this.i(P)^C.i(P);return new o(I,this.h^C.h)};function j(C){for(var T=C.g.length+1,I=[],P=0;P<T;P++)I[P]=C.i(P)<<1|C.i(P-1)>>>31;return new o(I,C.h)}function O(C,T){var I=T>>5;T%=32;for(var P=C.g.length-I,N=[],M=0;M<P;M++)N[M]=0<T?C.i(M+I)>>>T|C.i(M+I+1)<<32-T:C.i(M+I);return new o(N,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,HO=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,$a=o}).apply(typeof Ak<"u"?Ak:typeof self<"u"?self:typeof window<"u"?window:{});var $p=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qO,GO,fd,KO,Cm,lw,QO,YO,XO;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,E){return h==Array.prototype||h==Object.prototype||(h[y]=E.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof $p=="object"&&$p];for(var y=0;y<h.length;++y){var E=h[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function s(h,y){if(y)e:{var E=r;h=h.split(".");for(var A=0;A<h.length-1;A++){var F=h[A];if(!(F in E))break e;E=E[F]}h=h[h.length-1],A=E[h],y=y(A),y!=A&&y!=null&&e(E,h,{configurable:!0,writable:!0,value:y})}}function i(h,y){h instanceof String&&(h+="");var E=0,A=!1,F={next:function(){if(!A&&E<h.length){var W=E++;return{value:y(W,h[W]),done:!1}}return A=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}s("Array.prototype.values",function(h){return h||function(){return i(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function c(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function d(h,y,E){return h.call.apply(h.bind,arguments)}function f(h,y,E){if(!h)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,A),h.apply(y,F)}}return function(){return h.apply(y,arguments)}}function p(h,y,E){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,p.apply(null,arguments)}function m(h,y){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function _(h,y){function E(){}E.prototype=y.prototype,h.aa=y.prototype,h.prototype=new E,h.prototype.constructor=h,h.Qb=function(A,F,W){for(var oe=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)oe[ot-2]=arguments[ot];return y.prototype[F].apply(A,oe)}}function v(h){const y=h.length;if(0<y){const E=Array(y);for(let A=0;A<y;A++)E[A]=h[A];return E}return[]}function S(h,y){for(let E=1;E<arguments.length;E++){const A=arguments[E];if(l(A)){const F=h.length||0,W=A.length||0;h.length=F+W;for(let oe=0;oe<W;oe++)h[F+oe]=A[oe]}else h.push(A)}}class x{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function b(h){return/^[\s\xa0]*$/.test(h)}function w(){var h=a.navigator;return h&&(h=h.userAgent)?h:""}function k(h){return k[" "](h),h}k[" "]=function(){};var j=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function O(h,y,E){for(const A in h)y.call(E,h[A],A,h)}function C(h,y){for(const E in h)y.call(void 0,h[E],E,h)}function T(h){const y={};for(const E in h)y[E]=h[E];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(h,y){let E,A;for(let F=1;F<arguments.length;F++){A=arguments[F];for(E in A)h[E]=A[E];for(let W=0;W<I.length;W++)E=I[W],Object.prototype.hasOwnProperty.call(A,E)&&(h[E]=A[E])}}function N(h){var y=1;h=h.split(":");const E=[];for(;0<y&&h.length;)E.push(h.shift()),y--;return h.length&&E.push(h.join(":")),E}function M(h){a.setTimeout(()=>{throw h},0)}function R(){var h=ee;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class ${constructor(){this.h=this.g=null}add(y,E){const A=X.get();A.set(y,E),this.h?this.h.next=A:this.g=A,this.h=A}}var X=new x(()=>new ne,h=>h.reset());class ne{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let B,G=!1,ee=new $,he=()=>{const h=a.Promise.resolve(void 0);B=()=>{h.then(ue)}};var ue=()=>{for(var h;h=R();){try{h.h.call(h.g)}catch(E){M(E)}var y=X;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}G=!1};function ve(){this.s=this.s,this.C=this.C}ve.prototype.s=!1,ve.prototype.ma=function(){this.s||(this.s=!0,this.N())},ve.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};a.addEventListener("test",E,y),a.removeEventListener("test",E,y)}catch{}return h}();function Te(h,y){if(ie.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var E=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(j){e:{try{k(y.nodeName);var F=!0;break e}catch{}F=!1}F||(y=null)}}else E=="mouseover"?y=h.fromElement:E=="mouseout"&&(y=h.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Ne[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Te.aa.h.call(this)}}_(Te,ie);var Ne={2:"touch",3:"pen",4:"mouse"};Te.prototype.h=function(){Te.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Me="closure_listenable_"+(1e6*Math.random()|0),q=0;function Y(h,y,E,A,F){this.listener=h,this.proxy=null,this.src=y,this.type=E,this.capture=!!A,this.ha=F,this.key=++q,this.da=this.fa=!1}function re(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Re(h){this.src=h,this.g={},this.h=0}Re.prototype.add=function(h,y,E,A,F){var W=h.toString();h=this.g[W],h||(h=this.g[W]=[],this.h++);var oe=ut(h,y,A,F);return-1<oe?(y=h[oe],E||(y.fa=!1)):(y=new Y(y,this.src,W,!!A,F),y.fa=E,h.push(y)),y};function je(h,y){var E=y.type;if(E in h.g){var A=h.g[E],F=Array.prototype.indexOf.call(A,y,void 0),W;(W=0<=F)&&Array.prototype.splice.call(A,F,1),W&&(re(y),h.g[E].length==0&&(delete h.g[E],h.h--))}}function ut(h,y,E,A){for(var F=0;F<h.length;++F){var W=h[F];if(!W.da&&W.listener==y&&W.capture==!!E&&W.ha==A)return F}return-1}var Ar="closure_lm_"+(1e6*Math.random()|0),Xr={};function ln(h,y,E,A,F){if(A&&A.once)return Qn(h,y,E,A,F);if(Array.isArray(y)){for(var W=0;W<y.length;W++)ln(h,y[W],E,A,F);return null}return E=Gi(E),h&&h[Me]?h.K(y,E,c(A)?!!A.capture:!!A,F):Kn(h,y,E,!1,A,F)}function Kn(h,y,E,A,F,W){if(!y)throw Error("Invalid event type");var oe=c(F)?!!F.capture:!!F,ot=xs(h);if(ot||(h[Ar]=ot=new Re(h)),E=ot.add(y,E,A,oe,W),E.proxy)return E;if(A=Rr(),E.proxy=A,A.src=h,A.listener=E,h.addEventListener)Se||(F=oe),F===void 0&&(F=!1),h.addEventListener(y.toString(),A,F);else if(h.attachEvent)h.attachEvent(ws(y.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Rr(){function h(E){return y.call(h.src,h.listener,E)}const y=Yn;return h}function Qn(h,y,E,A,F){if(Array.isArray(y)){for(var W=0;W<y.length;W++)Qn(h,y[W],E,A,F);return null}return E=Gi(E),h&&h[Me]?h.L(y,E,c(A)?!!A.capture:!!A,F):Kn(h,y,E,!0,A,F)}function tn(h,y,E,A,F){if(Array.isArray(y))for(var W=0;W<y.length;W++)tn(h,y[W],E,A,F);else A=c(A)?!!A.capture:!!A,E=Gi(E),h&&h[Me]?(h=h.i,y=String(y).toString(),y in h.g&&(W=h.g[y],E=ut(W,E,A,F),-1<E&&(re(W[E]),Array.prototype.splice.call(W,E,1),W.length==0&&(delete h.g[y],h.h--)))):h&&(h=xs(h))&&(y=h.g[y.toString()],h=-1,y&&(h=ut(y,E,A,F)),(E=-1<h?y[h]:null)&&jr(E))}function jr(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Me])je(y.i,h);else{var E=h.type,A=h.proxy;y.removeEventListener?y.removeEventListener(E,A,h.capture):y.detachEvent?y.detachEvent(ws(E),A):y.addListener&&y.removeListener&&y.removeListener(A),(E=xs(y))?(je(E,h),E.h==0&&(E.src=null,y[Ar]=null)):re(h)}}}function ws(h){return h in Xr?Xr[h]:Xr[h]="on"+h}function Yn(h,y){if(h.da)h=!0;else{y=new Te(y,this);var E=h.listener,A=h.ha||h.src;h.fa&&jr(h),h=E.call(A,y)}return h}function xs(h){return h=h[Ar],h instanceof Re?h:null}var ti="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gi(h){return typeof h=="function"?h:(h[ti]||(h[ti]=function(y){return h.handleEvent(y)}),h[ti])}function Dt(){ve.call(this),this.i=new Re(this),this.M=this,this.F=null}_(Dt,ve),Dt.prototype[Me]=!0,Dt.prototype.removeEventListener=function(h,y,E,A){tn(this,h,y,E,A)};function Et(h,y){var E,A=h.F;if(A)for(E=[];A;A=A.F)E.push(A);if(h=h.M,A=y.type||y,typeof y=="string")y=new ie(y,h);else if(y instanceof ie)y.target=y.target||h;else{var F=y;y=new ie(A,h),P(y,F)}if(F=!0,E)for(var W=E.length-1;0<=W;W--){var oe=y.g=E[W];F=na(oe,A,!0,y)&&F}if(oe=y.g=h,F=na(oe,A,!0,y)&&F,F=na(oe,A,!1,y)&&F,E)for(W=0;W<E.length;W++)oe=y.g=E[W],F=na(oe,A,!1,y)&&F}Dt.prototype.N=function(){if(Dt.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var E=h.g[y],A=0;A<E.length;A++)re(E[A]);delete h.g[y],h.h--}}this.F=null},Dt.prototype.K=function(h,y,E,A){return this.i.add(String(h),y,!1,E,A)},Dt.prototype.L=function(h,y,E,A){return this.i.add(String(h),y,!0,E,A)};function na(h,y,E,A){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var F=!0,W=0;W<y.length;++W){var oe=y[W];if(oe&&!oe.da&&oe.capture==E){var ot=oe.listener,un=oe.ha||oe.src;oe.fa&&je(h.i,oe),F=ot.call(un,A)!==!1&&F}}return F&&!A.defaultPrevented}function Eu(h,y,E){if(typeof h=="function")E&&(h=p(h,E));else if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:a.setTimeout(h,y||0)}function Cu(h){h.g=Eu(()=>{h.g=null,h.i&&(h.i=!1,Cu(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class If extends ve{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Cu(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ki(h){ve.call(this),this.h=h,this.g={}}_(Ki,ve);var kf=[];function Pf(h){O(h.g,function(y,E){this.g.hasOwnProperty(E)&&jr(y)},h),h.g={}}Ki.prototype.N=function(){Ki.aa.N.call(this),Pf(this)},Ki.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Jr=a.JSON.stringify,gl=a.JSON.parse,Ty=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function vl(){}vl.prototype.h=null;function Af(h){return h.h||(h.h=h.i())}function Tu(){}var Zr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Iu(){ie.call(this,"d")}_(Iu,ie);function es(){ie.call(this,"c")}_(es,ie);var ni={},Rf=null;function yl(){return Rf=Rf||new Dt}ni.La="serverreachability";function jf(h){ie.call(this,ni.La,h)}_(jf,ie);function ra(h){const y=yl();Et(y,new jf(y))}ni.STAT_EVENT="statevent";function Dr(h,y){ie.call(this,ni.STAT_EVENT,h),this.stat=y}_(Dr,ie);function cn(h){const y=yl();Et(y,new Dr(y,h))}ni.Ma="timingevent";function Df(h,y){ie.call(this,ni.Ma,h),this.size=y}_(Df,ie);function sa(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},y)}function ia(){this.g=!0}ia.prototype.xa=function(){this.g=!1};function Iy(h,y,E,A,F,W){h.info(function(){if(h.g)if(W)for(var oe="",ot=W.split("&"),un=0;un<ot.length;un++){var We=ot[un].split("=");if(1<We.length){var En=We[0];We=We[1];var Cn=En.split("_");oe=2<=Cn.length&&Cn[1]=="type"?oe+(En+"="+We+"&"):oe+(En+"=redacted&")}}else oe=null;else oe=W;return"XMLHTTP REQ ("+A+") [attempt "+F+"]: "+y+`
`+E+`
`+oe})}function Qi(h,y,E,A,F,W,oe){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+F+"]: "+y+`
`+E+`
`+W+" "+oe})}function Yi(h,y,E,A){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Py(h,E)+(A?" "+A:"")})}function ky(h,y){h.info(function(){return"TIMEOUT: "+y})}ia.prototype.info=function(){};function Py(h,y){if(!h.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(h=0;h<E.length;h++)if(Array.isArray(E[h])){var A=E[h];if(!(2>A.length)){var F=A[1];if(Array.isArray(F)&&!(1>F.length)){var W=F[0];if(W!="noop"&&W!="stop"&&W!="close")for(var oe=1;oe<F.length;oe++)F[oe]=""}}}}return Jr(E)}catch{return y}}var _l={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Nf={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ss;function bl(){}_(bl,vl),bl.prototype.g=function(){return new XMLHttpRequest},bl.prototype.i=function(){return{}},Ss=new bl;function Es(h,y,E,A){this.j=h,this.i=y,this.l=E,this.R=A||1,this.U=new Ki(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Of}function Of(){this.i=null,this.g="",this.h=!1}var Mf={},ku={};function Pu(h,y,E){h.L=1,h.v=Cl(ns(y)),h.m=E,h.P=!0,wl(h,null)}function wl(h,y){h.F=Date.now(),Xi(h),h.A=ns(h.v);var E=h.A,A=h.R;Array.isArray(A)||(A=[String(A)]),Gf(E.i,"t",A),h.C=0,E=h.j.J,h.h=new Of,h.g=dE(h.j,E?y:null,!h.m),0<h.O&&(h.M=new If(p(h.Y,h,h.g),h.O)),y=h.U,E=h.g,A=h.ca;var F="readystatechange";Array.isArray(F)||(F&&(kf[0]=F.toString()),F=kf);for(var W=0;W<F.length;W++){var oe=ln(E,F[W],A||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=h.H?T(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),ra(),Iy(h.i,h.u,h.A,h.l,h.R,h.m)}Es.prototype.ca=function(h){h=h.target;const y=this.M;y&&At(h)==3?y.j():this.Y(h)},Es.prototype.Y=function(h){try{if(h==this.g)e:{const Cn=At(this.g);var y=this.g.Ba();const Rl=this.g.Z();if(!(3>Cn)&&(Cn!=3||this.g&&(this.h.h||this.g.oa()||Sn(this.g)))){this.J||Cn!=4||y==7||(y==8||0>=Rl?ra(3):ra(2)),Ji(this);var E=this.g.Z();this.X=E;t:if(Lf(this)){var A=Sn(this.g);h="";var F=A.length,W=At(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ri(this),Zi(this);var oe="";break t}this.h.i=new a.TextDecoder}for(y=0;y<F;y++)this.h.h=!0,h+=this.h.i.decode(A[y],{stream:!(W&&y==F-1)});A.length=0,this.h.g+=h,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=E==200,Qi(this.i,this.u,this.A,this.l,this.R,Cn,E),this.o){if(this.T&&!this.K){t:{if(this.g){var ot,un=this.g;if((ot=un.g?un.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(ot)){var We=ot;break t}}We=null}if(E=We)Yi(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Au(this,E);else{this.o=!1,this.s=3,cn(12),ri(this),Zi(this);break e}}if(this.P){E=!0;let rs;for(;!this.J&&this.C<oe.length;)if(rs=xl(this,oe),rs==ku){Cn==4&&(this.s=4,cn(14),E=!1),Yi(this.i,this.l,null,"[Incomplete Response]");break}else if(rs==Mf){this.s=4,cn(15),Yi(this.i,this.l,oe,"[Invalid Chunk]"),E=!1;break}else Yi(this.i,this.l,rs,null),Au(this,rs);if(Lf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Cn!=4||oe.length!=0||this.h.h||(this.s=1,cn(16),E=!1),this.o=this.o&&E,!E)Yi(this.i,this.l,oe,"[Invalid Chunked Response]"),ri(this),Zi(this);else if(0<oe.length&&!this.W){this.W=!0;var En=this.j;En.g==this&&En.ba&&!En.M&&(En.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),Fy(En),En.M=!0,cn(11))}}else Yi(this.i,this.l,oe,null),Au(this,oe);Cn==4&&ri(this),this.o&&!this.J&&(Cn==4?aE(this.j,this):(this.o=!1,Xi(this)))}else da(this.g),E==400&&0<oe.indexOf("Unknown SID")?(this.s=3,cn(12)):(this.s=0,cn(13)),ri(this),Zi(this)}}}catch{}finally{}};function Lf(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function xl(h,y){var E=h.C,A=y.indexOf(`
`,E);return A==-1?ku:(E=Number(y.substring(E,A)),isNaN(E)?Mf:(A+=1,A+E>y.length?ku:(y=y.slice(A,A+E),h.C=A+E,y)))}Es.prototype.cancel=function(){this.J=!0,ri(this)};function Xi(h){h.S=Date.now()+h.I,Vf(h,h.I)}function Vf(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=sa(p(h.ba,h),y)}function Ji(h){h.B&&(a.clearTimeout(h.B),h.B=null)}Es.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(ky(this.i,this.A),this.L!=2&&(ra(),cn(17)),ri(this),this.s=2,Zi(this)):Vf(this,this.S-h)};function Zi(h){h.j.G==0||h.J||aE(h.j,h)}function ri(h){Ji(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,Pf(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function Au(h,y){try{var E=h.j;if(E.G!=0&&(E.g==h||ju(E.h,h))){if(!h.K&&ju(E.h,h)&&E.G==3){try{var A=E.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var F=A;if(F[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<h.F)ep(E),Jf(E);else break e;Vy(E),cn(18)}}else E.za=F[1],0<E.za-E.T&&37500>F[2]&&E.F&&E.v==0&&!E.C&&(E.C=sa(p(E.Za,E),6e3));if(1>=$f(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else ha(E,11)}else if((h.K||E.g==h)&&ep(E),!b(y))for(F=E.Da.g.parse(y),y=0;y<F.length;y++){let We=F[y];if(E.T=We[0],We=We[1],E.G==2)if(We[0]=="c"){E.K=We[1],E.ia=We[2];const En=We[3];En!=null&&(E.la=En,E.j.info("VER="+E.la));const Cn=We[4];Cn!=null&&(E.Aa=Cn,E.j.info("SVER="+E.Aa));const Rl=We[5];Rl!=null&&typeof Rl=="number"&&0<Rl&&(A=1.5*Rl,E.L=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const rs=h.g;if(rs){const np=rs.g?rs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(np){var W=A.h;W.g||np.indexOf("spdy")==-1&&np.indexOf("quic")==-1&&np.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Du(W,W.h),W.h=null))}if(A.D){const $y=rs.g?rs.g.getResponseHeader("X-HTTP-Session-Id"):null;$y&&(A.ya=$y,rt(A.I,A.D,$y))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-h.F,E.j.info("Handshake RTT: "+E.R+"ms")),A=E;var oe=h;if(A.qa=uE(A,A.J?A.ia:null,A.W),oe.K){zf(A.h,oe);var ot=oe,un=A.L;un&&(ot.I=un),ot.B&&(Ji(ot),Xi(ot)),A.g=oe}else iE(A);0<E.i.length&&Zf(E)}else We[0]!="stop"&&We[0]!="close"||ha(E,7);else E.G==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?ha(E,7):Pl(E):We[0]!="noop"&&E.l&&E.l.ta(We),E.v=0)}}ra(4)}catch{}}var Ay=class{constructor(h,y){this.g=h,this.map=y}};function Ru(h){this.l=h||10,a.PerformanceNavigationTiming?(h=a.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ff(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function $f(h){return h.h?1:h.g?h.g.size:0}function ju(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Du(h,y){h.g?h.g.add(y):h.h=y}function zf(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Ru.prototype.cancel=function(){if(this.i=Bf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Bf(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const E of h.g.values())y=y.concat(E.D);return y}return v(h.i)}function Ry(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(l(h)){for(var y=[],E=h.length,A=0;A<E;A++)y.push(h[A]);return y}y=[],E=0;for(A in h)y[E++]=h[A];return y}function jy(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(l(h)||typeof h=="string"){var y=[];h=h.length;for(var E=0;E<h;E++)y.push(E);return y}y=[],E=0;for(const A in h)y[E++]=A;return y}}}function Uf(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(l(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var E=jy(h),A=Ry(h),F=A.length,W=0;W<F;W++)y.call(void 0,A[W],E&&E[W],h)}var Wf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sl(h,y){if(h){h=h.split("&");for(var E=0;E<h.length;E++){var A=h[E].indexOf("="),F=null;if(0<=A){var W=h[E].substring(0,A);F=h[E].substring(A+1)}else W=h[E];y(W,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function ts(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof ts){this.h=h.h,El(this,h.j),this.o=h.o,this.g=h.g,oa(this,h.s),this.l=h.l;var y=h.i,E=new Cs;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),Hf(this,E),this.m=h.m}else h&&(y=String(h).match(Wf))?(this.h=!1,El(this,y[1]||"",!0),this.o=eo(y[2]||""),this.g=eo(y[3]||"",!0),oa(this,y[4]),this.l=eo(y[5]||"",!0),Hf(this,y[6]||"",!0),this.m=eo(y[7]||"")):(this.h=!1,this.i=new Cs(null,this.h))}ts.prototype.toString=function(){var h=[],y=this.j;y&&h.push(aa(y,qf,!0),":");var E=this.g;return(E||y=="file")&&(h.push("//"),(y=this.o)&&h.push(aa(y,qf,!0),"@"),h.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&h.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(aa(E,E.charAt(0)=="/"?Ny:Nu,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",aa(E,My)),h.join("")};function ns(h){return new ts(h)}function El(h,y,E){h.j=E?eo(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function oa(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function Hf(h,y,E){y instanceof Cs?(h.i=y,Ou(h.i,h.h)):(E||(y=aa(y,Oy)),h.i=new Cs(y,h.h))}function rt(h,y,E){h.i.set(y,E)}function Cl(h){return rt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function eo(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function aa(h,y,E){return typeof h=="string"?(h=encodeURI(h).replace(y,Dy),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Dy(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var qf=/[#\/\?@]/g,Nu=/[#\?:]/g,Ny=/[#\?]/g,Oy=/[#\?@]/g,My=/#/g;function Cs(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function Nr(h){h.g||(h.g=new Map,h.h=0,h.i&&Sl(h.i,function(y,E){h.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}t=Cs.prototype,t.add=function(h,y){Nr(this),this.i=null,h=si(this,h);var E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(y),this.h+=1,this};function Tl(h,y){Nr(h),y=si(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function Il(h,y){return Nr(h),y=si(h,y),h.g.has(y)}t.forEach=function(h,y){Nr(this),this.g.forEach(function(E,A){E.forEach(function(F){h.call(y,F,A,this)},this)},this)},t.na=function(){Nr(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let A=0;A<y.length;A++){const F=h[A];for(let W=0;W<F.length;W++)E.push(y[A])}return E},t.V=function(h){Nr(this);let y=[];if(typeof h=="string")Il(this,h)&&(y=y.concat(this.g.get(si(this,h))));else{h=Array.from(this.g.values());for(let E=0;E<h.length;E++)y=y.concat(h[E])}return y},t.set=function(h,y){return Nr(this),this.i=null,h=si(this,h),Il(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},t.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function Gf(h,y,E){Tl(h,y),0<E.length&&(h.i=null,h.g.set(si(h,y),v(E)),h.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var A=y[E];const W=encodeURIComponent(String(A)),oe=this.V(A);for(A=0;A<oe.length;A++){var F=W;oe[A]!==""&&(F+="="+encodeURIComponent(String(oe[A]))),h.push(F)}}return this.i=h.join("&")};function si(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Ou(h,y){y&&!h.j&&(Nr(h),h.i=null,h.g.forEach(function(E,A){var F=A.toLowerCase();A!=F&&(Tl(this,A),Gf(this,F,E))},h)),h.j=y}function Kf(h,y){const E=new ia;if(a.Image){const A=new Image;A.onload=m(Xn,E,"TestLoadImage: loaded",!0,y,A),A.onerror=m(Xn,E,"TestLoadImage: error",!1,y,A),A.onabort=m(Xn,E,"TestLoadImage: abort",!1,y,A),A.ontimeout=m(Xn,E,"TestLoadImage: timeout",!1,y,A),a.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else y(!1)}function ii(h,y){const E=new ia,A=new AbortController,F=setTimeout(()=>{A.abort(),Xn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:A.signal}).then(W=>{clearTimeout(F),W.ok?Xn(E,"TestPingServer: ok",!0,y):Xn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),Xn(E,"TestPingServer: error",!1,y)})}function Xn(h,y,E,A,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),A(E)}catch{}}function Ly(){this.g=new Ty}function Qf(h,y,E){const A=E||"";try{Uf(h,function(F,W){let oe=F;c(F)&&(oe=Jr(F)),y.push(A+W+"="+encodeURIComponent(oe))})}catch(F){throw y.push(A+"type="+encodeURIComponent("_badmap")),F}}function la(h){this.l=h.Ub||null,this.j=h.eb||!1}_(la,vl),la.prototype.g=function(){return new ca(this.l,this.j)},la.prototype.i=function(h){return function(){return h}}({});function ca(h,y){Dt.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(ca,Dt),t=ca.prototype,t.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,to(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||a).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ua(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,to(this)),this.g&&(this.readyState=3,to(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yf(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yf(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?ua(this):to(this),this.readyState==3&&Yf(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,ua(this))},t.Qa=function(h){this.g&&(this.response=h,ua(this))},t.ga=function(){this.g&&ua(this)};function ua(h){h.readyState=4,h.l=null,h.j=null,h.v=null,to(h)}t.setRequestHeader=function(h,y){this.u.append(h,y)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=y.next();return h.join(`\r
`)};function to(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ca.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Xf(h){let y="";return O(h,function(E,A){y+=A,y+=":",y+=E,y+=`\r
`}),y}function D(h,y,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=Xf(E),typeof h=="string"?E!=null&&encodeURIComponent(String(E)):rt(h,y,E))}function L(h){Dt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(L,Dt);var z=/^https?$/i,de=["POST","PUT"];t=L.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,y,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ss.g(),this.v=this.o?Af(this.o):Af(Ss),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(W){Le(this,W);return}if(h=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var F in A)E.set(F,A[F]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const W of A.keys())E.set(W,A.get(W));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(W=>W.toLowerCase()=="content-type"),F=a.FormData&&h instanceof a.FormData,!(0<=Array.prototype.indexOf.call(de,y,void 0))||A||F||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,oe]of E)this.g.setRequestHeader(W,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{it(this),this.u=!0,this.g.send(h),this.u=!1}catch(W){Le(this,W)}};function Le(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,Je(h),Oe(h)}function Je(h){h.A||(h.A=!0,Et(h,"complete"),Et(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Et(this,"complete"),Et(this,"abort"),Oe(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oe(this,!0)),L.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?st(this):this.bb())},t.bb=function(){st(this)};function st(h){if(h.h&&typeof o<"u"&&(!h.v[1]||At(h)!=4||h.Z()!=2)){if(h.u&&At(h)==4)Eu(h.Ea,0,h);else if(Et(h,"readystatechange"),At(h)==4){h.h=!1;try{const oe=h.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var A;if(A=oe===0){var F=String(h.D).match(Wf)[1]||null;!F&&a.self&&a.self.location&&(F=a.self.location.protocol.slice(0,-1)),A=!z.test(F?F.toLowerCase():"")}E=A}if(E)Et(h,"complete"),Et(h,"success");else{h.m=6;try{var W=2<At(h)?h.g.statusText:""}catch{W=""}h.l=W+" ["+h.Z()+"]",Je(h)}}finally{Oe(h)}}}}function Oe(h,y){if(h.g){it(h);const E=h.g,A=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||Et(h,"ready");try{E.onreadystatechange=A}catch{}}}function it(h){h.I&&(a.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function At(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<At(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),gl(y)}};function Sn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function da(h){const y={};h=(h.g&&2<=At(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(b(h[A]))continue;var E=N(h[A]);const F=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const W=y[F]||[];y[F]=W,W.push(E)}C(y,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function oi(h,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||y}function kl(h){this.Aa=0,this.i=[],this.j=new ia,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=oi("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=oi("baseRetryDelayMs",5e3,h),this.cb=oi("retryDelaySeedMs",1e4,h),this.Wa=oi("forwardChannelMaxRetries",2,h),this.wa=oi("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Ru(h&&h.concurrentRequestLimit),this.Da=new Ly,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=kl.prototype,t.la=8,t.G=1,t.connect=function(h,y,E,A){cn(0),this.W=h,this.H=y||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.I=uE(this,null,this.W),Zf(this)};function Pl(h){if(nE(h),h.G==3){var y=h.U++,E=ns(h.I);if(rt(E,"SID",h.K),rt(E,"RID",y),rt(E,"TYPE","terminate"),Mu(h,E),y=new Es(h,h.j,y),y.L=2,y.v=Cl(ns(E)),E=!1,a.navigator&&a.navigator.sendBeacon)try{E=a.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&a.Image&&(new Image().src=y.v,E=!0),E||(y.g=dE(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Xi(y)}cE(h)}function Jf(h){h.g&&(Fy(h),h.g.cancel(),h.g=null)}function nE(h){Jf(h),h.u&&(a.clearTimeout(h.u),h.u=null),ep(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&a.clearTimeout(h.s),h.s=null)}function Zf(h){if(!Ff(h.h)&&!h.s){h.s=!0;var y=h.Ga;B||he(),G||(B(),G=!0),ee.add(y,h),h.B=0}}function MV(h,y){return $f(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=sa(p(h.Ga,h,y),lE(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const F=new Es(this,this.j,h);let W=this.o;if(this.S&&(W?(W=T(W),P(W,this.S)):W=this.S),this.m!==null||this.O||(F.H=W,W=null),this.P)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=sE(this,F,y),E=ns(this.I),rt(E,"RID",h),rt(E,"CVER",22),this.D&&rt(E,"X-HTTP-Session-Id",this.D),Mu(this,E),W&&(this.O?y="headers="+encodeURIComponent(String(Xf(W)))+"&"+y:this.m&&D(E,this.m,W)),Du(this.h,F),this.Ua&&rt(E,"TYPE","init"),this.P?(rt(E,"$req",y),rt(E,"SID","null"),F.T=!0,Pu(F,E,null)):Pu(F,E,y),this.G=2}}else this.G==3&&(h?rE(this,h):this.i.length==0||Ff(this.h)||rE(this))};function rE(h,y){var E;y?E=y.l:E=h.U++;const A=ns(h.I);rt(A,"SID",h.K),rt(A,"RID",E),rt(A,"AID",h.T),Mu(h,A),h.m&&h.o&&D(A,h.m,h.o),E=new Es(h,h.j,E,h.B+1),h.m===null&&(E.H=h.o),y&&(h.i=y.D.concat(h.i)),y=sE(h,E,1e3),E.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Du(h.h,E),Pu(E,A,y)}function Mu(h,y){h.H&&O(h.H,function(E,A){rt(y,A,E)}),h.l&&Uf({},function(E,A){rt(y,A,E)})}function sE(h,y,E){E=Math.min(h.i.length,E);var A=h.l?p(h.l.Na,h.l,h):null;e:{var F=h.i;let W=-1;for(;;){const oe=["count="+E];W==-1?0<E?(W=F[0].g,oe.push("ofs="+W)):W=0:oe.push("ofs="+W);let ot=!0;for(let un=0;un<E;un++){let We=F[un].g;const En=F[un].map;if(We-=W,0>We)W=Math.max(0,F[un].g-100),ot=!1;else try{Qf(En,oe,"req"+We+"_")}catch{A&&A(En)}}if(ot){A=oe.join("&");break e}}}return h=h.i.splice(0,E),y.D=h,A}function iE(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;B||he(),G||(B(),G=!0),ee.add(y,h),h.v=0}}function Vy(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=sa(p(h.Fa,h),lE(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,oE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=sa(p(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,cn(10),Jf(this),oE(this))};function Fy(h){h.A!=null&&(a.clearTimeout(h.A),h.A=null)}function oE(h){h.g=new Es(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=ns(h.qa);rt(y,"RID","rpc"),rt(y,"SID",h.K),rt(y,"AID",h.T),rt(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&rt(y,"TO",h.ja),rt(y,"TYPE","xmlhttp"),Mu(h,y),h.m&&h.o&&D(y,h.m,h.o),h.L&&(h.g.I=h.L);var E=h.g;h=h.ia,E.L=1,E.v=Cl(ns(y)),E.m=null,E.P=!0,wl(E,h)}t.Za=function(){this.C!=null&&(this.C=null,Jf(this),Vy(this),cn(19))};function ep(h){h.C!=null&&(a.clearTimeout(h.C),h.C=null)}function aE(h,y){var E=null;if(h.g==y){ep(h),Fy(h),h.g=null;var A=2}else if(ju(h.h,y))E=y.D,zf(h.h,y),A=1;else return;if(h.G!=0){if(y.o)if(A==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var F=h.B;A=yl(),Et(A,new Df(A,E)),Zf(h)}else iE(h);else if(F=y.s,F==3||F==0&&0<y.X||!(A==1&&MV(h,y)||A==2&&Vy(h)))switch(E&&0<E.length&&(y=h.h,y.i=y.i.concat(E)),F){case 1:ha(h,5);break;case 4:ha(h,10);break;case 3:ha(h,6);break;default:ha(h,2)}}}function lE(h,y){let E=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(E*=2),E*y}function ha(h,y){if(h.j.info("Error code "+y),y==2){var E=p(h.fb,h),A=h.Xa;const F=!A;A=new ts(A||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||El(A,"https"),Cl(A),F?Kf(A.toString(),E):ii(A.toString(),E)}else cn(2);h.G=0,h.l&&h.l.sa(y),cE(h),nE(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),cn(2)):(this.j.info("Failed to ping google.com"),cn(1))};function cE(h){if(h.G=0,h.ka=[],h.l){const y=Bf(h.h);(y.length!=0||h.i.length!=0)&&(S(h.ka,y),S(h.ka,h.i),h.h.i.length=0,v(h.i),h.i.length=0),h.l.ra()}}function uE(h,y,E){var A=E instanceof ts?ns(E):new ts(E);if(A.g!="")y&&(A.g=y+"."+A.g),oa(A,A.s);else{var F=a.location;A=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;var W=new ts(null);A&&El(W,A),y&&(W.g=y),F&&oa(W,F),E&&(W.l=E),A=W}return E=h.D,y=h.ya,E&&y&&rt(A,E,y),rt(A,"VER",h.la),Mu(h,A),A}function dE(h,y,E){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new L(new la({eb:E})):new L(h.pa),y.Ha(h.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function hE(){}t=hE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function tp(){}tp.prototype.g=function(h,y){return new pr(h,y)};function pr(h,y){Dt.call(this),this.g=new kl(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!b(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!b(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Al(this)}_(pr,Dt),pr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pr.prototype.close=function(){Pl(this.g)},pr.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.u&&(E={},E.__data__=Jr(h),h=E);y.i.push(new Ay(y.Ya++,h)),y.G==3&&Zf(y)},pr.prototype.N=function(){this.g.l=null,delete this.j,Pl(this.g),delete this.g,pr.aa.N.call(this)};function fE(h){Iu.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const E in y){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}_(fE,Iu);function pE(){es.call(this),this.status=1}_(pE,es);function Al(h){this.g=h}_(Al,hE),Al.prototype.ua=function(){Et(this.g,"a")},Al.prototype.ta=function(h){Et(this.g,new fE(h))},Al.prototype.sa=function(h){Et(this.g,new pE)},Al.prototype.ra=function(){Et(this.g,"b")},tp.prototype.createWebChannel=tp.prototype.g,pr.prototype.send=pr.prototype.o,pr.prototype.open=pr.prototype.m,pr.prototype.close=pr.prototype.close,XO=function(){return new tp},YO=function(){return yl()},QO=ni,lw={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_l.NO_ERROR=0,_l.TIMEOUT=8,_l.HTTP_ERROR=6,Cm=_l,Nf.COMPLETE="complete",KO=Nf,Tu.EventType=Zr,Zr.OPEN="a",Zr.CLOSE="b",Zr.ERROR="c",Zr.MESSAGE="d",Dt.prototype.listen=Dt.prototype.K,fd=Tu,GO=la,L.prototype.listenOnce=L.prototype.L,L.prototype.getLastError=L.prototype.Ka,L.prototype.getLastErrorCode=L.prototype.Ba,L.prototype.getStatus=L.prototype.Z,L.prototype.getResponseJson=L.prototype.Oa,L.prototype.getResponseText=L.prototype.oa,L.prototype.send=L.prototype.ea,L.prototype.setWithCredentials=L.prototype.Ha,qO=L}).apply(typeof $p<"u"?$p:typeof self<"u"?self:typeof window<"u"?window:{});const Rk="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};jn.UNAUTHENTICATED=new jn(null),jn.GOOGLE_CREDENTIALS=new jn("google-credentials-uid"),jn.FIRST_PARTY=new jn("first-party-uid"),jn.MOCK_USER=new jn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fu="10.13.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya=new Xv("@firebase/firestore");function Zu(){return Ya.logLevel}function pe(t,...e){if(Ya.logLevel<=ze.DEBUG){const n=e.map(qS);Ya.debug(`Firestore (${fu}): ${t}`,...n)}}function Fi(t,...e){if(Ya.logLevel<=ze.ERROR){const n=e.map(qS);Ya.error(`Firestore (${fu}): ${t}`,...n)}}function Yc(t,...e){if(Ya.logLevel<=ze.WARN){const n=e.map(qS);Ya.warn(`Firestore (${fu}): ${t}`,...n)}}function qS(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(t="Unexpected state"){const e=`FIRESTORE (${fu}) INTERNAL ASSERTION FAILED: `+t;throw Fi(e),new Error(e)}function Ye(t,e){t||xe()}function Ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends bs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lre{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(jn.UNAUTHENTICATED))}shutdown(){}}class cre{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class ure{constructor(e){this.t=e,this.currentUser=jn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Hs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Hs,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Hs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ye(typeof r.accessToken=="string"),new JO(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string"),new jn(e)}}class dre{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=jn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class hre{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new dre(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(jn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fre{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pre{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,pe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ye(typeof n.token=="string"),this.R=n.token,new fre(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mre(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=mre(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function He(t,e){return t<e?-1:t>e?1:0}function Xc(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ae(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new xt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new xt(0,0))}static max(){return new Ie(new xt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n,r){n===void 0?n=0:n>e.length&&xe(),r===void 0?r=e.length-n:r>e.length-n&&xe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ph.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ph?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class at extends Ph{construct(e,n,r){return new at(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ae(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new at(n)}static emptyPath(){return new at([])}}const gre=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vn extends Ph{construct(e,n,r){return new vn(e,n,r)}static isValidIdentifier(e){return gre.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new vn(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ae(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new ae(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ae(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new ae(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vn(n)}static emptyPath(){return new vn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(at.fromString(e))}static fromName(e){return new ye(at.fromString(e).popFirst(5))}static empty(){return new ye(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new at(e.slice()))}}function vre(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ie.fromTimestamp(r===1e9?new xt(n+1,0):new xt(n,r));return new zo(s,ye.empty(),e)}function yre(t){return new zo(t.readTime,t.key,-1)}class zo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new zo(Ie.min(),ye.empty(),-1)}static max(){return new zo(Ie.max(),ye.empty(),-1)}}function _re(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:He(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bre="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wre{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function df(t){if(t.code!==K.FAILED_PRECONDITION||t.message!==bre)throw t;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Z((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.reject(n)}static resolve(e){return new Z((n,r)=>{n(e)})}static reject(e){return new Z((n,r)=>{r(e)})}static waitFor(e){return new Z((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=Z.resolve(!1);for(const r of e)n=n.next(s=>s?Z.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new Z((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new Z((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function xre(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function hf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}GS.oe=-1;function ff(t){return t==null}function Ag(t){return t===0&&1/t==-1/0}function Sre(t){return typeof t=="number"&&Number.isInteger(t)&&!Ag(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jk(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function fl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function eM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,n){this.comparator=e,this.root=n||pn.EMPTY}insert(e,n){return new Pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pn.BLACK,null,null))}remove(e){return new Pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zp(this.root,e,this.comparator,!1)}getReverseIterator(){return new zp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zp(this.root,e,this.comparator,!0)}}class zp{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??pn.RED,this.left=s??pn.EMPTY,this.right=i??pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new pn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return pn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return pn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xe();const e=this.left.check();if(e!==this.right.check())throw xe();return e+(this.isRed()?0:1)}}pn.EMPTY=null,pn.RED=!0,pn.BLACK=!1;pn.EMPTY=new class{constructor(){this.size=0}get key(){throw xe()}get value(){throw xe()}get color(){throw xe()}get left(){throw xe()}get right(){throw xe()}copy(e,n,r,s,i){return this}insert(e,n,r){return new pn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.comparator=e,this.data=new Pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Dk(this.data.getIterator())}getIteratorFrom(e){return new Dk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof _n)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new _n(this.comparator);return n.data=e,n}}class Dk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.fields=e,e.sort(vn.comparator)}static empty(){return new vr([])}unionWith(e){let n=new _n(vn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new vr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new tM("Invalid base64 string: "+i):i}}(e);return new xn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new xn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xn.EMPTY_BYTE_STRING=new xn("");const Ere=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bo(t){if(Ye(!!t),typeof t=="string"){let e=0;const n=Ere.exec(t);if(Ye(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ot(t.seconds),nanos:Ot(t.nanos)}}function Ot(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Xa(t){return typeof t=="string"?xn.fromBase64String(t):xn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function QS(t){const e=t.mapValue.fields.__previous_value__;return KS(e)?QS(e):e}function Ah(t){const e=Bo(t.mapValue.fields.__local_write_time__.timestampValue);return new xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cre{constructor(e,n,r,s,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Rh{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Rh("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Rh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ja(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?KS(t)?4:Ire(t)?9007199254740991:Tre(t)?10:11:xe()}function Xs(t,e){if(t===e)return!0;const n=Ja(t);if(n!==Ja(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ah(t).isEqual(Ah(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Bo(s.timestampValue),a=Bo(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Xa(s.bytesValue).isEqual(Xa(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Ot(s.geoPointValue.latitude)===Ot(i.geoPointValue.latitude)&&Ot(s.geoPointValue.longitude)===Ot(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Ot(s.integerValue)===Ot(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Ot(s.doubleValue),a=Ot(i.doubleValue);return o===a?Ag(o)===Ag(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Xc(t.arrayValue.values||[],e.arrayValue.values||[],Xs);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(jk(o)!==jk(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Xs(o[l],a[l])))return!1;return!0}(t,e);default:return xe()}}function jh(t,e){return(t.values||[]).find(n=>Xs(n,e))!==void 0}function Jc(t,e){if(t===e)return 0;const n=Ja(t),r=Ja(e);if(n!==r)return He(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return He(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Ot(i.integerValue||i.doubleValue),l=Ot(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Nk(t.timestampValue,e.timestampValue);case 4:return Nk(Ah(t),Ah(e));case 5:return He(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Xa(i),l=Xa(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=He(a[c],l[c]);if(d!==0)return d}return He(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=He(Ot(i.latitude),Ot(o.latitude));return a!==0?a:He(Ot(i.longitude),Ot(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Ok(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,c,d;const f=i.fields||{},p=o.fields||{},m=(a=f.value)===null||a===void 0?void 0:a.arrayValue,_=(l=p.value)===null||l===void 0?void 0:l.arrayValue,v=He(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((d=_==null?void 0:_.values)===null||d===void 0?void 0:d.length)||0);return v!==0?v:Ok(m,_)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Bp.mapValue&&o===Bp.mapValue)return 0;if(i===Bp.mapValue)return 1;if(o===Bp.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const p=He(l[f],d[f]);if(p!==0)return p;const m=Jc(a[l[f]],c[d[f]]);if(m!==0)return m}return He(l.length,d.length)}(t.mapValue,e.mapValue);default:throw xe()}}function Nk(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return He(t,e);const n=Bo(t),r=Bo(e),s=He(n.seconds,r.seconds);return s!==0?s:He(n.nanos,r.nanos)}function Ok(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Jc(n[s],r[s]);if(i)return i}return He(n.length,r.length)}function Zc(t){return cw(t)}function cw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Bo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Xa(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ye.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=cw(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${cw(n.fields[o])}`;return s+"}"}(t.mapValue):xe()}function Mk(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function uw(t){return!!t&&"integerValue"in t}function YS(t){return!!t&&"arrayValue"in t}function Lk(t){return!!t&&"nullValue"in t}function Vk(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Tm(t){return!!t&&"mapValue"in t}function Tre(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ld(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return fl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ld(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ld(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Ire(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.value=e}static empty(){return new Bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Tm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ld(n)}setAll(e){let n=vn.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Ld(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Tm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Tm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){fl(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Bn(Ld(this.value))}}function nM(t){const e=[];return fl(t.fields,(n,r)=>{const s=new vn([n]);if(Tm(r)){const i=nM(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new vr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new sn(e,0,Ie.min(),Ie.min(),Ie.min(),Bn.empty(),0)}static newFoundDocument(e,n,r,s){return new sn(e,1,n,Ie.min(),r,s,0)}static newNoDocument(e,n){return new sn(e,2,n,Ie.min(),Ie.min(),Bn.empty(),0)}static newUnknownDocument(e,n){return new sn(e,3,n,Ie.min(),Ie.min(),Bn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e,n){this.position=e,this.inclusive=n}}function Fk(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ye.comparator(ye.fromName(o.referenceValue),n.key):r=Jc(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function $k(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Xs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,n="asc"){this.field=e,this.dir=n}}function kre(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{}class Wt extends rM{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Are(e,n,r):n==="array-contains"?new Dre(e,r):n==="in"?new Nre(e,r):n==="not-in"?new Ore(e,r):n==="array-contains-any"?new Mre(e,r):new Wt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Rre(e,r):new jre(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Jc(n,this.value)):n!==null&&Ja(this.value)===Ja(n)&&this.matchesComparison(Jc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ms extends rM{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new ms(e,n)}matches(e){return sM(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function sM(t){return t.op==="and"}function iM(t){return Pre(t)&&sM(t)}function Pre(t){for(const e of t.filters)if(e instanceof ms)return!1;return!0}function dw(t){if(t instanceof Wt)return t.field.canonicalString()+t.op.toString()+Zc(t.value);if(iM(t))return t.filters.map(e=>dw(e)).join(",");{const e=t.filters.map(n=>dw(n)).join(",");return`${t.op}(${e})`}}function oM(t,e){return t instanceof Wt?function(r,s){return s instanceof Wt&&r.op===s.op&&r.field.isEqual(s.field)&&Xs(r.value,s.value)}(t,e):t instanceof ms?function(r,s){return s instanceof ms&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&oM(o,s.filters[a]),!0):!1}(t,e):void xe()}function aM(t){return t instanceof Wt?function(n){return`${n.field.canonicalString()} ${n.op} ${Zc(n.value)}`}(t):t instanceof ms?function(n){return n.op.toString()+" {"+n.getFilters().map(aM).join(" ,")+"}"}(t):"Filter"}class Are extends Wt{constructor(e,n,r){super(e,n,r),this.key=ye.fromName(r.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class Rre extends Wt{constructor(e,n){super(e,"in",n),this.keys=lM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class jre extends Wt{constructor(e,n){super(e,"not-in",n),this.keys=lM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function lM(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ye.fromName(r.referenceValue))}class Dre extends Wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return YS(n)&&jh(n.arrayValue,this.value)}}class Nre extends Wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&jh(this.value.arrayValue,n)}}class Ore extends Wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(jh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!jh(this.value.arrayValue,n)}}class Mre extends Wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!YS(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>jh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lre{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function zk(t,e=null,n=[],r=[],s=null,i=null,o=null){return new Lre(t,e,n,r,s,i,o)}function XS(t){const e=Ae(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>dw(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),ff(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Zc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Zc(r)).join(",")),e.ue=n}return e.ue}function JS(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!kre(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!oM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!$k(t.startAt,e.startAt)&&$k(t.endAt,e.endAt)}function hw(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Vre(t,e,n,r,s,i,o,a){return new pu(t,e,n,r,s,i,o,a)}function Jv(t){return new pu(t)}function Bk(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function cM(t){return t.collectionGroup!==null}function Vd(t){const e=Ae(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new _n(vn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Dh(i,r))}),n.has(vn.keyField().canonicalString())||e.ce.push(new Dh(vn.keyField(),r))}return e.ce}function qs(t){const e=Ae(t);return e.le||(e.le=Fre(e,Vd(t))),e.le}function Fre(t,e){if(t.limitType==="F")return zk(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Dh(s.field,i)});const n=t.endAt?new Rg(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Rg(t.startAt.position,t.startAt.inclusive):null;return zk(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function fw(t,e){const n=t.filters.concat([e]);return new pu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function jg(t,e,n){return new pu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Zv(t,e){return JS(qs(t),qs(e))&&t.limitType===e.limitType}function uM(t){return`${XS(qs(t))}|lt:${t.limitType}`}function Vl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>aM(s)).join(", ")}]`),ff(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Zc(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Zc(s)).join(",")),`Target(${r})`}(qs(t))}; limitType=${t.limitType})`}function ey(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ye.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Vd(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=Fk(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Vd(r),s)||r.endAt&&!function(o,a,l){const c=Fk(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Vd(r),s))}(t,e)}function $re(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function dM(t){return(e,n)=>{let r=!1;for(const s of Vd(t)){const i=zre(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function zre(t,e,n){const r=t.field.isKeyField()?ye.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?Jc(l,c):xe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return xe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){fl(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return eM(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bre=new Pt(ye.comparator);function $i(){return Bre}const hM=new Pt(ye.comparator);function pd(...t){let e=hM;for(const n of t)e=e.insert(n.key,n);return e}function fM(t){let e=hM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ia(){return Fd()}function pM(){return Fd()}function Fd(){return new mu(t=>t.toString(),(t,e)=>t.isEqual(e))}const Ure=new Pt(ye.comparator),Wre=new _n(ye.comparator);function Ve(...t){let e=Wre;for(const n of t)e=e.add(n);return e}const Hre=new _n(He);function qre(){return Hre}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ag(e)?"-0":e}}function mM(t){return{integerValue:""+t}}function Gre(t,e){return Sre(e)?mM(e):ZS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(){this._=void 0}}function Kre(t,e,n){return t instanceof Dg?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&KS(i)&&(i=QS(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Nh?vM(t,e):t instanceof Oh?yM(t,e):function(s,i){const o=gM(s,i),a=Uk(o)+Uk(s.Pe);return uw(o)&&uw(s.Pe)?mM(a):ZS(s.serializer,a)}(t,e)}function Qre(t,e,n){return t instanceof Nh?vM(t,e):t instanceof Oh?yM(t,e):n}function gM(t,e){return t instanceof Ng?function(r){return uw(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Dg extends ty{}class Nh extends ty{constructor(e){super(),this.elements=e}}function vM(t,e){const n=_M(e);for(const r of t.elements)n.some(s=>Xs(s,r))||n.push(r);return{arrayValue:{values:n}}}class Oh extends ty{constructor(e){super(),this.elements=e}}function yM(t,e){let n=_M(e);for(const r of t.elements)n=n.filter(s=>!Xs(s,r));return{arrayValue:{values:n}}}class Ng extends ty{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Uk(t){return Ot(t.integerValue||t.doubleValue)}function _M(t){return YS(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Yre(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Nh&&s instanceof Nh||r instanceof Oh&&s instanceof Oh?Xc(r.elements,s.elements,Xs):r instanceof Ng&&s instanceof Ng?Xs(r.Pe,s.Pe):r instanceof Dg&&s instanceof Dg}(t.transform,e.transform)}class Xre{constructor(e,n){this.version=e,this.transformResults=n}}class Ht{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ht}static exists(e){return new Ht(void 0,e)}static updateTime(e){return new Ht(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Im(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ny{}function bM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new mf(t.key,Ht.none()):new pf(t.key,t.data,Ht.none());{const n=t.data,r=Bn.empty();let s=new _n(vn.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Zo(t.key,r,new vr(s.toArray()),Ht.none())}}function Jre(t,e,n){t instanceof pf?function(s,i,o){const a=s.value.clone(),l=Hk(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Zo?function(s,i,o){if(!Im(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Hk(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(wM(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function $d(t,e,n,r){return t instanceof pf?function(i,o,a,l){if(!Im(i.precondition,o))return a;const c=i.value.clone(),d=qk(i.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Zo?function(i,o,a,l){if(!Im(i.precondition,o))return a;const c=qk(i.fieldTransforms,l,o),d=o.data;return d.setAll(wM(i)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return Im(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Zre(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=gM(r.transform,s||null);i!=null&&(n===null&&(n=Bn.empty()),n.set(r.field,i))}return n||null}function Wk(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Xc(r,s,(i,o)=>Yre(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class pf extends ny{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Zo extends ny{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function wM(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Hk(t,e,n){const r=new Map;Ye(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,Qre(o,a,n[s]))}return r}function qk(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,Kre(i,o,e))}return r}class mf extends ny{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xM extends ny{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ese{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&Jre(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=$d(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=$d(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=pM();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=bM(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ve())}isEqual(e){return this.batchId===e.batchId&&Xc(this.mutations,e.mutations,(n,r)=>Wk(n,r))&&Xc(this.baseMutations,e.baseMutations,(n,r)=>Wk(n,r))}}class e1{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ye(e.mutations.length===r.length);let s=function(){return Ure}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new e1(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tse{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nse{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t,Be;function SM(t){switch(t){default:return xe();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0}}function EM(t){if(t===void 0)return Fi("GRPC error has no .code"),K.UNKNOWN;switch(t){case $t.OK:return K.OK;case $t.CANCELLED:return K.CANCELLED;case $t.UNKNOWN:return K.UNKNOWN;case $t.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case $t.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case $t.INTERNAL:return K.INTERNAL;case $t.UNAVAILABLE:return K.UNAVAILABLE;case $t.UNAUTHENTICATED:return K.UNAUTHENTICATED;case $t.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case $t.NOT_FOUND:return K.NOT_FOUND;case $t.ALREADY_EXISTS:return K.ALREADY_EXISTS;case $t.PERMISSION_DENIED:return K.PERMISSION_DENIED;case $t.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case $t.ABORTED:return K.ABORTED;case $t.OUT_OF_RANGE:return K.OUT_OF_RANGE;case $t.UNIMPLEMENTED:return K.UNIMPLEMENTED;case $t.DATA_LOSS:return K.DATA_LOSS;default:return xe()}}(Be=$t||($t={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rse(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sse=new $a([4294967295,4294967295],0);function Gk(t){const e=rse().encode(t),n=new HO;return n.update(e),new Uint8Array(n.digest())}function Kk(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new $a([n,r],0),new $a([s,i],0)]}class t1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new md(`Invalid padding: ${n}`);if(r<0)throw new md(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new md(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new md(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=$a.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply($a.fromNumber(r)));return s.compare(sse)===1&&(s=new $a([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Gk(e),[r,s]=Kk(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new t1(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=Gk(e),[r,s]=Kk(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class md extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,gf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ry(Ie.min(),s,new Pt(He),$i(),Ve())}}class gf{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new gf(r,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class CM{constructor(e,n){this.targetId=e,this.me=n}}class TM{constructor(e,n,r=xn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Qk{constructor(){this.fe=0,this.ge=Xk(),this.pe=xn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ve(),n=Ve(),r=Ve();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:xe()}}),new gf(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Xk()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ye(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class ise{constructor(e){this.Le=e,this.Be=new Map,this.ke=$i(),this.qe=Yk(),this.Qe=new Pt(He)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:xe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(hw(i))if(r===0){const o=new ye(i.path);this.Ue(n,o,sn.newNoDocument(o,Ie.min()))}else Ye(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Xa(r).toUint8Array()}catch(l){if(l instanceof tM)return Yc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new t1(o,s,i)}catch(l){return Yc(l instanceof md?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&hw(a.target)){const l=new ye(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,sn.newNoDocument(l,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=Ve();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new ry(e,n,this.Qe,this.ke,r);return this.ke=$i(),this.qe=Yk(),this.Qe=new Pt(He),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Qk,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new _n(He),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Qk),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Yk(){return new Pt(ye.comparator)}function Xk(){return new Pt(ye.comparator)}const ose={asc:"ASCENDING",desc:"DESCENDING"},ase={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lse={and:"AND",or:"OR"};class cse{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function pw(t,e){return t.useProto3Json||ff(e)?e:{value:e}}function Og(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function use(t,e){return Og(t,e.toTimestamp())}function xr(t){return Ye(!!t),Ie.fromTimestamp(function(n){const r=Bo(n);return new xt(r.seconds,r.nanos)}(t))}function n1(t,e){return mw(t,e).canonicalString()}function mw(t,e){const n=function(s){return new at(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function kM(t){const e=at.fromString(t);return Ye(NM(e)),e}function Mg(t,e){return n1(t.databaseId,e.path)}function zd(t,e){const n=kM(e);if(n.get(1)!==t.databaseId.projectId)throw new ae(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ae(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye(AM(n))}function PM(t,e){return n1(t.databaseId,e)}function dse(t){const e=kM(t);return e.length===4?at.emptyPath():AM(e)}function gw(t){return new at(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function AM(t){return Ye(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Jk(t,e,n){return{name:Mg(t,e),fields:n.value.mapValue.fields}}function hse(t,e){return"found"in e?function(r,s){Ye(!!s.found),s.found.name,s.found.updateTime;const i=zd(r,s.found.name),o=xr(s.found.updateTime),a=s.found.createTime?xr(s.found.createTime):Ie.min(),l=new Bn({mapValue:{fields:s.found.fields}});return sn.newFoundDocument(i,o,a,l)}(t,e):"missing"in e?function(r,s){Ye(!!s.missing),Ye(!!s.readTime);const i=zd(r,s.missing),o=xr(s.readTime);return sn.newNoDocument(i,o)}(t,e):xe()}function fse(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:xe()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,d){return c.useProto3Json?(Ye(d===void 0||typeof d=="string"),xn.fromBase64String(d||"")):(Ye(d===void 0||d instanceof Buffer||d instanceof Uint8Array),xn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?K.UNKNOWN:EM(c.code);return new ae(d,c.message||"")}(o);n=new TM(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=zd(t,r.document.name),i=xr(r.document.updateTime),o=r.document.createTime?xr(r.document.createTime):Ie.min(),a=new Bn({mapValue:{fields:r.document.fields}}),l=sn.newFoundDocument(s,i,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new km(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=zd(t,r.document),i=r.readTime?xr(r.readTime):Ie.min(),o=sn.newNoDocument(s,i),a=r.removedTargetIds||[];n=new km([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=zd(t,r.document),i=r.removedTargetIds||[];n=new km([],i,s,null)}else{if(!("filter"in e))return xe();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new nse(s,i),a=r.targetId;n=new CM(a,o)}}return n}function RM(t,e){let n;if(e instanceof pf)n={update:Jk(t,e.key,e.value)};else if(e instanceof mf)n={delete:Mg(t,e.key)};else if(e instanceof Zo)n={update:Jk(t,e.key,e.data),updateMask:xse(e.fieldMask)};else{if(!(e instanceof xM))return xe();n={verify:Mg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Dg)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Nh)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Oh)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ng)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw xe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:use(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:xe()}(t,e.precondition)),n}function pse(t,e){return t&&t.length>0?(Ye(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?xr(s.updateTime):xr(i);return o.isEqual(Ie.min())&&(o=xr(i)),new Xre(o,s.transformResults||[])}(n,e))):[]}function mse(t,e){return{documents:[PM(t,e.path)]}}function gse(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=PM(t,s);const i=function(c){if(c.length!==0)return DM(ms.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:Fl(p.field),direction:_se(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=pw(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:s}}function vse(t){let e=dse(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ye(r===1);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(f){const p=jM(f);return p instanceof ms&&iM(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(_){return new Dh($l(_.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,ff(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,m=f.values||[];return new Rg(m,p)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const p=!f.before,m=f.values||[];return new Rg(m,p)}(n.endAt)),Vre(e,s,o,i,a,"F",l,c)}function yse(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function jM(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=$l(n.unaryFilter.field);return Wt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=$l(n.unaryFilter.field);return Wt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=$l(n.unaryFilter.field);return Wt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=$l(n.unaryFilter.field);return Wt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return xe()}}(t):t.fieldFilter!==void 0?function(n){return Wt.create($l(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ms.create(n.compositeFilter.filters.map(r=>jM(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return xe()}}(n.compositeFilter.op))}(t):xe()}function _se(t){return ose[t]}function bse(t){return ase[t]}function wse(t){return lse[t]}function Fl(t){return{fieldPath:t.canonicalString()}}function $l(t){return vn.fromServerFormat(t.fieldPath)}function DM(t){return t instanceof Wt?function(n){if(n.op==="=="){if(Vk(n.value))return{unaryFilter:{field:Fl(n.field),op:"IS_NAN"}};if(Lk(n.value))return{unaryFilter:{field:Fl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Vk(n.value))return{unaryFilter:{field:Fl(n.field),op:"IS_NOT_NAN"}};if(Lk(n.value))return{unaryFilter:{field:Fl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fl(n.field),op:bse(n.op),value:n.value}}}(t):t instanceof ms?function(n){const r=n.getFilters().map(s=>DM(s));return r.length===1?r[0]:{compositeFilter:{op:wse(n.op),filters:r}}}(t):xe()}function xse(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function NM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,n,r,s,i=Ie.min(),o=Ie.min(),a=xn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new So(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new So(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new So(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new So(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sse{constructor(e){this.ct=e}}function Ese(t){const e=vse({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?jg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cse{constructor(){this.un=new Tse}addToCollectionParentIndex(e,n){return this.un.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(zo.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(zo.min())}updateCollectionGroup(e,n,r){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}}class Tse{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new _n(at.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new _n(at.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new eu(0)}static kn(){return new eu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ise{constructor(){this.changes=new mu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kse{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pse{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&$d(r.mutation,s,vr.empty(),xt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ve()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ve()){const s=Ia();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=pd();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ia();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ve()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=$i();const o=Fd(),a=function(){return Fd()}();return n.forEach((l,c)=>{const d=r.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof Zo)?i=i.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),$d(d.mutation,c,d.mutation.getFieldMask(),xt.now())):o.set(c.key,vr.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var f;return a.set(c,new kse(d,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Fd();let s=new Pt((o,a)=>o-a),i=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||vr.empty();d=a.applyToLocalView(c,d),r.set(l,d);const f=(s.get(a.batchId)||Ve()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,f=pM();d.forEach(p=>{if(!i.has(p)){const m=bM(n.get(p),r.get(p));m!==null&&f.set(p,m),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return Z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ye.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):cM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):Z.resolve(Ia());let a=-1,l=i;return o.next(c=>Z.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(d)?Z.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,Ve())).next(d=>({batchId:a,changes:fM(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(r=>{let s=pd();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=pd();return this.indexManager.getCollectionParents(e,i).next(a=>Z.forEach(a,l=>{const c=function(f,p){return new pu(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(d=>{d.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,sn.newInvalidDocument(d)))});let a=pd();return o.forEach((l,c)=>{const d=i.get(l);d!==void 0&&$d(d.mutation,c,vr.empty(),xt.now()),ey(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ase{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Z.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:xr(s.createTime)}}(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:Ese(s.bundledQuery),readTime:xr(s.readTime)}}(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rse{constructor(){this.overlays=new Pt(ye.comparator),this.Ir=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ia();return Z.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),Z.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),Z.resolve()}getOverlaysForCollection(e,n,r){const s=Ia(),i=n.length+1,o=new ye(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return Z.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Pt((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=i.get(c.largestBatchId);d===null&&(d=Ia(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Ia(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=s)););return Z.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new tse(n,r));let i=this.Ir.get(n);i===void 0&&(i=Ve(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jse{constructor(){this.sessionToken=xn.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(){this.Tr=new _n(nn.Er),this.dr=new _n(nn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new nn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new nn(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ye(new at([])),r=new nn(n,e),s=new nn(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ye(new at([])),r=new nn(n,e),s=new nn(n,e+1);let i=Ve();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new nn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class nn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ye.comparator(e.key,n.key)||He(e.wr,n.wr)}static Ar(e,n){return He(e.wr,n.wr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dse{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new _n(nn.Er)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new ese(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new nn(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Z.resolve(o)}lookupMutationBatch(e,n){return Z.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return Z.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new nn(n,0),s=new nn(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const a=this.Dr(o.wr);i.push(a)}),Z.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new _n(He);return n.forEach(s=>{const i=new nn(s,0),o=new nn(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{r=r.add(a.wr)})}),Z.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ye.isDocumentKey(i)||(i=i.child(""));const o=new nn(new ye(i),0);let a=new _n(He);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.wr)),!0)},o),Z.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ye(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Z.forEach(n.mutations,s=>{const i=new nn(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new nn(n,0),s=this.br.firstAfterOrEqual(r);return Z.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nse{constructor(e){this.Mr=e,this.docs=function(){return new Pt(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Z.resolve(r?r.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(e,n){let r=$i();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():sn.newInvalidDocument(s))}),Z.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=$i();const o=n.path,a=new ye(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||_re(yre(d),r)<=0||(s.has(d.key)||ey(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return Z.resolve(i)}getAllFromCollectionGroup(e,n,r,s){xe()}Or(e,n){return Z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Ose(this)}getSize(e){return Z.resolve(this.size)}}class Ose extends Ise{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),Z.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mse{constructor(e){this.persistence=e,this.Nr=new mu(n=>XS(n),JS),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.Lr=0,this.Br=new r1,this.targetCount=0,this.kr=eu.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Z.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new eu(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.Kn(n),Z.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),Z.waitFor(i).next(()=>s)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Z.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Z.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),Z.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Z.resolve(r)}containsKey(e,n){return Z.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lse{constructor(e,n){this.qr={},this.overlays={},this.Qr=new GS(0),this.Kr=!1,this.Kr=!0,this.$r=new jse,this.referenceDelegate=e(this),this.Ur=new Mse(this),this.indexManager=new Cse,this.remoteDocumentCache=function(s){return new Nse(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Sse(n),this.Gr=new Ase(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Rse,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Dse(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){pe("MemoryPersistence","Starting transaction:",e);const s=new Vse(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return Z.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class Vse extends wre{constructor(e){super(),this.currentSequenceNumber=e}}class s1{constructor(e){this.persistence=e,this.Jr=new r1,this.Yr=null}static Zr(e){return new s1(e)}get Xr(){if(this.Yr)return this.Yr;throw xe()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Z.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Z.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.Xr,r=>{const s=ye.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,Ie.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Z.or([()=>Z.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=Ve(),s=Ve();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new i1(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fse{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $se{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Wte()?8:xre(Vn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new Fse;return this.Xi(e,n,o).next(a=>{if(i.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(Zu()<=ze.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Vl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Z.resolve()):(Zu()<=ze.DEBUG&&pe("QueryEngine","Query:",Vl(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(Zu()<=ze.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Vl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qs(n))):Z.resolve())}Yi(e,n){if(Bk(n))return Z.resolve(null);let r=qs(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=jg(n,null,"F"),r=qs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ve(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,o,l.readTime)?this.Yi(e,jg(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,s){return Bk(n)||s.isEqual(Ie.min())?Z.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?Z.resolve(null):(Zu()<=ze.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Vl(n)),this.rs(e,o,n,vre(s,-1)).next(a=>a))})}ts(e,n){let r=new _n(dM(e));return n.forEach((s,i)=>{ey(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return Zu()<=ze.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Vl(n)),this.Ji.getDocumentsMatchingQuery(e,n,zo.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zse{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new Pt(He),this._s=new mu(i=>XS(i),JS),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Pse(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function Bse(t,e,n,r){return new zse(t,e,n,r)}async function OM(t,e){const n=Ae(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Ve();for(const c of s){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of i){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function Use(t,e){const n=Ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const f=c.batch,p=f.keys();let m=Z.resolve();return p.forEach(_=>{m=m.next(()=>d.getEntry(l,_)).next(v=>{const S=c.docVersions.get(_);Ye(S!==null),v.version.compareTo(S)<0&&(f.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),d.addEntry(v)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ve();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function MM(t){const e=Ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Wse(t,e){const n=Ae(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((d,f)=>{const p=s.get(f);if(!p)return;a.push(n.Ur.removeMatchingKeys(i,d.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(i,d.addedDocuments,f)));let m=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(xn.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),s=s.insert(f,m),function(v,S,x){return v.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(p,m,d)&&a.push(n.Ur.updateTargetData(i,m))});let l=$i(),c=Ve();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(Hse(i,o,e.documentUpdates).next(d=>{l=d.Ps,c=d.Is})),!r.isEqual(Ie.min())){const d=n.Ur.getLastRemoteSnapshotVersion(i).next(f=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return Z.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.os=s,i))}function Hse(t,e,n){let r=Ve(),s=Ve();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=$i();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Ie.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):pe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:s}})}function qse(t,e){const n=Ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Gse(t,e){const n=Ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,Z.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new So(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function vw(t,e,n){const r=Ae(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!hf(o))throw o;pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function Zk(t,e,n){const r=Ae(t);let s=Ie.min(),i=Ve();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const f=Ae(l),p=f._s.get(d);return p!==void 0?Z.resolve(f.os.get(p)):f.Ur.getTargetData(c,d)}(r,o,qs(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:Ie.min(),n?i:Ve())).next(a=>(Kse(r,$re(e),a),{documents:a,Ts:i})))}function Kse(t,e,n){let r=t.us.get(e)||Ie.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class eP{constructor(){this.activeTargetIds=qre()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Qse{constructor(){this.so=new eP,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new eP,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yse{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Up=null;function l_(){return Up===null?Up=function(){return 268435456+Math.round(2147483648*Math.random())}():Up++,"0x"+Up.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xse={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jse{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kn="WebChannelConnection";class Zse extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const a=l_(),l=this.xo(n,r.toUriEncodedString());pe("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,i,o),this.No(n,l,c,s).then(d=>(pe("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Yc("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",s),d})}Lo(n,r,s,i,o,a){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=Xse[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=l_();return new Promise((o,a)=>{const l=new qO;l.setWithCredentials(!0),l.listenOnce(KO.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Cm.NO_ERROR:const d=l.getResponseJson();pe(kn,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),o(d);break;case Cm.TIMEOUT:pe(kn,`RPC '${e}' ${i} timed out`),a(new ae(K.DEADLINE_EXCEEDED,"Request time out"));break;case Cm.HTTP_ERROR:const f=l.getStatus();if(pe(kn,`RPC '${e}' ${i} failed with status:`,f,"response text:",l.getResponseText()),f>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const _=function(S){const x=S.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(x)>=0?x:K.UNKNOWN}(m.status);a(new ae(_,m.message))}else a(new ae(K.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ae(K.UNAVAILABLE,"Connection failed."));break;default:xe()}}finally{pe(kn,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);pe(kn,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const s=l_(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=XO(),a=YO(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new GO({})),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");pe(kn,`Creating RPC '${e}' stream ${s}: ${d}`,l);const f=o.createWebChannel(d,l);let p=!1,m=!1;const _=new Jse({Io:S=>{m?pe(kn,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(p||(pe(kn,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),pe(kn,`RPC '${e}' stream ${s} sending:`,S),f.send(S))},To:()=>f.close()}),v=(S,x,b)=>{S.listen(x,w=>{try{b(w)}catch(k){setTimeout(()=>{throw k},0)}})};return v(f,fd.EventType.OPEN,()=>{m||(pe(kn,`RPC '${e}' stream ${s} transport opened.`),_.yo())}),v(f,fd.EventType.CLOSE,()=>{m||(m=!0,pe(kn,`RPC '${e}' stream ${s} transport closed`),_.So())}),v(f,fd.EventType.ERROR,S=>{m||(m=!0,Yc(kn,`RPC '${e}' stream ${s} transport errored:`,S),_.So(new ae(K.UNAVAILABLE,"The operation could not be completed")))}),v(f,fd.EventType.MESSAGE,S=>{var x;if(!m){const b=S.data[0];Ye(!!b);const w=b,k=w.error||((x=w[0])===null||x===void 0?void 0:x.error);if(k){pe(kn,`RPC '${e}' stream ${s} received error:`,k);const j=k.status;let O=function(I){const P=$t[I];if(P!==void 0)return EM(P)}(j),C=k.message;O===void 0&&(O=K.INTERNAL,C="Unknown error status: "+j+" with message "+k.message),m=!0,_.So(new ae(O,C)),f.close()}else pe(kn,`RPC '${e}' stream ${s} received:`,b),_.bo(b)}}),v(a,QO.STAT_EVENT,S=>{S.stat===lw.PROXY?pe(kn,`RPC '${e}' stream ${s} detected buffering proxy`):S.stat===lw.NOPROXY&&pe(kn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{_.wo()},0),_}}function c_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sy(t){return new cse(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&pe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e,n,r,s,i,o,a,l){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new o1(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(Fi(n.toString()),Fi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new ae(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eie extends LM{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=fse(this.serializer,e),r=function(i){if(!("targetChange"in i))return Ie.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Ie.min():o.readTime?xr(o.readTime):Ie.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=gw(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=hw(l)?{documents:mse(i,l)}:{query:gse(i,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=IM(i,o.resumeToken);const c=pw(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Ie.min())>0){a.readTime=Og(i,o.snapshotVersion.toTimestamp());const c=pw(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=yse(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=gw(this.serializer),n.removeTarget=e,this.a_(n)}}class tie extends LM{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=pse(e.writeResults,e.commitTime),r=xr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=gw(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>RM(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nie extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new ae(K.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,mw(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ae(K.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,mw(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ae(K.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class rie{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Fi(n),this.D_=!1):pe("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sie{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{pl(this)&&(pe("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Ae(l);c.L_.add(4),await vf(c),c.q_.set("Unknown"),c.L_.delete(4),await iy(c)}(this))})}),this.q_=new rie(r,s)}}async function iy(t){if(pl(t))for(const e of t.B_)await e(!0)}async function vf(t){for(const e of t.B_)await e(!1)}function VM(t,e){const n=Ae(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),u1(n)?c1(n):gu(n).r_()&&l1(n,e))}function a1(t,e){const n=Ae(t),r=gu(n);n.N_.delete(e),r.r_()&&FM(n,e),n.N_.size===0&&(r.r_()?r.o_():pl(n)&&n.q_.set("Unknown"))}function l1(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}gu(t).A_(e)}function FM(t,e){t.Q_.xe(e),gu(t).R_(e)}function c1(t){t.Q_=new ise({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),gu(t).start(),t.q_.v_()}function u1(t){return pl(t)&&!gu(t).n_()&&t.N_.size>0}function pl(t){return Ae(t).L_.size===0}function $M(t){t.Q_=void 0}async function iie(t){t.q_.set("Online")}async function oie(t){t.N_.forEach((e,n)=>{l1(t,e)})}async function aie(t,e){$M(t),u1(t)?(t.q_.M_(e),c1(t)):t.q_.set("Unknown")}async function lie(t,e,n){if(t.q_.set("Online"),e instanceof TM&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Lg(t,r)}else if(e instanceof km?t.Q_.Ke(e):e instanceof CM?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Ie.min()))try{const r=await MM(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.N_.get(c);d&&i.N_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=i.N_.get(l);if(!d)return;i.N_.set(l,d.withResumeToken(xn.EMPTY_BYTE_STRING,d.snapshotVersion)),FM(i,l);const f=new So(d.target,l,c,d.sequenceNumber);l1(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){pe("RemoteStore","Failed to raise snapshot:",r),await Lg(t,r)}}async function Lg(t,e,n){if(!hf(e))throw e;t.L_.add(1),await vf(t),t.q_.set("Offline"),n||(n=()=>MM(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{pe("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await iy(t)})}function zM(t,e){return e().catch(n=>Lg(t,n,e))}async function oy(t){const e=Ae(t),n=Uo(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;cie(e);)try{const s=await qse(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,uie(e,s)}catch(s){await Lg(e,s)}BM(e)&&UM(e)}function cie(t){return pl(t)&&t.O_.length<10}function uie(t,e){t.O_.push(e);const n=Uo(t);n.r_()&&n.V_&&n.m_(e.mutations)}function BM(t){return pl(t)&&!Uo(t).n_()&&t.O_.length>0}function UM(t){Uo(t).start()}async function die(t){Uo(t).p_()}async function hie(t){const e=Uo(t);for(const n of t.O_)e.m_(n.mutations)}async function fie(t,e,n){const r=t.O_.shift(),s=e1.from(r,e,n);await zM(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await oy(t)}async function pie(t,e){e&&Uo(t).V_&&await async function(r,s){if(function(o){return SM(o)&&o!==K.ABORTED}(s.code)){const i=r.O_.shift();Uo(r).s_(),await zM(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await oy(r)}}(t,e),BM(t)&&UM(t)}async function nP(t,e){const n=Ae(t);n.asyncQueue.verifyOperationInProgress(),pe("RemoteStore","RemoteStore received new credentials");const r=pl(n);n.L_.add(3),await vf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await iy(n)}async function mie(t,e){const n=Ae(t);e?(n.L_.delete(2),await iy(n)):e||(n.L_.add(2),await vf(n),n.q_.set("Unknown"))}function gu(t){return t.K_||(t.K_=function(n,r,s){const i=Ae(n);return i.w_(),new eie(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:iie.bind(null,t),Ro:oie.bind(null,t),mo:aie.bind(null,t),d_:lie.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),u1(t)?c1(t):t.q_.set("Unknown")):(await t.K_.stop(),$M(t))})),t.K_}function Uo(t){return t.U_||(t.U_=function(n,r,s){const i=Ae(n);return i.w_(),new tie(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:die.bind(null,t),mo:pie.bind(null,t),f_:hie.bind(null,t),g_:fie.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await oy(t)):(await t.U_.stop(),t.O_.length>0&&(pe("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Hs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new d1(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function h1(t,e){if(Fi("AsyncQueue",`${e}: ${t}`),hf(t))return new ae(K.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ye.comparator(n.key,r.key):(n,r)=>ye.comparator(n.key,r.key),this.keyedMap=pd(),this.sortedSet=new Pt(this.comparator)}static emptySet(e){return new Tc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Tc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Tc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(){this.W_=new Pt(ye.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):xe():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class tu{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new tu(e,n,Tc.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gie{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class vie{constructor(){this.queries=sP(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=Ae(n),i=s.queries;s.queries=sP(),i.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new ae(K.ABORTED,"Firestore shutting down"))}}function sP(){return new mu(t=>uM(t),Zv)}async function f1(t,e){const n=Ae(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new gie,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=h1(o,`Initialization of query '${Vl(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&m1(n)}async function p1(t,e){const n=Ae(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function yie(t,e){const n=Ae(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(r=!0);o.z_=s}}r&&m1(n)}function _ie(t,e,n){const r=Ae(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function m1(t){t.Y_.forEach(e=>{e.next()})}var yw,iP;(iP=yw||(yw={})).ea="default",iP.Cache="cache";class g1{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new tu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=tu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==yw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e){this.key=e}}class HM{constructor(e){this.key=e}}class bie{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ve(),this.mutatedKeys=Ve(),this.Aa=dM(e),this.Ra=new Tc(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new rP,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,f)=>{const p=s.get(d),m=ey(this.query,f)?f:null,_=!!p&&this.mutatedKeys.has(p.key),v=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let S=!1;p&&m?p.data.isEqual(m.data)?_!==v&&(r.track({type:3,doc:m}),S=!0):this.ga(p,m)||(r.track({type:2,doc:m}),S=!0,(l&&this.Aa(m,l)>0||c&&this.Aa(m,c)<0)&&(a=!0)):!p&&m?(r.track({type:0,doc:m}),S=!0):p&&!m&&(r.track({type:1,doc:p}),S=!0,(l||c)&&(a=!0)),S&&(m?(o=o.add(m),i=v?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,f)=>function(m,_){const v=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe()}};return v(m)-v(_)}(d.type,f.type)||this.Aa(d.doc,f.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new tu(this.query,e.Ra,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new rP,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ve(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new HM(r))}),this.da.forEach(r=>{e.has(r)||n.push(new WM(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ve();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return tu.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class wie{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class xie{constructor(e){this.key=e,this.va=!1}}class Sie{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new mu(a=>uM(a),Zv),this.Ma=new Map,this.xa=new Set,this.Oa=new Pt(ye.comparator),this.Na=new Map,this.La=new r1,this.Ba={},this.ka=new Map,this.qa=eu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Eie(t,e,n=!0){const r=XM(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await qM(r,e,n,!0),s}async function Cie(t,e){const n=XM(t);await qM(n,e,!0,!1)}async function qM(t,e,n,r){const s=await Gse(t.localStore,qs(e)),i=s.targetId,o=n?t.sharedClientState.addLocalQueryTarget(i):"not-current";let a;return r&&(a=await Tie(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&VM(t.remoteStore,s),a}async function Tie(t,e,n,r,s){t.Ka=(f,p,m)=>async function(v,S,x,b){let w=S.view.ma(x);w.ns&&(w=await Zk(v.localStore,S.query,!1).then(({documents:C})=>S.view.ma(C,w)));const k=b&&b.targetChanges.get(S.targetId),j=b&&b.targetMismatches.get(S.targetId)!=null,O=S.view.applyChanges(w,v.isPrimaryClient,k,j);return aP(v,S.targetId,O.wa),O.snapshot}(t,f,p,m);const i=await Zk(t.localStore,e,!0),o=new bie(e,i.Ts),a=o.ma(i.documents),l=gf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);aP(t,n,c.wa);const d=new wie(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function Iie(t,e,n){const r=Ae(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!Zv(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await vw(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&a1(r.remoteStore,s.targetId),_w(r,s.targetId)}).catch(df)):(_w(r,s.targetId),await vw(r.localStore,s.targetId,!0))}async function kie(t,e){const n=Ae(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),a1(n.remoteStore,r.targetId))}async function Pie(t,e,n){const r=Mie(t);try{const s=await function(o,a){const l=Ae(o),c=xt.now(),d=a.reduce((m,_)=>m.add(_.key),Ve());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let _=$i(),v=Ve();return l.cs.getEntries(m,d).next(S=>{_=S,_.forEach((x,b)=>{b.isValidDocument()||(v=v.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,_)).next(S=>{f=S;const x=[];for(const b of a){const w=Zre(b,f.get(b.key).overlayedDocument);w!=null&&x.push(new Zo(b.key,w,nM(w.value.mapValue),Ht.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,x,a)}).next(S=>{p=S;const x=S.applyToLocalDocumentSet(f,v);return l.documentOverlayCache.saveOverlays(m,S.batchId,x)})}).then(()=>({batchId:p.batchId,changes:fM(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new Pt(He)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,s.batchId,n),await yf(r,s.changes),await oy(r.remoteStore)}catch(s){const i=h1(s,"Failed to persist write");n.reject(i)}}async function GM(t,e){const n=Ae(t);try{const r=await Wse(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(Ye(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?Ye(o.va):s.removedDocuments.size>0&&(Ye(o.va),o.va=!1))}),await yf(n,r,e)}catch(r){await df(r)}}function oP(t,e,n){const r=Ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=Ae(o);l.onlineState=a;let c=!1;l.queries.forEach((d,f)=>{for(const p of f.j_)p.Z_(a)&&(c=!0)}),c&&m1(l)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Aie(t,e,n){const r=Ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new Pt(ye.comparator);o=o.insert(i,sn.newNoDocument(i,Ie.min()));const a=Ve().add(i),l=new ry(Ie.min(),new Map,new Pt(He),o,a);await GM(r,l),r.Oa=r.Oa.remove(i),r.Na.delete(e),v1(r)}else await vw(r.localStore,e,!1).then(()=>_w(r,e,n)).catch(df)}async function Rie(t,e){const n=Ae(t),r=e.batch.batchId;try{const s=await Use(n.localStore,e);QM(n,r,null),KM(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await yf(n,s)}catch(s){await df(s)}}async function jie(t,e,n){const r=Ae(t);try{const s=await function(o,a){const l=Ae(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(Ye(f!==null),d=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);QM(r,e,n),KM(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await yf(r,s)}catch(s){await df(s)}}function KM(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function QM(t,e,n){const r=Ae(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function _w(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||YM(t,r)})}function YM(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(a1(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),v1(t))}function aP(t,e,n){for(const r of n)r instanceof WM?(t.La.addReference(r.key,e),Die(t,r)):r instanceof HM?(pe("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||YM(t,r.key)):xe()}function Die(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(pe("SyncEngine","New document in limbo: "+n),t.xa.add(r),v1(t))}function v1(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ye(at.fromString(e)),r=t.qa.next();t.Na.set(r,new xie(n)),t.Oa=t.Oa.insert(n,r),VM(t.remoteStore,new So(qs(Jv(n.path)),r,"TargetPurposeLimboResolution",GS.oe))}}async function yf(t,e,n){const r=Ae(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){s.push(c);const f=i1.Wi(l.targetId,c);i.push(f)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(l,c){const d=Ae(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Z.forEach(c,p=>Z.forEach(p.$i,m=>d.persistence.referenceDelegate.addReference(f,p.targetId,m)).next(()=>Z.forEach(p.Ui,m=>d.persistence.referenceDelegate.removeReference(f,p.targetId,m)))))}catch(f){if(!hf(f))throw f;pe("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const m=d.os.get(p),_=m.snapshotVersion,v=m.withLastLimboFreeSnapshotVersion(_);d.os=d.os.insert(p,v)}}}(r.localStore,i))}async function Nie(t,e){const n=Ae(t);if(!n.currentUser.isEqual(e)){pe("SyncEngine","User change. New user:",e.toKey());const r=await OM(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(l=>{l.reject(new ae(K.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await yf(n,r.hs)}}function Oie(t,e){const n=Ae(t),r=n.Na.get(e);if(r&&r.va)return Ve().add(r.key);{let s=Ve();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const a=n.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function XM(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=GM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Oie.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Aie.bind(null,e),e.Ca.d_=yie.bind(null,e.eventManager),e.Ca.$a=_ie.bind(null,e.eventManager),e}function Mie(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Rie.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jie.bind(null,e),e}class lP{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=sy(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Bse(this.persistence,new $se,e.initialUser,this.serializer)}createPersistence(e){return new Lse(s1.Zr,this.serializer)}createSharedClientState(e){return new Qse}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Lie{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>oP(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Nie.bind(null,this.syncEngine),await mie(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new vie}()}createDatastore(e){const n=sy(e.databaseInfo.databaseId),r=function(i){return new Zse(i)}(e.databaseInfo);return function(i,o,a,l){return new nie(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new sie(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>oP(this.syncEngine,n,0),function(){return tP.D()?new tP:new Yse}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,d){const f=new Sie(s,i,o,a,l,c);return d&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Ae(s);pe("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await vf(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Fi("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vie{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ae(K.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(s,i){const o=Ae(s),a={documents:i.map(f=>Mg(o.serializer,f))},l=await o.Lo("BatchGetDocuments",o.serializer.databaseId,at.emptyPath(),a,i.length),c=new Map;l.forEach(f=>{const p=hse(o.serializer,f);c.set(p.key.toString(),p)});const d=[];return i.forEach(f=>{const p=c.get(f.toString());Ye(!!p),d.push(p)}),d}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new mf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const s=ye.fromPath(r);this.mutations.push(new xM(s,this.precondition(s)))}),await async function(r,s){const i=Ae(r),o={writes:s.map(a=>RM(i.serializer,a))};await i.Mo("Commit",i.serializer.databaseId,at.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw xe();n=Ie.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new ae(K.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Ie.min())?Ht.exists(!1):Ht.updateTime(n):Ht.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Ie.min()))throw new ae(K.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ht.updateTime(n)}return Ht.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fie{constructor(e,n,r,s,i){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=s,this.deferred=i,this.nu=r.maxAttempts,this.t_=new o1(this.asyncQueue,"transaction_retry")}ru(){this.nu-=1,this.iu()}iu(){this.t_.Go(async()=>{const e=new Vie(this.datastore),n=this.su(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(s=>{this.ou(s)}))}).catch(r=>{this.ou(r)})})}su(e){try{const n=this.updateFunction(e);return!ff(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ou(e){this.nu>0&&this._u(e)?(this.nu-=1,this.asyncQueue.enqueueAndForget(()=>(this.iu(),Promise.resolve()))):this.deferred.reject(e)}_u(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!SM(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ie{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=jn.UNAUTHENTICATED,this.clientId=ZO.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{pe("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(pe("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ae(K.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=h1(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function u_(t,e){t.asyncQueue.verifyOperationInProgress(),pe("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await OM(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function cP(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Bie(t);pe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>nP(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>nP(e.remoteStore,s)),t._onlineComponents=e}function zie(t){return t.name==="FirebaseError"?t.code===K.FAILED_PRECONDITION||t.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function Bie(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){pe("FirestoreClient","Using user provided OfflineComponentProvider");try{await u_(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!zie(n))throw n;Yc("Error using user provided cache. Falling back to memory cache: "+n),await u_(t,new lP)}}else pe("FirestoreClient","Using default OfflineComponentProvider"),await u_(t,new lP);return t._offlineComponents}async function _1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(pe("FirestoreClient","Using user provided OnlineComponentProvider"),await cP(t,t._uninitializedComponentsProvider._online)):(pe("FirestoreClient","Using default OnlineComponentProvider"),await cP(t,new Lie))),t._onlineComponents}function Uie(t){return _1(t).then(e=>e.syncEngine)}function Wie(t){return _1(t).then(e=>e.datastore)}async function Vg(t){const e=await _1(t),n=e.eventManager;return n.onListen=Eie.bind(null,e.syncEngine),n.onUnlisten=Iie.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Cie.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=kie.bind(null,e.syncEngine),n}function Hie(t,e,n={}){const r=new Hs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const d=new y1({next:p=>{o.enqueueAndForget(()=>p1(i,f));const m=p.docs.has(a);!m&&p.fromCache?c.reject(new ae(K.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&l&&l.source==="server"?c.reject(new ae(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new g1(Jv(a.path),d,{includeMetadataChanges:!0,_a:!0});return f1(i,f)}(await Vg(t),t.asyncQueue,e,n,r)),r.promise}function qie(t,e,n={}){const r=new Hs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const d=new y1({next:p=>{o.enqueueAndForget(()=>p1(i,f)),p.fromCache&&l.source==="server"?c.reject(new ae(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new g1(a,d,{includeMetadataChanges:!0,_a:!0});return f1(i,f)}(await Vg(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JM(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZM(t,e,n){if(!n)throw new ae(K.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Gie(t,e,n,r){if(e===!0&&r===!0)throw new ae(K.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function dP(t){if(!ye.isDocumentKey(t))throw new ae(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function hP(t){if(ye.isDocumentKey(t))throw new ae(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ay(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":xe()}function Nn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ae(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ay(t);throw new ae(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Kie(t,e){if(e<=0)throw new ae(K.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ae(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ae(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Gie("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ae(K.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ae(K.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ae(K.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ly{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fP({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ae(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ae(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fP(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new lre;switch(r.type){case"firstParty":return new hre(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=uP.get(n);r&&(pe("ComponentProvider","Removing Datastore"),uP.delete(n),r.terminate())}(this),Promise.resolve()}}function Qie(t,e,n,r={}){var s;const i=(t=Nn(t,ly))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Yc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=jn.MOCK_USER;else{a=Fte(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ae(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new jn(c)}t._authCredentials=new cre(new JO(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Wi(this.firestore,e,this._query)}}class bn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bn(this.firestore,e,this._key)}}class Mo extends Wi{constructor(e,n,r){super(e,n,Jv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bn(this.firestore,null,new ye(e))}withConverter(e){return new Mo(this.firestore,e,this._path)}}function le(t,e,...n){if(t=pt(t),ZM("collection","path",e),t instanceof ly){const r=at.fromString(e,...n);return hP(r),new Mo(t,null,r)}{if(!(t instanceof bn||t instanceof Mo))throw new ae(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(at.fromString(e,...n));return hP(r),new Mo(t.firestore,null,r)}}function J(t,e,...n){if(t=pt(t),arguments.length===1&&(e=ZO.newId()),ZM("doc","path",e),t instanceof ly){const r=at.fromString(e,...n);return dP(r),new bn(t,null,new ye(r))}{if(!(t instanceof bn||t instanceof Mo))throw new ae(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(at.fromString(e,...n));return dP(r),new bn(t.firestore,t instanceof Mo?t.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yie{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new o1(this,"async_queue_retry"),this.Eu=()=>{const n=c_();n&&pe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=c_();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=c_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new Hs;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!hf(e))throw e;pe("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Fi("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const s=d1.createAndSchedule(this,e,n,r,i=>this.Vu(i));return this.lu.push(s),s}du(){this.hu&&xe()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}function pP(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class gs extends ly{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new Yie}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||eL(this),this._firestoreClient.terminate()}}function Xie(t,e){const n=typeof t=="object"?t:HS(),r=typeof t=="string"?t:e||"(default)",s=hl(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=Lte("firestore");i&&Qie(s,...i)}return s}function vu(t){return t._firestoreClient||eL(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function eL(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,d){return new Cre(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,JM(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new $ie(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Za(xn.fromBase64String(e))}catch(n){throw new ae(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Za(xn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ae(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jie=/^__.*__$/;class Zie{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Zo(e,this.data,this.fieldMask,n,this.fieldTransforms):new pf(e,this.data,n,this.fieldTransforms)}}class tL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Zo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function nL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe()}}class S1{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.yu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new S1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Su({path:r,Du:!1});return s.vu(e),s}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Su({path:r,Du:!1});return s.yu(),s}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Fg(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(nL(this.wu)&&Jie.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class eoe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||sy(e)}Nu(e,n,r,s=!1){return new S1({wu:e,methodName:n,Ou:r,path:vn.emptyPath(),Du:!1,xu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _u(t){const e=t._freezeSettings(),n=sy(t._databaseId);return new eoe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function cy(t,e,n,r,s,i={}){const o=t.Nu(i.merge||i.mergeFields?2:0,e,n,s);T1("Data must be an object, but it was:",o,r);const a=rL(r,o);let l,c;if(i.merge)l=new vr(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const f of i.mergeFields){const p=bw(e,f,n);if(!o.contains(p))throw new ae(K.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);iL(d,p)||d.push(p)}l=new vr(d),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new Zie(new Bn(a),l,c)}class uy extends b1{_toFieldTransform(e){if(e.wu!==2)throw e.wu===1?e.Mu(`${this._methodName}() can only appear at the top level of your update data`):e.Mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof uy}}function E1(t,e,n,r){const s=t.Nu(1,e,n);T1("Data must be an object, but it was:",s,r);const i=[],o=Bn.empty();fl(r,(l,c)=>{const d=I1(e,l,n);c=pt(c);const f=s.Cu(d);if(c instanceof uy)i.push(d);else{const p=_f(c,f);p!=null&&(i.push(d),o.set(d,p))}});const a=new vr(i);return new tL(o,a,s.fieldTransforms)}function C1(t,e,n,r,s,i){const o=t.Nu(1,e,n),a=[bw(e,r,n)],l=[s];if(i.length%2!=0)throw new ae(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(bw(e,i[p])),l.push(i[p+1]);const c=[],d=Bn.empty();for(let p=a.length-1;p>=0;--p)if(!iL(c,a[p])){const m=a[p];let _=l[p];_=pt(_);const v=o.Cu(m);if(_ instanceof uy)c.push(m);else{const S=_f(_,v);S!=null&&(c.push(m),d.set(m,S))}}const f=new vr(c);return new tL(d,f,o.fieldTransforms)}function toe(t,e,n,r=!1){return _f(n,t.Nu(r?4:3,e))}function _f(t,e){if(sL(t=pt(t)))return T1("Unsupported field value:",e,t),rL(t,e);if(t instanceof b1)return function(r,s){if(!nL(s.wu))throw s.Mu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Mu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=_f(a,s.Fu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=pt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Gre(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=xt.fromDate(r);return{timestampValue:Og(s.serializer,i)}}if(r instanceof xt){const i=new xt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Og(s.serializer,i)}}if(r instanceof w1)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Za)return{bytesValue:IM(s.serializer,r._byteString)};if(r instanceof bn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:n1(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof x1)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Mu("VectorValues must only contain numeric values.");return ZS(a.serializer,l)})}}}}}}(r,s);throw s.Mu(`Unsupported field value: ${ay(r)}`)}(t,e)}function rL(t,e){const n={};return eM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fl(t,(r,s)=>{const i=_f(s,e.bu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function sL(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof xt||t instanceof w1||t instanceof Za||t instanceof bn||t instanceof b1||t instanceof x1)}function T1(t,e,n){if(!sL(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=ay(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function bw(t,e,n){if((e=pt(e))instanceof yu)return e._internalPath;if(typeof e=="string")return I1(t,e);throw Fg("Field path arguments must be of type string or ",t,!1,void 0,n)}const noe=new RegExp("[~\\*/\\[\\]]");function I1(t,e,n){if(e.search(noe)>=0)throw Fg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new yu(...e.split("."))._internalPath}catch{throw Fg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Fg(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new ae(K.INVALID_ARGUMENT,a+t+l)}function iL(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new bn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new roe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(dy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class roe extends $g{data(){return super.data()}}function dy(t,e){return typeof e=="string"?I1(t,e):e instanceof yu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ae(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class k1{}class P1 extends k1{}function On(t,e,...n){let r=[];e instanceof k1&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof A1).length,a=i.filter(l=>l instanceof hy).length;if(o>1||o>0&&a>0)throw new ae(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class hy extends P1{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new hy(e,n,r)}_apply(e){const n=this._parse(e);return aL(e._query,n),new Wi(e.firestore,e.converter,fw(e._query,n))}_parse(e){const n=_u(e.firestore);return function(i,o,a,l,c,d,f){let p;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ae(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){gP(f,d);const m=[];for(const _ of f)m.push(mP(l,i,_));p={arrayValue:{values:m}}}else p=mP(l,i,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||gP(f,d),p=toe(a,o,f,d==="in"||d==="not-in");return Wt.create(c,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Hr(t,e,n){const r=e,s=dy("where",t);return hy._create(s,r,n)}class A1 extends k1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new A1(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ms.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)aL(o,l),o=fw(o,l)}(e._query,n),new Wi(e.firestore,e.converter,fw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class R1 extends P1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new R1(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new ae(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ae(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Dh(i,o)}(e._query,this._field,this._direction);return new Wi(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new pu(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function soe(t,e="asc"){const n=e,r=dy("orderBy",t);return R1._create(r,n)}class j1 extends P1{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new j1(e,n,r)}_apply(e){return new Wi(e.firestore,e.converter,jg(e._query,this._limit,this._limitType))}}function ioe(t){return Kie("limit",t),j1._create("limit",t,"F")}function mP(t,e,n){if(typeof(n=pt(n))=="string"){if(n==="")throw new ae(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cM(e)&&n.indexOf("/")!==-1)throw new ae(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(at.fromString(n));if(!ye.isDocumentKey(r))throw new ae(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Mk(t,new ye(r))}if(n instanceof bn)return Mk(t,n._key);throw new ae(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ay(n)}.`)}function gP(t,e){if(!Array.isArray(t)||t.length===0)throw new ae(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function aL(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ae(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class lL{convertValue(e,n="none"){switch(Ja(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return fl(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Ot(o.doubleValue));return new x1(i)}convertGeoPoint(e){return new w1(Ot(e.latitude),Ot(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=QS(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ah(e));default:return null}}convertTimestamp(e){const n=Bo(e);return new xt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=at.fromString(e);Ye(NM(r));const s=new Rh(r.get(1),r.get(3)),i=new ye(r.popFirst(5));return s.isEqual(n)||Fi(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class ooe extends lL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Za(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new bn(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class D1 extends $g{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Pm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(dy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Pm extends D1{data(e={}){return super.data(e)}}class cL{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new dc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Pm(this._firestore,this._userDataWriter,r.key,r,new dc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ae(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Pm(s._firestore,s._userDataWriter,a.doc.key,a.doc,new dc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Pm(s._firestore,s._userDataWriter,a.doc.key,a.doc,new dc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:aoe(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function aoe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nt(t){t=Nn(t,bn);const e=Nn(t.firestore,gs);return Hie(vu(e),t._key).then(n=>uL(e,t,n))}class py extends lL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Za(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new bn(this.firestore,null,n)}}function qt(t){t=Nn(t,Wi);const e=Nn(t.firestore,gs),n=vu(e),r=new py(e);return oL(t._query),qie(n,t._query).then(s=>new cL(e,r,t,s))}function ww(t,e,n){t=Nn(t,bn);const r=Nn(t.firestore,gs),s=fy(t.converter,e,n);return wf(r,[cy(_u(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Ht.none())])}function bf(t,e,n,...r){t=Nn(t,bn);const s=Nn(t.firestore,gs),i=_u(s);let o;return o=typeof(e=pt(e))=="string"||e instanceof yu?C1(i,"updateDoc",t._key,e,n,r):E1(i,"updateDoc",t._key,e),wf(s,[o.toMutation(t._key,Ht.exists(!0))])}function my(t){return wf(Nn(t.firestore,gs),[new mf(t._key,Ht.none())])}function N1(t,e){const n=Nn(t.firestore,gs),r=J(t),s=fy(t.converter,e);return wf(n,[cy(_u(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Ht.exists(!1))]).then(()=>r)}function O1(t,...e){var n,r,s;t=pt(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||pP(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(pP(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(s=f.complete)===null||s===void 0?void 0:s.bind(f)}let l,c,d;if(t instanceof bn)c=Nn(t.firestore,gs),d=Jv(t._key.path),l={next:f=>{e[o]&&e[o](uL(c,t,f))},error:e[o+1],complete:e[o+2]};else{const f=Nn(t,Wi);c=Nn(f.firestore,gs),d=f._query;const p=new py(c);l={next:m=>{e[o]&&e[o](new cL(c,p,f,m))},error:e[o+1],complete:e[o+2]},oL(t._query)}return function(p,m,_,v){const S=new y1(v),x=new g1(m,S,_);return p.asyncQueue.enqueueAndForget(async()=>f1(await Vg(p),x)),()=>{S.za(),p.asyncQueue.enqueueAndForget(async()=>p1(await Vg(p),x))}}(vu(c),d,a,l)}function wf(t,e){return function(r,s){const i=new Hs;return r.asyncQueue.enqueueAndForget(async()=>Pie(await Uie(r),s,i)),i.promise}(vu(t),e)}function uL(t,e,n){const r=n.docs.get(e._key),s=new py(t);return new D1(t,s,e._key,r,new dc(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const loe={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class coe{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=_u(e)}set(e,n,r){this._verifyNotCommitted();const s=mo(e,this._firestore),i=fy(s.converter,n,r),o=cy(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,r);return this._mutations.push(o.toMutation(s._key,Ht.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const i=mo(e,this._firestore);let o;return o=typeof(n=pt(n))=="string"||n instanceof yu?C1(this._dataReader,"WriteBatch.update",i._key,n,r,s):E1(this._dataReader,"WriteBatch.update",i._key,n),this._mutations.push(o.toMutation(i._key,Ht.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=mo(e,this._firestore);return this._mutations=this._mutations.concat(new mf(n._key,Ht.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ae(K.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function mo(t,e){if((t=pt(t)).firestore!==e)throw new ae(K.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uoe extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=_u(n)}get(n){const r=mo(n,this._firestore),s=new ooe(this._firestore);return this._transaction.lookup([r._key]).then(i=>{if(!i||i.length!==1)return xe();const o=i[0];if(o.isFoundDocument())return new $g(this._firestore,s,o.key,o,r.converter);if(o.isNoDocument())return new $g(this._firestore,s,r._key,null,r.converter);throw xe()})}set(n,r,s){const i=mo(n,this._firestore),o=fy(i.converter,r,s),a=cy(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,s);return this._transaction.set(i._key,a),this}update(n,r,s,...i){const o=mo(n,this._firestore);let a;return a=typeof(r=pt(r))=="string"||r instanceof yu?C1(this._dataReader,"Transaction.update",o._key,r,s,i):E1(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=mo(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=mo(e,this._firestore),r=new py(this._firestore);return super.get(e).then(s=>new D1(this._firestore,r,n._key,s._document,new dc(!1,!1),n.converter))}}function Mn(t,e,n){t=Nn(t,gs);const r=Object.assign(Object.assign({},loe),n);return function(i){if(i.maxAttempts<1)throw new ae(K.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,o,a){const l=new Hs;return i.asyncQueue.enqueueAndForget(async()=>{const c=await Wie(i);new Fie(i.asyncQueue,c,a,o,l).ru()}),l.promise}(vu(t),s=>e(new uoe(t,s)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(t){return vu(t=Nn(t,gs)),new coe(t,e=>wf(t,e))}(function(e,n=!0){(function(s){fu=s})(hu),Ys(new ps("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new gs(new ure(r.getProvider("auth-internal")),new pre(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ae(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rh(c.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Wr(Rk,"4.7.1",e),Wr(Rk,"4.7.1","esm2017")})();const dL="#F2F5F5",hL="#DCE5E5",Ze="#565360",Ci="#908E9B",doe="#E1DFE9",hoe="8px",Lt="12px",gy="16px",fL="20px",el="24px",vy="32px",Mh="48px",vP=t=>{const{index:e,initiatorID:n,recipientID:r,notifTitle:s,notifDesc:i,notifTimestamp:o,notifReadStatus:a}=t.data,l={backgroundColor:a?dL:"teal.100",padding:Lt,borderRadius:gy,cursor:"pointer",w:"100%",transition:"transform 0.3s",_hover:{transform:"scale(1.05)",backgroundColor:hL}},c={flex:1,textAlign:"left"},d={color:Ci,fontWeight:"bold"},f={color:Ze},p={fontSize:Lt,color:"gray",fontWeight:"bold"},m=()=>{t.onOpenReadModal(e)};return u.jsx(U,{onClick:m,children:u.jsxs(me,{sx:l,align:"center",children:[u.jsx(hr,{name:s,size:"sm",mr:"10px"}),u.jsxs(U,{sx:c,isTruncated:!0,children:[u.jsx(H,{sx:d,children:s}),u.jsx(H,{sx:f,children:u.jsx("pre",{children:i.split(`
`)[0]})})," "]}),u.jsxs(H,{sx:p,children:[new Date(o.seconds*1e3).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})," ",u.jsx("br",{})," ",new Date(o.seconds*1e3).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})]}),u.jsx(se,{colorScheme:"teal",rightIcon:u.jsx(Qc,{}),children:"View"})]})})};function pL(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const foe=pL,mL=new dl("auth","Firebase",pL());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg=new Xv("@firebase/auth");function poe(t,...e){zg.logLevel<=ze.WARN&&zg.warn(`Auth (${hu}): ${t}`,...e)}function Am(t,...e){zg.logLevel<=ze.ERROR&&zg.error(`Auth (${hu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(t,...e){throw M1(t,...e)}function Gs(t,...e){return M1(t,...e)}function gL(t,e,n){const r=Object.assign(Object.assign({},foe()),{[e]:n});return new dl("auth","Firebase",r).create(e,{appName:t.name})}function Ti(t){return gL(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function M1(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return mL.create(t,...e)}function ke(t,e,...n){if(!t)throw M1(e,...n)}function vi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Am(e),new Error(e)}function zi(t,e){t||vi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function vL(){return yP()==="http:"||yP()==="https:"}function yP(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function moe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vL()||MO()||"connection"in navigator)?navigator.onLine:!0}function goe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,n){this.shortDelay=e,this.longDelay=n,zi(n>e,"Short delay should be less than long delay!"),this.isMobile=$te()||Bte()}get(){return moe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(t,e){zi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const voe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yoe=new xf(3e4,6e4);function Hi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function qi(t,e,n,r,s={}){return _L(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=uf(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),yL.fetch()(bL(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},i))})}async function _L(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},voe),e);try{const s=new boe(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Wp(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wp(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Wp(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Wp(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw gL(t,d,c);vs(t,d)}}catch(s){if(s instanceof bs)throw s;vs(t,"network-request-failed",{message:String(s)})}}async function Sf(t,e,n,r,s={}){const i=await qi(t,e,n,r,s);return"mfaPendingCredential"in i&&vs(t,"multi-factor-auth-required",{_serverResponse:i}),i}function bL(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?L1(t.config,s):`${t.config.apiScheme}://${s}`}function _oe(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class boe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Gs(this.auth,"network-request-failed")),yoe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Wp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Gs(t,e,r);return s.customData._tokenResponse=n,s}function _P(t){return t!==void 0&&t.enterprise!==void 0}class woe{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return _oe(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function xoe(t,e){return qi(t,"GET","/v2/recaptchaConfig",Hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Soe(t,e){return qi(t,"POST","/v1/accounts:delete",e)}async function wL(t,e){return qi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Eoe(t,e=!1){const n=pt(t),r=await n.getIdToken(e),s=V1(r);ke(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Bd(d_(s.auth_time)),issuedAtTime:Bd(d_(s.iat)),expirationTime:Bd(d_(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function d_(t){return Number(t)*1e3}function V1(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Am("JWT malformed, contained fewer than 3 sections"),null;try{const s=jO(n);return s?JSON.parse(s):(Am("Failed to decode base64 JWT payload"),null)}catch(s){return Am("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function bP(t){const e=V1(t);return ke(e,"internal-error"),ke(typeof e.exp<"u","internal-error"),ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof bs&&Coe(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Coe({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Toe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bd(this.lastLoginAt),this.creationTime=Bd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ug(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Lh(t,wL(n,{idToken:r}));ke(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?xL(i.providerUserInfo):[],a=koe(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new xw(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function Ioe(t){const e=pt(t);await Ug(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function koe(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function xL(t){return t.map(e=>{var{providerId:n}=e,r=nf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Poe(t,e){const n=await _L(t,{},async()=>{const r=uf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=bL(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",yL.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Aoe(t,e){return qi(t,"POST","/v2/accounts:revokeToken",Hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ke(e.idToken,"internal-error"),ke(typeof e.idToken<"u","internal-error"),ke(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ke(e.length!==0,"internal-error");const n=bP(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await Poe(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Ic;return r&&(ke(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ke(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ke(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ic,this.toJSON())}_performRefresh(){return vi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oo(t,e){ke(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class yi{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=nf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Toe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new xw(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Lh(this,this.stsTokenManager.getToken(this.auth,e));return ke(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Eoe(this,e)}reload(){return Ioe(this)}_assign(e){this!==e&&(ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new yi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ug(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vs(this.auth.app))return Promise.reject(Ti(this.auth));const e=await this.getIdToken();return await Lh(this,Soe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,m=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,x=(c=n.createdAt)!==null&&c!==void 0?c:void 0,b=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:w,emailVerified:k,isAnonymous:j,providerData:O,stsTokenManager:C}=n;ke(w&&C,e,"internal-error");const T=Ic.fromJSON(this.name,C);ke(typeof w=="string",e,"internal-error"),oo(f,e.name),oo(p,e.name),ke(typeof k=="boolean",e,"internal-error"),ke(typeof j=="boolean",e,"internal-error"),oo(m,e.name),oo(_,e.name),oo(v,e.name),oo(S,e.name),oo(x,e.name),oo(b,e.name);const I=new yi({uid:w,auth:e,email:p,emailVerified:k,displayName:f,isAnonymous:j,photoURL:_,phoneNumber:m,tenantId:v,stsTokenManager:T,createdAt:x,lastLoginAt:b});return O&&Array.isArray(O)&&(I.providerData=O.map(P=>Object.assign({},P))),S&&(I._redirectEventId=S),I}static async _fromIdTokenResponse(e,n,r=!1){const s=new Ic;s.updateFromServerResponse(n);const i=new yi({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Ug(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ke(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?xL(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Ic;a.updateFromIdToken(r);const l=new yi({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new xw(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP=new Map;function _i(t){zi(t instanceof Function,"Expected a class definition");let e=wP.get(t);return e?(zi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,wP.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}SL.type="NONE";const xP=SL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(t,e,n){return`firebase:${t}:${e}:${n}`}class kc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Rm(this.userKey,s.apiKey,i),this.fullPersistenceKey=Rm("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?yi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new kc(_i(xP),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||_i(xP);const o=Rm(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const f=yi._fromJSON(e,d);c!==i&&(a=f),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new kc(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new kc(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(IL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(EL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(PL(e))return"Blackberry";if(AL(e))return"Webos";if(CL(e))return"Safari";if((e.includes("chrome/")||TL(e))&&!e.includes("edge/"))return"Chrome";if(kL(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function EL(t=Vn()){return/firefox\//i.test(t)}function CL(t=Vn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function TL(t=Vn()){return/crios\//i.test(t)}function IL(t=Vn()){return/iemobile/i.test(t)}function kL(t=Vn()){return/android/i.test(t)}function PL(t=Vn()){return/blackberry/i.test(t)}function AL(t=Vn()){return/webos/i.test(t)}function F1(t=Vn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Roe(t=Vn()){var e;return F1(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function joe(){return Ute()&&document.documentMode===10}function RL(t=Vn()){return F1(t)||kL(t)||AL(t)||PL(t)||/windows phone/i.test(t)||IL(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(t,e=[]){let n;switch(t){case"Browser":n=SP(Vn());break;case"Worker":n=`${SP(Vn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${hu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Doe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Noe(t,e={}){return qi(t,"GET","/v2/passwordPolicy",Hi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ooe=6;class Moe{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Ooe,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Loe{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new EP(this),this.idTokenSubscription=new EP(this),this.beforeStateQueue=new Doe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mL,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_i(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await kc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await wL(this,{idToken:e}),r=await yi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Vs(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ug(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=goe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vs(this.app))return Promise.reject(Ti(this));const n=e?pt(e):null;return n&&ke(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vs(this.app)?Promise.reject(Ti(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vs(this.app)?Promise.reject(Ti(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_i(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Noe(this),n=new Moe(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new dl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Aoe(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_i(e)||this._popupRedirectResolver;ke(n,this,"argument-error"),this.redirectPersistenceManager=await kc.create(this,[_i(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ke(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&poe(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ml(t){return pt(t)}class EP{constructor(e){this.auth=e,this.observer=null,this.addObserver=Yte(n=>this.observer=n)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Voe(t){yy=t}function DL(t){return yy.loadJS(t)}function Foe(){return yy.recaptchaEnterpriseScript}function $oe(){return yy.gapiScript}function zoe(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Boe="recaptcha-enterprise",Uoe="NO_RECAPTCHA";class Woe{constructor(e){this.type=Boe,this.auth=ml(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{xoe(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new woe(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;_P(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(Uoe)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&_P(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Foe();l.length!==0&&(l+=a),DL(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function CP(t,e,n,r=!1){const s=new Woe(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Sw(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await CP(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await CP(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hoe(t,e){const n=hl(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Ih(i,e??{}))return s;vs(s,"already-initialized")}return n.initialize({options:e})}function qoe(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(_i);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Goe(t,e,n){const r=ml(t);ke(r._canInitEmulator,r,"emulator-config-failed"),ke(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=NL(e),{host:o,port:a}=Koe(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||Qoe()}function NL(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Koe(t){const e=NL(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:TP(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:TP(o)}}}function TP(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Qoe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vi("not implemented")}_getIdTokenResponse(e){return vi("not implemented")}_linkToIdToken(e,n){return vi("not implemented")}_getReauthenticationResolver(e){return vi("not implemented")}}async function Yoe(t,e){return qi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xoe(t,e){return Sf(t,"POST","/v1/accounts:signInWithPassword",Hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Joe(t,e){return Sf(t,"POST","/v1/accounts:signInWithEmailLink",Hi(t,e))}async function Zoe(t,e){return Sf(t,"POST","/v1/accounts:signInWithEmailLink",Hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh extends $1{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Vh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Vh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sw(e,n,"signInWithPassword",Xoe);case"emailLink":return Joe(e,{email:this._email,oobCode:this._password});default:vs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sw(e,r,"signUpPassword",Yoe);case"emailLink":return Zoe(e,{idToken:n,email:this._email,oobCode:this._password});default:vs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pc(t,e){return Sf(t,"POST","/v1/accounts:signInWithIdp",Hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eae="http://localhost";class tl extends $1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new tl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):vs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=nf(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new tl(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Pc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Pc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Pc(e,n)}buildRequest(){const e={requestUri:eae,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=uf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tae(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function nae(t){const e=dd(hd(t)).link,n=e?dd(hd(e)).deep_link_id:null,r=dd(hd(t)).deep_link_id;return(r?dd(hd(r)).link:null)||r||n||e||t}class z1{constructor(e){var n,r,s,i,o,a;const l=dd(hd(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,f=tae((s=l.mode)!==null&&s!==void 0?s:null);ke(c&&d&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=d,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=nae(e);try{return new z1(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(){this.providerId=bu.PROVIDER_ID}static credential(e,n){return Vh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=z1.parseLink(n);return ke(r,"argument-error"),Vh._fromEmailAndCode(e,r.code,r.tenantId)}}bu.PROVIDER_ID="password";bu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";bu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef extends OL{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go extends Ef{constructor(){super("facebook.com")}static credential(e){return tl._fromParams({providerId:go.PROVIDER_ID,signInMethod:go.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return go.credentialFromTaggedObject(e)}static credentialFromError(e){return go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return go.credential(e.oauthAccessToken)}catch{return null}}}go.FACEBOOK_SIGN_IN_METHOD="facebook.com";go.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo extends Ef{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return tl._fromParams({providerId:vo.PROVIDER_ID,signInMethod:vo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return vo.credentialFromTaggedObject(e)}static credentialFromError(e){return vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return vo.credential(n,r)}catch{return null}}}vo.GOOGLE_SIGN_IN_METHOD="google.com";vo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo extends Ef{constructor(){super("github.com")}static credential(e){return tl._fromParams({providerId:yo.PROVIDER_ID,signInMethod:yo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yo.credentialFromTaggedObject(e)}static credentialFromError(e){return yo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yo.credential(e.oauthAccessToken)}catch{return null}}}yo.GITHUB_SIGN_IN_METHOD="github.com";yo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o extends Ef{constructor(){super("twitter.com")}static credential(e,n){return tl._fromParams({providerId:_o.PROVIDER_ID,signInMethod:_o.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return _o.credentialFromTaggedObject(e)}static credentialFromError(e){return _o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return _o.credential(n,r)}catch{return null}}}_o.TWITTER_SIGN_IN_METHOD="twitter.com";_o.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rae(t,e){return Sf(t,"POST","/v1/accounts:signUp",Hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await yi._fromIdTokenResponse(e,r,s),o=IP(r);return new nl({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=IP(r);return new nl({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function IP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg extends bs{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Wg.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Wg(e,n,r,s)}}function ML(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Wg._fromErrorAndOperation(t,i,e,r):i})}async function sae(t,e,n=!1){const r=await Lh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return nl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iae(t,e,n=!1){const{auth:r}=t;if(Vs(r.app))return Promise.reject(Ti(r));const s="reauthenticate";try{const i=await Lh(t,ML(r,s,e,t),n);ke(i.idToken,r,"internal-error");const o=V1(i.idToken);ke(o,r,"internal-error");const{sub:a}=o;return ke(t.uid===a,r,"user-mismatch"),nl._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&vs(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LL(t,e,n=!1){if(Vs(t.app))return Promise.reject(Ti(t));const r="signIn",s=await ML(t,r,e),i=await nl._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function oae(t,e){return LL(ml(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VL(t){const e=ml(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Fh(t,e,n){if(Vs(t.app))return Promise.reject(Ti(t));const r=ml(t),o=await Sw(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",rae).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&VL(t),l}),a=await nl._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function aae(t,e,n){return Vs(t.app)?Promise.reject(Ti(t)):oae(pt(t),bu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&VL(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lae(t,e){return qi(t,"POST","/v1/accounts:createAuthUri",Hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cae(t,e){const n=vL()?Bg():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:s}=await lae(pt(t),r);return s||[]}function uae(t,e,n,r){return pt(t).onIdTokenChanged(e,n,r)}function dae(t,e,n){return pt(t).beforeAuthStateChanged(e,n)}function FL(t,e,n,r){return pt(t).onAuthStateChanged(e,n,r)}function hae(t){return pt(t).signOut()}const Hg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hg,"1"),this.storage.removeItem(Hg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fae=1e3,pae=10;class zL extends $L{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=RL(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);joe()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,pae):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},fae)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}zL.type="LOCAL";const mae=zL;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL extends $L{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}BL.type="SESSION";const UL=BL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gae(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new _y(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await gae(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_y.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vae{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=B1("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ks(){return window}function yae(t){Ks().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WL(){return typeof Ks().WorkerGlobalScope<"u"&&typeof Ks().importScripts=="function"}async function _ae(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bae(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function wae(){return WL()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL="firebaseLocalStorageDb",xae=1,qg="firebaseLocalStorage",qL="fbase_key";class Cf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function by(t,e){return t.transaction([qg],e?"readwrite":"readonly").objectStore(qg)}function Sae(){const t=indexedDB.deleteDatabase(HL);return new Cf(t).toPromise()}function Ew(){const t=indexedDB.open(HL,xae);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(qg,{keyPath:qL})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(qg)?e(r):(r.close(),await Sae(),e(await Ew()))})})}async function kP(t,e,n){const r=by(t,!0).put({[qL]:e,value:n});return new Cf(r).toPromise()}async function Eae(t,e){const n=by(t,!1).get(e),r=await new Cf(n).toPromise();return r===void 0?null:r.value}function PP(t,e){const n=by(t,!0).delete(e);return new Cf(n).toPromise()}const Cae=800,Tae=3;class GL{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ew(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Tae)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return WL()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_y._getInstance(wae()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await _ae(),!this.activeServiceWorker)return;this.sender=new vae(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bae()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ew();return await kP(e,Hg,"1"),await PP(e,Hg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>kP(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Eae(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>PP(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=by(s,!1).getAll();return new Cf(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Cae)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}GL.type="LOCAL";const Iae=GL;new xf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kae(t,e){return e?_i(e):(ke(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1 extends $1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Pc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Pc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Pae(t){return LL(t.auth,new U1(t),t.bypassAuthState)}function Aae(t){const{auth:e,user:n}=t;return ke(n,e,"internal-error"),iae(n,new U1(t),t.bypassAuthState)}async function Rae(t){const{auth:e,user:n}=t;return ke(n,e,"internal-error"),sae(n,new U1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Pae;case"linkViaPopup":case"linkViaRedirect":return Rae;case"reauthViaPopup":case"reauthViaRedirect":return Aae;default:vs(this.auth,"internal-error")}}resolve(e){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jae=new xf(2e3,1e4);class hc extends KL{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,hc.currentPopupAction&&hc.currentPopupAction.cancel(),hc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ke(e,this.auth,"internal-error"),e}async onExecution(){zi(this.filter.length===1,"Popup operations only handle one event");const e=B1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Gs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Gs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,hc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jae.get())};e()}}hc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dae="pendingRedirect",jm=new Map;class Nae extends KL{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=jm.get(this.auth._key());if(!e){try{const r=await Oae(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}jm.set(this.auth._key(),e)}return this.bypassAuthState||jm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Oae(t,e){const n=Vae(e),r=Lae(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function Mae(t,e){jm.set(t._key(),e)}function Lae(t){return _i(t._redirectPersistence)}function Vae(t){return Rm(Dae,t.config.apiKey,t.name)}async function Fae(t,e,n=!1){if(Vs(t.app))return Promise.reject(Ti(t));const r=ml(t),s=kae(r,e),o=await new Nae(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ae=10*60*1e3;class zae{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Bae(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!QL(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Gs(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$ae&&this.cachedEventUids.clear(),this.cachedEventUids.has(AP(e))}saveEventToCache(e){this.cachedEventUids.add(AP(e)),this.lastProcessedEventTime=Date.now()}}function AP(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function QL({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Bae(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QL(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uae(t,e={}){return qi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wae=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hae=/^https?/;async function qae(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Uae(t);for(const n of e)try{if(Gae(n))return}catch{}vs(t,"unauthorized-domain")}function Gae(t){const e=Bg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Hae.test(n))return!1;if(Wae.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kae=new xf(3e4,6e4);function RP(){const t=Ks().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Qae(t){return new Promise((e,n)=>{var r,s,i;function o(){RP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{RP(),n(Gs(t,"network-request-failed"))},timeout:Kae.get()})}if(!((s=(r=Ks().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Ks().gapi)===null||i===void 0)&&i.load)o();else{const a=zoe("iframefcb");return Ks()[a]=()=>{gapi.load?o():n(Gs(t,"network-request-failed"))},DL(`${$oe()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Dm=null,e})}let Dm=null;function Yae(t){return Dm=Dm||Qae(t),Dm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xae=new xf(5e3,15e3),Jae="__/auth/iframe",Zae="emulator/auth/iframe",ele={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tle=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nle(t){const e=t.config;ke(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?L1(e,Zae):`https://${t.config.authDomain}/${Jae}`,r={apiKey:e.apiKey,appName:t.name,v:hu},s=tle.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${uf(r).slice(1)}`}async function rle(t){const e=await Yae(t),n=Ks().gapi;return ke(n,t,"internal-error"),e.open({where:document.body,url:nle(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ele,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Gs(t,"network-request-failed"),a=Ks().setTimeout(()=>{i(o)},Xae.get());function l(){Ks().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sle={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ile=500,ole=600,ale="_blank",lle="http://localhost";class jP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cle(t,e,n,r=ile,s=ole){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},sle),{width:r.toString(),height:s.toString(),top:i,left:o}),c=Vn().toLowerCase();n&&(a=TL(c)?ale:n),EL(c)&&(e=e||lle,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[m,_])=>`${p}${m}=${_},`,"");if(Roe(c)&&a!=="_self")return ule(e||"",a),new jP(null);const f=window.open(e||"",a,d);ke(f,t,"popup-blocked");try{f.focus()}catch{}return new jP(f)}function ule(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dle="__/auth/handler",hle="emulator/auth/handler",fle=encodeURIComponent("fac");async function DP(t,e,n,r,s,i){ke(t.config.authDomain,t,"auth-domain-config-required"),ke(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:hu,eventId:s};if(e instanceof OL){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Qte(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries(i||{}))o[d]=f}if(e instanceof Ef){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${fle}=${encodeURIComponent(l)}`:"";return`${ple(t)}?${uf(a).slice(1)}${c}`}function ple({config:t}){return t.emulator?L1(t,hle):`https://${t.authDomain}/${dle}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_="webStorageSupport";class mle{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=UL,this._completeRedirectFn=Fae,this._overrideRedirectResult=Mae}async _openPopup(e,n,r,s){var i;zi((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await DP(e,n,r,Bg(),s);return cle(e,o,B1())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await DP(e,n,r,Bg(),s);return yae(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(zi(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await rle(e),r=new zae(e);return n.register("authEvent",s=>(ke(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(h_,{type:h_},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[h_];o!==void 0&&n(!!o),vs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qae(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return RL()||CL()||F1()}}const gle=mle;var NP="@firebase/auth",OP="1.7.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vle{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yle(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _le(t){Ys(new ps("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ke(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jL(t)},c=new Loe(r,s,i,l);return qoe(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ys(new ps("auth-internal",e=>{const n=ml(e.getProvider("auth").getImmediate());return(r=>new vle(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wr(NP,OP,yle(t)),Wr(NP,OP,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ble=5*60,wle=OO("authIdTokenMaxAge")||ble;let MP=null;const xle=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>wle)return;const s=n==null?void 0:n.token;MP!==s&&(MP=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function wu(t=HS()){const e=hl(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Hoe(t,{popupRedirectResolver:gle,persistence:[Iae,mae,UL]}),r=OO("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=xle(i.toString());dae(n,o,()=>o(n.currentUser)),uae(n,a=>o(a))}}const s=DO("auth");return s&&Goe(n,`http://${s}`),n}function Sle(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Voe({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Gs("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",Sle().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_le("Browser");var Ele="firebase",Cle="10.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wr(Ele,Cle,"app");const YL="@firebase/installations",W1="0.6.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL=1e4,JL=`w:${W1}`,ZL="FIS_v2",Tle="https://firebaseinstallations.googleapis.com/v1",Ile=60*60*1e3,kle="installations",Ple="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ale={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},rl=new dl(kle,Ple,Ale);function eV(t){return t instanceof bs&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tV({projectId:t}){return`${Tle}/projects/${t}/installations`}function nV(t){return{token:t.token,requestStatus:2,expiresIn:jle(t.expiresIn),creationTime:Date.now()}}async function rV(t,e){const r=(await e.json()).error;return rl.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function sV({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Rle(t,{refreshToken:e}){const n=sV(t);return n.append("Authorization",Dle(e)),n}async function iV(t){const e=await t();return e.status>=500&&e.status<600?t():e}function jle(t){return Number(t.replace("s","000"))}function Dle(t){return`${ZL} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nle({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=tV(t),s=sV(t),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={fid:n,authVersion:ZL,appId:t.appId,sdkVersion:JL},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await iV(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:nV(c.authToken)}}else throw await rV("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oV(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ole(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mle=/^[cdef][\w-]{21}$/,Cw="";function Lle(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=Vle(t);return Mle.test(n)?n:Cw}catch{return Cw}}function Vle(t){return Ole(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV=new Map;function lV(t,e){const n=wy(t);cV(n,e),Fle(n,e)}function cV(t,e){const n=aV.get(t);if(n)for(const r of n)r(e)}function Fle(t,e){const n=$le();n&&n.postMessage({key:t,fid:e}),zle()}let ka=null;function $le(){return!ka&&"BroadcastChannel"in self&&(ka=new BroadcastChannel("[Firebase] FID Change"),ka.onmessage=t=>{cV(t.data.key,t.data.fid)}),ka}function zle(){aV.size===0&&ka&&(ka.close(),ka=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ble="firebase-installations-database",Ule=1,sl="firebase-installations-store";let f_=null;function H1(){return f_||(f_=zO(Ble,Ule,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(sl)}}})),f_}async function Gg(t,e){const n=wy(t),s=(await H1()).transaction(sl,"readwrite"),i=s.objectStore(sl),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&lV(t,e.fid),e}async function uV(t){const e=wy(t),r=(await H1()).transaction(sl,"readwrite");await r.objectStore(sl).delete(e),await r.done}async function xy(t,e){const n=wy(t),s=(await H1()).transaction(sl,"readwrite"),i=s.objectStore(sl),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&lV(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q1(t){let e;const n=await xy(t.appConfig,r=>{const s=Wle(r),i=Hle(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===Cw?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Wle(t){const e=t||{fid:Lle(),registrationStatus:0};return dV(e)}function Hle(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(rl.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=qle(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Gle(t)}:{installationEntry:e}}async function qle(t,e){try{const n=await Nle(t,e);return Gg(t.appConfig,n)}catch(n){throw eV(n)&&n.customData.serverCode===409?await uV(t.appConfig):await Gg(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Gle(t){let e=await LP(t.appConfig);for(;e.registrationStatus===1;)await oV(100),e=await LP(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await q1(t);return r||n}return e}function LP(t){return xy(t,e=>{if(!e)throw rl.create("installation-not-found");return dV(e)})}function dV(t){return Kle(t)?{fid:t.fid,registrationStatus:0}:t}function Kle(t){return t.registrationStatus===1&&t.registrationTime+XL<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qle({appConfig:t,heartbeatServiceProvider:e},n){const r=Yle(t,n),s=Rle(t,n),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={installation:{sdkVersion:JL,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await iV(()=>fetch(r,a));if(l.ok){const c=await l.json();return nV(c)}else throw await rV("Generate Auth Token",l)}function Yle(t,{fid:e}){return`${tV(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G1(t,e=!1){let n;const r=await xy(t.appConfig,i=>{if(!hV(i))throw rl.create("not-registered");const o=i.authToken;if(!e&&Zle(o))return i;if(o.requestStatus===1)return n=Xle(t,e),i;{if(!navigator.onLine)throw rl.create("app-offline");const a=tce(i);return n=Jle(t,a),a}});return n?await n:r.authToken}async function Xle(t,e){let n=await VP(t.appConfig);for(;n.authToken.requestStatus===1;)await oV(100),n=await VP(t.appConfig);const r=n.authToken;return r.requestStatus===0?G1(t,e):r}function VP(t){return xy(t,e=>{if(!hV(e))throw rl.create("not-registered");const n=e.authToken;return nce(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Jle(t,e){try{const n=await Qle(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Gg(t.appConfig,r),n}catch(n){if(eV(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await uV(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Gg(t.appConfig,r)}throw n}}function hV(t){return t!==void 0&&t.registrationStatus===2}function Zle(t){return t.requestStatus===2&&!ece(t)}function ece(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Ile}function tce(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function nce(t){return t.requestStatus===1&&t.requestTime+XL<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rce(t){const e=t,{installationEntry:n,registrationPromise:r}=await q1(e);return r?r.catch(console.error):G1(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sce(t,e=!1){const n=t;return await ice(n),(await G1(n,e)).token}async function ice(t){const{registrationPromise:e}=await q1(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oce(t){if(!t||!t.options)throw p_("App Configuration");if(!t.name)throw p_("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw p_(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function p_(t){return rl.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV="installations",ace="installations-internal",lce=t=>{const e=t.getProvider("app").getImmediate(),n=oce(e),r=hl(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},cce=t=>{const e=t.getProvider("app").getImmediate(),n=hl(e,fV).getImmediate();return{getId:()=>rce(n),getToken:s=>sce(n,s)}};function uce(){Ys(new ps(fV,lce,"PUBLIC")),Ys(new ps(ace,cce,"PRIVATE"))}uce();Wr(YL,W1);Wr(YL,W1,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kg="analytics",dce="firebase_id",hce="origin",fce=60*1e3,pce="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",K1="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr=new Xv("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mce={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Sr=new dl("analytics","Analytics",mce);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gce(t){if(!t.startsWith(K1)){const e=Sr.create("invalid-gtag-resource",{gtagURL:t});return lr.warn(e.message),""}return t}function pV(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function vce(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function yce(t,e){const n=vce("firebase-js-sdk-policy",{createScriptURL:gce}),r=document.createElement("script"),s=`${K1}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function _ce(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function bce(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const l=(await pV(n)).find(c=>c.measurementId===s);l&&await e[l.appId]}}catch(a){lr.error(a)}t("config",s,i)}async function wce(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await pV(n);for(const l of o){const c=a.find(f=>f.measurementId===l),d=c&&e[c.appId];if(d)i.push(d);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){lr.error(i)}}function xce(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await wce(t,e,n,a,l)}else if(i==="config"){const[a,l]=o;await bce(t,e,n,r,a,l)}else if(i==="consent"){const[a,l]=o;t("consent",a,l)}else if(i==="get"){const[a,l,c]=o;t("get",a,l,c)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){lr.error(a)}}return s}function Sce(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=xce(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function Ece(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(K1)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cce=30,Tce=1e3;class Ice{constructor(e={},n=Tce){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const mV=new Ice;function kce(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Pce(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:kce(r)},i=pce.replace("{app-id}",n),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Sr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function Ace(t,e=mV,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw Sr.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw Sr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Dce;return setTimeout(async()=>{a.abort()},n!==void 0?n:fce),gV({appId:r,apiKey:s,measurementId:i},o,a,e)}async function gV(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=mV){var i;const{appId:o,measurementId:a}=t;try{await Rce(r,e)}catch(l){if(a)return lr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await Pce(t);return s.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!jce(c)){if(s.deleteThrottleMetadata(o),a)return lr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw l}const d=Number((i=c==null?void 0:c.customData)===null||i===void 0?void 0:i.httpStatus)===503?wk(n,s.intervalMillis,Cce):wk(n,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return s.setThrottleMetadata(o,f),lr.debug(`Calling attemptFetch again in ${d} millis`),gV(t,f,r,s)}}function Rce(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(Sr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function jce(t){if(!(t instanceof bs)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Dce{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Nce(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o=Object.assign(Object.assign({},r),{send_to:i});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oce(){if(LO())try{await VO()}catch(t){return lr.warn(Sr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return lr.warn(Sr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Mce(t,e,n,r,s,i,o){var a;const l=Ace(t);l.then(m=>{n[m.measurementId]=m.appId,t.options.measurementId&&m.measurementId!==t.options.measurementId&&lr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>lr.error(m)),e.push(l);const c=Oce().then(m=>{if(m)return r.getId()}),[d,f]=await Promise.all([l,c]);Ece(i)||yce(i,d.measurementId),s("js",new Date);const p=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return p[hce]="firebase",p.update=!0,f!=null&&(p[dce]=f),s("config",d.measurementId,p),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lce{constructor(e){this.app=e}_delete(){return delete Ud[this.app.options.appId],Promise.resolve()}}let Ud={},FP=[];const $P={};let m_="dataLayer",Vce="gtag",zP,vV,BP=!1;function Fce(){const t=[];if(MO()&&t.push("This is a browser extension environment."),Hte()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=Sr.create("invalid-analytics-context",{errorInfo:e});lr.warn(n.message)}}function $ce(t,e,n){Fce();const r=t.options.appId;if(!r)throw Sr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)lr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Sr.create("no-api-key");if(Ud[r]!=null)throw Sr.create("already-exists",{id:r});if(!BP){_ce(m_);const{wrappedGtag:i,gtagCore:o}=Sce(Ud,FP,$P,m_,Vce);vV=i,zP=o,BP=!0}return Ud[r]=Mce(t,FP,$P,e,zP,m_,n),new Lce(t)}function zce(t=HS()){t=pt(t);const e=hl(t,Kg);return e.isInitialized()?e.getImmediate():Bce(t)}function Bce(t,e={}){const n=hl(t,Kg);if(n.isInitialized()){const s=n.getImmediate();if(Ih(e,n.getOptions()))return s;throw Sr.create("already-initialized")}return n.initialize({options:e})}function Uce(t,e,n,r){t=pt(t),Nce(vV,Ud[t.app.options.appId],e,n,r).catch(s=>lr.error(s))}const UP="@firebase/analytics",WP="0.10.7";function Wce(){Ys(new ps(Kg,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return $ce(r,s,n)},"PUBLIC")),Ys(new ps("analytics-internal",t,"PRIVATE")),Wr(UP,WP),Wr(UP,WP,"esm2017");function t(e){try{const n=e.getProvider(Kg).getImmediate();return{logEvent:(r,s,i)=>Uce(n,r,s,i)}}catch(n){throw Sr.create("interop-component-reg-failed",{reason:n})}}}Wce();var Hce={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const qce={apiKey:Hce.VITE_FIREBASE_API_KEY,authDomain:"student-incentive-demo.firebaseapp.com",projectId:"student-incentive-demo",storageBucket:"student-incentive-demo.appspot.com",messagingSenderId:"635037364757",appId:"1:635037364757:web:45e3dedeb2c459799f541c",measurementId:"G-Y9LB8JZH58"},yV=BO(qce),Q=Xie(yV),Ac=wu();zce(yV);class ys{constructor(e=null,n=null,r=null,s=null,i=null,o=null,a=null){this.uid=null,this.id=e,this.first_name=n,this.last_name=r,this.email=s,this.desc=i,this.img_url=o,this.role=a}async email_available(){try{return(await cae(Ac,this.email)).length===0}catch(e){return console.error("error checking email availability: ",e),!1}}async id_available(){try{return await ys.get_by_id(this.id)===null}catch(e){return console.error("error checking if id available: ",e),!1}}async create(){try{const e=le(Q,"users");return batch.set(e,{...this}),!0}catch{return!1}}async create_signin(e){try{const n=await Fh(Ac,this.email,e);this.uid=n.user.uid}catch(n){console.error("error creating signin: ",n)}}static async GET_user_role(e){try{const n=J(Q,"users",e);return(await nt(n)).data().role}catch{return null}}static async get_by_uid(e){try{const n=le(Q,"users"),r=On(n,Hr("uid","==",e),ioe(1)),s=await qt(r);return s.empty?(console.log("No user found with the specified UID."),null):s.docs[0].data()}catch(n){return console.error("error searching for user by uid: ",n),null}}static async get_by_id(e){try{const n=J(Q,"users",e),r=await nt(n);return r.exists()&&!r.empty?r.data():null}catch(n){return console.error(" error retrieving user by id: ",n),null}}static async UPDATE_user(e,n){if(!e)return console.error("User ID not provided"),{status:400,body:"User ID is required."};const r=J(Q,"users",e);try{return await Mn(Q,async s=>{if(!(await s.get(r)).exists())throw new Error(`User with ID ${e} not found.`);s.update(r,n)}),{status:200,body:`User with ID ${e} successfully updated.`}}catch(s){return console.error("Error updating user:",s),{status:500,body:`Failed to update user: ${s.message}`}}}static async DELETE_user(e){try{const n=J(Q,"users",e);return(await nt(n)).exists()?(await my(n),{status:200,body:`User with ID ${e} successfully updated.`}):(console.error("user doc does not exist",error),{status:404,body:`User with ID ${e} not found.`})}catch(n){return console.error("error deleting student doc",n),{status:200,body:`Server error deleting user with ID ${e}.`}}}static async GET_user_courses(e){try{let n={status:200,body:[]};const r=J(Q,"users",e),s=le(r,"courses");let i=[];const o=await qt(s);for(const a of o.docs)if(a.exists&&!a.empty){const l=a.data();l&&l.course_id!==void 0&&i.push(l.course_id)}for(const a of i){const l=J(Q,"courses",a),c=await nt(l);if(c.exists()&&!c.empty){let d=c.data();d&&d!==void 0&&n.body.push(d)}}return n}catch(n){return console.error("error retrieving user courses: ",n),{status:500,body:"Server unable to retrieve user courses"}}}static async GET_user_notifications(e){try{const n=le(Q,"users",e,"notifications"),r=await qt(n);let s=[];return r.forEach(i=>{const o=i.data();s.push(o)}),s}catch(n){return console.error("Error retrieving user notifications:",n),null}}static async GET_user_allotlogs(e){try{let n={status:200,body:[]};const r=le(Q,"allotpointlogs");let s=null;const i=await ys.GET_user_role(e);i==="staff"&&(s=On(r,Hr("staff_id","==",e))),i==="admin"&&(s=On(r,Hr("admin_id","==",e)));const o=await qt(s);for(const a of o.docs)a.exists&&!a.empty&&n.body.push(a.data());return n}catch(n){return console.error("Error retrieving pointlogs:",n),{status:500,body:"Server unable to retrieve pointlogs"}}}static async signup_new_user(e,n,r){try{const s=J(Q,"users",r),i=await nt(s);if(!i.exists())return!1;const o=i.data();if(e!==o.email||r!==o.id)return!1;const l=(await Fh(Ac,e,n)).user.uid;return l?(await bf(s,{uid:l}),!0):(console.error("Server unable to authenticate UID to user"),!1)}catch(s){return console.error(s),!1}}}const Gce=async(t,e)=>{if(!t)return console.error("User ID not provided"),{status:400,body:"User ID is required."};const n=J(Q,"users",t);try{return await bf(n,e),{status:200,body:`User with ID ${t} successfully updated.`}}catch(r){return console.error("Error updating user:",r),{status:500,body:`Failed to update user: ${r.message}`}}},Kce=async(t,e)=>{try{const s=await(await aae(Ac,t,e)).user.getIdToken();return localStorage.setItem("authToken",s),!0}catch(n){throw console.error("Error logging in:",n),n}},Qce=async()=>{try{await hae(Ac),localStorage.removeItem("authToken")}catch(t){console.error("logout failed",t)}},_V=async t=>{try{return await ys.get_by_uid(t)}catch(e){throw console.error("Error getting user by UID in controller:",e),e}},Tw=async t=>{try{return await ys.get_by_id(t)}catch(e){throw console.error("Error getting user by UID in controller:",e),e}},Yr=async()=>{const t=wu();return new Promise((e,n)=>{const r=FL(t,async s=>{if(s)try{const i=await _V(s.uid);e(i)}catch(i){console.error("Error fetching user:",i),n(i)}else e(null);r()})})};class Sy{constructor(e=null,n=null,r=null,s=null,i=null,o=xt.now(),a=!1){this.uid=null,this.initiatorID=n,this.recipientID=r,this.notifTitle=s,this.notifDesc=i,this.notifTimestamp=xt.now(),this.notifReadStatus=!1}async create(){try{const e=le(Q,"users",this.userID,"notifications"),n=J(e);return await Mn(Q,async s=>(s.set(n,{...this,uid:n.id}),!0))}catch(e){return console.error("error creating notification: ",e),!1}}async read(e,n){try{const r=le(Q,"users",e,"notifications"),s=J(r,n);return console.log(s),await Mn(Q,async o=>(o.update(s,{notifReadStatus:!0}),!0))}catch(r){return console.error("error creating notification: ",r),!1}}static async GET_notification_by_id(e,n){try{const r=J(Q,"users",e,"notifications",n),s=await getDoc(r);return s.exists()?s.data():(console.error("Notification document does not exist"),null)}catch(r){return console.error("Error retrieving notification:",r),null}}}const bV=async(t,e)=>{try{const n=le(Q,"users",t,"notifications");return(await qt(n)).empty?(e(null),null):O1(n,i=>{let o=[];i.forEach(a=>{const l=a.data();o.push(l)}),e(o)})}catch(n){return console.error("Error retrieving user notifications:",n),null}},Yce=async(t,e)=>await new Sy(e).read(t,e),Xce=async()=>{try{const t=await Yr();let e=[];return await new Promise((n,r)=>{bV(t.id,s=>{e=s.filter(o=>o.notifTitle),n()})}),e.length>0?e.some(r=>!r.notifReadStatus):!1}catch(t){return console.error("Error checking for unread notifications:",t),!1}},Jce=(t,e)=>{const n=le(Q,"users",t,"notifications");return O1(n,r=>{let s=!1;r.empty?e(!1):(r.docs.forEach(i=>{i.data().notifReadStatus||(s=!0)}),e(s))},r=>{console.error("Error listening for notifications:",r),e(!1)})},wV=g.createContext(),xV=()=>g.useContext(wV),Zce=({children:t})=>{const[e,n]=g.useState(!1);return u.jsx(wV.Provider,{value:{hasUnreadNotifications:e,setHasUnreadNotifications:n},children:t})},eue=({userType:t})=>{const[e,n]=g.useState(""),[r,s]=g.useState([]),[i,o]=g.useState(!1),[a,l]=g.useState(null),[c,d]=g.useState(null),{setHasUnreadNotifications:f}=xV(),[p,m]=g.useState(0),_=async()=>{try{const w=await Yr();n(w)}catch(w){console.error("Error fetching current user:",w)}},v=async()=>{try{if(e&&e.id){const w=bV(e.id,k=>{const O=k.filter(C=>C.notifTitle).sort((C,T)=>T.notifTimestamp-C.notifTimestamp);s(O.map(C=>({...C,read:C.notifReadStatus})))});return()=>{w()}}}catch(w){console.error("Error fetching notifications:",w)}};g.useEffect(()=>{_()},[]),g.useEffect(()=>{v()},[e]);const S=async w=>{m(w),l(r[w]);const k=await Tw(r[w].initiatorID);k?(d(k),o(!0)):console.error("Failed to fetch sender information")},x=()=>{o(!1),l(null),d(null)},b=async w=>{try{if(await Yce(e.id,r[w].uid)===!0){const j=await Tw(r[w].initiatorID);j?(d(j),l(r[w]),S(w)):console.error("Failed to fetch sender information"),r.filter((C,T)=>!C.read&&T!==w).length===0&&f(!1)}else console.error("Failed to mark notification as read")}catch(k){console.error("Error marking notification as read:",k)}};return u.jsxs(U,{p:5,px:"5%",minHeight:{base:"calc(100vh - 136px)",md:"calc(100vh - 166px)"},width:{base:"100%",md:"90%"},marginX:"auto",background:"white",children:[u.jsx("div",{className:"page-title",style:{marginBottom:"16px",fontWeight:"bold",textAlign:"center",color:"#319795"},children:"My Notifications"}),u.jsxs(DS,{spacing:4,mt:5,children:[r.filter(w=>!w.read).length>0&&u.jsxs(u.Fragment,{children:[u.jsxs(H,{fontWeight:"bold",color:"red",textAlign:"right",children:["New Notifications (",r.filter(w=>!w.read).length,")"]}),u.jsx(Xt,{borderColor:"red"}),r.map((w,k)=>{if(!w.read)return u.jsx(vP,{data:{...w,index:k},onOpenReadModal:()=>b(k)},k)})]}),r.filter(w=>w.read).length>0&&u.jsxs(u.Fragment,{children:[u.jsx(Xt,{borderColor:"teal"}),r.filter(w=>w.read).map((w,k)=>u.jsx(vP,{data:{...w,index:k},onOpenReadModal:()=>S(k)},k))]}),r.length===0&&u.jsx(H,{mt:4,children:"No notifications yet."})]}),u.jsxs(mt,{size:"lg",isOpen:i,onClose:x,children:[u.jsx(yt,{}),a&&c&&u.jsxs(gt,{align:"center",children:[u.jsx(vt,{backgroundColor:"#4FD1C5",color:"white",children:a.notifTitle}),u.jsx(St,{}),u.jsxs(_t,{align:"left",children:[u.jsx(H,{w:"100%",fontSize:"lg",mb:4,whiteSpace:"pre-wrap",children:a.notifDesc}),t!=="admin"||t==="adminDemo"&&u.jsxs(H,{children:["Current Points: ",e.current_pts]}),u.jsx(Xt,{}),u.jsxs(H,{mt:1,textAlign:"right",fontWeight:"bold",children:["Sender: ",c.first_name," ",c.last_name]})]}),u.jsx(Ft,{py:0,backgroundColor:"#4FD1C5",children:u.jsx(se,{size:"md",colorScheme:"teal",onClick:x,children:"Close"})})]})]})]})};var tue=ul({d:"M23.384,21.619,16.855,15.09a9.284,9.284,0,1,0-1.768,1.768l6.529,6.529a1.266,1.266,0,0,0,1.768,0A1.251,1.251,0,0,0,23.384,21.619ZM2.75,9.5a6.75,6.75,0,1,1,6.75,6.75A6.758,6.758,0,0,1,2.75,9.5Z",displayName:"SearchIcon"}),SV=ul({displayName:"MinusIcon",path:u.jsx("g",{fill:"currentColor",children:u.jsx("rect",{height:"4",width:"20",x:"2",y:"10"})})}),g_=ul({displayName:"EditIcon",path:u.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2",children:[u.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),u.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),v_=ul({displayName:"DeleteIcon",path:u.jsx("g",{fill:"currentColor",children:u.jsx("path",{d:"M19.452 7.5H4.547a.5.5 0 00-.5.545l1.287 14.136A2 2 0 007.326 24h9.347a2 2 0 001.992-1.819L19.95 8.045a.5.5 0 00-.129-.382.5.5 0 00-.369-.163zm-9.2 13a.75.75 0 01-1.5 0v-9a.75.75 0 011.5 0zm5 0a.75.75 0 01-1.5 0v-9a.75.75 0 011.5 0zM22 4h-4.75a.25.25 0 01-.25-.25V2.5A2.5 2.5 0 0014.5 0h-5A2.5 2.5 0 007 2.5v1.25a.25.25 0 01-.25.25H2a1 1 0 000 2h20a1 1 0 000-2zM9 3.75V2.5a.5.5 0 01.5-.5h5a.5.5 0 01.5.5v1.25a.25.25 0 01-.25.25h-5.5A.25.25 0 019 3.75z"})})}),nue=ul({displayName:"BellIcon",d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"}),EV=ul({displayName:"ChevronDownIcon",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}),CV=ul({d:"M0,12a1.5,1.5,0,0,0,1.5,1.5h8.75a.25.25,0,0,1,.25.25V22.5a1.5,1.5,0,0,0,3,0V13.75a.25.25,0,0,1,.25-.25H22.5a1.5,1.5,0,0,0,0-3H13.75a.25.25,0,0,1-.25-.25V1.5a1.5,1.5,0,0,0-3,0v8.75a.25.25,0,0,1-.25.25H1.5A1.5,1.5,0,0,0,0,12Z",displayName:"AddIcon"});const TV=({url:t,title:e,text:n,avatar:r})=>{const s={boxRadius:el,backgroundColor:dL,padding:Lt,w:"100%",transition:"transform 0.3s",_hover:{backgroundColor:hL,"& .actionicon":{color:Ze},"& .title":{color:Ze}}},i={width:Mh,borderRadius:Lt,marginRight:Lt},o={flex:1,textAlign:"left"},a={color:Ci,fontWeight:"bold"},l={color:Ze};return u.jsxs(me,{sx:s,align:"center",children:[u.jsx(U,{children:r||u.jsx(Fv,{sx:i,src:imageUrl,alt:"placeholder"})}),u.jsxs(U,{sx:o,children:[u.jsx(H,{className:"title",sx:a,children:e}),u.jsx(H,{className:"text",sx:l,children:n})]})]})};TV.propTypes={avatar:Np.element,url:Np.string.isRequired,title:Np.string.isRequired,text:Np.string.isRequired};class xu{constructor(e){this.id=e,this.rank=Number.MAX_SAFE_INTEGER}async create(){try{const e=J(Q,"leaderboard",this.id);return await ww(e,{...this}),!0}catch(e){return console.error("error creating leaderboard entry:",e),!1}}static async POST_leaderboard(e){try{return await new xu(e).create()?!0:(console.error("error creating leaderboard entry"),!1)}catch(n){return console.error("error creating leaderboard entry",n),!1}}static async UPDATE_leaderboard(){try{const e=le(Q,"users"),n=On(e,soe("accumulated_pts","desc")),r=await qt(n);if(r.empty)return console.error("error updating leaderboard"),!1;let s=1;const i=[];for(const o of r.docs){const a=o.id;i.push(this.UPDATE_rank(a,s)),s++}return await Promise.all(i),!0}catch(e){return console.error("error updating leaderboard",e),!1}}static async GET_rank(e){try{const n=J(Q,"leaderboard",e),r=await nt(n);return!r.exists()||r.empty?null:r.data().rank}catch(n){return console.error("error retrieving user doc:",n),null}}static async UPDATE_rank(e,n){try{const r=J(le(Q,"leaderboard"),e);return(await nt(r)).exists()?(await bf(r,{rank:n}),!0):(console.error("doc does not exist"),!1)}catch(r){return console.error("Error updating ranks:",r),!1}}static async GET_leaderboard(){}}class Js{constructor(e=null,n=null,r=null,s=null,i=null,o=null,a=null){this.id=`${e}-${n}`,this.period=`${i}-${o}`,this.code=e,this.name=r,this.desc=s,this.year=i,this.semester=o,this.img_url=a}static async POST_course(e,n,r,s,i,o,a){try{const l=new Js(e,n,r,s,i,o,a),c=gi(Q),d=J(Q,"courses",l.id);c.set(d,{...l});const f=le(d,"students"),p=J(f);c.set(p,{});const m=le(d,"staff"),_=J(m);return c.set(_,{}),await c.commit(),{status:200,body:"Course successfully created"}}catch{return{status:500,body:"Server unable to create course"}}}static async GET_course(e){try{let n={status:200,body:null};const r=J(Q,"courses",e),s=await nt(r);if(s.exists())n.body=s.data();else return console.error("course doc does not exist or is empty for course"),{status:404,body:"Course not found"};return n}catch(n){return console.log(n),{status:500,body:"Server unable to find course"}}}static async GET_courses(){try{const e=le(Q,"courses"),n=On(e),r=await qt(n);let s={status:200,body:[]};return r.empty?(s.status=404,s.body="No courses found",s):(r.forEach(i=>{s.body.push({...i.data(),id:i.id})}),s)}catch(e){return console.error("Error retrieving all courses:",e),{status:500,body:"Server unable to retrieve courses"}}}static async UPDATE_course(e=null,n=null,r=null,s=null,i=null,o=null,a=null,l=null){try{if(!e)return console.error("course with id not found "),{status:404,body:`Course with ID ${e} not found.`};const c=J(Q,"courses",e);return await Mn(Q,async d=>{if((await d.get(c)).empty)return{status:404,body:`Course with ID ${e} not found.`};let p={};n&&(p.code=n),r&&(p.period=`${o}-${a}`),s&&(p.name=s),i&&(p.desc=i),o&&(p.year=o),a&&(p.semester=a),l&&(p.img_url=l),d.update(c,p)}),{status:200,body:`Course with ID ${e} successfully updated.`}}catch(c){return console.error("error updating course",c),{status:200,body:`Server error updating user with ID ${e}.`}}}static async DELETE_course(e){try{const n=J(Q,"courses",e);return(await nt(n)).exists()?(await my(n),{status:200,body:`Course with ID ${e} successfully deleted.`}):(console.error("course doc does not exist"),{status:404,body:`Course with ID ${e} not found.`})}catch(n){return console.error("error deleting student doc",n),{status:200,body:`Server error deleting course with ID ${e}.`}}}static async POST_course_register(e,n){try{return{status:200,body:await Mn(Q,async s=>{const i=J(Q,"users",e),o=await s.get(i);if(!o.exists())throw new Error("User not found");const a=J(Q,"courses",n);if(!(await s.get(a)).exists())throw new Error("Course not found");const c=o.data();if(c.role!=="student"&&c.role!=="staff")throw new Error("User not authorized");return s.set(J(le(i,"courses"),n),{course_id:n}),s.set(J(le(a,c.role+"s"),e),{user_id:e}),"Enrollment successful"})}}catch(r){return console.error("Error enrolling user:",r),{status:500,body:r.message}}}static async DELETE_course_deregister(e,n){try{return await Mn(Q,async s=>{const i=J(Q,"users",e),o=le(i,"courses"),a=J(o,n);if(!(await nt(a)).exists())return{status:404,body:"Course not found in student"};s.delete(a);const d=(await nt(i)).data(),f=J(Q,"courses",n);if(d.role==="student"){const p=le(f,"students"),m=J(p,e);if(!(await nt(m)).exists())return{status:404,body:"Student not found in course"};s.delete(m)}if(d.role==="staff"){const p=le(f,"staff"),m=J(p,e);if(!(await nt(m)).exists())return{status:404,body:"Staff not found in course"};s.delete(m)}return{status:200,body:"Successfully deleted user"}})}catch(r){return console.error("error enrolling user: ",r),{status:500,body:"Server unable to deregister user"}}}static async GET_course_students(e){try{let n={status:200,body:[]};const r=J(Q,"courses",e),s=le(r,"students");let i=[];const o=await qt(s);for(const a of o.docs)if(a&&a.exists&&!a.empty){let l=a.data();l&&l.id!==void 0&&i.push(l.id)}for(const a of i){const l=J(Q,"users",a),c=await nt(l);if(c.exists()&&!c.empty){let d=c.data();d&&d!==void 0&&n.body.push(d)}}return n}catch(n){return console.error("error retrieving course students: ",n),{status:500,body:"Server unable to retrieve course students"}}}static async GET_course_staff(e){try{let n={status:200,body:[]};const r=J(Q,"courses",e),s=le(r,"staff");let i=[];const o=await qt(s);for(const a of o.docs)if(a&&a.exists&&!a.empty){let l=a.data();l&&l.id!==void 0&&i.push(l.id)}for(const a of i){const l=J(Q,"users",a),c=await nt(l);if(c.exists()&&!c.empty){let d=c.data();d&&d!==void 0&&n.body.push(d)}}return n}catch(n){return console.error("error retrieving course students: ",n),{status:500,body:"Server unable to retrieve course students"}}}static async GET_course_leaderboard(e){try{return{status:200,body:(await this.GET_course_students(e)).sort((s,i)=>i.accumulated_pts-s.accumulated_pts)}}catch(n){return console.error("error retrieving course leaderboard: ",n),{status:500,body:"Error retieving course leaderbaord"}}}}class Tf extends ys{constructor(e=null,n=null,r=null,s=null,i=null,o=null){super(e,n,r,s,i,o,"student"),this.current_pts=0,this.spent_pts=0,this.accumulated_pts=0}async create(){try{const e=gi(Q),n=J(Q,"users",this.id);e.set(n,{...this,current_pts:this.current_pts||0,spent_pts:this.spent_pts||0,accumulated_pts:this.accumulated_pts||0});const r=le(n,"notifications"),s=le(n,"pointlogs"),i=le(n,"redeemlogs"),o=le(n,"courses");return e.set(J(r),{}),e.set(J(s),{}),e.set(J(i),{}),e.set(J(o),{}),await e.commit(),!0}catch(e){return console.error("error adding student to users: ",e),!1}}static async is_student(e){try{const n=J(Q,"users",e),r=await nt(n);return r.exists()?r.data().role==="student":(console.error(`user doc does not exist for student ID: ${e}`,error),!1)}catch(n){return console.error("error checking if user is a student: ",n),!1}}static async POST_student(e,n,r,s,i,o,a){try{return await Mn(Q,async l=>{const c=new Tf(e,n,r,s,o,a),d=await c.email_available(),f=await c.id_available();if(!d||!f)return console.error("id or email unavailable"),{status:500,body:"ID or email unavailable"};if(await c.create_signin(i),c.uid===null)return console.error("server unable to auth uid to user"),{status:403,body:"Server unable to authenticate signin to a profile"};if(!await c.create())return console.error("error creating student entry in firebase"),{status:403,body:"Server unable to auth creation of user"};if(!await xu.POST_leaderboard(e))return console.error("error creatine leaderboard entry "),{status:403,body:"Server unable to auth creation of leaderboard entry"}}),{status:200,body:"Student successfully created"}}catch(l){return console.error("POST user error: ",l),{status:500,body:"Server unable to create student"}}}static async GET_student(e){try{let n={status:200,body:null};const r=J(Q,"users",e),s=await nt(r);return!s.exists()||s.empty?(console.error("user doc does not exist or is empty for student"),{status:404,body:"Student not found"}):(n.body=s.data(),await this.is_student(n.body.id)?n:{status:404,body:"Student not found"})}catch{return{status:500,body:"Server unable to find student"}}}static async GET_students(){try{let e={status:200,body:[]};const n=le(Q,"users"),r=On(n,Hr("role","==","student")),s=await qt(r);return s.empty?{status:404,body:"Students not found"}:(s.forEach(i=>{const o=i.data(),a=`${o.first_name} ${o.last_name} (${i.id})`;e.body.push({...o,name:a,id:i.id})}),e)}catch(e){return console.error("error retrieving all students:",e),{status:500,body:"Server unable to retrieve students"}}}static async GET_student_pointlogs(e){try{let n={status:200,body:[]};const r=le(Q,"pointlogs"),s=On(r,Hr("student_id","==",e)),i=await qt(s);for(const o of i.docs)o.exists&&!o.empty&&n.body.push(o.data());return n}catch(n){return console.error("Error retrieving pointlogs:",n),{status:500,body:"Server unable to retrieve pointlogs"}}}}class Ey{constructor(e="",n=""){this.id="",this.user_id=e,this.prize_id=n,this.timestamp=xt.now()}async create(){try{const e=le(Q,"redeemlog"),n=await N1(e,{...this}),r=n.id;return this.id=r,await bf(n,{id:r}),!0}catch(e){return console.error("error creating redeem log: ",e),!1}}static async POST_redeemlog(e,n){try{return await Mn(Q,async r=>{if(!new Ey(e,n).create())return!1}),!0}catch(r){return console.error("error creating redeem log ",r),!0}}static async GET_redeemlog(e){try{let n=null;return await Mn(Q,async r=>{const s=J(Q,"redeemlog",e);n=(await nt(s)).data()}),n}catch(n){return console.error(" error retrieving redeemlog by id: ",n),null}}static async GET_redeemlog_ALL(){try{let e=[];return await Mn(Q,async n=>{const r=le(Q,"redeemlog"),s=On(r),i=qt(s);if(i.empty)return e;(await i).forEach(o=>{e.push(o.data())})}),e}catch(e){return console.error("error retrieving all prizes: ",e),null}}static async GET_student_redeemlogs(e){try{let n={status:200,body:[]};const r=le(Q,"redeemlog"),s=On(r,Hr("user_id","==",e));return(await qt(s)).forEach(o=>{o.exists()?n.body.push(o.data()):console.log("No redeem log document found for ID:",e)}),n}catch(n){return console.error("Error retrieving redeemlogs:",n),{status:500,body:"Server unable to retrieve redeemlogs"}}}}const rue=async t=>{if(!t.email||!t.password||!t.id)throw new Error("Email, password, and student ID are required.");try{const e=await Fh(Ac,t.email,t.password);t.uid=e.user.uid,t.role="student";const n=gi(Q),r=J(Q,"users",t.id);n.set(r,{...t,accumulated_pts:0,current_pts:0});const s=J(Q,"leaderboard",t.id);return n.set(s,{studentId:t.id,rank:null}),n.set(J(le(r,"notifications"),"initial"),{}),n.set(J(le(r,"pointlogs"),"initial"),{}),n.set(J(le(r,"redeemlogs"),"initial"),{}),n.set(J(le(r,"courses"),"initial"),{}),await n.commit(),console.log("Student added successfully with UID:",t.uid),!0}catch(e){throw console.error("Error in student registration:",e),new Error("Failed to register student: "+e.message)}},Wo=async t=>{try{const e=await Tf.GET_student(t);return e?e.body:(console.log("No matching document found."),null)}catch(e){throw console.error("Error getting documents:",e),e}},sue=async t=>await Wo(t)!==null,Q1=async()=>{try{return await Tf.GET_students()}catch(t){throw console.error("Error in getting students :",t),t}},Y1=async t=>{try{return await xu.GET_rank(t)}catch(e){throw console.error("Error in getting student rank :",e),e}},X1=async t=>{try{return await Tf.GET_student_pointlogs(t)}catch(e){throw console.error("Error in getting student logs :",e),e}},iue=async t=>{try{return await Ey.GET_student_redeemlogs(t)}catch(e){throw console.error("Error in getting student redeem logs :",e),e}},oue=async t=>{try{const e=await X1(t);if(e.status===200){const n=e.body;if(n&&Array.isArray(n)&&n.length>0){let r={goodConduct:0,courseParticipation:0,volunteering:0,extracurricular:0};return n.forEach(s=>{s.reason==="good conduct"?r.goodConduct+=s.points:s.reason==="course participation"?r.courseParticipation+=s.points:s.reason==="volunteering"?r.volunteering+=s.points:s.reason==="extracurricular"&&(r.extracurricular+=s.points)}),r}}else console.log("No Logs found.")}catch(e){console.error("Error fetching awarded points breakdown:",e)}},aue=async(t,e)=>{const r={goodConduct:"good conduct",courseParticipation:"course participation",volunteering:"volunteering",extracurricular:"extracurricular"}[e];try{const s=await X1(t);if(s.status===200){const i=s.body;if(i&&Array.isArray(i)&&i.length>0)return i.filter(a=>a.reason===r)}else return console.log("No Logs found."),[]}catch(s){console.error("Error fetching lecturer point logs:",s)}};class lue{constructor(e=null,n=null,r=null,s=null,i=null){this.id=null,this.points=r,this.reason=s,this.comments=i,this.staff_id=e,this.student_id=n,this.timestamp=xt.now()}}function cue(t){const e=new Set(t.map(n=>JSON.stringify(n)));return Array.from(e).map(n=>JSON.parse(n))}const uue=async t=>{try{const{code:e,name:n,desc:r,year:s,semester:i,img_url:o}=t;if(!e||!n||!r||!s||!i)throw new Error("Missing required course fields");const a=`${s}-${i}`,l=await Js.POST_course(e,a,n,r,s,i,o);if(l.status!==200)throw new Error(l.body);return console.log(l.body),l}catch(e){throw console.error("Error creating course:",e.message),e}},due=async t=>Js.GET_course(t),IV=async()=>{try{return await Js.GET_courses()}catch(t){throw console.error("Error fetching courses:",t),t}},hue=async t=>(await IV()).body.filter(s=>s.id.toLowerCase().startsWith(t.toLowerCase())||s.name.toLowerCase().startsWith(t.toLowerCase())),kV=async(t,e)=>{const n=J(Q,"users",t),r=J(Q,"courses",e);try{const[s,i]=await Promise.all([nt(n),nt(r)]);if(!s.exists())throw new Error("User not found");if(!i.exists())throw new Error("Course not found");const o=s.data();if(!o.role||o.role!=="student"&&o.role!=="staff")throw new Error("User is not a student or staff");const a=le(n,"courses");if((await nt(J(a,e))).exists())throw new Error("User already enrolled in this course");await ww(J(a,e),{course_id:e});const c=o.role==="student"?"students":"staff";return await ww(J(le(r,c),t),{id:t}),console.log(`${o.role} enrolled successfully in course ${e}`),{success:!0,message:`${o.role} enrolled successfully in course ${e}`}}catch(s){throw console.error("Error enrolling:",s),new Error(s.message)}},Cy=async t=>{try{return await Js.GET_course_students(t)}catch(e){throw console.error("Error fetching user courses:",e),e}},fue=async t=>{try{const e=await Cy(t);return e.body.sort((n,r)=>{const s=parseFloat(n.accumulatedPts);return parseFloat(r.accumulatedPts)-s}),e.body[0]}catch(e){return console.error("Error fetching top earner:",e),null}},$h=async t=>{try{return await ys.GET_user_courses(t)}catch(e){throw console.error("Error fetching user courses:",e),e}},J1=async t=>{try{const e=await Js.GET_course_staff(t);if(e)return e}catch(e){throw console.error("Error fetching user courses:",e),e}},pue=async(t,e)=>{try{const{code:n,name:r,desc:s,year:i,semester:o,img_url:a}=e,l=`${i}-${o}`,c=await Js.UPDATE_course(t,n,l,r,s,i,o,a);if(c.status!==200)throw new Error(c.body);return console.log(c.body),c}catch(n){throw console.error("Error updating course:",n.message),n}},mue=async t=>{const e=J(Q,"courses",t);try{return await my(e),console.log("Course deleted successfully."),!0}catch(n){throw console.error("Error deleting course:",n),n}},gue=async t=>{try{for(const e of t){console.log("user id ",e.user_id),console.log("course id ",e.course_id);let n=await kV(e.user_id,e.course_id)}return!0}catch{throw new Error("Error creating courses via csv")}};class ea extends ys{constructor(e,n,r,s,i,o){super(e,n,r,s,i,o,"staff"),this.id=e,this.first_name=n,this.last_name=r,this.email=s,this.desc=i,this.img_url=o,this.role="staff"}async create(){try{const e=gi(Q),n=J(Q,"users",this.id);return e.set(n,{...this,current_pts:300}),e.set(J(le(n,"notifications"),"initial"),{}),e.set(J(le(n,"pointlogs"),"initial"),{}),e.set(J(le(n,"allotpointlogs"),"initial"),{}),e.set(J(le(n,"courses"),"initial"),{}),await e.commit(),!0}catch(e){return console.error("Error adding staff to users:",e),!1}}static async is_staff(e){try{const n=J(Q,"users",e),r=await nt(n);return r.exists()?r.data().role==="staff":(console.error(`user doc does not exist for staff ID: ${e}`,error),!1)}catch(n){return console.error("error checking if user is a staff: ",n),!1}}static async POST_staff({id:e,first_name:n,last_name:r,email:s,password:i,desc:o,img_url:a}){const l=wu();try{const d=(await Fh(l,s,i)).user.uid,f=new ea(e,n,r,s,o,a),p=gi(Q),m=J(Q,"users",e);return p.set(m,{...f,current_pts:300,uid:d}),p.set(J(le(m,"notifications"),"initial"),{}),p.set(J(le(m,"pointlogs"),"initial"),{}),p.set(J(le(m,"allotpointlogs"),"initial"),{}),p.set(J(le(m,"courses"),"initial"),{}),await p.commit(),{success:!0,message:"Staff successfully created",id:e}}catch(c){return console.error("Error in creating staff:",c),{success:!1,message:c.message}}}static async GET_staff(e){try{const n=J(Q,"users",e),r=await nt(n);if(!r.exists())return console.error("User document does not exist for ID:",e),{status:404,body:"Staff not found"};const s=r.data();return s.role!=="staff"?{status:401,body:"Unauthorized access: User is not staff"}:{status:200,body:s}}catch(n){return console.error("Error retrieving staff:",n),{status:500,body:"Server unable to find staff"}}}static async GET_staff_ALL(){try{const e=le(Q,"users"),n=On(e,Hr("role","==","staff")),r=await qt(n);if(r.empty)return{status:404,body:"No staff found"};let s=[];return r.forEach(i=>{const o=i.data(),a=`${o.first_name} ${o.last_name} (${i.id})`;s.push({...o,name:a,id:i.id})}),{status:200,body:s}}catch(e){return console.error("Error retrieving all staff:",e),{status:500,body:"Server unable to retrieve staff"}}}static async GET_staff_top_earners(e){try{let n={status:200,body:[]};const r=J(Q,"users",e),s=le(r,"courses");let i=[],o=[];const a=await qt(s);for(const l of a.docs)if(l&&l.exists&&!l.empty){let c=l.data();c&&c.course_id!==void 0&&i.push(c.course_id)}for(const l of i)try{let c=await due(l),d=await fue(l),f=await Y1(d.id);d.course_code=c.body.code,d.course_name=c.body.name,d.course_id=l,d.rank=f,o.push(d)}catch(c){console.error(`Error fetching top earner for course ${l} :`,c)}return n.body=cue(o),n}catch(n){return console.error("error retrieving all top earners: ",n),{status:500,body:"Server unable to retrieve top earners"}}}static async POST_staff_award_points(e,n,r,s,i){try{return await Mn(Q,async a=>{const l=J(Q,"users",e),c=await a.get(l);if(!c.exists()||c.empty)return{status:400,body:"Staff not found"};const d=c.data();if(Number(d.current_pts)<Number(r)||d.role!=="staff")return{status:400,body:"Not Enough Points to Award"};const f=J(Q,"users",n),p=await a.get(f);if(!p.exists()||p.empty)return{status:400,body:"Student not found"};const m=p.data(),_=le(Q,"pointlogs"),v=J(_),S=new lue(e,n,r,s,i);let x=`You have been awarded ${r} points for ${s}.`;i&&(x+=`
Comments: ${i}`);const b=le(Q,"users",n,"notifications"),w=J(b),k=new Sy(null,e,n,"Points Awarded",x);return a.set(v,{...S}),a.set(w,{...k,uid:w.id}),a.update(l,{current_pts:Number(d.current_pts)-Number(r)}),a.update(f,{current_pts:Number(m.current_pts||0)+Number(r),accumulated_pts:Number(m.accumulated_pts||0)+Number(r)}),{status:200,body:"Points awarded successfully"}})}catch(o){return console.error("Error awarding points:",o),{status:500,body:"Server unable to award points"}}}static async GET_staff_pointlogs(e){try{let n={status:200,body:[]};const r=le(Q,"pointlogs"),s=On(r,Hr("staff_id","==",e)),i=await qt(s);for(const o of i.docs)o.exists&&!o.empty&&n.body.push(o.data());return n}catch(n){return console.error("Error retrieving pointlogs:",n),{status:500,body:"Server unable to retrieve pointlogs"}}}}const vue=async t=>{try{const e=await ea.POST_staff(t);if(!e.success)throw new Error(e.message);return e}catch(e){return console.error("Failed to create staff:",e),{success:!1,message:e.message}}},Qg=async t=>{try{return ea.GET_staff(t)}catch(e){throw console.error("Error getting documents:",e),e}},yue=async t=>(await Qg(t)).status===200,Z1=async()=>{try{return await ea.GET_staff_ALL()}catch(t){throw console.error("Error in getting staff :",t),t}},_ue=async(t,e,n,r,s)=>{try{const i=await ea.POST_staff_award_points(t,e,n,r,s);if(i.status===200){const o=await xu.UPDATE_leaderboard();console.log(o)}return i}catch(i){return console.error("Error awarding points to student:",i),{status:500,body:"Server unable to award points"}}},eE=async t=>{try{return await ea.GET_staff_pointlogs(t)}catch(e){throw console.error("Error in getting staff logs:",e),e}},PV=async t=>{try{const e=await eE(t);if(e.status===200){const n=e.body;if(n&&Array.isArray(n)&&n.length>0){let r={goodConduct:0,courseParticipation:0,volunteering:0,extracurricular:0};return n.forEach(s=>{s.reason==="good conduct"?r.goodConduct+=s.points:s.reason==="course participation"?r.courseParticipation+=s.points:s.reason==="volunteering"?r.volunteering+=s.points:s.reason==="extracurricular"&&(r.extracurricular+=s.points)}),r}}else console.log("No Logs found.")}catch(e){console.error("Error fetching lecturer point logs:",e)}},bue=async(t,e)=>{const r={goodConduct:"good conduct",courseParticipation:"course participation",volunteering:"volunteering",extracurricular:"extracurricular"}[e];try{const s=await eE(t);if(s.status===200){const i=s.body;if(i&&Array.isArray(i)&&i.length>0)return i.filter(a=>a.reason===r)}else return console.log("No Logs found."),[]}catch(s){console.error("Error fetching lecturer point logs:",s)}},wue=async t=>{try{return await ea.GET_staff_top_earners(t)}catch{console.log("Error fetching top earners")}};class ta{constructor(e="",n=0,r="",s="",i="",o=""){this.id="",this.name=e,this.cost=n,this.type=r,this.desc=s,this.img_url=i,this.demo=o,this.timestamp=xt.now(),this.available=!0}async create(e,n,r,s,i,o){try{const a=le(Q,"prizes"),l=await N1(a,{...this}),c=l.id;return this.id=c,await bf(l,{id:c}),!0}catch(a){return console.error("error creating prize: ",a),!1}}static async is_available(e){try{const n=await this.GET_prize(e);return n!==null&&n.available===!0}catch(n){return console.error("error checking if prize is available: ",n),!1}}static async can_be_redeemed(e,n){}static async POST_prize(e,n,r,s,i,o){try{return await Mn(Q,async a=>{if(!await new ta(e,n,r,s,i,o).create())return console.error("error creating prize entry"),!1}),!0}catch(a){return console.error("error positng prize",a),!1}}static async UPDATE_prize(e=null,n=null,r=null,s=null,i=null,o=null,a=null){try{return await Mn(Q,async l=>{const c=J(Q,"prizes",e),d=await nt(c);if(!e)return console.log("id not provided"),!1;if(!d.exists()||d.empty)return console.log("document does not exist"),!1;let f={};n&&(f.name=n),r&&(f.cost=r),s&&(f.type=s),i&&(f.desc=i),o&&(f.img_url=o),a&&(f.demo=a),l.update(c,f)}),!0}catch(l){return console.error("error positng prize",l),!1}}static async DELETE_prize(e){try{const n=J(Q,"prizes",e);return(await nt(n)).exists()?(await my(n),!0):(console.error("prize doc does not exist",error),!1)}catch(n){return console.error("error deleting student doc",n),!0}}static async GET_prize(e){try{let n=[];const r=J(Q,"prizes",e),s=await nt(r);return s.exists()||console.error("prize doc does not exist"),n=s.data(),n}catch(n){return console.error("error positng prize",n),data}}static async GET_prizes(){try{let e=[];const n=le(Q,"prizes"),r=On(n),s=qt(r);return s.empty?null:((await s).forEach(i=>{e.push(i.data())}),e)}catch(e){return console.error("error retrieving all prizes: ",e),null}}static async GET_prizes_available(){try{const e=[],n=le(Q,"prizes"),r=On(n,Hr("available","==",!0)),s=await qt(r);return s.empty||s.forEach(i=>{e.push({id:i.id,...i.data()})}),e}catch(e){return console.error("Error fetching available prizes:",e),[]}}static async POST_prize_redeeem(e,n){try{return await Mn(Q,async s=>{const i=J(Q,"prizes",n),o=await s.get(i);if(!o.exists()||o.empty)return console.error("Prize document does not exist"),!1;const a=o.data();if(!a.available)return console.error("Prize document is not available for redemption"),!1;const l=J(Q,"users",e),c=await s.get(l);if(!c.exists()||c.empty)return console.error("User document does not exist"),!1;const d=c.data();if(Number(d.current_pts)<Number(a.cost))return console.error("User cannot afford"),!1;const f=new Ey(e,n),p=le(Q,"redeemlog"),m=J(p);s.set(m,{...f},{merge:!0});let _=`Student ${d.first_name} ${d.last_name} (Student ID: ${d.id}) redeemed ${a.name} for ${a.cost} points.`;return(await qt(On(le(Q,"users"),Hr("role","==","admin")))).forEach(S=>{const x=S.id,b=le(Q,"users",x,"notifications"),w=J(b),k=new Sy(null,e,x,"Prize Redeemed",_);s.set(w,{...k,uid:w.id},{merge:!0})}),s.update(l,{current_pts:Number(d.current_pts)-Number(a.cost),spent_pts:Number(d.spent_pts)+Number(a.cost)}),s.update(i,{available:!1}),!0})}catch(r){return console.error("Error redeeming prize:",r),!1}}}const HP=async(t,e,n,r,s,i)=>{try{return await ta.POST_prize(t,e,n,r,s,i)}catch(o){throw console.error("Error creating prize:",o),o}},AV=async t=>{try{return await ta.GET_prize(t)}catch(e){throw console.error("Error retrieving prize by ID:",e),e}},xue=async()=>{try{return await ta.GET_prizes()}catch(t){throw console.error("Error retrieving all prizes:",t),t}},RV=async()=>(await xue()).filter(n=>n.available===!0),Sue=async(t,e,n,r,s,i,o)=>{try{return await ta.UPDATE_prize(t,e,n,r,s,i,o)}catch(a){throw console.error("Error retrieving all prizes:",a),a}},Eue=async t=>{try{return await ta.DELETE_prize(t)}catch(e){throw console.error("Error deleting",e),e}},Cue=async(t,e)=>{try{const n=await AV(e);if(!n)throw new Error("Prize not found");const r=await Wo(t);if(!r)throw new Error("User not found");return!!(n.cost<=r.current_pts&&n.available)}catch(n){throw console.error("Error:",n),new Error("Error checking if student can redeem")}},Tue=async(t,e)=>{try{const n=await Cue(t,e);if(console.log(n),n){const r=await ta.POST_prize_redeeem(t,e);if(r)return r;console.log("error")}else return!1}catch{}},Ho=({searchType:t,onSelectItem:e,onSearch:n,courseID:r,userID:s,userType:i})=>{const[o,a]=g.useState(""),[l,c]=g.useState([]),d=fr(),[f,p]=g.useState([]),[m,_]=g.useState([]),[v,S]=g.useState([]),[x,b]=g.useState([]),[w,k]=g.useState(!1),j=g.useRef(null);g.useEffect(()=>(document.addEventListener("click",O),()=>{document.removeEventListener("click",O)}),[]);const O=$=>{j.current&&!j.current.contains($.target)&&k(!1)},C=async()=>{try{let $;r?$=await Cy(r):$=await Q1(),$?p($.body):console.error("Error:",$.body)}catch($){console.error("Error fetching students:",$)}},T=async()=>{try{const $=await Z1();if($)_($.body);else return console.error("Error:",$.body),[]}catch($){return console.error("Error fetching staff:",$),[]}},I=async $=>{try{let X;if(s&&i!=="admin"&&i!=="adminDemo")if(X=await $h(s),X.status===200)S(X.body);else return console.error("Error:",X),[];else if(X=await hue($),X)S(X);else return console.error("Error:",X),[]}catch(X){return console.error("Error fetching courses:",X),[]}},P=async()=>{try{const $=await RV();if($)b($);else return console.error("Error:",$.body),[]}catch($){return console.error("Error fetching courses:",$),[]}},N=async $=>{const X=$.target.value;a(X),k(X.trim()!=="");let ne=[];if(t==="student")try{await C(),ne=f.filter(B=>`${B.first_name} ${B.last_name}`.toLowerCase().includes(X.toLowerCase())||B.id.toLowerCase().startsWith(X.toLowerCase())),c(ne)}catch(B){console.log(B)}else if(t==="course")s&&i!=="admin"&&i!=="adminDemo"?(await I(X),ne=v.filter(B=>B.name.toLowerCase().includes(X.toLowerCase())||B.code.toLowerCase().startsWith(X.toLowerCase())),c(ne)):(await I(X),ne=v,c(ne));else if(t==="staff")try{await T(),ne=m.filter(B=>`${B.first_name} ${B.last_name}`.toLowerCase().includes(X.toLowerCase())||B.id.toLowerCase().startsWith(X.toLowerCase())),c(ne)}catch(B){console.log(B)}else if(t==="prize")try{await P();const B=x.filter(G=>G.name.toLowerCase().includes(X.toLowerCase()));c(B)}catch(B){console.log(B)}},M=$=>{$.key==="Enter"&&(n(o),c([]))},R=$=>{k(!1),t==="student"&&location.pathname==="/assign-points"?e($):t==="course"&&$?d(`/course-students/${$.id}`,{state:{data:$}}):t==="student"&&location.pathname.startsWith("/course-students")||$?e($):n(),c([])};return u.jsxs(U,{style:{margin:"auto",marginTop:"10px"},position:"relative",ref:j,children:[u.jsxs(Bv,{children:[u.jsx(jS,{pointerEvents:"none",children:u.jsx(tue,{color:"teal.200"})}),u.jsx(De,{backgroundColor:"white",type:"text",placeholder:"Search...",value:o,onChange:N,onKeyDown:M,onClick:()=>k(o.trim()!=="")})]}),w&&l.length>0&&u.jsx(U,{position:"absolute",width:"calc(100% - 2px)",bg:"white",borderRadius:"md",boxShadow:"md",mt:"0",left:"0",zIndex:"2",children:u.jsx(Wv,{border:"1px solid #A0AEC0",children:l.map(($,X)=>u.jsx(qN,{bg:"white",border:"1px solid #A0AEC0",cursor:"pointer",_hover:{bg:"teal.50"},onClick:()=>R($),textAlign:"left",display:"flex",children:u.jsx(TV,{url:$.img_url,title:t==="student"||t==="staff"?`${$.first_name} ${$.last_name}`:$.name,text:`${t==="student"?`Student ID: ${$.id}`:t==="course"?`Course Code: ${$.code}`:t==="staff"?`Staff ID: ${$.id}`:`Prize Cost: ${$.cost} MP`}`,avatar:u.jsx(hr,{src:$.img_url,name:t==="student"||t==="staff"?`${$.first_name} ${$.last_name}`:$.name,size:"sm",mr:"10px"})})},X))})})]})},Yg=({isOpen:t,onClose:e,name:n,mode:r})=>{const[s,i]=g.useState(""),[o,a]=g.useState("");return g.useEffect(()=>{r==="add-prize"&&(i("Prize Added Successfully"),a(`Successfully added Item ${n} to the Merit Shop.`)),r==="edit-prize"&&(i("Prize Edited Successfully"),a(`Successfully edited ${n} details.`)),r==="delete-prize"&&(i("Prize Deleted Successfully"),a(`Successfully removed Item ${n} from the Merit Shop.`)),r==="redeem-prize"&&(i("Prize Redeemed Successfully"),a(`Successfully redeemed ${n} from the Merit Shop.`))},[r,n]),u.jsxs(mt,{isOpen:t,onClose:e,children:[u.jsx(yt,{}),u.jsxs(gt,{align:"center",width:"xl",children:[u.jsx(vt,{backgroundColor:"#4FD1C5",color:"white",borderRadius:"md",children:s}),u.jsx(St,{}),u.jsx(_t,{align:"center",children:o}),u.jsx(Ft,{alignItems:"center",borderRadius:"md",children:u.jsx(se,{colorScheme:"teal",onClick:e,children:"Close"})})]})]})},Iw=({isOpen:t,onClose:e,prizeData:n,mode:r,onAddPrize:s,userType:i})=>{const[o,a]=g.useState("Add New Prize"),[l,c]=g.useState(""),[d,f]=g.useState(""),[p,m]=g.useState(null),[_,v]=g.useState(0),[S,x]=g.useState(!1),b=Di({base:"95%",md:"75%",lg:"75%"}),[w,k]=g.useState(!1);g.useEffect(()=>{n?(c(n.name||""),v(parseInt(n.cost)||0),f(n.desc||""),m(n.img_url||"./img.svg"),a("Edit Prize")):(c(l),m(p),f(d),v(_))},[t,n]);const j=async $=>{$.preventDefault();try{if(r==="edit-prize")P();else if(r==="add-prize"){let X;i==="adminDemo"?(X=HP(l,_,"tangible",d,p,!0),console.log("tsadsa")):i==="admin"&&(X=HP(l,_,"tangible",d,p,!1)),X?(s(),e(),c(""),m(""),f(""),v(0),x(!0)):console.error("Error creating prize")}}catch(X){console.error("Error occurred during form submission:",X)}},O=$=>{const X=$.target.files[0];if(X){const ne=new FileReader;ne.onloadend=()=>{m(ne.result)},ne.readAsDataURL(X)}},C=$=>{v(X=>X+$)},T=$=>{f($.target.value)},I=$=>{c($.target.value)},P=()=>{k(!0)},N=()=>{try{c(l),n.name=l,n.desc=d,n.imgUrl=p,n.point_cost=_,k(!0),Sue(n.id,l,_,"Tangible",d,p)?(console.log("Prize Edited successfully"),k(!1),x(!0)):console.error("Error editing prize"),e()}catch($){console.error("Error occurred during form submission:",$)}e()},M=()=>{k(!1)},R=()=>{v(0),m(null),c(""),f(""),x(!1)};return u.jsxs(u.Fragment,{children:[u.jsxs(mt,{isOpen:t,onClose:e,size:"xl",isCentered:!0,borderRadius:"md",scrollBehavior:"inside",children:[u.jsx(yt,{}),u.jsx(gt,{width:b,p:"0px",overflowY:"scroll",children:u.jsxs("form",{onSubmit:j,children:[u.jsx(vt,{borderRadius:"md",textAlign:"center",backgroundColor:"#4FD1C5",color:"white",children:o}),u.jsx(St,{}),u.jsxs(_t,{p:"1",children:[u.jsx(me,{mb:"4",justifyContent:"center",children:u.jsxs(nN,{w:"100%",m:"5px",p:"10px",textAlign:"center",border:"1px solid #CBD5E0",alignItems:"center",children:[p?u.jsx("div",{style:{transform:"translate(0, 0)"},children:u.jsx("img",{src:p,alt:"Preview",style:{maxHeight:"250px",objectFit:"contain"}})}):u.jsx("span",{children:"Upload Image to Preview"}),u.jsx("span",{style:{margin:"10px",textAlign:"center",fontSize:"0.8em"},children:u.jsx("input",{type:"file",accept:"image/*",onChange:O})})]})}),u.jsxs(U,{m:"5",children:[u.jsx(me,{children:u.jsxs(we,{isRequired:!0,mb:"4",display:"inline-flex",flexDirection:{base:"column",md:"row"},alignItems:"center",children:[u.jsx(Ce,{align:"left",width:{base:"100%",md:"140px"},mr:2,mb:{base:"2",md:"2"},children:"Prize Name:"}),u.jsx(De,{type:"text",value:l,onChange:I})]})}),u.jsx(me,{className:"points-input-field",align:"center",children:u.jsxs(we,{isRequired:!0,display:"inline-flex",flexDirection:{base:"column",md:"row"},alignItems:"center",children:[u.jsx(Ce,{align:"left",mr:2,mb:{base:2,md:0},width:{base:"100%",md:"140px"},children:"Points Cost:"}),u.jsxs("div",{style:{display:"inline-flex"},children:[u.jsx(wh,{"aria-label":"Decrease points",icon:u.jsx(SV,{}),onClick:()=>C(-1),size:"sm",mr:1,isDisabled:_===0}),u.jsx(Bv,{size:"sm",w:"120px",children:u.jsx(De,{type:"number",value:_===0?"":_,placeholder:"0",onChange:$=>v(isNaN(parseInt($.target.value))?0:Math.max(parseInt($.target.value),0)),required:!0})}),u.jsx(wh,{"aria-label":"Increase points",icon:u.jsx(CV,{}),onClick:()=>C(1),size:"sm"})]})]})}),u.jsx(me,{className:"comment-area",align:"center",mt:5,children:u.jsxs(we,{isRequired:!0,display:"inline-flex",flexDirection:{base:"column",md:"row"},alignItems:"center",children:[u.jsxs(Ce,{align:"left",width:{base:"100%",md:"160px"},mb:{base:2,md:2},mr:2,children:["Enter Prize Description ",u.jsx("span",{style:{color:"#999"}})," :"]}),u.jsx(Qv,{value:d,onChange:T,placeholder:"Enter description here...",size:"md",resize:"both",style:{width:"100%"}})]})})]})]}),u.jsxs(Ft,{backgroundColor:"#4FD1C5",borderRadius:"md",children:[u.jsx(se,{type:"submit",colorScheme:"teal",mr:3,children:"Save"}),u.jsx(se,{onClick:e,children:"Cancel"})]})]})})]}),u.jsx(Iue,{isOpen:w,onClose:M,onConfirm:N,prizeName:l,isSuccessModalOpen:S,handleCloseSuccessModal:R,mode:"edit-prize"}),r==="add-prize"&&u.jsx(Yg,{isOpen:S,onClose:R,name:l,mode:r})]})},Iue=({isOpen:t,onClose:e,prizeName:n,onConfirm:r,isSuccessModalOpen:s,handleCloseSuccessModal:i,mode:o})=>u.jsxs(u.Fragment,{children:[u.jsxs(mt,{isOpen:t,onClose:e,children:[u.jsx(yt,{}),u.jsxs(gt,{align:"center",width:"xl",children:[u.jsx(vt,{children:"Confirm Edit"}),u.jsx(St,{}),u.jsx(_t,{align:"center",children:"Are you sure you want to save changes?"}),u.jsxs(Ft,{alignItems:"center",children:[u.jsx(se,{colorScheme:"teal",onClick:r,children:"Confirm"}),u.jsx(se,{onClick:e,children:"Cancel"})]})]})]}),u.jsx(Yg,{isOpen:s,onClose:i,name:n,mode:o})]}),kue=t=>{const{img_url:e,name:n,desc:r,cost:s,type:i,demo:o,userType:a}=t.data,[l,c]=g.useState(0);g.useState(!1),Di({base:!1,md:!0,lg:!0});const d={boxRadius:el,boxShadow:"0 2px 8px 2px #cfcfcf",padding:Lt,backgroundColor:"white",borderRadius:gy,cursor:"pointer",width:"280px",height:"fit-content",transition:"transform 0.3s",_hover:{transform:"scale(1.05)",boxShadow:"0 0 4px 5px #f7d086","& .rank":{color:Ze},"& .title":{color:Ze},"& .count":{color:Ze},"& .actionicon":{color:Ze}}},f={color:"black",fontWeight:"bold"},p={fontWeight:"bold",color:"black",fontSize:"1.2em",pading:0,borderRadius:"10px",textAlign:"right"},m=()=>{t.handleOpenItemDetailModal(l)},_=x=>{x.stopPropagation(),t.handleEditPrizeClick(l)},v=x=>{x.stopPropagation(),t.handleDeletePrizeClick(l)},S=x=>{x.stopPropagation(),t.handleRedeemPrizeClick(l)};return u.jsx(U,{sx:d,onClick:m,mb:3,children:u.jsxs(me,{align:"center",flexDirection:"column",width:"100%",height:"100%",children:[u.jsx(U,{className:"item-img",w:"100%",backgroundPosition:"center",backgroundSize:"cover",children:u.jsx(Fv,{w:"100%",h:"200px",src:e||"./img.svg",alt:"placeholder"})}),u.jsxs(U,{className:"item-desc",w:"100%",h:"30%",children:[u.jsx(H,{className:"title",sx:f,children:n}),u.jsxs(U,{justifyContent:"center",children:[" ",u.jsx(H,{w:"80%",isTruncated:!0,children:r})]})]}),u.jsx(U,{className:"item-points",w:"100%",pl:1,py:2,children:u.jsx(U,{align:"right",children:u.jsxs(H,{className:"count",bgColor:"teal.100",width:"fit-content",px:2,sx:p,children:[" Price: ",s," ",u.jsx("span",{children:"MP"})]})})}),u.jsxs(U,{w:"100%",textAlign:"center",height:"30%",bottom:"10px",children:[t.userType==="student"&&u.jsxs(u.Fragment,{children:[u.jsx(Xt,{borderColor:"teal.500",marginTop:"2px"}),u.jsx(U,{className:"actionicon",textAlign:"center",py:{base:0,md:1},children:u.jsxs(se,{colorScheme:"teal",onClick:S,children:["Redeem ",u.jsx(Qc,{})]})})]}),t.userType==="admin"&&u.jsxs(u.Fragment,{children:[u.jsx(Xt,{borderColor:"teal.500",marginTop:"10px"}),u.jsxs(U,{className:"actionicon",textAlign:"center",py:{base:0,md:1},children:[u.jsxs(se,{colorScheme:"teal",onClick:_,children:[u.jsx(g_,{marginRight:"5px"})," Edit "]}),u.jsxs(se,{colorScheme:"red",onClick:v,children:[u.jsx(v_,{marginRight:"5px"})," Delete "]})]})]}),t.userType==="adminDemo"&&o===!0&&u.jsxs(u.Fragment,{children:[u.jsx(Xt,{borderColor:"teal.500",marginTop:"10px"}),u.jsxs(U,{className:"actionicon",textAlign:"center",py:{base:0,md:1},children:[u.jsxs(se,{colorScheme:"teal",onClick:_,children:[u.jsx(g_,{marginRight:"5px"})," Edit "]}),u.jsxs(se,{colorScheme:"red",onClick:v,children:[u.jsx(v_,{marginRight:"5px"})," Delete "]})]})]}),t.userType==="adminDemo"&&o===!1&&u.jsxs(u.Fragment,{children:[u.jsx(Xt,{borderColor:"teal.500",marginTop:"10px"}),u.jsxs(U,{className:"actionicon",textAlign:"center",py:{base:0,md:1},children:[u.jsxs(se,{colorScheme:"teal",isDisabled:!0,children:[u.jsx(g_,{marginRight:"5px"})," Edit "]}),u.jsxs(se,{colorScheme:"red",isDisabled:!0,children:[u.jsx(v_,{marginRight:"5px"})," Delete "]})]})]})]})]})})};function Pue({userType:t}){Ui();const[e,n]=g.useState(0),[r,s]=g.useState([]),[i,o]=g.useState([]),[a,l]=g.useState([]),[c,d]=g.useState(""),f=Fn(),p={flex:1};g.useEffect(()=>{m()},[]);const m=async()=>{try{const Y=await RV();Y?(s(Y),l(Y)):console.log("No prizes found.")}catch(Y){console.error("Error fetching prizes:",Y)}},[_,v]=g.useState(Array(r.length).fill(!1)),[S,x]=g.useState(Array(r.length).fill(!1)),[b,w]=g.useState(!1),[k,j]=g.useState(Array(r.length).fill(!1)),[O,C]=g.useState(Array(r.length).fill(!1)),[T,I]=g.useState(Array(r.length).fill(!1)),[P,N]=g.useState(Array(r.length).fill(!1)),M=Y=>{Y.preventDefault()},R=()=>{w(!0)},$=Y=>{n(Y),v(re=>{const Re=[...re];return Re[Y]=!0,Re})},X=Y=>{n(Y),x(re=>{const Re=[...re];return Re[Y]=!0,Re})},ne=Y=>{n(Y),N(re=>{const Re=[...re];return Re[Y]=!0,Re})},B=Y=>{const re=[..._];re[Y]=!1,v(re)},G=Y=>{const re=[...k];re[Y]=!1,x(re)},ee=Y=>{const re=[...P];re[Y]=!1,N(re)},he=Y=>{const re=[...k];re[Y]=!1,j(re)},ue=Y=>{const re=[...O];re[Y]=!1,C(re),m()},ve=async Y=>{try{n(Y),await Eue(r[Y].id)?(console.log("Prize Deleted successfully"),j(Re=>{const je=[...Re];return je[Y]=!0,je}),x(Re=>{const je=[...Re];return je[Y]=!1,je}),await m()):console.error("Error deleting prize")}catch(re){console.error("Error occurred during form submission:",re)}},ie=async Y=>{try{n(Y);const re=await Yr(),Re=await Tue(re.id,r[Y].id);Re&&(console.log("Prize Redeemed successfully"),C(je=>{const ut=[...je];return ut[Y]=!0,ut})),N(je=>{const ut=[...je];return ut[Y]=!1,ut}),Re||f({title:"Redemption Error",description:"Not enough points",status:"error",duration:3e3,position:"top-right",isClosable:!0})}catch(re){console.error("Error occurred during form submission:",re)}},Se=Y=>{n(Y),I(re=>{const Re=[...re];return Re[Y]=!0,Re})},Te=Y=>{const re=[...T];re[Y]=!1,I(re)},Ne=Y=>{d(Y.toLowerCase());const re=r.filter(Re=>Re.name.toLowerCase().startsWith(Y.trim().toLowerCase()));l(re)},Me=Y=>{o(Y),l([Y])},q=u.jsx(u.Fragment,{children:u.jsx(U,{margin:"auto",w:"90%",h:"fit-content",backgroundColor:"white",align:"center",minHeight:{base:"calc(100vh - 136px)",md:"calc(100vh - 166px)"},children:u.jsxs(U,{align:"center",children:[u.jsx("div",{className:"page-title",children:"Available Prizes"}),u.jsx("div",{style:{marginBottom:"10px",width:"80%",mx:"auto"},children:u.jsx(Ho,{searchType:"prize",onSelectItem:Me,onSearch:Ne})}),t==="admin"||t==="adminDemo"&&u.jsx("div",{style:{textAlign:"right",marginBottom:"10px",marginRight:"20px"},children:u.jsx(se,{colorScheme:"teal",onClick:R,padding:"7px",pt:"0px",pb:"0px",children:"Add Item"})}),u.jsx(me,{flexDirection:"row",justifyContent:"space-around",flexWrap:"wrap",w:"100%",px:5,children:a.map((Y,re)=>u.jsxs(U,{mx:2,children:[u.jsx(kue,{data:Y,userType:t,handleOpenItemDetailModal:()=>Se(re),handleEditPrizeClick:()=>$(re),handleDeletePrizeClick:()=>X(re),handleRedeemPrizeClick:()=>ne(re)}),u.jsx(Os,{height:2}),u.jsx(jue,{isOpen:T[re],onClose:()=>Te(re),prizeData:Y,userType:t,handleDelete:()=>X(re),handleEdit:()=>$(re),handleRedeem:()=>ne(re)}),u.jsx(Iw,{isOpen:_[re],prizeData:Y,onClose:()=>B(re),mode:"edit-prize",userType:t}),u.jsx(Aue,{isOpen:S[re],prizeName:Y.name,onClose:()=>G(re),onConfirm:()=>ve(re)}),u.jsx(Rue,{isOpen:P[re],prizeName:Y.name,cost:Y.cost,onClose:()=>ee(re),onConfirm:()=>ie(re)}),u.jsx(Yg,{isOpen:k[re],onClose:()=>he(re),name:Y.name,mode:"delete-prize"}),u.jsx(Yg,{isOpen:O[re],onClose:()=>ue(re),name:Y.name,mode:"redeem-prize"})]},re))}),u.jsx(Iw,{isOpen:b,prizeData:null,onClose:()=>w(!1),mode:"add-prize",onAddPrize:m,userType:t})]})})});return u.jsxs(U,{className:"merit-container",align:"center",width:"100%",mx:"auto",h:"fit-content",backgroundImage:"linear-gradient(180deg, #b8fcf6, #4adfe2 70%, #2fccbc 90%)",children:[t==="staff"&&u.jsxs(af,{isFitted:!0,style:p,defaultIndex:1,backgroundColor:"white",w:"90%",align:"center",children:[u.jsxs(lf,{children:[u.jsx(zn,{to:"/leaderboard",style:{width:"50%"},children:u.jsx(Li,{onclick:M,children:"Leaderboard"})}),u.jsx(zn,{to:"/merit-shop",style:{width:"50%"},children:u.jsx(Li,{children:"Merit Shop"})})]}),u.jsxs(cf,{children:[u.jsx(Mi,{}),u.jsx(Mi,{width:"100%",children:u.jsx(u.Fragment,{children:q})})]})]}),t!=="staff"&&u.jsx(U,{w:"100%",children:q})]})}const Aue=({isOpen:t,onClose:e,prizeName:n,onConfirm:r})=>u.jsxs(mt,{isOpen:t,onClose:e,children:[u.jsx(yt,{}),u.jsxs(gt,{align:"center",width:"xl",children:[u.jsx(vt,{color:"white",backgroundColor:"#E53E3E",borderRadius:"md",children:"Confirm Deletion"}),u.jsx(St,{color:"white"}),u.jsxs(_t,{align:"center",children:["Are you sure you want to remove ",n," from the shop? This action is ",u.jsx("span",{style:{fontWeight:"bold"},children:"irreversible"}),"."]}),u.jsxs(Ft,{alignItems:"center",borderRadius:"md",children:[u.jsx(se,{colorScheme:"gray",onClick:e,children:"Cancel"}),u.jsx(se,{colorScheme:"red",onClick:r,children:"Confirm Delete"})]})]})]}),Rue=({isOpen:t,onClose:e,prizeName:n,cost:r,onConfirm:s})=>u.jsxs(mt,{isOpen:t,onClose:e,children:[u.jsx(yt,{}),u.jsxs(gt,{align:"center",width:"xl",children:[u.jsx(vt,{color:"white",backgroundColor:"#4FD1C5",borderRadius:"md",children:"Confirm Redemption"}),u.jsx(St,{color:"white"}),u.jsxs(_t,{align:"center",children:["Are you sure you want to redeem ",n," for ",r," points?"]}),u.jsxs(Ft,{alignItems:"center",borderRadius:"md",children:[u.jsx(se,{colorScheme:"gray",onClick:e,children:"Cancel"}),u.jsx(se,{colorScheme:"teal",onClick:s,children:"Redeem"})]})]})]}),jue=({isOpen:t,onClose:e,prizeData:n,userType:r,handleEdit:s,handleDelete:i,handleRedeem:o})=>{const[a,l]=g.useState(!1),c=()=>{l(!a)};return u.jsxs(mt,{isOpen:t,onClose:e,size:"3xl",w:"90%",children:[u.jsx(yt,{}),u.jsxs(gt,{children:[u.jsx(vt,{borderRadius:"md",color:"white",backgroundColor:"#4FD1C5",textAlign:"center",fontSize:"2rem",marginBottom:"1px black solid",px:{base:4,md:4},py:{base:2,md:4},children:n.name}),u.jsx(St,{}),u.jsx(_t,{px:{base:2,md:4},py:{base:1,md:2},children:u.jsxs(me,{direction:{base:"column",md:"row"},children:[u.jsx(U,{w:{base:"70%",md:"50%"},mx:"auto",my:"auto",children:u.jsx(Fv,{src:n.img_url||"./img.svg",alt:n.name,onClick:c,cursor:"pointer"})}),u.jsxs(nN,{mt:{base:1,md:3},w:{base:"100%",md:"50%"},p:0,children:[u.jsxs(aY,{m:"auto",py:{base:1,md:3},fontSize:"lg",fontWeight:"bold",children:[n.name," Details"]}),u.jsxs(oY,{px:{base:6,md:4},py:{base:2,md:4},children:[u.jsxs(H,{fontWeight:"bold",children:["Cost: ",u.jsxs(U,{as:"span",ml:7,children:[n.cost," points"]})]}),u.jsxs(H,{fontWeight:"bold",mt:3,children:["Description: ",u.jsx("br",{})," ",u.jsx(U,{ml:5,p:"3",children:n.desc})]}),u.jsxs(H,{textAlign:"right",mt:3,children:[n.type," item"]})]})]})]})}),u.jsx(Ft,{borderRadius:"md",backgroundColor:"#4FD1C5",w:{base:"100%"},textAlign:"center",px:{base:2,md:4},py:1,children:u.jsxs(U,{textAlign:"center",children:[r==="student"&&u.jsx(se,{colorScheme:"teal",onClick:o,children:"Redeem Prize"}),r==="staff"&&u.jsx(se,{colorScheme:"teal",onClick:e,children:"Close"}),r==="admin"||r==="adminDemo"&&n.demo&&u.jsxs(u.Fragment,{children:[u.jsx(se,{colorScheme:"teal",onClick:s,children:"Edit"}),u.jsx(se,{colorScheme:"red",onClick:i,children:"Delete"})]})," ",r==="adminDemo"&&!n.demo&&u.jsxs(u.Fragment,{children:[u.jsx(se,{colorScheme:"teal",onClick:s,isDisabled:r==="adminDemo",children:"Edit"}),u.jsx(se,{colorScheme:"red",onClick:i,isDisabled:r==="adminDemo",children:"Delete"})]})]})})]})]})},qP=()=>{const[t,e]=g.useState(null),[n,r]=g.useState(0),[s,i]=g.useState(""),[o,a]=g.useState(""),l=Fn(),[c,d]=g.useState(!1),f=Di({base:"95%",md:"75%",lg:"60%"}),{studentId:p}=Gh();g.useEffect(()=>{(async()=>{if(p)try{const k=await Wo(p);e(k)}catch(k){console.error("Error fetching student details:",k)}})()},[p]);const m=w=>{e(w)},_=async w=>{if(w.preventDefault(),t&&n>0){const k=await Yr(),j=await _ue(k.id,t.id,n,s,o);j.status===200?d(!0):l({title:"Error",description:`${j.body} `,status:"error",duration:3e3,position:"top-right",isClosable:!0})}else t||l({title:"Error",description:"Please select a student.",status:"error",duration:3e3,position:"top-right",isClosable:!0}),n<=0&&l({title:"Error",description:"Enter Points greater than 0",status:"error",position:"top-right",duration:3e3,isClosable:!0})},v=w=>{r(k=>k+w)},S=w=>{a(w.target.value)},x=async()=>{e(null),r(0),i(""),a(""),d(!1);const w=await Yr();l({title:"Award Points Success",description:`Available Points Decreased To: ${w.current_pts}`,status:"info",duration:8e3,position:"top-right",isClosable:!0})},b=()=>{};return u.jsx(U,{mt:3,margin:"auto",width:"90%",backgroundColor:"white",mx:"auto",minHeight:{base:"calc(100vh - 136px)",md:"calc(100vh - 166px)"},children:u.jsxs(U,{maxWidth:"1000px",mx:"auto",children:[u.jsx("div",{className:"page-title",children:"Assign Points To Student"}),u.jsx(H,{fontSize:"0.9em",children:"Search a student's name or ID to get started "}),u.jsx(Ho,{searchType:"student",onSelectItem:m,onSearch:b}),u.jsxs(U,{mt:4,border:"1px solid gray.300",margin:"10px",width:"100%",children:[u.jsx("h2",{style:{textAlign:"center"},children:"Selected Student:"}),u.jsx(U,{border:"1px solid",borderColor:"gray.300",p:3,mb:1,bg:"gray.100",borderRadius:"md",textAlign:"center",children:t?u.jsxs(me,{align:"center",children:[u.jsx(U,{mr:4,ml:2,children:u.jsx(hr,{src:t.img_url,name:t.first_name+" "+t.last_name,size:"sm"})}),u.jsxs("div",{children:[u.jsx(H,{fontSize:"md",fontWeight:"bold",children:t.first_name+" "+t.last_name}),u.jsxs(H,{fontSize:"sm",children:["Student ID: ",t.id]})]})]}):u.jsx(H,{fontSize:"sm",fontStyle:"italic",children:"No student selected"})})]}),u.jsxs("form",{onSubmit:_,children:[u.jsxs(U,{margin:"10px",mt:10,children:[u.jsx(me,{className:"points-input-field",align:"center",children:u.jsxs(we,{isRequired:!0,display:"inline-flex",flexDirection:{base:"column",md:"row"},alignItems:"center",children:[u.jsx(Ce,{align:"left",mr:2,mb:{base:2,md:0},width:{base:"100%",md:"140px"},children:"Enter Points:"}),u.jsxs("div",{style:{display:"inline-flex"},children:[u.jsx(wh,{"aria-label":"Decrease points",icon:u.jsx(SV,{}),onClick:()=>v(-1),size:"sm",mr:1,isDisabled:n===0}),u.jsx(Bv,{size:"sm",w:"120px",children:u.jsx(De,{type:"number",value:n===0?"":n,placeholder:"0",onChange:w=>r(isNaN(parseInt(w.target.value))?0:Math.max(parseInt(w.target.value),0)),required:!0})}),u.jsx(wh,{"aria-label":"Increase points",icon:u.jsx(CV,{}),onClick:()=>v(1),size:"sm"})]})]})}),u.jsx(me,{className:"reason-dropdown",align:"center",mt:5,children:u.jsxs(we,{isRequired:!0,display:"inline-flex",flexDirection:{base:"column",md:"row"},alignItems:"center",children:[u.jsx(Ce,{align:"left",width:{base:"100%",md:"140px"},mr:2,mb:{base:"2",md:"2"},children:"Enter Reason:"}),u.jsxs(Oi,{placeholder:"Select an option",value:s,onChange:w=>i(w.target.value),w:"fit-content",mb:{base:2,md:0},required:!0,children:[u.jsx("option",{value:"course participation",children:"Course Participation"}),u.jsx("option",{value:"extracurricular",children:"Extracurricular"}),u.jsx("option",{value:"good conduct",children:"Good Conduct"}),u.jsx("option",{value:"volunteering",children:"Volunteering"})]})]})}),u.jsx(me,{className:"comment-area",align:"center",mt:5,children:u.jsxs(we,{display:"inline-flex",flexDirection:{base:"column",md:"row"},alignItems:"center",children:[u.jsxs(Ce,{align:"left",width:{base:"100%",md:"160px"},mb:{base:2,md:2},mr:2,children:["Enter Comments ",u.jsx("span",{style:{color:"#999"},children:"(optional)"})," :"]}),u.jsx(Qv,{value:o,onChange:S,placeholder:"Enter your comments here...",size:"md",resize:"both",style:{width:"100%"}})]})})]}),u.jsx(se,{type:"submit",colorScheme:"teal",mt:10,margin:"auto",display:"block",children:"Finish"})]}),u.jsxs(mt,{isOpen:c,onClose:x,children:[u.jsx(yt,{}),u.jsxs(gt,{align:"center",width:f,children:[u.jsx(vt,{backgroundColor:"#4FD1C5",color:"white",children:"Points Awarded Successfully"}),u.jsx(St,{}),u.jsxs(_t,{align:"center",children:["Successfully awarded ",n," points to ",(t==null?void 0:t.first_name)+" "+(t==null?void 0:t.last_name)," for ",s,"."]}),u.jsx(Ft,{alignItems:"center",children:u.jsx(se,{colorScheme:"teal",onClick:x,children:"Close"})})]})]})]})})},Due=t=>{const{rank:e,img_url:n,first_name:r,last_name:s,id:i,accumulated_pts:o}=t.data;g.useState(null);const a=fr(),l=e%2===0?"#FFF7E9":"white",c={boxRadius:el,backgroundColor:`${l}`,padding:Lt,borderRadius:"50px",boxShadow:"0 1px 2px 3px #f7d086",w:"100%",cursor:"pointer",transition:"transform 0.3s",_hover:{transform:"scale(1.03)",boxShadow:"0 0 4px 2px #f7d086","& .rank":{color:Ze},"& .title":{color:Ze},"& .count":{color:Ze},"& .actionicon":{color:Ze}}},d={fontSize:vy,marginRight:Lt,marginLeft:Lt,color:Ze,fontWeight:"bold"},f={width:Mh,borderRadius:Lt,marginRight:Lt},p={flex:1,textAlign:"left"},m={color:Ze,fontWeight:"bold"},_={color:Ze},v={},S={fontWeight:"bold",color:Ci,fontSize:fL,pading:0},x={fontSize:Lt},b={fontSize:Mh,color:Ze},w=j=>{switch(j){case 1:return"gold";case 2:return"silver";case 3:return"brown"}},k=async j=>{const O=await Wo(j);a(`/profile-page/${j}`,{state:{data:O.body}})};return u.jsxs(me,{sx:c,align:"center",onClick:()=>k(i),children:[(e===1||e===2||e===3)&&u.jsx(U,{ml:3,children:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:w(e),className:"bi bi-award-fill",viewBox:"0 0 16 16",children:[u.jsx("path",{d:"m8 0 1.669.864 1.858.282.842 1.68 1.337 1.32L13.4 6l.306 1.854-1.337 1.32-.842 1.68-1.858.282L8 12l-1.669-.864-1.858-.282-.842-1.68-1.337-1.32L2.6 6l-.306-1.854 1.337-1.32.842-1.68L6.331.864z"}),u.jsx("path",{d:"M4 11.794V16l4-1 4 1v-4.206l-2.018.306L8 13.126 6.018 12.1z"})]})}),u.jsx(H,{className:"rank",sx:d,children:e}),u.jsx(U,{children:u.jsx(hr,{sx:f,name:r+" "+s,src:n,alt:"placeholder"})}),u.jsxs(U,{sx:p,children:[u.jsx(H,{className:"title",sx:m,children:r+" "+s}),u.jsx(H,{sx:_,children:i})]}),u.jsxs(U,{sx:v,children:[u.jsx(H,{className:"count",sx:S,children:o}),u.jsx(H,{className:"type",sx:x,children:"MP"})]}),u.jsx(U,{className:"actionicon",sx:b,children:u.jsx(Qc,{})})]})},Nue=t=>{const{rank:e,img_url:n,first_name:r,last_name:s,id:i,accumulated_pts:o,course_code:a}=t.data,l=Di({base:!1,md:!0,lg:!0}),c=fr(),d=(k,j)=>{j.stopPropagation(),c(`/assign-points/${k}`,{state:{data:t.data}})},f={boxRadius:el,backgroundColor:"#FFF7E9",paddingX:"10px",borderRadius:"30px",boxShadow:"0 1px 2px 3px #f7d086",w:"100%",transition:"transform 0.3s",_hover:{transform:"scale(1.03)",boxShadow:"0 0 4px 2px #f7d086","& .rank":{color:Ze},"& .title":{color:Ze},"& .count":{color:Ze},"& .actionicon":{color:Ze}}},p={fontSize:vy,marginRight:Lt,marginLeft:Lt,color:Ze,fontWeight:"bold"},m={width:Mh,borderRadius:Lt,marginRight:Lt},_={flex:1,textAlign:"left"},v={color:Ze,fontWeight:"bold"},S={color:Ze},x={fontWeight:"bold",color:Ze,fontSize:gy,pading:0},b={color:"black",fontSize:"1rem",fontWeight:"bold",fontStyle:"italic"},w=()=>u.jsx(U,{className:"actionicon",textAlign:"right",children:u.jsx(Ls,{label:"Assign points",placement:"right",children:u.jsx(se,{paddingX:"1",colorScheme:"teal",onClick:k=>d(i,k),children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",className:"bi bi-patch-plus-fill",viewBox:"0 0 16 16",children:u.jsx("path",{d:"M10.067,.87a2.89,2.89,0,0,0-4.134,0l-.622.638-.89-.011a2.89,2.89,0,0,0-2.924,2.924l.01.89-.636.622a2.89,2.89,0,0,0,0,4.134l.637.622-.011.89a2.89,2.89,0,0,0,2.924,2.924l.89-.01.622.636a2.89,2.89,0,0,0,4.134,0l.622-.637.89.011a2.89,2.89,0,0,0,2.924-2.924l-.01-.89.636-.622a2.89,2.89,0,0,0,0-4.134l-.637-.622.011-.89a2.89,2.89,0,0,0-2.924-2.924l-.89.01ZM8.5,6v1.5H10a.5.5,0,0,1,0,1H8.5V10a.5.5,0,0,1-1,0V8.5H6a.5.5,0,0,1,0-1h1.5V6a.5.5,0,0,1,1,0"})})})})});return u.jsxs(U,{sx:f,children:[u.jsxs(me,{align:"center",children:[u.jsx(H,{className:"rank",sx:p,children:e}),u.jsx(U,{children:u.jsx(hr,{sx:m,src:n,name:r+" "+s,alt:"placeholder"})}),u.jsxs(U,{sx:_,children:[u.jsx(H,{className:"title",sx:v,children:r+" "+s}),u.jsx(H,{sx:S,children:i})]}),u.jsxs(U,{my:"1",mr:"5",textAlign:"right",children:[u.jsxs(H,{className:"count",sx:x,mb:"3",children:[o," MP"]}),u.jsx(H,{className:"type",sx:b,children:a})]}),u.jsx(U,{children:l&&u.jsx(u.Fragment,{children:w()})})]}),!l&&u.jsxs(u.Fragment,{children:[u.jsx(Xt,{borderColor:"teal.500",marginY:"3px"}),u.jsx(U,{marginLeft:"14",children:w()})]})]})},GP=t=>{try{const e=le(Q,"users");return O1(On(e,Hr("role","==","student")),async r=>{try{let s=r.docs.map(o=>o.data()),i=await Promise.all(s.map(async o=>{const a=await xu.GET_rank(o.id);return{...o,rank:a}}));i.sort((o,a)=>o.rank-a.rank),typeof t=="function"?t(i):console.error("Callback is not a function")}catch(s){console.error("Error processing ranked students:",s)}})}catch(e){return console.error("Error subscribing to ranked students:",e),()=>{}}};function Oue({userType:t}){const[e,n]=g.useState([]);g.useEffect(()=>{(async()=>{try{const l=GP(c=>{const f=[...c.filter(p=>p.rank!==null)].sort((p,m)=>p.rank-m.rank);n(f)});GP(c=>{const f=[...c.filter(p=>p.rank!==null)].sort((p,m)=>p.rank-m.rank);n(f)})}catch(l){console.error("Error fetching initial students:",l)}})()},[]);const r={height:"fit-content"},s={flex:1},i=a=>{a.preventDefault()},o=u.jsx(u.Fragment,{children:u.jsxs(U,{width:"90%",align:"center",backgroundColor:"white",pb:"3",minHeight:{base:"calc(100vh - 136px)",md:"calc(100vh - 166px)"},children:[u.jsx("div",{className:"page-title",children:"LeaderBoard"}),u.jsxs(U,{backgroundColor:"orange.100",width:"95%",borderRadius:"lg",children:[u.jsx(U,{backgroundColor:"teal.500",borderRadius:"lg",children:u.jsxs(me,{justify:"space-between",className:"labels",width:"98%",backgroundColor:"teal.500",borderRadius:"lg",textColor:"white",mb:2,py:2,children:[u.jsx(U,{flex:"1",ml:4,textAlign:"left",fontWeight:"bold",fontSize:"lg",children:"Rank"}),u.jsx(U,{flex:"2",textAlign:"center",fontWeight:"bold",fontSize:"lg",children:"Student"}),u.jsx(U,{flex:"1",mr:12,textAlign:"right",fontWeight:"bold",fontSize:"lg",children:"Points"})]})}),u.jsx(U,{className:"student-list",width:"98%",children:e.map((a,l)=>u.jsxs(nr.Fragment,{children:[u.jsx(Due,{data:a}),u.jsx(Os,{height:2})]},l))})]})]})});return u.jsxs(U,{sx:r,className:"merit-container",backgroundImage:"linear-gradient(to bottom, #ffc561, #2fccbc)",w:"100%",align:"center",children:[t==="staff"&&u.jsxs(af,{isFitted:!0,style:s,defaultIndex:0,backgroundColor:"white",w:"90%",children:[u.jsxs(lf,{children:[u.jsx(zn,{to:"/leaderboard",style:{width:"50%",margin:"auto"},children:u.jsx(Li,{children:"Leaderboard"})}),u.jsx(zn,{to:"/merit-shop",style:{width:"50%"},children:u.jsx(Li,{onclick:i,children:"Merit Shop"})})]}),u.jsxs(cf,{children:[u.jsx(Mi,{width:"100%",children:u.jsxs(u.Fragment,{children:[console.log("Component rerendered with updated data"),o]})}),u.jsx(Mi,{})]})]}),t!=="staff"&&u.jsx(u.Fragment,{children:o})]})}const Mue=({isOpen:t,onClose:e,name:n,mode:r})=>{const[s,i]=g.useState(""),[o,a]=g.useState("");return g.useEffect(()=>{switch(r){case"add-course":i("Course Added Successfully"),a(`Successfully added the course "${n}".`);break;case"edit-course":i("Course Edited Successfully"),a(`Successfully updated the course "${n}".`);break;case"delete-course":i("Course Deleted Successfully"),a(`Successfully deleted the course "${n}".`);break;default:i(""),a("")}},[r,n]),u.jsxs(mt,{isOpen:t,onClose:e,isCentered:!0,children:[u.jsx(yt,{}),u.jsxs(gt,{children:[u.jsx(vt,{children:s}),u.jsx(St,{}),u.jsx(_t,{children:o}),u.jsx(Ft,{children:u.jsx(se,{onClick:e,children:"Close"})})]})]})},jV=({isOpen:t,onClose:e,courseData:n,onCourseUpdated:r,userType:s})=>{const[i,o]=g.useState(""),[a,l]=g.useState(""),[c,d]=g.useState(""),[f,p]=g.useState(""),[m,_]=g.useState(""),[v,S]=g.useState(""),x=Di({base:"95%",md:"75%",lg:"75%"}),b=Fn();g.useEffect(()=>{n?(o(n.code||""),l(n.name||""),d(n.desc||""),p(n.year||""),_(n.semester||""),S(n.img_url||"")):w()},[n,t]);const w=()=>{o(""),l(""),d(""),p(""),_(""),S("")},k=()=>{const I=new Date().getFullYear(),P=new Date().getMonth()+1,N=I+1;return P>=1&&P<=6?`${I-1}-${I}`:`${I}-${N}`},j=I=>{const[P,N]=I.split("-").map(Number);return`${N}-${N+1}`},O=[k()];for(let I=0;I<2;I++)O.push(j(O[I]));const C=I=>{const P=I.target.files[0];if(P){const N=new FileReader;N.onloadend=()=>{S(N.result)},N.readAsDataURL(P)}},T=async I=>{I.preventDefault();try{let P;s==="adminDemo"?P={code:i,name:a,desc:c,year:f,semester:m,img_url:v,demo:!0}:P={code:i,name:a,desc:c,year:f,semester:m,img_url:v,demo:!1},n&&n.id?await pue(n.id,P):await uue(P),b({title:"Success",description:`Course ${n?"updated":"created"} successfully.`,status:"success",duration:5e3,isClosable:!0}),w(),e(),r()}catch(P){b({title:"Error",description:`Failed to ${n?"update":"create"} course: ${P.message}`,status:"error",duration:5e3,isClosable:!0})}};return u.jsxs(mt,{isOpen:t,onClose:e,size:"xl",isCentered:!0,children:[u.jsx(yt,{}),u.jsxs(gt,{width:x,children:[u.jsx(vt,{backgroundColor:"#4FD1C5",color:"white",children:n?"Edit Course":"Add New Course"}),u.jsx(St,{color:"white"}),u.jsxs("form",{onSubmit:T,children:[u.jsx(_t,{pb:6,children:u.jsxs(me,{direction:"column",gap:4,children:[u.jsxs(we,{isRequired:!0,children:[u.jsx(Ce,{children:"Course Code"}),u.jsx(De,{value:i,onChange:I=>o(I.target.value),placeholder:"Course Code"})]}),u.jsxs(me,{w:"100%",children:[u.jsxs(we,{w:"50%",mx:1,isRequired:!0,children:[u.jsx(Ce,{children:"Academic Year"}),u.jsx(Oi,{value:f,onChange:I=>p(I.target.value),placeholder:"Select Academic Year",children:O.map(I=>u.jsx("option",{value:I,children:I},I))})]}),u.jsxs(we,{mx:1,w:"50%",isRequired:!0,children:[u.jsx(Ce,{children:"Semester"}),u.jsxs(Oi,{value:m,onChange:I=>_(I.target.value),placeholder:"Select Semester",children:[u.jsx("option",{value:"S1",children:"Semester 1"}),u.jsx("option",{value:"S2",children:"Semester 2"}),u.jsx("option",{value:"S3",children:"Semester 3"})]})]})]}),u.jsxs(we,{isRequired:!0,children:[u.jsx(Ce,{children:"Course Name"}),u.jsx(De,{value:a,onChange:I=>l(I.target.value),placeholder:"Course Name"})]}),u.jsxs(we,{isRequired:!0,children:[u.jsx(Ce,{children:"Description"}),u.jsx(Qv,{value:c,onChange:I=>d(I.target.value),placeholder:"Description"})]}),u.jsxs(we,{children:[u.jsx(Ce,{children:"Image URL (optional)"}),u.jsx(De,{value:v,onChange:I=>S(I.target.value),placeholder:"Image URL"}),u.jsx("input",{type:"file",accept:"image/*",onChange:C,style:{marginTop:"10px"}})]})]})}),u.jsxs(Ft,{backgroundColor:"#4FD1C5",children:[u.jsx(se,{type:"submit",colorScheme:"teal",mr:3,children:"Save"}),u.jsx(se,{onClick:e,children:"Cancel"})]})]})]})]})},Lue=({isOpen:t,onClose:e,courseName:n,onConfirm:r})=>u.jsxs(mt,{isOpen:t,onClose:e,children:[u.jsx(yt,{}),u.jsxs(gt,{children:[u.jsx(vt,{children:"Delete Course"}),u.jsx(St,{}),u.jsxs(_t,{children:['Are you sure you want to delete the course "',n,'"? This action is irreversible.']}),u.jsxs(Ft,{children:[u.jsx(se,{colorScheme:"gray",mr:3,onClick:e,children:"Cancel"}),u.jsx(se,{colorScheme:"red",onClick:()=>{r(),e()},children:"Confirm Delete"})]})]})]}),DV=({isOpen:t,onClose:e,selectedCourse:n})=>{const r=Fn(),[s,i]=g.useState(""),[o,a]=g.useState(""),[l,c]=g.useState([]),[d,f]=g.useState([]),p=async()=>{const v=await Q1();c(v.body||[])},m=async()=>{const v=await Z1();f(v.body||[])};g.useEffect(()=>{p(),m()},[]);const _=async()=>{const v=s||o,S=s?"student":"staff";if(!v){r({title:"Selection required",description:`Please select a ${S} to enroll.`,status:"warning",duration:5e3,isClosable:!0});return}try{if(await kV(v,n==null?void 0:n.id)){r({title:"Enrollment Successful",description:`${S.charAt(0).toUpperCase()+S.slice(1)} has been enrolled in ${n==null?void 0:n.name}.`,status:"success",duration:5e3,isClosable:!0}),e(),await p(),await m(),await J1(n.id);let b=await Cy(n.id)}}catch(x){r({title:"Enrollment Failed",description:x.message||"An error occurred during enrollment.",status:"error",duration:5e3,isClosable:!0})}};return u.jsxs(mt,{isOpen:t,onClose:e,children:[u.jsx(yt,{}),u.jsxs(gt,{maxW:{base:"90%",md:"500px"},children:[u.jsxs(vt,{bg:"teal.300",color:"white",roundedTop:"md",children:["Enroll Person to ",n==null?void 0:n.name]}),u.jsx(St,{}),u.jsx(_t,{children:u.jsxs(QN,{spacing:4,children:[u.jsx(Ho,{searchType:"student",onSelectItem:v=>i(v.id)}),u.jsx(Oi,{placeholder:"Select student to enroll",onChange:v=>i(v.target.value),children:l.map(v=>u.jsx("option",{value:v.id,children:v.name},v.id))}),u.jsx(Ho,{searchType:"staff",onSelectItem:v=>a(v.id)}),u.jsx(Oi,{placeholder:"Select staff to enroll",onChange:v=>a(v.target.value),children:d.map(v=>u.jsx("option",{value:v.id,children:v.name},v.id))})]})}),u.jsxs(Ft,{bg:"teal.300",roundedBottom:"md",children:[u.jsx(se,{colorScheme:"teal",mr:3,onClick:_,children:"Enroll Selected Person"}),u.jsx(se,{variant:"ghost",onClick:e,children:"Close"})]})]})]})},Vue=({userType:t})=>{const[e,n]=g.useState(""),[r,s]=g.useState([]),{isOpen:i,onOpen:o,onClose:a}=bm(),{isOpen:l,onOpen:c,onClose:d}=bm(),{isOpen:f,onOpen:p,onClose:m}=bm(),[_,v]=g.useState(null);g.useState("");const[S,x]=g.useState(!1),[b,w]=g.useState(null),[k,j]=g.useState([]),[O,C]=g.useState([]),[T,I]=g.useState("all"),[P,N]=g.useState([]),[M,R]=g.useState(null),$=()=>`#${Math.floor(Math.random()*16777215).toString(16)}`,X=fr();g.useEffect(()=>{ne(),ee(),he()},[]),g.useEffect(()=>{if(Array.isArray(r)){const q=r.map(re=>re.period).filter(Boolean),Y=[...new Set(q)];N(Y)}else console.error("Expected 'courses' to be an array but got:",typeof r)},[r]),g.useEffect(()=>{const q=T==="all"?r:r.filter(Y=>Y.period===T);G(q)},[r,T]);const ne=async()=>{try{if(t==="admin"||t==="adminDemo"){const q=await IV();q.status===200&&Array.isArray(q.body)?s(q.body):(console.error("Error fetching courses:",q),s([]),toast({title:"Failed to fetch courses",description:q.body||"Unknown error occurred",status:"error",duration:5e3,isClosable:!0}))}else{const q=await Yr();if(q){const Y=await $h(q.id);Y.status===200&&Array.isArray(Y.body)?s(Y.body):(console.error("Error fetching user courses:",Y),s([]),toast({title:"Failed to fetch user courses",description:Y.body||"Unknown error occurred",status:"error",duration:5e3,isClosable:!0}))}}}catch(q){console.error("Error fetching courses:",q),s([]),toast({title:"Network error",description:"Failed to fetch courses due to a network error",status:"error",duration:5e3,isClosable:!0})}},[B,G]=g.useState([]),ee=async()=>{try{const q=await Q1();q.status===200&&q.body?j(q.body):(console.error("No students found or error fetching students"),j([]))}catch(q){console.error("Error fetching students:",q),console.log(k)}};g.useEffect(()=>{ee()},[]);const he=async()=>{try{const q=await Z1();q.status===200&&q.body?(console.log("Staff Data:",q.body),C(q.body)):(console.error("No staff found or error fetching staff"),C([]))}catch(q){console.error("Error fetching staff:",q),C([])}},ue=q=>{t==="student"||t==="staff"?X(`/course-students/${q.id}`,{state:{data:q}}):(t==="admin"||t==="adminDemo")&&X(`/admin/course/${q.id}`,{state:{data:q}})},ve=q=>{v(q),o()},ie=q=>{w(q),x(!0)},Se=async(q,Y)=>{try{const re=await enroll(q,Y);if(re.success)toast({title:"Enrollment successful",description:`The student has been successfully enrolled in ${_==null?void 0:_.name}.`,status:"success",duration:5e3,isClosable:!0}),ne();else throw new Error(re.message)}catch(re){toast({title:"Enrollment failed",description:`Error: ${re.message}`,status:"error",duration:5e3,isClosable:!0})}},Te=q=>{v(q),c()},Ne=async()=>{if(_)try{await mue(_.id),toast({title:"Course deleted",description:`The course "${_.name}" was successfully deleted.`,status:"success",duration:5e3,isClosable:!0}),await ne(),v(null),d()}catch(q){console.error("Error deleting course:",q),toast({title:"Error",description:`Failed to delete the course: ${q.message}`,status:"error",duration:5e3,isClosable:!0})}},Me=q=>{n(q.toLowerCase());const Y=r.filter(re=>re.name.toLowerCase().startsWith(q.trim().toLowerCase())||re.code.toLowerCase().startsWith(q.trim().toLowerCase()));G(Y)};return u.jsxs(U,{mt:3,margin:"auto",width:{base:"100%",md:"90%"},minHeight:{base:"calc(100vh - 136px)",md:"calc(100vh - 166px)"},backgroundColor:"white",children:[u.jsxs(U,{width:"90%",mx:"auto",maxWidth:"1000px",children:[u.jsx(H,{mb:2,className:"page-title",children:t==="admin"||t==="adminDemo"?"All Courses":"My Courses"}),u.jsx(Ho,{searchType:"course",onSearch:Me,userID:M?M.id:null,userType:t}),u.jsx(me,{justifyContent:"end",mt:2,children:t==="admin"||t==="adminDemo"&&u.jsx(se,{onClick:()=>v(null)||o(),colorScheme:"teal",mb:4,children:"Add New Course"})}),u.jsxs(me,{justifyContent:"space-between",m:"auto",mt:"1",children:[u.jsx(we,{alignItems:"center",children:u.jsxs(me,{alignItems:"center",children:[u.jsx(Ce,{mr:"2",ml:"3",align:"left",children:"Period:"}),u.jsxs(Oi,{value:T,onChange:q=>I(q.target.value),width:"fit-content",marginBottom:"20px",children:[u.jsx("option",{value:"all",children:"All Periods"}),P.map((q,Y)=>u.jsx("option",{value:q,children:q},Y))]})]})}),u.jsxs(me,{alignItems:"center",children:[u.jsx("p",{children:B.length}),u.jsx("p",{children:"courses"})," "]})]})]}),u.jsx(me,{direction:"row",justifyContent:"center",flexWrap:"wrap",width:"100%",maxWidth:"1000px",mx:"auto",mt:1,children:Array.isArray(B)&&B.length===0?u.jsx(H,{children:"No courses found."}):Array.isArray(B)&&B.map(q=>u.jsx(U,{shadow:"0 0px 0px 1px #cfcfcf",borderWidth:"1px",borderRadius:"10px",transition:"transform 0.3s",p:1,_hover:{boxShadow:"0 0 4px 2px #f7d086",transform:"scale(1.02)",cursor:"pointer"},bgGradient:"white",width:t==="admin"||t==="adminDemo"?"280px":"250px",height:t==="admin"||t==="adminDemo"?"fit-content":"180px",mb:3,mx:2,pt:2,display:"flex",flexDirection:"column",justifyContent:"start",gap:3,alignItems:"start",onClick:()=>ue(q),children:u.jsxs(me,{flexDirection:"column",width:"95%",height:"100%",mx:"auto",children:[q.img_url?u.jsx(U,{height:t==="admin"||t==="adminDemo"?"60px":"60%",width:"100%",borderRadius:"10px",bgImage:q.img_url,backgroundPosition:"center",backgroundSize:"cover"}):u.jsx(U,{height:t==="admin"||t==="adminDemo"?"60px":"50%",width:"100%",bgColor:$(),borderRadius:"10px",pointerEvents:"none"}),u.jsxs(U,{flexGrow:1,ml:2,py:3,cursor:"pointer",height:t==="admin"||t==="adminDemo"?"30%":"40%",m:"auto",alignItems:"center",children:[u.jsx(H,{fontSize:"md",fontWeight:"bold",noOfLines:2,children:q.name}),u.jsxs(H,{fontSize:"sm",noOfLines:1,children:[q.code," (",q.period,")"]})]}),t==="admin"||t==="adminDemo"&&q.demo&&u.jsxs(me,{flexDirection:"row",width:"100%",height:"30%",bottom:"0",children:[u.jsx(se,{colorScheme:"teal",onClick:Y=>{Y.stopPropagation(),ve(q)},children:"Edit"}),u.jsx(se,{colorScheme:"teal",onClick:Y=>{Y.stopPropagation(),ie(q)},children:"Enroll"}),u.jsx(se,{colorScheme:"red",onClick:Y=>{Y.stopPropagation(),Te(q)},children:"Delete"})]}),t==="adminDemo"&&!q.demo&&u.jsxs(me,{flexDirection:"row",width:"100%",height:"30%",bottom:"0",children:[u.jsx(se,{colorScheme:"teal",onClick:Y=>{Y.stopPropagation(),ve(q)},isDisabled:!0,children:"Edit"}),u.jsx(se,{colorScheme:"teal",onClick:Y=>{Y.stopPropagation(),ie(q)},children:"Enroll"}),u.jsx(se,{colorScheme:"red",onClick:Y=>{Y.stopPropagation(),Te(q)},isDisabled:!0,children:"Delete"})]})]})},q.id))}),u.jsx(Lue,{isOpen:l,onClose:d,courseName:_==null?void 0:_.name,onConfirm:Ne}),u.jsx(jV,{isOpen:i,onClose:a,courseData:_,onCourseUpdated:ne,userType:t}),u.jsx(Mue,{isOpen:f,onClose:m,name:_==null?void 0:_.name,mode:"delete-course"})," ",u.jsx(DV,{isOpen:S,onClose:()=>x(!1),selectedCourse:b,allStudents:k,handleEnrollStudentToCourse:Se})]})},tE=({isOpen:t,onClose:e,staffID:n,studentID:r})=>{const[s,i]=g.useState([]);g.useState(""),g.useState("");const o=async()=>{try{let l;if(n){let c;c=await eE(n);const d=c.body;if(d&&Array.isArray(d)){if(d.length>0){let f;r?f=d.filter(p=>p.student_id===r):f=d,l=await Promise.all(f.map(async p=>{const m=await Qg(p.staff_id),_=await Wo(p.student_id),v=`${m.body.first_name} ${m.body.last_name}`,S=`${_.first_name} ${_.last_name}`;return{...p,staffName:v,studentName:S}})),l.sort((p,m)=>m.timestamp-p.timestamp),i(l)}}else i([])}else if(r&&!n){const d=(await X1(r)).body;d&&Array.isArray(d)?d.length>0&&(l=await Promise.all(d.map(async f=>{const p=await Qg(f.staff_id),m=await Wo(f.student_id),_=`${p.body.first_name} ${p.body.last_name}`,v=`${m.first_name} ${m.last_name}`;return{...f,staffName:_,studentName:v}})),l.sort((f,p)=>p.timestamp-f.timestamp),i(l)):i([])}else console.log("No Logs found.",response)}catch(l){console.error("Error fetching logs:",l)}};g.useEffect(()=>{t&&(n||r)&&o()},[n,r,t]);const a=l=>{const c={};return l.forEach(d=>{const f=new Date(d.timestamp.seconds*1e3).toLocaleDateString("default",{year:"numeric",month:"short",day:"numeric"});c[f]||(c[f]=[]),c[f].push(d)}),c};return u.jsxs(mt,{isOpen:t,onClose:e,size:"5xl",width:"90%",scrollBehavior:"inside",children:[u.jsx(yt,{}),u.jsxs(gt,{minWidth:"fit-content",children:[u.jsx(vt,{backgroundColor:"#4FD1C5",color:"white",borderRadius:"md",textAlign:"center",children:"Point Award Logs"}),u.jsx(St,{}),u.jsx(_t,{overflowX:"auto",children:s.length===0?u.jsx(H,{textAlign:"center",color:"gray.500",children:"No logs available."}):Object.entries(a(s)).map(([l,c])=>u.jsxs(U,{my:5,children:[u.jsx(H,{fontSize:"lg",fontWeight:"bold",mb:2,textAlign:"center",children:l}),c.map((d,f)=>u.jsxs(me,{mb:1,justify:"start",width:"100%",alignItems:"center",children:[u.jsx(H,{flex:"0 0 10%",mr:4,fontWeight:"bold",children:new Date(d.timestamp.seconds*1e3).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})}),u.jsxs(U,{flex:"1",py:1,px:4,border:"1px solid gray",borderRadius:"15px",children:[u.jsxs(H,{children:[u.jsxs("strong",{children:[d.points," points"]})," awarded to ",u.jsx("strong",{children:d.studentName})," (Student ID: ",d.student_id,") for ",u.jsx("strong",{children:d.reason}),"."]}),u.jsxs(H,{textAlign:"right",children:[u.jsx("strong",{children:"Awarded By:"})," ",d.staffName]})]})]},f))]},l))})]})]})},KP=({userType:t})=>{const[e,n]=g.useState({id:"",first_name:"",last_name:"",email:"",desc:"",img_url:"",courses:[],rank:""}),[r,s]=g.useState(!1),[i,o]=g.useState(!1),[a,l]=g.useState(!1),{userId:c}=Gh(),d=Fn();g.useEffect(()=>{async function _(){let v=null;if(c||(v=await Yr()),v){n({id:v.id,first_name:v.first_name,last_name:v.last_name,email:v.email,desc:v.desc,img_url:v.img_url,courses:[]});const S=await $h(v.id);S.status===200&&n(x=>({...x,courses:S.body}))}else if(c){const S=await Tw(c);if(S){let x;(S.role==="student"||S.role==="studentDemo")&&(x=await Y1(S.id),e.role="student"),(S.role==="staff"||S.role==="staffDemo")&&(e.role="staff"),n({id:S.id,first_name:S.first_name,last_name:S.last_name,email:S.email,desc:S.desc,img_url:S.img_url,accumulated_pts:S.accumulated_pts,courses:[],rank:x,role:e.role}),console.log(e);const b=await $h(S.id);b.status===200&&n(w=>({...w,courses:b.body}))}}}_()},[c]);const f=async()=>{o(!0);const _={first_name:e.first_name,last_name:e.last_name,email:e.email,desc:e.desc,img_url:e.img_url};try{const v=await Gce(e.id,_);if(v.status===200)d({title:"Profile Updated",description:"Your profile has been successfully updated.",status:"success",duration:5e3,isClosable:!0}),s(!1);else throw new Error(v.body)}catch(v){d({title:"Update Failed",description:v.toString(),status:"error",duration:5e3,isClosable:!0})}finally{o(!1)}},p=_=>{const v=_.target.files[0],S=new FileReader;S.onloadend=()=>{n({...e,img_url:S.result})},S.readAsDataURL(v)},m=()=>{l(!0)};return u.jsxs(U,{align:"center",pt:5,minHeight:"calc(100vh - 166px)",backgroundColor:"white",width:"90%",marginX:"auto",children:[u.jsx(H,{mb:"2",className:"page-title",children:"User Profile"}),(c===void 0||e.id===c)&&u.jsx(u.Fragment,{children:u.jsxs(me,{p:"5",borderRadius:"lg",justifyContent:"center",children:[u.jsx(U,{p:"5",borderRadius:"lg",width:"40%",children:u.jsxs(me,{direction:"column",align:"center",mb:"4",maxWidth:"500px",children:[u.jsxs(me,{children:[u.jsx(hr,{name:`${e.first_name} ${e.last_name}`,src:e.img_url,size:"xl",mb:"4",marginRight:"3"}),u.jsxs(U,{align:"left",children:[u.jsxs(YN,{as:"h3",size:"lg",mb:"2",children:[e.first_name," ",e.last_name," "]}),(e.role==="student"||t==="admin")&&u.jsx(H,{fontWeight:"bold",children:e.id}),u.jsx(H,{fontWeight:"bold",children:e.email})]})]}),r?u.jsxs(u.Fragment,{children:[u.jsxs(we,{id:"first_name",mb:"4",children:[u.jsx(Ce,{children:"First Name"}),u.jsx(De,{value:e.first_name,onChange:_=>n({...e,first_name:_.target.value})})]}),u.jsxs(we,{id:"last_name",mb:"4",children:[u.jsx(Ce,{children:"Last Name"}),u.jsx(De,{value:e.last_name,onChange:_=>n({...e,last_name:_.target.value})})]}),u.jsxs(we,{id:"desc",mb:"4",children:[u.jsx(Ce,{children:"Description"}),u.jsx(De,{type:"text",value:e.desc,onChange:_=>n({...e,desc:_.target.value})})]}),u.jsxs(we,{id:"img_url",mb:"4",children:[u.jsx(Ce,{children:"Profile Picture"}),u.jsx(De,{type:"file",accept:"image/*",onChange:p})]}),u.jsxs(me,{direction:"row",flexWrap:"wrap",children:[u.jsx(se,{colorScheme:"teal",mr:"4",onClick:f,isLoading:i,children:"Save Changes"}),u.jsx(se,{colorScheme:"red",onClick:()=>s(!1),children:"Cancel"})]})]}):u.jsxs(u.Fragment,{children:[u.jsx(H,{children:e.desc}),c===void 0?u.jsx(se,{colorScheme:"teal",onClick:()=>s(!0),children:"Edit Profile"}):null]})]})}),(e.role==="student"||e.role==="staff")&&u.jsx(u.Fragment,{children:u.jsxs(U,{shadow:"md",borderWidth:"1px",width:"60%",justifyContent:"center",children:[e&&e.role==="student"&&u.jsxs(U,{shadow:"md",borderWidth:"1px",padding:2,marginBottom:2,children:[u.jsxs(H,{children:[" Current Ranking: ",e.rank]}),u.jsxs(H,{children:["Accumulated Points: ",e.accumulated_pts," "]}),u.jsx(se,{marginTop:5,colorScheme:"teal",onClick:m,children:"See Award Logs"}),u.jsx(tE,{isOpen:a,onClose:()=>l(!1),studentID:e.id})]}),u.jsx(H,{fontWeight:"bold",children:"Courses"}),u.jsx(me,{direction:"row",flexWrap:"wrap",padding:"2",children:e&&e.courses&&e.courses.length>0?e.courses.map(_=>u.jsx(U,{py:3,px:2,shadow:"md",borderWidth:"1px",borderRadius:"lg",_hover:{boxShadow:"xl",cursor:"pointer"},onClick:()=>handleCourseClick(_),children:u.jsxs(me,{alignItems:"center",gap:2,children:[u.jsx(U,{flexShrink:0,ml:"1",children:u.jsx(hr,{name:_.name,borderRadius:"full",boxSize:"60px",src:_.img_url,alt:_.name})}),u.jsxs(U,{children:[u.jsx(U,{textAlign:"right",fontSize:"12px",children:_.period}),u.jsxs(U,{flex:"1",textAlign:"center",children:[u.jsx(H,{fontSize:"md",fontWeight:"bold",children:_.name}),u.jsx(H,{fontSize:"small",mt:1,children:_.code})]})]})]})},_.id)):u.jsx(H,{children:"No courses"})})]})})]})})]})},NV="/login-image.jpg";function QP(){const[t,e]=g.useState(!1),[n,r]=g.useState(""),[s,i]=g.useState(""),o=fr(),a=Fn(),l=d=>{const{name:f,value:p}=d.target;f==="email"&&r(p),f==="password"&&i(p)};g.useEffect(()=>{const d=()=>{e(window.innerWidth>window.innerHeight+200)};return d(),window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]);const c=async d=>{d.preventDefault();try{const f=await Kce(n,s);console.log(f),f?(o("/my-dashboard"),a({title:"Login Success",description:"Successfully logged in.",status:"success",position:"top",duration:3e3,isClosable:!0})):a({title:"Login Error",description:"Invalid credentials. Please try again.",status:"error",position:"top",duration:3e3,isClosable:!0})}catch(f){console.log(f),a({title:"Login Error",description:"Invalid credentials. Please try again.",status:"error",position:"top",duration:3e3,isClosable:!0})}};return u.jsxs(me,{flexDirection:t?"row":"column",w:"100%",backgroundColor:"white",mx:"auto",height:"100%",minHeight:{base:"calc(100vh - 136px)",md:"calc(100vh - 166px)"},children:[u.jsx(U,{className:"img-container",order:{base:"1",md:"1"},flex:"1",h:"100%",children:u.jsx("img",{src:NV,alt:"Login page image",style:{objectFit:"cover",width:"100%",height:t?"86vh":"auto",overflow:t?"hidden":"auto"}})}),u.jsxs(U,{className:"form-container",order:{base:"2",md:"2"},flex:"1",h:"fit-content",textAlign:"center",w:{base:"100%",md:"80%"},children:[u.jsx(H,{children:"Welcome Back! Please login."}),u.jsxs("form",{onSubmit:c,children:[u.jsxs(we,{isRequired:!0,children:[u.jsx(Ce,{htmlFor:"email",children:"Email: "}),u.jsx(De,{type:"email",id:"email",placeholder:"Enter your email",name:"email",onChange:l})]}),u.jsxs(we,{mt:4,isRequired:!0,children:[u.jsx(Ce,{htmlFor:"password",children:"Password: "}),u.jsx(De,{type:"password",id:"password",placeholder:"Enter your password",name:"password",onChange:l})]}),u.jsx(U,{w:"fit-content",ml:5,mt:4,children:u.jsx(zn,{to:"/signup-page",children:u.jsx(H,{align:"left",children:"Yet to claim your account? Click here"})})}),u.jsx(se,{colorScheme:"teal",mt:6,type:"submit",children:"Login"})]})]})]})}function Fue(){const[t,e]=g.useState(!1),[n,r]=g.useState(""),[s,i]=g.useState(""),[o,a]=g.useState(""),l=fr(),c=Fn(),d=p=>{const{name:m,value:_}=p.target;m==="email"&&r(_),m==="password"&&i(_),m==="idnumber"&&a(_)};g.useEffect(()=>{const p=()=>{e(window.innerWidth>window.innerHeight+200)};return p(),window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[]);const f=async p=>{p.preventDefault();try{const m=await ys.signup_new_user(n,s,o);console.log(m),m?(l("/my-dashboard"),c({title:"Signup Success",description:"Successfully signed up.",status:"success",position:"top",duration:3e3,isClosable:!0})):c({title:"Login Error",description:"Invalid Information. Please try again.",status:"error",position:"top",duration:3e3,isClosable:!0})}catch(m){console.log(m),c({title:"Login Error",description:"Invalid Information. Please try again.",status:"error",position:"top",duration:3e3,isClosable:!0})}};return u.jsxs(me,{flexDirection:t?"row":"column",w:"100%",backgroundColor:"white",mx:"auto",height:"100%",minHeight:{base:"calc(100vh - 136px)",md:"calc(100vh - 166px)"},children:[u.jsx(U,{className:"img-container",order:{base:"1",md:"1"},flex:"1",h:"100%",children:u.jsx("img",{src:NV,alt:"Login page image",style:{objectFit:"cover",width:"100%",height:t?"86vh":"auto",overflow:t?"hidden":"auto"}})}),u.jsxs(U,{className:"form-container",order:{base:"2",md:"2"},flex:"1",h:"fit-content",textAlign:"center",w:{base:"100%",md:"80%"},children:[u.jsx(H,{children:"Welcome! Please claim your account by entering your provided email and ID and a password of your choice."}),u.jsxs("form",{onSubmit:f,children:[u.jsxs(we,{isRequired:!0,children:[u.jsx(Ce,{htmlFor:"email",children:"Email: "}),u.jsx(De,{type:"email",id:"email",placeholder:"Enter your email",name:"email",onChange:d})]}),u.jsxs(we,{mt:4,isRequired:!0,children:[u.jsx(Ce,{htmlFor:"idnumber",children:"ID Number: "}),u.jsx(De,{type:"text",id:"idnumber",placeholder:"Enter your ID Number",name:"idnumber",onChange:d})]}),u.jsxs(we,{mt:4,isRequired:!0,children:[u.jsx(Ce,{htmlFor:"password",children:"Password: "}),u.jsx(De,{type:"password",id:"password",placeholder:"Enter your password",name:"password",onChange:d})]}),u.jsx(zn,{to:"/login-page",children:u.jsx(H,{align:"left",px:"10px",py:"5px",children:"Already have an account? Login"})}),u.jsx(se,{colorScheme:"teal",mt:6,type:"submit",children:"Sign Up"})]})]})]})}const OV=({isOpen:t,onClose:e,type:n,userID:r,points:s})=>{const[i,o]=g.useState([]);g.useState(""),g.useState("");const a=d=>{switch(d){case"goodConduct":return"Good Conduct";case"courseParticipation":return"Course Participation";case"volunteering":return"Volunteering";case"extracurricular":return"Extracurricular";default:return"Point Details"}},l=async()=>{try{let d;await yue(r)?d=await bue(r,n):await sue(r)&&(d=await aue(r,n));const f=d;if(f&&Array.isArray(f))if(f.length>0){const p=await Promise.all(f.map(async m=>{const _=await Qg(m.staff_id),v=await Wo(m.student_id),S=`${_.body.first_name} ${_.body.last_name}`,x=`${v.first_name} ${v.last_name}`;return{...m,staffName:S,studentName:x}}));p.sort((m,_)=>_.timestamp-m.timestamp),o(p)}else o([]);else console.log("No Logs found.",d)}catch(d){console.error("Error fetching logs:",d)}};g.useEffect(()=>{t&&r&&l()},[r,t,n]);const c=d=>{const f={};return d.forEach(p=>{const m=new Date(p.timestamp.seconds*1e3).toLocaleDateString("default",{year:"numeric",month:"short",day:"numeric"});f[m]||(f[m]=[]),f[m].push(p)}),f};return u.jsxs(mt,{isOpen:t,onClose:e,size:"5xl",width:"90%",scrollBehavior:"inside",children:[u.jsx(yt,{}),u.jsxs(gt,{minWidth:"fit-content",children:[u.jsxs(vt,{backgroundColor:"#4FD1C5",color:"white",borderRadius:"md",textAlign:"center",children:[a(n)," Award Logs - ",s," points"]}),u.jsx(St,{}),u.jsx(_t,{overflowX:"auto",children:i.length===0?u.jsx(H,{textAlign:"center",color:"gray.500",children:"No logs available."}):Object.entries(c(i)).map(([d,f])=>u.jsxs(U,{my:5,children:[u.jsx(H,{fontSize:"lg",fontWeight:"bold",mb:2,textAlign:"center",children:d}),f.map((p,m)=>u.jsxs(me,{mb:1,justify:"start",width:"100%",alignItems:"center",children:[u.jsx(H,{flex:"0 0 10%",mr:4,fontWeight:"bold",children:new Date(p.timestamp.seconds*1e3).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})}),u.jsxs(U,{flex:"1",py:1,px:4,border:"1px solid gray",borderRadius:"15px",children:[u.jsxs(H,{children:[u.jsxs("strong",{children:[p.points," points"]})," awarded to ",u.jsx("strong",{children:p.studentName})," (Student ID: ",p.student_id,") for ",u.jsx("strong",{children:p.reason}),"."]}),u.jsxs(H,{textAlign:"right",children:[u.jsx("strong",{children:"Awarded By:"})," ",p.staffName]})]})]},m))]},d))})]})]})},YP=({userType:t})=>{const[e,n]=g.useState({goodConduct:0,courseParticipation:0,volunteering:0,extracurricular:0}),[r,s]=g.useState([]),[i,o]=g.useState(null),[a,l]=g.useState(!1);g.useEffect(()=>{(async()=>{try{const k=await Yr();k&&t==="staff"?(s(k),(async()=>{try{const O=await PV(k.id);n(O)}catch(O){console.error("Error fetching points breakdown:",O)}})()):k&&t==="student"&&(s(k),(async()=>{try{const O=await oue(k.id);n(O)}catch(O){console.error("Error fetchin1g points breakdown:",O)}})())}catch(k){console.error("Error fetching current user:",k)}})()},[]);const c=w=>{o(w),l(!0)},d=()=>{o(null),l(!1)},f=w=>{switch(w){case"goodConduct":return"See award logs for good conduct";case"courseParticipation":return"See award logs for participation in the course";case"volunteering":return"See award logs for volunteering activities";case"extracurricular":return"See award logs for extracurricular activities";default:return""}},p={w:"80%",transition:"transform 0.3s",color:"teal",display:"flex",paddingX:"70px",borderRadius:"5px",cursor:"pointer",_hover:{transform:"scale(1.03)",backgroundColor:"#38B2AC",color:"white",textDecoration:"underline"}},m={boxRadius:el,backgroundColor:"#FFF",padding:"0",transition:"transform 0.3s",flexDirection:"column",borderRadius:el,boxShadow:"0px 2px 4px 1px rgba(0, 0, 0, 0.3)"},_={color:"white",backgroundColor:"teal",padding:"10px",fontSize:"1.5rem",fontWeight:"bold",borderTopLeftRadius:"20px",borderTopRightRadius:"20px",width:"100%",justifyContent:"center"},v={fontSize:vy,display:"flex",flexDirection:"row"},S={color:Ze,fontWeight:"bold",paddingRight:hoe},x={color:Ci},b={color:Ci,fontSize:"0.9rem",fontWeight:"bold"};return u.jsxs(u.Fragment,{children:[u.jsx(U,{w:"fit-content",children:u.jsxs(me,{sx:m,align:"center",w:"fit-content",children:[u.jsx(U,{sx:_,children:u.jsx(H,{children:"Points Balance"})}),u.jsxs(U,{sx:v,children:[u.jsx(H,{sx:S,children:r.current_pts}),u.jsx(H,{sx:x,children:t==="staff"?"/300":`/ ${r.accumulated_pts}`})]}),u.jsx(Xt,{my:1,w:"80%",borderColor:"teal.500"}),u.jsx(U,{children:u.jsxs(H,{sx:b,my:"2",children:["Points Awarded ",u.jsx(H,{as:"span",fontSize:"xs",children:"(Select for Details)"})]})}),u.jsxs(U,{pb:5,align:"center",children:[u.jsx(Ls,{label:f("goodConduct"),placement:"top",children:u.jsxs(H,{minWidth:"fit-content",justifyContent:"center",sx:p,onClick:()=>c("goodConduct"),children:[u.jsx(H,{fontWeight:"bold",display:"inline",children:"Good Conduct:	"}),u.jsx(H,{fontWeight:"bold",display:"inline",pl:5,children:(e==null?void 0:e.goodConduct)||0})]})}),u.jsx(Ls,{label:f("volunteering"),placement:"top",children:u.jsxs(H,{minWidth:"fit-content",justifyContent:"center",sx:p,onClick:()=>c("volunteering"),children:[u.jsx(H,{fontWeight:"bold",display:"inline",children:"Volunteer:	"}),u.jsx(H,{fontWeight:"bold",display:"inline",pl:5,children:(e==null?void 0:e.volunteering)||0})]})}),u.jsx(Ls,{label:f("extracurricular"),placement:"top",children:u.jsxs(H,{minWidth:"fit-content",justifyContent:"center",sx:p,onClick:()=>c("extracurricular"),children:[u.jsx(H,{fontWeight:"bold",display:"inline",children:"Extracurricular:	"}),u.jsx(H,{fontWeight:"bold",display:"inline",pl:5,children:(e==null?void 0:e.extracurricular)||0})]})}),u.jsx(Ls,{label:f("courseParticipation"),placement:"top",children:u.jsxs(H,{minWidth:"fit-content",justifyContent:"center",sx:p,onClick:()=>c("courseParticipation"),children:[u.jsx(H,{fontWeight:"bold",display:"inline",children:"Course Participation:	"}),u.jsx(H,{fontWeight:"bold",display:"inline",pl:5,children:(e==null?void 0:e.courseParticipation)||0})]})})]})]})}),i&&e[i]!==void 0&&u.jsx(OV,{isOpen:a,onClose:d,type:i,userID:r?r.id:null,points:e[i]||0})]})},$ue=({isOpen:t,onClose:e})=>{const[n,r]=g.useState(""),[s,i]=g.useState(""),[o,a]=g.useState(""),[l,c]=g.useState(""),[d,f]=g.useState(""),[p,m]=g.useState(""),[_,v]=g.useState(""),S=Fn(),x=async()=>{if(!n||!s||!o||!l||!d){S({title:"Required fields missing",description:"Please ensure all fields are filled out.",status:"error",duration:5e3,isClosable:!0});return}const b={email:n,password:s,id:o,first_name:l,last_name:d,desc:p,img_url:_};try{await rue(b),S({title:"Student added successfully",description:"The new student has been successfully added.",status:"success",duration:5e3,isClosable:!0}),e()}catch(w){S({title:"Error adding student",description:w.message,status:"error",duration:5e3,isClosable:!0})}};return u.jsxs(mt,{isOpen:t,onClose:e,children:[u.jsx(yt,{}),u.jsxs(gt,{children:[u.jsx(vt,{bg:"teal.300",color:"white",roundedTop:"md",children:"Add New Student"}),u.jsx(St,{}),u.jsxs(_t,{pb:6,children:[u.jsxs(we,{children:[u.jsx(Ce,{children:"Email"}),u.jsx(De,{placeholder:"Email",value:n,onChange:b=>r(b.target.value)})]}),u.jsxs(we,{mt:4,children:[u.jsx(Ce,{children:"Password"}),u.jsx(De,{placeholder:"Password",type:"password",value:s,onChange:b=>i(b.target.value)})]}),u.jsxs(we,{mt:4,children:[u.jsx(Ce,{children:"Student ID"}),u.jsx(De,{placeholder:"Student ID",value:o,onChange:b=>a(b.target.value)})]}),u.jsxs(we,{mt:4,children:[u.jsx(Ce,{children:"First Name"}),u.jsx(De,{placeholder:"First Name",value:l,onChange:b=>c(b.target.value)})]}),u.jsxs(we,{mt:4,children:[u.jsx(Ce,{children:"Last Name"}),u.jsx(De,{placeholder:"Last Name",value:d,onChange:b=>f(b.target.value)})]}),u.jsxs(we,{mt:4,children:[u.jsx(Ce,{children:"Description"}),u.jsx(De,{placeholder:"Short description about the student",value:p,onChange:b=>m(b.target.value)})]}),u.jsxs(we,{mt:4,children:[u.jsx(Ce,{children:"Image URL"}),u.jsx(De,{placeholder:"URL of the student's image",value:_,onChange:b=>v(b.target.value)})]})]}),u.jsxs(Ft,{bg:"teal.300",color:"white",roundedTop:"md",children:[u.jsx(se,{colorScheme:"teal",mr:3,onClick:x,children:"Add"}),u.jsx(se,{onClick:e,children:"Cancel"})]})]})]})};class zue{constructor(e=null,n=null,r=null){this.id=null,this.points=e,this.staff_id=n,this.admin_id=r}}class Su extends ys{constructor(e=null,n=null,r=null,s=null,i=null,o=null){super(e,n,r,s,i,o,"admin")}async create(){const e=gi(Q),n=J(Q,"users",this.id);e.set(n,{...this,role:"admin"});const r=J(Q,"users",this.id,"notifications","default");return e.set(r,{}),await e.commit(),!0}static async is_admin(e){try{const n=J(Q,"users",e),r=await nt(n);return r.exists()?r.data().role==="admin":(console.error(`user doc does not exist for admin ID: ${e}`,error),!1)}catch(n){return console.error("error checking if user is a admin: ",n),!1}}static async POST_admin(e,n,r,s,i,o,a){try{return await Mn(Q,async l=>{const c=new Su(e,n,r,s,o,a),d=J(Q,"users",e);if((await l.get(d)).exists())throw new Error("Admin already exists");l.set(d,{...c,password:i})}),{status:200,message:"Admin successfully created"}}catch(l){return console.error("Error creating admin:",l),{status:500,message:l.message||"Failed to create admin"}}}static async GET_admin(e){try{let n={status:200,body:null};const r=J(Q,"users",e),s=await nt(r);return!s.exists()||s.empty?(console.error("user doc does not exist or is empty for staff"),{status:404,body:"Student not found"}):(n.body=s.data(),await this.is_admin(n.body.id)?n:{status:404,body:"Student not found"})}catch{return{status:500,body:"Server unable to find staff"}}}static async GET_admin_ALL(){try{let e={status:200,body:[]};const n=le(Q,"users"),r=On(n,Hr("role","==","admin")),s=await qt(r);return s.empty?{status:404,body:"Staff not found"}:(s.forEach(i=>{e.body.push(i.data())}),e)}catch(e){return console.error("error retrieving all admin: ",e),{status:500,body:"Server unable to retrieve admin"}}}static async POST_admin_allot_points(e,n,r){try{return await Mn(Q,async i=>{const o=J(Q,"users",n);if((await i.get(o)).data().role!=="admin")return{status:401,body:"Unauthorized"};const c=J(Q,"users",e),f=(await i.get(c)).data();if(f.role!=="staff")return{status:401,body:"Unauthorized target"};const p=le(Q,"users",e,"notifications"),m=J(p),_=new Sy(null,n,e,"Points Allotted",`You have been allotted an additional ${r} points`);i.set(m,{..._,uid:m.id});const v=new zue(r,e,n),S=le(Q,"allotpointlogs"),x=await N1(S,{...v});return i.update(x,{id:x.id}),i.update(c,{current_pts:Number(f.current_pts)+Number(r)}),{status:200,body:"Points allotted successfully"}})||{status:500,body:"Server unable to retrieve allotment"}}catch(s){return console.error("error retrieving allotment: ",s),{status:500,body:"Server unable to retrieve allotment"}}}static async add_user_to_sys(e,n,r,s,i,o,a){try{const l=new ys(e,n,r,s,i,o,a),c=await l.email_available(),d=await l.id_available();if(!c||!d)return console.error("id or email unavailable"),{status:500,body:"ID or email unavailable"};const f=await l.create();return{status:200,body:"Account created successfully"}}catch{return{status:500,body:"Server unable to create user"}}}static async csv_users(e){try{const n=le(Q,"users");for(const r of e){if(r.role==="student"){const s=J(Q,"users",r.id),i=gi(Q);i.set(s,{id:r.id,first_name:r.first_name,last_name:r.last_name,img_url:r.img_url,uid:null,email:r.email,role:r.role,desc:r.desc,current_pts:0,spent_pts:0,accumulated_pts:0});const o=le(s,"notifications"),a=le(s,"pointlogs"),l=le(s,"redeemlogs"),c=le(s,"courses");i.set(J(o),{}),i.set(J(a),{}),i.set(J(l),{}),i.set(J(c),{});const d=J(Q,"leaderboard",r.id);i.set(d,{id:r.id,rank:Number.MAX_SAFE_INTEGER}),await i.commit()}if(r.role==="staff"){const s=J(Q,"users",r.id),i=gi(Q);return i.set(s,{id:r.id,first_name:r.first_name,last_name:r.last_name,img_url:r.img_url,uid:null,email:r.email,role:r.role,desc:r.desc,current_pts:300,spent_pts:0}),i.set(J(le(s,"notifications"),"initial"),{}),i.set(J(le(s,"pointlogs"),"initial"),{}),i.set(J(le(s,"allotpointlogs"),"initial"),{}),i.set(J(le(s,"courses"),"initial"),{}),await i.commit(),!0}if(r.role==="admin"){const s=J(Q,"users",r.id),i=gi(Q);return i.set(s,{id:r.id,first_name:r.first_name,last_name:r.last_name,img_url:r.img_url,uid:null,email:r.email,role:r.role,desc:r.desc}),i.set(J(le(s,"notifications"),"initial"),{}),i.set(J(le(s,"pointlogs"),"initial"),{}),i.set(J(le(s,"allotpointlogs"),"initial"),{}),await i.commit(),!0}}return!0}catch(n){console.error("Error handling array of objects:",n)}}static async csv_course(e){try{for(const n of e){let r=await Js.POST_course(n.code,n.period,n.name,n.desc,n.year,n.semester,n.img_url)}return!0}catch{throw new Error("Error creating courses via csv")}}static async csv_enroll(e){try{for(const n of e){console.log("user id ",n.user_id),console.log("course id ",n.course_id);let r=await Js.POST_course_register(n.user_id,n.course_id)}return!0}catch{throw new Error("Error creating courses via csv")}}}const Bue=async(t,e,n)=>{try{return await Su.POST_admin_allot_points(t,e,n)}catch(r){throw console.error("Error in getting student redeem logs :",r),r}},Uue=async t=>{if(!t.email||!t.password||!t.first_name||!t.last_name||!t.id)throw new Error("All required fields must be filled.");const e=wu();try{const r=(await Fh(e,t.email,t.password)).user.uid,s=await Su.POST_admin(r,t.first_name,t.last_name,t.email,t.desc,t.img_url);return s.status===200?(console.log("Admin created successfully:",s.body),{success:!0,message:"Admin created successfully"}):(console.error("Failed to create admin:",s.body),{success:!1,message:s.body})}catch(n){return console.error("Error creating admin:",n),{success:!1,message:n.message||"An unexpected error occurred while adding the admin"}}},Wue=({isOpen:t,onClose:e})=>{const[n,r]=g.useState(""),[s,i]=g.useState(""),[o,a]=g.useState(""),[l,c]=g.useState(""),[d,f]=g.useState(""),[p,m]=g.useState(""),[_,v]=g.useState(""),[S,x]=g.useState(!1),b=Fn(),w=async()=>{if(!n||!s||!o||!l||!d){b({title:"Required fields missing",description:"Please ensure all required fields are filled out.",status:"error",duration:5e3,isClosable:!0});return}x(!0);const j={email:n,password:s,id:o,first_name:l,last_name:d,desc:p,img_url:_};try{const O=await vue(j);if(O.success)b({title:"Staff added successfully",description:"The new staff member has been successfully added.",status:"success",duration:5e3,isClosable:!0}),k(),e();else throw new Error(O.message)}catch(O){b({title:"Error adding staff",description:O.message||"Failed to add staff.",status:"error",duration:5e3,isClosable:!0})}finally{x(!1)}},k=()=>{r(""),i(""),c(""),f(""),a(""),v(""),m("")};return u.jsxs(mt,{isOpen:t,onClose:()=>{k(),e()},children:[u.jsx(yt,{}),u.jsxs(gt,{children:[u.jsx(vt,{bg:"teal.300",color:"white",roundedTop:"md",children:"Add New Staff Member"}),u.jsx(St,{}),u.jsxs(_t,{pb:6,children:[u.jsxs(we,{children:[u.jsx(Ce,{children:"Email"}),u.jsx(De,{placeholder:"Email",value:n,onChange:j=>r(j.target.value)})]}),u.jsxs(we,{mt:4,children:[u.jsx(Ce,{children:"Password"}),u.jsx(De,{type:"password",placeholder:"Password",value:s,onChange:j=>i(j.target.value)})]}),u.jsxs(we,{mt:4,children:[u.jsx(Ce,{children:"Staff ID"}),u.jsx(De,{placeholder:"Staff ID",value:o,onChange:j=>a(j.target.value)})]}),u.jsxs(we,{mt:4,children:[u.jsx(Ce,{children:"First Name"}),u.jsx(De,{placeholder:"First Name",value:l,onChange:j=>c(j.target.value)})]}),u.jsxs(we,{mt:4,children:[u.jsx(Ce,{children:"Last Name"}),u.jsx(De,{placeholder:"Last Name",value:d,onChange:j=>f(j.target.value)})]}),u.jsxs(we,{mt:4,children:[u.jsx(Ce,{children:"Description"}),u.jsx(De,{placeholder:"Description",value:p,onChange:j=>m(j.target.value)})]}),u.jsxs(we,{mt:4,children:[u.jsx(Ce,{children:"Image URL"}),u.jsx(De,{placeholder:"Image URL",value:_,onChange:j=>v(j.target.value)})]})]}),u.jsxs(Ft,{bg:"teal.300",color:"white",roundedTop:"md",children:[u.jsx(se,{colorScheme:"teal",mr:3,onClick:w,isLoading:S,children:"Add"}),u.jsx(se,{onClick:()=>{k(),e()},children:"Cancel"})]})]})]})},Hue=({isOpen:t,onClose:e})=>{const[n,r]=g.useState(""),[s,i]=g.useState(""),[o,a]=g.useState(""),[l,c]=g.useState(""),[d,f]=g.useState(""),[p,m]=g.useState(""),[_,v]=g.useState(""),S=Fn(),x=async()=>{if(!n.trim()||!s.trim()||!o.trim()||!l.trim()||!d.trim()){S({title:"Required fields missing",description:"Please ensure all required fields are filled out.",status:"error",duration:5e3,isClosable:!0});return}const b={id:o,first_name:l,last_name:d,email:n,password:s,desc:_,img_url:p};try{const w=await Uue(b);if(w.success)S({title:"Admin Added",description:"The new admin has been successfully added.",status:"success",duration:5e3,isClosable:!0}),r(""),i(""),a(""),c(""),f(""),m(""),v(""),e();else throw new Error(w.message)}catch(w){S({title:"Error Adding Admin",description:w.message,status:"error",duration:5e3,isClosable:!0})}};return u.jsxs(mt,{isOpen:t,onClose:e,children:[u.jsx(yt,{}),u.jsxs(gt,{maxW:{base:"90%",sm:"70%",md:"500px",lg:"600px"},children:[u.jsx(vt,{bg:"teal.300",color:"white",roundedTop:"md",children:"Add New Admin"}),u.jsx(St,{}),u.jsxs(_t,{pb:6,children:[u.jsxs(we,{isRequired:!0,children:[u.jsx(Ce,{children:"Email"}),u.jsx(De,{placeholder:"Email",value:n,onChange:b=>r(b.target.value)})]}),u.jsxs(we,{isRequired:!0,mt:4,children:[u.jsx(Ce,{children:"Password"}),u.jsx(De,{placeholder:"Password",type:"password",value:s,onChange:b=>i(b.target.value)})]}),u.jsxs(we,{isRequired:!0,mt:4,children:[u.jsx(Ce,{children:"Admin ID"}),u.jsx(De,{placeholder:"Admin ID",value:o,onChange:b=>a(b.target.value)})]}),u.jsxs(we,{isRequired:!0,mt:4,children:[u.jsx(Ce,{children:"First Name"}),u.jsx(De,{placeholder:"First Name",value:l,onChange:b=>c(b.target.value)})]}),u.jsxs(we,{isRequired:!0,mt:4,children:[u.jsx(Ce,{children:"Last Name"}),u.jsx(De,{placeholder:"Last Name",value:d,onChange:b=>f(b.target.value)})]}),u.jsxs(we,{mt:4,children:[u.jsx(Ce,{children:"Image URL (optional)"}),u.jsx(De,{placeholder:"Image URL",value:p,onChange:b=>m(b.target.value)})]}),u.jsxs(we,{mt:4,children:[u.jsx(Ce,{children:"Description (optional)"}),u.jsx(De,{placeholder:"Description",value:_,onChange:b=>v(b.target.value)})]})]}),u.jsxs(Ft,{bg:"teal.300",roundedTop:"md",children:[u.jsx(se,{colorScheme:"teal",mr:3,onClick:x,children:"Add"}),u.jsx(se,{variant:"ghost",onClick:e,children:"Close"})]})]})]})},que=({isOpen:t,onClose:e})=>{const[n,r]=g.useState(""),s=Fn(),i=async a=>{try{const l=a.target.files[0],c=new FileReader;c.onload=async function(d){const m=d.target.result.split(`
`).filter(_=>_.trim()!=="").map(_=>{const v=_.split(",");return{uid:null,id:v[0],first_name:v[1],last_name:v[2],email:v[3],img_url:null,desc:v[4],role:v[5]}});r(m)},c.readAsText(l)}catch(l){console.error("Error handling CSV file:",l)}},o=async()=>{try{if(await Su.csv_users(n))s({title:"Users added successfully",description:"The new users have been successfully added.",status:"success",duration:5e3,isClosable:!0}),e();else throw new Error("Error adding Users")}catch(a){console.error("Error submitting CSV:",a)}};return u.jsxs(mt,{isOpen:t,onClose:e,children:[u.jsx(yt,{}),u.jsxs(gt,{children:[u.jsx(vt,{bg:"teal.300",color:"white",roundedTop:"md",children:"Add New Users"}),u.jsx(St,{}),u.jsx(_t,{pb:6,children:u.jsxs(we,{children:[u.jsx(Ce,{children:"Upload User CSV"}),u.jsx(De,{type:"file",placeholder:"User CSV file",onChange:i})]})}),u.jsxs(Ft,{bg:"teal.300",color:"white",roundedTop:"md",children:[u.jsx(se,{colorScheme:"teal",mr:3,onClick:o,children:"Add"}),u.jsx(se,{onClick:e,children:"Cancel"})]})]})]})},Gue=({isOpen:t,onClose:e})=>{const[n,r]=g.useState(""),s=Fn(),i=async a=>{try{const l=a.target.files[0],c=new FileReader;c.onload=async function(d){const m=d.target.result.split(`
`).filter(_=>_.trim()!=="").map(_=>{const v=_.split(",");return{code:v[0],period:v[1],name:v[2],desc:v[3],year:v[4],semester:v[5],img:null}});r(m)},c.readAsText(l)}catch(l){console.error("Error handling CSV file:",l)}},o=async()=>{try{if(await Su.csv_course(n))s({title:"Courses added successfully",description:"The new courses have been successfully added.",status:"success",duration:5e3,isClosable:!0}),e();else throw new Error("Error adding Users")}catch(a){console.error("Error submitting CSV:",a)}};return u.jsxs(mt,{isOpen:t,onClose:e,children:[u.jsx(yt,{}),u.jsxs(gt,{children:[u.jsx(vt,{bg:"teal.300",color:"white",roundedTop:"md",children:"Add New Courses"}),u.jsx(St,{}),u.jsx(_t,{pb:6,children:u.jsxs(we,{children:[u.jsx(Ce,{children:"Upload Course CSV"}),u.jsx(De,{type:"file",placeholder:"User CSV file",onChange:i})]})}),u.jsxs(Ft,{bg:"teal.300",color:"white",roundedTop:"md",children:[u.jsx(se,{colorScheme:"teal",mr:3,onClick:o,children:"Add"}),u.jsx(se,{onClick:e,children:"Cancel"})]})]})]})},Kue=({isOpen:t,onClose:e})=>{const[n,r]=g.useState(""),s=Fn(),i=async a=>{try{const l=a.target.files[0],c=new FileReader;c.onload=async function(d){const m=d.target.result.split(`
`).filter(_=>_.trim()!=="").map(_=>{const v=_.split(",");return{user_id:v[0],course_id:v[1]}});r(m)},c.readAsText(l)}catch(l){console.error("Error handling CSV file:",l)}},o=async()=>{try{if(console.log(n),await gue(n))s({title:"Users enrolled successfully",description:"Users have been successfully enrolled to courses.",status:"success",duration:5e3,isClosable:!0}),e();else throw new Error("Error adding Users")}catch(a){console.error("Error submitting CSV:",a)}};return u.jsxs(mt,{isOpen:t,onClose:e,children:[u.jsx(yt,{}),u.jsxs(gt,{children:[u.jsx(vt,{bg:"teal.300",color:"white",roundedTop:"md",children:"Enroll Users"}),u.jsx(St,{}),u.jsx(_t,{pb:6,children:u.jsxs(we,{children:[u.jsx(Ce,{children:"Upload Enrollment CSV"}),u.jsx(De,{type:"file",placeholder:"Enrollment CSV file",onChange:i})]})}),u.jsxs(Ft,{bg:"teal.300",color:"white",roundedTop:"md",children:[u.jsx(se,{colorScheme:"teal",mr:3,onClick:o,children:"Add"}),u.jsx(se,{onClick:e,children:"Cancel"})]})]})]})};function Que({userType:t}){const e=fr(),[n,r]=g.useState("");g.useState("");const[s,i]=g.useState(!1),[o,a]=g.useState(!1),[l,c]=g.useState([]),[d,f]=g.useState([]),[p,m]=g.useState(!1);g.useState(!1);const[_,v]=g.useState(!1),[S,x]=g.useState(!1),[b,w]=g.useState(!1);Fn();const[k,j]=g.useState(!1),[O,C]=g.useState(!1),T={display:"flex",justifyContent:"center",alignItems:"center"},I={display:"flex",justifyContent:"center",fontSize:"1.5rem",fontWeight:"bold",color:Ci,marginTop:"20px"},P={display:"flex",flexDirection:"column",width:"80%",alignItems:"center",justifyContent:"center",margin:"auto"},N=q=>{q.stopPropagation(),e("/course-page")},M=q=>{q.stopPropagation(),e("/merit-shop")},R=q=>{r(q.target.value)},$=()=>{i(!0)},X=()=>{a(!0)},ne=()=>{m(!0)},B=()=>{v(!0)},G=()=>{x(!0)},ee=()=>{w(!0)},he=()=>{j(!0)},ue=()=>{C(!0)},ve=()=>{i(!1)},ie=async()=>{let q=[];if(t==="student"||t==="staff"){const Y=await Yr();q=await $h(Y.id)}c(q.body||[])},Se=async()=>{let q=[];if(t==="staff"){const Y=await Yr();q=await wue(Y.id),console.log(q)}f(q.body)},Te=q=>{t==="student"&&e(`/course-students/${q.id}`,{state:{data:q}})};g.useEffect(()=>{t==="student"&&ie(),t==="staff"&&Se()},[t]);const Ne=q=>{n==="staff"||n==="student"?e(`/profile-page/${q.id}`,{state:{data:q}}):e(`/course-page/${q.id}`,{state:{data:q}})},Me=t==="admin";if(t==="admin"||t==="adminDemo")return u.jsxs(U,{width:{base:"100%",md:"90%"},backgroundColor:"white",mx:"auto",height:"100%",minHeight:{base:"calc(100vh - 136px)",md:"calc(100vh - 166px)"},children:[u.jsx(H,{className:"page-title",textAlign:"center",children:"Admin Tools"}),u.jsxs(me,{my:"2",width:"90%",mx:"auto",justifyContent:"center",children:[u.jsx(U,{width:"60%",textAlign:"right",justifyContent:"right",children:u.jsx(Ho,{searchType:n,onSelectItem:Ne})}),u.jsx(we,{width:"fit-content",ml:"10px",mt:"3",justifyContent:"left",children:u.jsxs(Oi,{value:n,onChange:R,width:"fit-content",marginBottom:"20px",children:[u.jsx("option",{value:"",disabled:!0,hidden:!0,children:"Search by"}),u.jsx("option",{value:"course",children:"Course"}),u.jsx("option",{value:"staff",children:"Lecturers"}),u.jsx("option",{value:"student",children:"Student"})]})})]}),u.jsx(H,{fontWeight:"bold",fontSize:"lg",mt:"20px",textAlign:"center",children:"Manage Courses"}),u.jsx(U,{py:"20px",marginTop:"20px",textAlign:"center",border:"2px solid teal",borderRadius:"15px",maxWidth:"90%",width:{base:"90%",md:"50%"},m:"auto",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",bg:"teal.50",children:u.jsxs(me,{direction:"row",mx:"auto",justifyContent:"center",align:"center",mt:"5",children:[u.jsxs(se,{colorScheme:"teal",onClick:N,children:["Go to Courses ",u.jsx(Qc,{})]}),u.jsx(se,{colorScheme:"teal",onClick:X,children:"Add Course"})," ",u.jsx(jV,{isOpen:o,courseData:null,onClose:()=>a(!1),mode:"add-course",userType:t}),u.jsx(se,{colorScheme:"teal",onClick:he,isDisabled:!Me,children:"Add via CSV"})," ",u.jsx(Gue,{isOpen:k,onClose:()=>j(!1)}),u.jsx(se,{colorScheme:"teal",onClick:ue,isDisabled:!Me,children:"Enroll via CSV"})," ",u.jsx(Kue,{isOpen:O,onClose:()=>C(!1)})]})}),u.jsx(H,{fontWeight:"bold",fontSize:"lg",mt:"20px",textAlign:"center",children:"Manage Merit Shop"}),u.jsxs(U,{marginTop:"20px",textAlign:"center",border:"2px solid teal",py:"20px",borderRadius:"15px",maxWidth:"90%",width:{base:"90%",md:"50%"},m:"auto",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",bg:"teal.50",children:[u.jsxs(se,{colorScheme:"teal",onClick:M,children:["Go to Merit Shop ",u.jsx(Qc,{})]}),u.jsx(se,{colorScheme:"teal",onClick:$,children:"Add Prize"}),u.jsx(Iw,{isOpen:s,prizeData:null,onClose:()=>i(!1),mode:"add-prize",onAddPrize:ve,userType:t})]}),u.jsx(H,{fontWeight:"bold",fontSize:"lg",mt:"20px",textAlign:"center",children:"A New User"}),u.jsx(U,{marginTop:"20px",textAlign:"center",border:"2px solid teal",py:"20px",borderRadius:"15px",maxWidth:"90%",width:{base:"90%",md:"50%"},m:"auto",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",bg:"teal.50",children:u.jsxs(me,{direction:"row",justifyContent:"center",mx:"auto",align:"center",mt:"5",children:[u.jsx(se,{colorScheme:"teal",mb:"4",onClick:ne,isDisabled:!Me,children:"Add Student"}),u.jsx($ue,{isOpen:p,onClose:()=>m(!1)}),u.jsx(se,{colorScheme:"teal",mb:"4",onClick:B,isDisabled:!Me,children:"Add Staff"}),u.jsx(Wue,{isOpen:_,onClose:()=>v(!1)}),u.jsx(se,{colorScheme:"teal",mb:"4",onClick:G,isDisabled:!Me,children:"Add Admin"}),u.jsx(Hue,{isOpen:S,onClose:()=>x(!1)}),u.jsx(se,{colorScheme:"teal",mb:"4",onClick:ee,isDisabled:!Me,children:"Add via CSV"}),u.jsx(que,{isOpen:b,onClose:()=>w(!1)})]})})]});if(t==="staff")return u.jsxs(U,{width:{base:"100%",md:"90%"},backgroundColor:"white",mx:"auto",minHeight:{base:"calc(100vh - 136px)",md:"calc(100vh - 166px)"},children:[u.jsx(Os,{height:"10px"}),u.jsx("div",{className:"page-title",children:"My Dashboard"}),u.jsxs(me,{flexDirection:{base:"column",md:"row"},flexWrap:"wrap",mx:"auto",w:"90%",justifyContent:"space-around",children:[u.jsxs(U,{sx:T,w:{base:"90%",md:"40%"},mx:"auto",flexDirection:"column",children:[u.jsx(H,{sx:I,children:"My Stats"}),u.jsx(YP,{userType:t})]}),u.jsxs(U,{w:{base:"90%",md:"60%"},mx:"auto",flexDirection:"column",children:[u.jsx(H,{sx:I,children:"Top Earners"}),u.jsx(H,{children:"See the top earner from each of your courses."}),u.jsx(Os,{height:4}),u.jsx(U,{sx:P,children:Array.isArray(d)&&d.length>0?d.map((q,Y)=>u.jsx(U,{py:"5px",width:"100%",children:u.jsx(Nue,{data:q})},Y)):u.jsx(H,{children:"No top earners"})})]})]})]});if(t==="student")return u.jsxs(U,{width:{base:"100%",md:"90%"},backgroundColor:"white",mx:"auto",height:"100%",minHeight:{base:"calc(100vh - 136px)",md:"calc(100vh - 166px)"},children:[u.jsx(Os,{height:"10px"}),u.jsx("div",{className:"page-title",children:"My Dashboard"}),u.jsx(Xt,{borderColor:"teal.200",w:"80%",mx:"auto"}),u.jsxs(me,{flexDirection:{base:"column",md:"row"},flexWrap:"wrap",mx:"auto",w:"100%",justifyContent:"space-around",children:[u.jsxs(U,{sx:T,w:{base:"90%",md:"40%"},mx:"auto",flexDirection:"column",children:[u.jsx(H,{sx:I,children:"My Stats"}),u.jsx(Os,{height:4}),u.jsx(U,{sx:P,children:u.jsx(YP,{userType:t})})]}),u.jsxs(U,{w:{base:"90%",md:"60%"},mx:"auto",children:[u.jsx(H,{sx:I,children:"My Courses"}),u.jsx(Os,{height:4}),u.jsx(U,{sx:P,children:u.jsx(me,{direction:"row",flexWrap:"wrap",children:l&&l.length>0?l.map(q=>u.jsx(U,{py:3,px:2,shadow:"md",borderWidth:"1px",borderRadius:"lg",_hover:{boxShadow:"xl",cursor:"pointer"},onClick:()=>Te(q),children:u.jsxs(me,{alignItems:"center",gap:2,children:[u.jsx(U,{flexShrink:0,ml:"1",children:u.jsx(hr,{name:q.name,borderRadius:"full",boxSize:"60px",src:q.img_url,alt:q.name})}),u.jsxs(U,{children:[u.jsx(U,{textAlign:"right",fontSize:"12px",children:q.period}),u.jsxs(U,{flex:"1",textAlign:"center",children:[u.jsx(H,{fontSize:"md",fontWeight:"bold",children:q.name}),u.jsx(H,{fontSize:"small",mt:1,children:q.code})]})]})]})},q.id)):u.jsx(H,{children:"No courses"})})})]})]})]})}const Yue=t=>{const{rank:e,img_url:n,first_name:r,last_name:s,id:i,current_pts:o,accumulated_pts:a,i:l}=t.data,[c,d]=g.useState(0),f=l%2===0?"teal.100":"teal.50",p=Di({base:!1,md:!0,lg:!0}),m=fr(),_=(P,N)=>{N.stopPropagation(),m(`/assign-points/${P}`,{state:{data:t.data}})},v=()=>{t.handleOpenStudentModal(c)},S={boxRadius:el,backgroundColor:f,padding:Lt,borderRadius:gy,border:"1px solid #d3d3d3",w:"100%",transition:"transform 0.3s",_hover:{transform:"scale(1.05)",backgroundColor:"teal.200",boxShadow:"0 0 4px 2px #f7d086","& .rank":{color:Ze},"& .title":{color:Ze},"& .count":{color:Ze},"& .actionicon":{color:Ze}}},x={fontSize:vy,marginRight:Lt,marginLeft:Lt,color:Ci,fontWeight:"bold"},b={flex:1,textAlign:"left"},w={color:Ci,fontWeight:"bold"},k={color:Ze},j={},O={fontWeight:"bold",color:Ci,fontSize:fL,pading:0},C={fontSize:Lt},T={fontSize:Mh,color:doe,paddingLeft:Lt},I=()=>{if(t.userType==="staff"||t.userType==="admin")return u.jsx(u.Fragment,{children:u.jsx(U,{className:"actionicon",textAlign:"right",children:u.jsxs(se,{colorScheme:"teal",marginRight:"5px",onClick:P=>_(i,P),children:["Assign Points",u.jsx(Qc,{sx:T})]})})})};return u.jsxs(U,{sx:S,onClick:v,style:{cursor:"pointer"},children:[u.jsxs(me,{align:"center",children:[u.jsx(H,{className:"rank",sx:x,children:e}),u.jsx(U,{children:u.jsx(hr,{src:n,name:r+" "+s,size:"sm",mr:"10px"})}),u.jsxs(U,{sx:b,children:[u.jsx(H,{className:"title",sx:w,children:r+" "+s}),u.jsx(H,{sx:k,children:i})]}),u.jsxs(U,{sx:j,children:[u.jsx(H,{className:"count",sx:O,children:a}),u.jsx(H,{className:"type",sx:C,children:"MP"})]}),p&&u.jsx(u.Fragment,{children:I()})]}),!p&&(t.userType!=="student"&&u.jsxs(u.Fragment,{children:[u.jsx(Xt,{borderColor:"teal.500",marginTop:"10px"}),I()]})||t.userType==="student"&&u.jsx(u.Fragment,{children:I()}))]})},Xue=({isOpen:t,onClose:e,studentID:n})=>{const[r,s]=g.useState([]);g.useState(""),g.useState([]);const i=async()=>{try{let a;a=await iue(n);const l=a.body;if(l&&Array.isArray(l))if(l.length>0){const c=await Promise.all(l.map(async d=>{const f=await AV(d.prize_id),p=await Wo(d.user_id),m=f.name,_=f.cost,v=`${p.first_name} ${p.last_name}`;return{...d,prizeName:m,prizeCost:_,studentName:v}}));c.sort((d,f)=>d.timestamp-f.timestamp),s(c)}else s([]);else console.log("No Logs found.",a)}catch(a){console.error("Error fetching logs:",a)}};g.useEffect(()=>{t&&n&&i()},[n,t]);const o=a=>{const l={};return a.forEach(c=>{const d=new Date(c.timestamp.seconds*1e3).toLocaleDateString("default",{year:"numeric",month:"short",day:"numeric"});l[d]||(l[d]=[]),l[d].push(c)}),l};return u.jsxs(mt,{isOpen:t,onClose:e,size:"5xl",width:"90%",scrollBehavior:"inside",children:[u.jsx(yt,{}),u.jsxs(gt,{minWidth:"fit-content",children:[u.jsx(vt,{backgroundColor:"#4FD1C5",color:"white",borderRadius:"md",textAlign:"center",children:"Prize Redemption Logs"}),u.jsx(St,{}),u.jsx(_t,{overflowX:"auto",children:r.length===0?u.jsx(H,{textAlign:"center",color:"gray.500",children:"No logs available."}):Object.entries(o(r)).map(([a,l])=>u.jsxs(U,{my:5,children:[u.jsx(H,{fontSize:"lg",fontWeight:"bold",mb:2,textAlign:"center",children:a}),l.map((c,d)=>u.jsxs(me,{mb:1,justify:"start",width:"100%",alignItems:"center",children:[u.jsx(H,{flex:"0 0 10%",mr:4,fontWeight:"bold",children:new Date(c.timestamp.seconds*1e3).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})}),u.jsx(U,{flex:"1",py:1,px:4,border:"1px solid gray",borderRadius:"15px",children:u.jsxs(H,{children:[u.jsxs("strong",{children:[c.studentName," "]}),"(Student ID: ",c.user_id,') redeemed item "',u.jsx("strong",{children:c.prizeName}),'"  for ',u.jsx("strong",{children:c.prizeCost})," points."]})})]},d))]},a))})]})]})},Jue=({userType:t})=>{const[e,n]=g.useState(null),[r,s]=g.useState([]),[i,o]=g.useState("accumulatedPoints"),[a,l]=g.useState(""),c=Ui(),[d,f]=g.useState(0),p=c.state&&c.state.data,[m,_]=g.useState([]),{courseId:v}=Gh(),S=fr();g.useState(0);const x=async()=>{try{const R=await Cy(v);if(R){const $=[];for(const X of R.body){const ne=await Y1(X.id);$.push({...X,rank:ne})}_($)}else console.log("No students found.")}catch(R){console.error("Error fetching courses:",R)}};g.useEffect(()=>{(async()=>{await x()})()},[]),g.useEffect(()=>{const R=m.filter(X=>`${X.first_name} ${X.last_name}`.toLowerCase().startsWith(a.toLowerCase())||X.id.toLowerCase().startsWith(a.toLowerCase())),$=I(R,i);s($)},[m,i,a]);const b=R=>{if(l(R.toLowerCase()),R.trim()===""){const $=I(m,i);s($),n(null)}else{const $=m.filter(X=>`${X.first_name} ${X.last_name}`.toLowerCase().startsWith(R.trim().toLowerCase())||X.id.toLowerCase().startsWith(R.trim().toLowerCase()));s($),n(null)}},w=R=>{n(R),s([R])},[k,j]=g.useState(Array(m.length).fill(!1)),O=R=>{f(R),j($=>{const X=[...$];return X[R]=!0,X})},C=R=>{const $=[...k];$[R]=!1,j($)},T=(R,$)=>{o(R.target.value);const X=I($,R.target.value);s(X)},I=(R,$)=>{const X=[...R];switch($){case"name":X.sort((ne,B)=>ne.first_name.localeCompare(B.first_name));break;case"id":X.sort((ne,B)=>ne.id.localeCompare(B.id));break;case"accumulatedPoints":X.sort((ne,B)=>parseInt(B.accumulated_pts)-parseInt(ne.accumulated_pts));break}return X},P=u.jsx(u.Fragment,{children:u.jsxs(U,{width:"100%",mx:"auto",children:[u.jsx("h2",{className:"page-title",children:p.name}),u.jsx("h2",{children:p.description}),u.jsx(Xt,{my:1,w:"80%",mx:"auto",borderColor:"gray.300"}),u.jsx(U,{width:"70%",mx:"auto",children:u.jsx(Ho,{searchType:"student",onSelectItem:w,onSearch:b,courseID:p.id})}),u.jsx(Os,{height:2}),u.jsxs(me,{w:"80%",justifyContent:"space-between",m:"auto",mt:"3",children:[u.jsx(we,{alignItems:"center",children:u.jsxs(me,{alignItems:"center",children:[u.jsx(Ce,{mr:"2",ml:"3",align:"left",children:"Sort by:"}),u.jsxs(Oi,{value:i,onChange:R=>T(R,r),width:"fit-content",marginBottom:"20px",children:[u.jsx("option",{value:"accumulatedPoints",children:"Accumulated Points"}),u.jsx("option",{value:"id",children:"Student ID"}),u.jsx("option",{value:"name",children:"Student Name"})]})]})}),u.jsxs(me,{alignItems:"center",children:[u.jsx("p",{children:r.length}),u.jsx("p",{children:"students"})," "]})]}),u.jsx(me,{alignItems:"center",justifyContent:"center",children:u.jsx(U,{style:{width:"80%",display:"flex",flexDirection:"column",justifyContent:"center"},children:Array.isArray(r)&&r.length>0?r.map((R,$)=>u.jsxs("div",{children:[u.jsxs(U,{children:[u.jsx(Yue,{data:{...R,i:$},userType:t,handleOpenStudentModal:()=>O($)},$),u.jsx(Os,{height:1})]}),u.jsx(Zue,{isOpen:k[$],onClose:()=>C($),userType:t,studentData:R})]},R.id)):u.jsx(H,{children:"No students found for this course."})})})]})}),N=()=>{event.preventDefault(),S(`/course-students/${v}`,{state:{data:p}})},M=()=>{event.preventDefault(),S(`/admin/course/${v}`,{state:{data:p}})};return u.jsxs(U,{display:"flex",flexDirection:"column",height:"100%",width:{base:"100%",md:"90%"},marginX:"auto",backgroundColor:"white",minHeight:{base:"calc(100vh - 136px)",md:"calc(100vh - 166px)"},children:[t!=="admin"||t!=="adminDemo"&&u.jsx(u.Fragment,{children:P}),t==="admin"||t==="adminDemo"&&u.jsxs(af,{isFitted:!0,variant:"enclosed",defaultIndex:1,backgroundColor:"white",children:[u.jsxs(lf,{children:[u.jsx(Li,{onClick:M,children:"Lecturer"}),u.jsx(Li,{onClick:N,children:"Students"})]}),u.jsxs(cf,{children:[u.jsx(Mi,{}),u.jsx(Mi,{width:"100%",children:u.jsx(u.Fragment,{children:P})})]})]})]})},Zue=({isOpen:t,onClose:e,userType:n,studentData:r})=>{const s=Di({base:!1,md:!0,lg:!0}),i=fr(),[o,a]=g.useState(!1),[l,c]=g.useState(!1),[d,f]=g.useState(null),{courseId:p}=Gh(),m=async()=>{try{const O=await J1(p);if(O.status===200){const C=O.body;C&&Array.isArray(C)&&C.length>0&&f(C[0])}else console.log("No Lecturer found.")}catch(O){console.error("Error fetching lecturer:",O)}};g.useEffect(()=>{(async()=>{await m()})()},[]);const _=()=>{a(!0)},v=()=>{a(!1)},S=()=>{c(!0)},x=()=>{c(!1)},b={cursor:"pointer",color:"teal",_hover:{color:"blue"}},w=()=>{if(n==="staff"||n==="admin"||n==="adminDemo")return u.jsx(U,{className:"actionicon",textAlign:"right",children:u.jsx(se,{colorScheme:"teal",marginRight:"5px",onClick:O=>k(r.studentid,O),children:"Assign Points"})})},k=(O,C)=>{C.stopPropagation(),i(`/assign-points/${O}`,{state:{data:r}})},j=(O,C)=>{i(`/profile-page/${O}`,{state:{data:r}})};return u.jsxs(u.Fragment,{children:[u.jsxs(mt,{isOpen:t,onClose:e,size:"lg",children:[u.jsx(yt,{}),u.jsxs(gt,{children:[u.jsx(vt,{borderRadius:"md",color:"white",backgroundColor:"#4FD1C5",textAlign:"center",fontSize:"1.5rem",marginBottom:"1px black solid",px:{base:4,md:4},py:{base:2,md:4},children:u.jsx("p",{children:"Student Details"})}),u.jsx(St,{}),u.jsxs(_t,{children:[u.jsxs(me,{justifyContent:"space-between",children:[u.jsxs(me,{alignItems:"center",children:[u.jsx(hr,{onClick:O=>j(r.id),style:{cursor:"pointer"},src:r==null?void 0:r.img_url,name:(r==null?void 0:r.first_name)+" "+(r==null?void 0:r.last_name),size:"md",mr:"4"}),u.jsxs(U,{children:[u.jsx(H,{sx:b,fontWeight:"bold",onClick:O=>j(r.id),children:r.first_name+" "+r.last_name}),u.jsxs(H,{children:["Student ID: ",r.id]})]})]}),s&&u.jsx(U,{textAlign:"right",children:w()})]}),!s&&u.jsx(u.Fragment,{children:w()}),u.jsx(Xt,{mb:"4",mt:"2"}),u.jsx(U,{ml:{base:"2",md:"4"},mt:"2",children:u.jsxs(me,{textAlign:"left",children:[u.jsxs(U,{minWidth:"100px",children:[u.jsx(H,{fontWeight:"bold",children:"Current Ranking:"}),u.jsx(H,{fontWeight:"bold",children:"Accumulated Points:"}),u.jsx(H,{fontWeight:"bold",children:"Current Points:"})]}),u.jsxs(U,{ml:{base:"10%",md:"20%"},children:[u.jsx(H,{children:r.rank}),u.jsx(H,{children:r.accumulated_pts}),u.jsx(H,{children:r.current_pts})]})]})}),u.jsx(Xt,{my:"4"}),n==="staff"&&u.jsxs(U,{children:[u.jsx(H,{fontWeight:"bold",textAlign:"center",children:"Recent Activity"}),u.jsx(H,{textAlign:"center",mt:"3",children:u.jsx(se,{colorScheme:"teal",onClick:_,children:"See Points Awarded by Me"})})]}),n==="admin"||n==="adminDemo"&&u.jsxs(U,{children:[u.jsx(H,{fontWeight:"bold",textAlign:"center",children:"Recent Activity"}),u.jsx(H,{textAlign:"center",mt:"3",children:u.jsxs(eN,{children:[u.jsx(se,{colorScheme:"teal",onClick:_,children:"See Points Awarded by Staff"}),u.jsx(se,{colorScheme:"teal",onClick:S,children:"See Redemption Logs"})]})})]})]}),u.jsx(Ft,{borderRadius:"md",backgroundColor:"#4FD1C5",w:{base:"100%"},textAlign:"center",px:{base:2,md:4},py:1,children:u.jsx(se,{colorScheme:"teal",onClick:e,children:"Close"})})]})]}),u.jsx(tE,{isOpen:o,onClose:v,staffID:d?d.id:null,studentID:r.id}),u.jsx(Xue,{isOpen:l,onClose:x,studentID:r.id})]})},ede=({userType:t})=>{const[e,n]=g.useState(""),[r,s]=g.useState("My Courses"),[i,o]=g.useState(null),{isOpen:a,onOpen:l,onClose:c}=bm(),d=[{name:"Comp 1600",id:"co222",description:"Introduction to Computing",image:"course1.jpg"},{name:"Comp 2600",id:"co435",description:"Data Structures",image:"course2.jpg"},{name:"Info 101",id:"co324",description:"Information Systems",image:"course3.jpg"}];fr(),g.useEffect(()=>{s(t==="admin"||t==="adminDemo"?"All Courses":"My Courses")},[t]);const f=S=>{n(S.toLowerCase())},p=d.filter(S=>S.name.toLowerCase().startsWith(e)),m=(S,x)=>{x.stopPropagation(),console.log("Edit Course:",S)},_=(S,x)=>{x.stopPropagation(),o(S),l()},v=()=>{console.log("Delete Course:",i.id),c()};return u.jsxs(U,{mt:3,margin:"auto",maxWidth:"1000px",width:"80%",children:[u.jsx(H,{mb:4,className:"page-title",children:r}),u.jsx(Ho,{searchType:"course",onSearch:f}),u.jsx(me,{direction:"column",gap:4,mt:4,children:p.map(S=>u.jsx(U,{p:3,shadow:"md",borderWidth:"1px",borderRadius:"lg",_hover:{boxShadow:"xl",cursor:"pointer"},children:u.jsxs(me,{alignItems:"center",gap:4,children:[u.jsx(U,{flexShrink:0,ml:"5",children:u.jsx(hr,{name:S.description,borderRadius:"full",boxSize:"75px",src:S.image,alt:S.name})}),u.jsxs(U,{flex:"1",textAlign:"center",children:[u.jsx(H,{fontSize:"xl",fontWeight:"bold",children:S.name}),u.jsx(H,{mt:1,children:S.description})]}),t==="admin"||t==="adminDemo"&&u.jsxs(u.Fragment,{children:[u.jsx(se,{colorScheme:"blue",onClick:x=>m(S.id,x),children:"Edit"}),u.jsx(se,{colorScheme:"red",onClick:x=>_(S,x),children:"Delete"})]})]})},S.id))}),u.jsx(Qee,{isOpen:a,onClose:c,children:u.jsx(yt,{children:u.jsxs(Yee,{children:[u.jsx(vt,{fontSize:"lg",fontWeight:"bold",children:"Delete Course"}),u.jsxs(_t,{children:["Are you sure you want to delete ",i==null?void 0:i.name,"? This action cannot be undone."]}),u.jsxs(Ft,{children:[u.jsx(se,{onClick:c,children:"Cancel"}),u.jsx(se,{colorScheme:"red",onClick:v,ml:3,children:"Delete"})]})]})})})]})},tde=({userType:t})=>{const e=Ui(),{courseId:n}=Gh(),[r,s]=g.useState(null),i=e.state&&e.state.data,[o,a]=g.useState({goodConduct:0,courseParticipation:0,volunteering:0,extracurricular:0}),[l,c]=g.useState(null),[d,f]=g.useState(!1),[p,m]=g.useState(!1),[_,v]=g.useState(!1),S=fr(),[x,b]=g.useState(!1),[w,k]=g.useState("student"),j={w:"100%",transition:"transform 0.3s",color:"teal",textDecoration:"underline",cursor:"pointer",padding:"5px",borderRadius:"5px",_hover:{transform:"scale(1.03)",backgroundColor:"teal",color:"white",textDecoration:"underline"}},O=G=>{switch(G){case"goodConduct":return"See award logs for good conduct";case"courseParticipation":return"See award logs for participation in the course";case"volunteering":return"See award logs for volunteering activities";case"extracurricular":return"See award logs for extracurricular activities";default:return""}},C=G=>{c(G),f(!0)},T=()=>{c(null),f(!1)},I=G=>{k(G),b(!0)},P=async()=>{b(!1),w==="staff"&&await N()},N=async()=>{try{const G=await J1(n);if(G.status===200){const ee=G.body;ee&&Array.isArray(ee)&&ee.length>0&&s(ee[0])}else console.log("No Lecturer found.")}catch(G){console.error("Error fetching lecturer:",G)}};g.useEffect(()=>{r&&(async()=>{try{const ee=await PV(r.id);ee&&a(ee)}catch(ee){console.error("Error fetching points breakdown:",ee)}})()},[r]),g.useEffect(()=>{(async()=>{await N()})()},[]);const M=()=>{event.preventDefault(),S(`/course-students/${n}`,{state:{data:i}})},R=()=>{event.preventDefault(),S(`/admin/course/${n}`,{state:{data:i}})},$=()=>{m(!0)},X=()=>{m(!1)},ne=()=>{v(!0)},B=()=>{v(!1)};return u.jsxs(U,{display:"flex",flexDirection:"column",height:"100%",width:"90%",marginX:"auto",backgroundColor:"white",minHeight:{base:"calc(100vh - 136px)",md:"calc(100vh - 166px)"},children:[t==="admin"||t==="adminDemo"&&u.jsxs(u.Fragment,{children:[u.jsxs(af,{isFitted:!0,variant:"enclosed",defaultIndex:0,children:[u.jsxs(lf,{children:[u.jsx(Li,{onClick:R,children:"Lecturer"}),u.jsx(Li,{onClick:M,children:"Students"})]}),u.jsxs(cf,{children:[u.jsxs(Mi,{children:[u.jsx("h2",{className:"page-title",my:1,children:i.name}),u.jsx("h2",{children:i.desc}),u.jsx(Xt,{my:1,w:"80%",mx:"auto",borderColor:"gray.300"}),u.jsx(H,{fontSize:"xl",fontWeight:"bold",children:"Lecturer Information"}),u.jsx(me,{justifyContent:"right",mb:"20px",width:"95%",children:u.jsxs(zS,{children:[u.jsx(US,{p:1,bg:"blue.100",_hover:{bg:"blue.200"},_focus:{bg:"blue.200",outline:"none"},children:u.jsxs(H,{children:["More Tools ",u.jsx(EV,{})]})}),u.jsx(BS,{color:"teal.500",minWidth:"fit-content",children:u.jsx(uc,{onClick:()=>I("student"),fontWeight:"bold",_hover:{bg:"teal.400",color:"white"},children:"Enroll Particpants "})})]})}),r!=null?u.jsx(u.Fragment,{children:u.jsxs(me,{width:"100%",flexDirection:{base:"column",md:"row"},flexWrap:"wrap",h:"fit-content",justifyContent:"space-around",children:[u.jsxs(U,{borderWidth:"1px",h:"100%",borderRadius:"lg",p:"5",backgroundColor:"white",width:{base:"100%",md:"50%",lg:"40%"},children:[u.jsx(H,{fontSize:"xl",fontWeight:"bold",children:"Personal Information"}),u.jsx(Xt,{borderColor:"teal.200"}),u.jsxs(me,{h:"100%",p:"20px",children:[u.jsx(hr,{w:"50%",borderRadius:"none",h:"150px",src:r.img_url||"./img.svg",name:r.first_name,alt:"placeholder"}),u.jsxs(U,{w:"50%",textAlign:"left",p:"10px",my:"auto",children:[u.jsxs(H,{children:[u.jsx(H,{fontWeight:"bold",display:"inline",children:"Name:"})," ",r.first_name," "]}),u.jsxs(H,{children:[u.jsx(H,{fontWeight:"bold",display:"inline",children:"StaffID:"})," ",r.id]}),u.jsxs(H,{children:[u.jsx(H,{fontWeight:"bold",display:"inline",children:"Email:"})," ",r.email]})]})]})]}),u.jsxs(U,{borderWidth:"1px",borderRadius:"lg",p:"5",backgroundColor:"white",width:{base:"100%",md:"50%",lg:"40%"},children:[u.jsx(H,{fontSize:"xl",fontWeight:"bold",children:"Lecturer Statistics"}),u.jsx(Xt,{borderColor:"teal.200"}),u.jsxs(U,{textAlign:"left",p:"20px",my:"auto",mx:"auto",children:[u.jsxs(me,{m:"auto",justifyContent:"space-between",flexDirection:"column",children:[u.jsxs(H,{backgroundColor:"teal.100",p:"10px",textAlign:"center",fontSize:"lg",fontWeight:"bold",my:"auto",children:["Current Points Balance: ",r&&r.current_pts,"/300"]}),u.jsxs(me,{justifyContent:"right",children:[u.jsx(se,{colorScheme:"teal",onClick:ne,children:"Allocate Points"}),u.jsx(se,{w:"fit-content",colorScheme:"teal",onClick:$,children:"All Activity"})]})]}),u.jsx(Xt,{borderColor:"teal.300",mb:"10px"}),u.jsxs(U,{mx:4,children:[u.jsx(H,{fontWeight:"bold",children:"Points Awarded Breakdown: "}),u.jsx(U,{w:"100%",textAlign:"left",pl:"10px",children:o&&u.jsxs(U,{w:"100%",textAlign:"left",px:"10px",my:"auto",children:[u.jsx(Ls,{label:O("goodConduct"),placement:"top",children:u.jsxs(H,{sx:j,onClick:()=>C("goodConduct"),children:[u.jsx(H,{fontWeight:"bold",display:"inline",children:"Good Conduct:"})," ",o.goodConduct," points"]})}),u.jsx(Ls,{label:O("courseParticipation"),placement:"top",children:u.jsxs(H,{sx:j,onClick:()=>C("courseParticipation"),children:[u.jsx(H,{fontWeight:"bold",display:"inline",children:"Course Participation:"})," ",o.courseParticipation," points"]})}),u.jsx(Ls,{label:O("volunteering"),placement:"top",children:u.jsxs(H,{sx:j,onClick:()=>C("volunteering"),children:[u.jsx(H,{fontWeight:"bold",display:"inline",children:"Volunteer:"})," ",o.volunteering," points"]})}),u.jsx(Ls,{label:O("extracurricular"),placement:"top",children:u.jsxs(H,{sx:j,onClick:()=>C("extracurricular"),children:[u.jsx(H,{fontWeight:"bold",display:"inline",children:"Extracurricular:"})," ",o.extracurricular," points"]})})]})})]})]})]})]})}):u.jsx(H,{children:"No staff member has been assigned as a lecturer of this course."})]}),u.jsx(Mi,{})]})]}),u.jsx(OV,{isOpen:d,onClose:T,type:l,userID:r?r.id:null,points:l&&o[l]||0})]}),u.jsx(tE,{isOpen:p,onClose:X,staffID:r?r.id:null}),u.jsx(nde,{isOpen:_,onClose:B,staff:r,fetchLecturer:N}),u.jsx(DV,{isOpen:x,onClose:P,selectedCourse:i,personType:w})]})},nde=({isOpen:t,onClose:e,staff:n,fetchLecturer:r})=>{const[s,i]=g.useState(0),o=Fn(),a=300-(n&&n.current_pts),l=f=>{const{value:p}=f.target;i(p),p>a&&i(a)},c=async f=>{if(f.preventDefault(),s>0)try{const p=await Yr();if(p){const m=await Bue(n.id,p.id,s);console.log(m),m.status===200?(o({title:"Success",description:`${s} points allotted to ${n.first_name} ${n.last_name} `,status:"success",duration:3e3,position:"top-right",isClosable:!0}),r()):o({title:"Error",description:`${m.body} `,status:"error",duration:3e3,position:"top-right",isClosable:!0})}}catch(p){console.error("Error fetching current user:",p)}else console.log("Points must be greater than 0."),o({title:"Error",description:"Points must be greater than 0.",status:"error",duration:3e3,position:"top-right",isClosable:!0});i(0),e()},d=()=>{i(a)};return u.jsxs(mt,{isOpen:t,onClose:e,children:[u.jsx(yt,{}),u.jsxs(gt,{children:[u.jsx(vt,{backgroundColor:"teal.300",color:"white",textAlign:"center",children:"Allocate Points"}),u.jsx(St,{}),u.jsxs(_t,{textAlign:"center",children:["Points Entered will be added to the staff's total. ",u.jsx("strong",{children:"Maximum Balance is 300."})," ",u.jsx("br",{}),u.jsx("strong",{children:"Staff's Current Balance:"})," ",n&&n.current_pts," points",u.jsxs("form",{onSubmit:c,children:[u.jsxs(we,{p:"20px",children:[u.jsx(Ce,{children:"Enter Points"}),u.jsx(De,{type:"number",onChange:l,value:s===0?"":s,placeholder:"0",required:!0})]}),u.jsx(se,{mt:4,colorScheme:"teal",onClick:d,children:"Allot Max Points"}),u.jsx(se,{mt:4,colorScheme:"teal",type:"submit",children:"Allocate Points"})]})]})]})]})},rde=({userType:t})=>{const e=Ui(),n=e.pathname==="/login-page",r=e.pathname==="/";return u.jsx(u.Fragment,{children:u.jsx("div",{width:"100%",className:`main-content ${n||r?"login-page":""}`,children:u.jsx(U,{minHeight:"calc(100vh - 166px)",children:u.jsxs(Y4,{children:[u.jsx(Pn,{path:"/merit-shop",element:u.jsx(Pue,{userType:t})}),u.jsx(Pn,{path:"/assign-points",element:u.jsx(qP,{})}),u.jsx(Pn,{path:"/assign-points/:studentId",element:u.jsx(qP,{})}),u.jsx(Pn,{path:"/leaderboard",element:u.jsx(Oue,{userType:t})}),u.jsx(Pn,{path:"/course-page",element:u.jsx(Vue,{userType:t})}),u.jsx(Pn,{path:"/course-students/:courseId",element:u.jsx(Jue,{userType:t})}),u.jsx(Pn,{path:"/profile-page",element:u.jsx(KP,{})}),u.jsx(Pn,{path:"/profile-page/:userId",element:u.jsx(KP,{userType:t})}),u.jsx(Pn,{path:"/login-page",element:u.jsx(QP,{})}),u.jsx(Pn,{path:"/signup-page",element:u.jsx(Fue,{})}),u.jsx(Pn,{path:"/my-dashboard",element:u.jsx(Que,{userType:t})}),u.jsx(Pn,{path:"/admin-courses",element:u.jsx(ede,{userType:t})}),u.jsx(Pn,{path:"/admin/course/:courseId",element:u.jsx(tde,{userType:t})}),u.jsx(Pn,{path:"/",element:u.jsx(QP,{})}),u.jsx(Pn,{path:"/notifications",element:u.jsx(eue,{userType:t})})]})})})})};function sde(){const t=wu(),[e,n]=g.useState(!1),[r,s]=g.useState(null),{hasUnreadNotifications:i,setHasUnreadNotifications:o}=xV(),a=fr(),l=Fn(),[c,d]=g.useState(null);g.useEffect(()=>{const x=async w=>{if(n(!!w),w){const k=await Yr();d(k),s(w.email),o(await Xce())}},b=t.onAuthStateChanged(x);return()=>b()},[t,o]),g.useEffect(()=>{if(c){const x=Jce(c.id,b=>{o(b)});return()=>x()}},[c,o]);const f={"/":"Student Incentive System","/notifications":"Notifications","/merit-shop":"Merit Shop","/leaderboard":"Leaderboard Rankings","/awards":"Awards page","/course-page":"Courses","/profile-page":"Profile","/login-page":"Login","/signup-page":"Signup","/my-dashboard":"My Dashboard"},m=(x=>f[x]?f[x]:x.startsWith("/course-student")?"Course Students":x.startsWith("/assign-points")?"Assign Points":"Student Incentive System")(window.location.pathname),_=Di({base:"1.5em",md:"2em"}),v=Di({base:"1.5em",md:"2em"}),S=async()=>{try{await Qce(),a("/login-page"),l({title:"Logout Success",description:"Successfully logged out.",status:"success",position:"top",duration:3e3,isClosable:!0})}catch(x){console.log(x)}};return u.jsxs("nav",{className:"topNav",children:[u.jsxs("div",{className:"navTitle",children:[u.jsx(zn,{to:"/",children:u.jsx("img",{src:"/logo.png",alt:"Logo",className:"logo"})}),u.jsx("div",{children:e?u.jsxs(u.Fragment,{children:[u.jsx(zn,{to:"/my-dashboard",children:u.jsx("h1",{children:"MotivizERS"})}),u.jsx("h2",{children:m})]}):u.jsx("h1",{children:"MotivizERS"})})]}),e&&u.jsxs("div",{className:"navActions",children:[u.jsx(zn,{to:"/notifications",children:u.jsxs(U,{position:"relative",children:[u.jsx(nue,{boxSize:_,className:"bell-icon"}),i&&u.jsx(U,{position:"absolute",top:"12px",right:"15px",h:"8px",w:"8px",bg:"red.500",borderRadius:"full"})]})}),u.jsxs(zS,{className:"profile-menu",children:[u.jsxs(US,{className:"menu-button",_hover:{bg:"teal.200",border:"1px #fee6bc solid"},_focus:{bg:"teal.200",outline:"none"},display:"flex",_expanded:{bg:"teal.200"},children:[u.jsx(hr,{boxSize:v,src:""}),u.jsx(EV,{ml:1,mt:3})]}),u.jsxs(BS,{color:"teal.500",minWidth:"fit-content",fontSize:13,padding:"none",mt:-1,height:"fit-content",children:[u.jsx(uc,{as:"Box",style:{fontWeight:"bold"},children:r}),u.jsx(Zb,{}),u.jsx(zn,{to:"/profile-page",children:u.jsx(uc,{border:"none",width:"95%",_hover:{bg:"teal.400",color:"white",boxShadow:"none"},children:"My Profile"})}),u.jsx(zn,{to:"/my-dashboard",children:u.jsx(uc,{border:"none",width:"95%",_hover:{bg:"teal.400",color:"white",border:"none"},children:"My Dashboard"})}),u.jsx(Zb,{}),u.jsx(uc,{border:"none",width:"95%",_hover:{bg:"teal.400",color:"white",border:"none"},onClick:S,children:"Log Out"})]})]})]})]})}const ide=({userType:t})=>{const e=Ui(),n=()=>{if(t==="student"||t==="admin"||t==="adminDemo")return u.jsx(zn,{to:"/merit-shop",children:u.jsxs("div",{className:"middleNavItem",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",className:"bi bi-shop",viewBox:"0 0 16 16",children:u.jsx("path",{d:"M2.97 1.35A1 1 0 0 1 3.73 1h8.54a1 1 0 0 1 .76.35l2.609 3.044A1.5 1.5 0 0 1 16 5.37v.255a2.375 2.375 0 0 1-4.25 1.458A2.37 2.37 0 0 1 9.875 8 2.37 2.37 0 0 1 8 7.083 2.37 2.37 0 0 1 6.125 8a2.37 2.37 0 0 1-1.875-.917A2.375 2.375 0 0 1 0 5.625V5.37a1.5 1.5 0 0 1 .361-.976zm1.78 4.275a1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0 1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0 1.375 1.375 0 1 0 2.75 0V5.37a.5.5 0 0 0-.12-.325L12.27 2H3.73L1.12 5.045A.5.5 0 0 0 1 5.37v.255a1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0M1.5 8.5A.5.5 0 0 1 2 9v6h1v-5a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1v5h6V9a.5.5 0 0 1 1 0v6h.5a.5.5 0 0 1 0 1H.5a.5.5 0 0 1 0-1H1V9a.5.5 0 0 1 .5-.5M4 15h3v-5H4zm5-5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1zm3 0h-2v3h2z"})}),u.jsx("span",{children:"Merit Shop"})]})});if(t==="staff")return u.jsx(zn,{to:"/assign-points",children:u.jsxs("div",{className:"middleNavItem",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",className:"bi bi-patch-plus-fill",viewBox:"0 0 16 16",children:u.jsx("path",{d:"M10.067,.87a2.89,2.89,0,0,0-4.134,0l-.622.638-.89-.011a2.89,2.89,0,0,0-2.924,2.924l.01.89-.636.622a2.89,2.89,0,0,0,0,4.134l.637.622-.011.89a2.89,2.89,0,0,0,2.924,2.924l.89-.01.622.636a2.89,2.89,0,0,0,4.134,0l.622-.637.89.011a2.89,2.89,0,0,0,2.924-2.924l-.01-.89.636-.622a2.89,2.89,0,0,0,0-4.134l-.637-.622.011-.89a2.89,2.89,0,0,0-2.924-2.924l-.89.01ZM8.5,6v1.5H10a.5.5,0,0,1,0,1H8.5V10a.5.5,0,0,1-1,0V8.5H6a.5.5,0,0,1,0-1h1.5V6a.5.5,0,0,1,1,0"})}),u.jsx("span",{children:"Assign Points"})]})})},r=()=>e.pathname==="/"||e.pathname==="/login-page"||e.pathname==="/signup-page"?null:u.jsxs(u.Fragment,{children:[u.jsx(zn,{to:"/leaderboard",children:u.jsxs("div",{className:"leftNavItem",children:[u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",className:"bi bi-award-fill",viewBox:"0 0 16 16",children:[u.jsx("path",{d:"m8 0 1.669.864 1.858.282.842 1.68 1.337 1.32L13.4 6l.306 1.854-1.337 1.32-.842 1.68-1.858.282L8 12l-1.669-.864-1.858-.282-.842-1.68-1.337-1.32L2.6 6l-.306-1.854 1.337-1.32.842-1.68L6.331.864z"}),u.jsx("path",{d:"M4 11.794V16l4-1 4 1v-4.206l-2.018.306L8 13.126 6.018 12.1z"})]}),u.jsx("span",{children:"Merit"})]})}),n(),u.jsx(zn,{to:"/course-page",children:u.jsxs("div",{className:"rightNavItem",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",className:"bi bi-book-half",viewBox:"0 0 16 16",children:u.jsx("path",{d:"M8.5 2.687c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783"})}),u.jsx("span",{children:"Courses"})]})})]});return u.jsx("nav",{className:"bottomNav",children:r()})},ode=()=>{const[t,e]=g.useState(""),n=wu();return g.useEffect(()=>{const r=FL(n,async s=>{if(s){const i=await _V(s.uid);e(i.role||"guest")}else e("guest")});return()=>r()},[]),u.jsx(RQ,{children:u.jsx(r$,{children:u.jsxs(Zce,{children:[u.jsx(sde,{}),u.jsx(rde,{userType:t}),u.jsx(ide,{userType:t})]})})})};__.createRoot(document.getElementById("root")).render(u.jsx(ode,{}));
